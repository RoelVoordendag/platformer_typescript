!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r(r.s=203)}([function(t,e,r){"use strict";e.__esModule=!0;e.VERSION="4.7.3",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(t,e,r){"use strict";e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.TextureMatrix=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=void 0;var i=r(0);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var n=r(4);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var o=r(5);Object.defineProperty(e,"glCore",{enumerable:!0,get:function(){return z(o).default}});var s=r(31);Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return z(s).default}});var a=r(78);Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return z(a).default}});var u=r(15);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return z(u).default}});var h=r(76);Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return z(h).default}});var l=r(77);Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return z(l).default}});var c=r(29);Object.defineProperty(e,"TransformBase",{enumerable:!0,get:function(){return z(c).default}});var f=r(27);Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return z(f).default}});var d=r(171);Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return z(d).default}});var p=r(23);Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return z(p).default}});var v=r(168);Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return z(v).default}});var y=r(152);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return z(y).default}});var g=r(63);Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return z(g).default}});var _=r(62);Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return z(_).default}});var m=r(150);Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return z(m).default}});var b=r(61);Object.defineProperty(e,"GraphicsData",{enumerable:!0,get:function(){return z(b).default}});var x=r(148);Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return z(x).default}});var T=r(141);Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return z(T).default}});var w=r(140);Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return z(w).default}});var E=r(7);Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return z(E).default}});var O=r(65);Object.defineProperty(e,"TextureMatrix",{enumerable:!0,get:function(){return z(O).default}});var S=r(9);Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return z(S).default}});var P=r(24);Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return z(P).default}});var M=r(70);Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return z(M).default}});var C=r(73);Object.defineProperty(e,"VideoBaseTexture",{enumerable:!0,get:function(){return z(C).default}});var A=r(72);Object.defineProperty(e,"TextureUvs",{enumerable:!0,get:function(){return z(A).default}});var I=r(69);Object.defineProperty(e,"CanvasRenderTarget",{enumerable:!0,get:function(){return z(I).default}});var R=r(12);Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return z(R).default}});var D=r(13);Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return z(D).default}});var L=r(19);Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return z(L).default}});var N=r(17);Object.defineProperty(e,"RenderTarget",{enumerable:!0,get:function(){return z(N).default}});var k=r(64);Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return z(k).default}});var F=r(67);Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return z(F).default}});var j=r(66);Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return z(j).default}});var B=r(60);Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return z(B).default}});var U=r(59);Object.defineProperty(e,"autoDetectRenderer",{enumerable:!0,get:function(){return U.autoDetectRenderer}});var X=V(r(2)),W=V(r(25)),H=z(r(3)),G=z(r(14)),Y=z(r(18));function V(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function z(t){return t&&t.__esModule?t:{default:t}}e.settings=H.default,e.utils=X,e.ticker=W,e.CanvasRenderer=G.default,e.WebGLRenderer=Y.default},function(t,e,r){"use strict";e.__esModule=!0,e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.earcut=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=void 0,e.uid=function(){return++p},e.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.hex2string=function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},e.getResolutionOfUrl=function(t,e){var r=n.default.RETINA_PREFIX.exec(t);if(r)return parseFloat(r[1]);return void 0!==e?e:1},e.decomposeDataUri=function(t){var e=i.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,encoding:e[3]?e[3].toLowerCase():void 0,data:e[4]};return},e.getUrlFileExtension=function(t){var e=i.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase();return},e.getSvgSize=function(t){var e=i.SVG_SIZE.exec(t),r={};e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7])));return r},e.skipHello=function(){v=!0},e.sayHello=function(t){if(v)return;if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+i.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+i.VERSION+" - "+t+" - http://www.pixijs.com/");v=!0},e.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,i}catch(t){return!1}},e.sign=function(t){return 0===t?0:t<0?-1:1},e.destroyTextureCache=function(){var t=void 0;for(t in y)y[t].destroy();for(t in g)g[t].destroy()},e.clearTextureCache=function(){var t=void 0;for(t in y)delete y[t];for(t in g)delete g[t]},e.correctBlendMode=function(t,e){return _[e?1:0][t]},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(n=n*e+.5|0)},e.premultiplyRgba=function(t,e,r,i){r=r||new Float32Array(4),i||void 0===i?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]);return r[3]=e,r},e.premultiplyTintToRgba=function(t,e,r,i){(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(i||void 0===i)&&(r[0]*=e,r[1]*=e,r[2]*=e);return r[3]=e,r};var i=r(0),n=d(r(3)),o=d(r(8)),s=d(r(183)),a=f(r(182)),u=f(r(30)),h=d(r(181)),l=d(r(180)),c=d(r(28));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=!1;e.isMobile=u,e.removeItems=h.default,e.EventEmitter=o.default,e.pluginTarget=s.default,e.mixins=a,e.earcut=c.default;var y=e.TextureCache=Object.create(null),g=e.BaseTextureCache=Object.create(null);var _=e.premultiplyBlendMode=(0,l.default)()},function(t,e,r){"use strict";e.__esModule=!0;var i=o(r(185)),n=o(r(184));function o(t){return t&&t.__esModule?t:{default:t}}e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,i.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,n.default)(),MESH_CANVAS_PADDING:0}},function(t,e,r){"use strict";e.__esModule=!0;var i=r(35);Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return f(i).default}});var n=r(89);Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return f(n).default}});var o=r(34);Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return f(o).default}});var s=r(88);Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return f(s).default}});var a=r(195);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return f(a).default}});var u=r(194);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return f(u).default}});var h=r(193);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return f(h).default}});var l=r(33);Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return f(l).default}});var c=r(192);function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return f(c).default}})},function(t,e,r){var i={createContext:r(191),setVertexAttribArrays:r(87),GLBuffer:r(190),GLFramebuffer:r(189),GLShader:r(188),GLTexture:r(86),VertexArrayObject:r(187),shader:r(186)};void 0!==t&&t.exports&&(t.exports=i),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=i)},function(t,e,r){(function(t){function r(t,e){for(var r=0,i=t.length-1;i>=0;i--){var n=t[i];"."===n?t.splice(i,1):".."===n?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,n=function(t){return i.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var r=[],i=0;i<t.length;i++)e(t[i],i,t)&&r.push(t[i]);return r}e.resolve=function(){for(var e="",i=!1,n=arguments.length-1;n>=-1&&!i;n--){var s=n>=0?arguments[n]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,i="/"===s.charAt(0))}return e=r(o(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),n="/"===s(t,-1);return(t=r(o(t.split("/"),function(t){return!!t}),!i).join("/"))||i||(t="."),t&&n&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var n=i(t.split("/")),o=i(r.split("/")),s=Math.min(n.length,o.length),a=s,u=0;u<s;u++)if(n[u]!==o[u]){a=u;break}var h=[];for(u=a;u<n.length;u++)h.push("..");return(h=h.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=n(t),r=e[0],i=e[1];return r||i?(i&&(i=i.substr(0,i.length-1)),r+i):"."},e.basename=function(t,e){var r=n(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return n(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(165))},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=c(r(9)),o=c(r(73)),s=c(r(72)),a=c(r(8)),u=r(4),h=r(2),l=c(r(3));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(r,i,n,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));if(a.noFrame=!1,i||(a.noFrame=!0,i=new u.Rectangle(0,0,1,1)),r instanceof e&&(r=r.baseTexture),a.baseTexture=r,a._frame=i,a.trim=o,a.valid=!1,a.requiresUpdate=!1,a._uvs=null,a.orig=n||i,a._rotate=Number(s||0),!0===s)a._rotate=2;else if(a._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return r.hasLoaded?(a.noFrame&&(i=new u.Rectangle(0,0,r.width,r.height),r.on("update",a.onBaseTextureUpdated,a)),a.frame=i):r.once("loaded",a.onBaseTextureLoaded,a),a._updateID=0,a.transform=null,a.textureCacheIds=[],a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new u.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(h.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new s.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,r,i,o){var s=h.TextureCache[t];return s||(s=new e(n.default.fromImage(t,r,i,o)),e.addToCache(s,t)),s},e.fromFrame=function(t){var e=h.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(n.default.fromCanvas(t,r,i))},e.fromVideo=function(t,r){return"string"==typeof t?e.fromVideoUrl(t,r):new e(o.default.fromVideo(t,r))},e.fromVideoUrl=function(t,r){return new e(o.default.fromUrl(t,r))},e.from=function(t){if("string"==typeof t){var r=h.TextureCache[t];return r||(null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(t):e.fromImage(t))}return t instanceof HTMLImageElement?new e(n.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,l.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof n.default?new e(t):t},e.fromLoader=function(t,r,i){var o=new n.default(t,void 0,(0,h.getResolutionOfUrl)(r)),s=new e(o);return o.imageUrl=r,i||(i=r),n.default.addToCache(s.baseTexture,i),e.addToCache(s,i),i!==r&&(n.default.addToCache(s.baseTexture,r),e.addToCache(s,r)),s},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),h.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),h.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=h.TextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete h.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)h.TextureCache[t.textureCacheIds[i]]===t&&delete h.TextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},i(e,[{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",u="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,h="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+a+" "+h)}this.valid=i&&n&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(a.default);function d(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}e.default=f,f.EMPTY=new f(new n.default),d(f.EMPTY),d(f.EMPTY.baseTexture),f.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new f(new n.default(t))}(),d(f.WHITE),d(f.WHITE.baseTexture)},function(t,e,r){"use strict";var i=Object.prototype.hasOwnProperty,n="~";function o(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)i.call(t,e)&&r.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t,e){var r=n?n+t:t,i=this._events[r];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,s=i.length,a=new Array(s);o<s;o++)a[o]=i[o].fn;return a},a.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var u,h,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,s),!0}for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];l.fn.apply(l.context,u)}else{var f,d=l.length;for(h=0;h<d;h++)switch(l[h].once&&this.removeListener(t,l[h].fn,void 0,!0),c){case 1:l[h].fn.call(l[h].context);break;case 2:l[h].fn.call(l[h].context,e);break;case 3:l[h].fn.call(l[h].context,e,r);break;case 4:l[h].fn.call(l[h].context,e,r,i);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];l[h].fn.apply(l[h].context,u)}}return!0},a.prototype.on=function(t,e,r){var i=new s(e,r||this),o=n?n+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},a.prototype.once=function(t,e,r){var i=new s(e,r||this,!0),o=n?n+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},a.prototype.removeListener=function(t,e,r,i){var s=n?n+t:t;if(!this._events[s])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||(0==--this._eventsCount?this._events=new o:delete this._events[s]);else{for(var u=0,h=[],l=a.length;u<l;u++)(a[u].fn!==e||i&&!a[u].once||r&&a[u].context!==r)&&h.push(a[u]);h.length?this._events[s]=1===h.length?h[0]:h:0==--this._eventsCount?this._events=new o:delete this._events[s]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=n,a.EventEmitter=a,t.exports=a},function(t,e,r){"use strict";e.__esModule=!0;var i=r(2),n=u(r(3)),o=u(r(8)),s=u(r(75)),a=u(r(26));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return a.uid=(0,i.uid)(),a.touched=0,a.resolution=s||n.default.RESOLUTION,a.width=100,a.height=100,a.realWidth=100,a.realHeight=100,a.scaleMode=void 0!==o?o:n.default.SCALE_MODE,a.hasLoaded=!1,a.isLoading=!1,a.source=null,a.origSource=null,a.imageType=null,a.sourceScale=1,a.premultipliedAlpha=!0,a.imageUrl=null,a.isPowerOfTwo=!1,a.mipmap=n.default.MIPMAP_TEXTURES,a.wrapMode=n.default.WRAP_MODE,a._glTextures={},a._enabled=0,a._virtalBoundId=-1,a._destroyed=!1,a.textureCacheIds=[],r&&a.loadSource(r),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=a.default.isPow2(this.realWidth)&&a.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var r=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var i=this;if(t.onload=function(){i._updateImageType(),t.onload=null,t.onerror=null,i.isLoading&&(i.isLoading=!1,i._sourceLoaded(),"svg"!==i.imageType?i.emit("loaded",i):i._loadSvgSource())},t.onerror=function(){t.onload=null,t.onerror=null,i.isLoading&&(i.isLoading=!1,i.emit("error",i))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===i.imageType)return void i._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,i.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var r=t.subType.split("+")[0];if(!(e=(0,i.getUrlFileExtension)("."+r)))throw new Error("Invalid image type in data URI.")}else(e=(0,i.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,i.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var r=(0,i.getSvgSize)(t),n=r.width,o=r.height;if(!n||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(n*this.sourceScale),this.realHeight=Math.round(o*this.sourceScale),this._updateDimensions();var s=document.createElement("canvas");s.width=this.realWidth,s.height=this.realHeight,s._pixiId="canvas_"+(0,i.uid)(),s.getContext("2d").drawImage(this.source,0,0,n,o,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=s,e.addToCache(this,s._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete i.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,r,n,o){var a=i.BaseTextureCache[t];if(!a){var u=new Image;void 0===r&&0!==t.indexOf("data:")?u.crossOrigin=(0,s.default)(t):r&&(u.crossOrigin="string"==typeof r?r:"anonymous"),(a=new e(u,n)).imageUrl=t,o&&(a.sourceScale=o),a.resolution=(0,i.getResolutionOfUrl)(t),u.src=t,e.addToCache(a,t)}return a},e.fromCanvas=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=n+"_"+(0,i.uid)());var o=i.BaseTextureCache[t._pixiId];return o||(o=new e(t,r),e.addToCache(o,t._pixiId)),o},e.from=function(t,r,n){if("string"==typeof t)return e.fromImage(t,void 0,r,n);if(t instanceof HTMLImageElement){var o=t.src,s=i.BaseTextureCache[o];return s||((s=new e(t,r)).imageUrl=o,n&&(s.sourceScale=n),s.resolution=(0,i.getResolutionOfUrl)(o),e.addToCache(s,o)),s}return t instanceof HTMLCanvasElement?e.fromCanvas(t,r):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),i.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),i.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=i.BaseTextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete i.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete i.BaseTextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},e}(o.default);e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var i,n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),s=r(7),a=(i=s)&&i.__esModule?i:{default:i};var u=new o.Point,h=new o.Polygon,l=function(t){function e(r,i,n,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return h._texture=r||a.default.EMPTY,h.uvs=n||new Float32Array([0,0,1,0,1,1,0,1]),h.vertices=i||new Float32Array([0,0,100,0,100,100,0,100]),h.indices=s||new Uint16Array([0,1,3,2]),h.dirty=0,h.indexDirty=0,h.blendMode=o.BLEND_MODES.NORMAL,h.canvasPadding=o.settings.MESH_CANVAS_PADDING,h.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH,h.shader=null,h.tintRgb=new Float32Array([1,1,1]),h._glDatas={},h._uvTransform=new o.TextureMatrix(h._texture),h.uploadUvTransform=!1,h.pluginName="mesh",h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,u);for(var r=this.vertices,i=h.points,n=this.indices,o=this.indices.length,s=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,a=0;a+2<o;a+=s){var l=2*n[a],c=2*n[a+1],f=2*n[a+2];if(i[0]=r[l],i[1]=r[l+1],i[2]=r[c],i[3]=r[c+1],i[4]=r[f],i[5]=r[f+1],h.contains(u.x,u.y))return!0}return!1},n(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return o.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=o.utils.hex2rgb(t,this.tintRgb)}}]),e}(o.Container);e.default=l,l.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,r){"use strict";var i=r(116).default,n=r(21).default,o=r(44),s=r(43);i.Resource=n,i.async=o,i.base64=s,t.exports=i,t.exports.default=i},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(5),o=r(3),s=(i=o)&&i.__esModule?i:{default:i};function a(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}var u=function(t){function e(r,i,n,o,u){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,a(i,u||s.default.PRECISION_VERTEX),a(n,u||s.default.PRECISION_FRAGMENT),void 0,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n.GLShader);e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var i=l(r(71)),n=l(r(170)),o=l(r(69)),s=l(r(169)),a=r(2),u=r(0),h=l(r(3));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(r,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"Canvas",r,i,o));return a.type=u.RENDERER_TYPE.CANVAS,a.rootContext=a.view.getContext("2d",{alpha:a.transparent}),a.context=a.rootContext,a.refresh=!0,a.maskManager=new n.default(a),a.smoothProperty="imageSmoothingEnabled",a.rootContext.imageSmoothingEnabled||(a.rootContext.webkitImageSmoothingEnabled?a.smoothProperty="webkitImageSmoothingEnabled":a.rootContext.mozImageSmoothingEnabled?a.smoothProperty="mozImageSmoothingEnabled":a.rootContext.oImageSmoothingEnabled?a.smoothProperty="oImageSmoothingEnabled":a.rootContext.msImageSmoothingEnabled&&(a.smoothProperty="msImageSmoothingEnabled")),a.initPlugins(),a.blendModes=(0,s.default)(),a._activeBlendMode=null,a.renderingToScreen=!1,a.resize(a.options.width,a.options.height),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t,e,r,i,n){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var s=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new o.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(e||(this._lastObjectRendered=t),!n){var h=t.parent,l=this._tempDisplayObjectParent.transform.worldTransform;i?(i.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=h}a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=u.BLEND_MODES.NORMAL,a.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var c=this.context;this.context=a,t.renderCanvas(this),this.context=c,a.restore(),this.resolution=s,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=h.default.SCALE_MODE===u.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(i.default);e.default=c,a.pluginTarget.mixin(c)},function(t,e,r){"use strict";e.__esModule=!0;var i,n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=r(2),s=r(78);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.children=[],r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);(0,o.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var i=this.children.indexOf(t);if(-1===i)return null;t.parent=null,t.transform._parentID=-1,(0,o.removeItems)(this.children,i,1),this._boundsID++,this.onChildrenChange(i),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,o.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=t,i="number"==typeof e?e:this.children.length,n=i-r,o=void 0;if(n>0&&n<=i){o=this.children.splice(r,n);for(var s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<o.length;++a)o[a].emit("removed",this);return o}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}r&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var n=0,o=this.children.length;n<o;n++)this.children[n].renderWebGL(t);t.flush(),r&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var r="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(e)},n(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(((i=s)&&i.__esModule?i:{default:i}).default);e.default=a,a.prototype.containerUpdateTransform=a.prototype.updateTransform},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t.nativeLines?function(t,e){var r=0,i=t.points;if(0===i.length)return;var o=e.points,s=i.length/2,a=(0,n.hex2rgb)(t.lineColor),u=t.lineAlpha,h=a[0]*u,l=a[1]*u,c=a[2]*u;for(r=1;r<s;r++){var f=i[2*(r-1)],d=i[2*(r-1)+1],p=i[2*r],v=i[2*r+1];o.push(f,d),o.push(h,l,c,u),o.push(p,v),o.push(h,l,c,u)}}(t,r):function(t,e){var r=t.points;if(0===r.length)return;var o=new i.Point(r[0],r[1]),s=new i.Point(r[r.length-2],r[r.length-1]);if(o.x===s.x&&o.y===s.y){(r=r.slice()).pop(),r.pop();var a=(s=new i.Point(r[r.length-2],r[r.length-1])).x+.5*(o.x-s.x),u=s.y+.5*(o.y-s.y);r.unshift(a,u),r.push(a,u)}var h=e.points,l=e.indices,c=r.length/2,f=r.length,d=h.length/6,p=t.lineWidth/2,v=(0,n.hex2rgb)(t.lineColor),y=t.lineAlpha,g=v[0]*y,_=v[1]*y,m=v[2]*y,b=r[0],x=r[1],T=r[2],w=r[3],E=0,O=0,S=-(x-w),P=b-T,M=0,C=0,A=0,I=0,R=Math.sqrt(S*S+P*P);S/=R,P/=R,S*=p,P*=p,h.push(b-S,x-P,g,_,m,y),h.push(b+S,x+P,g,_,m,y);for(var D=1;D<c-1;++D){b=r[2*(D-1)],x=r[2*(D-1)+1],T=r[2*D],w=r[2*D+1],E=r[2*(D+1)],O=r[2*(D+1)+1],S=-(x-w),P=b-T,R=Math.sqrt(S*S+P*P),S/=R,P/=R,S*=p,P*=p,M=-(w-O),C=T-E,R=Math.sqrt(M*M+C*C),M/=R,C/=R;var L=-P+x-(-P+w),N=-S+T-(-S+b),k=(-S+b)*(-P+w)-(-S+T)*(-P+x),F=-(C*=p)+O-(-C+w),j=-(M*=p)+T-(-M+E),B=(-M+E)*(-C+w)-(-M+T)*(-C+O),U=L*j-F*N;if(Math.abs(U)<.1)U+=10.1,h.push(T-S,w-P,g,_,m,y),h.push(T+S,w+P,g,_,m,y);else{var X=(N*B-j*k)/U,W=(F*k-L*B)/U,H=(X-T)*(X-T)+(W-w)*(W-w);H>196*p*p?(A=S-M,I=P-C,R=Math.sqrt(A*A+I*I),A/=R,I/=R,A*=p,I*=p,h.push(T-A,w-I),h.push(g,_,m,y),h.push(T+A,w+I),h.push(g,_,m,y),h.push(T-A,w-I),h.push(g,_,m,y),f++):(h.push(X,W),h.push(g,_,m,y),h.push(T-(X-T),w-(W-w)),h.push(g,_,m,y))}}b=r[2*(c-2)],x=r[2*(c-2)+1],T=r[2*(c-1)],w=r[2*(c-1)+1],S=-(x-w),P=b-T,R=Math.sqrt(S*S+P*P),S/=R,P/=R,S*=p,P*=p,h.push(T-S,w-P),h.push(g,_,m,y),h.push(T+S,w+P),h.push(g,_,m,y),l.push(d);for(var G=0;G<f;++G)l.push(d++);l.push(d-1)}(t,e)};var i=r(4),n=r(2)},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(4),o=r(0),s=r(3),a=(i=s)&&i.__esModule?i:{default:i},u=r(5);var h=function(){function t(e,r,i,s,h,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new n.Rectangle(0,0,1,1),this.resolution=h||a.default.RESOLUTION,this.projectionMatrix=new n.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new n.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0!==s?s:a.default.SCALE_MODE,this.root=l,this.root?(this.frameBuffer=new u.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=u.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,i)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var i=_(r(71)),n=_(r(167)),o=_(r(164)),s=_(r(163)),a=_(r(17)),u=_(r(19)),h=_(r(161)),l=_(r(9)),c=_(r(160)),f=_(r(159)),d=_(r(157)),p=_(r(156)),v=r(2),y=_(r(5)),g=r(0);function _(t){return t&&t.__esModule?t:{default:t}}var m=0,b=function(t){function e(r,i,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"WebGL",r,i,s));return a.legacy=a.options.legacy,a.legacy&&(y.default.VertexArrayObject.FORCE_NATIVE=!0),a.type=g.RENDERER_TYPE.WEBGL,a.handleContextLost=a.handleContextLost.bind(a),a.handleContextRestored=a.handleContextRestored.bind(a),a.view.addEventListener("webglcontextlost",a.handleContextLost,!1),a.view.addEventListener("webglcontextrestored",a.handleContextRestored,!1),a._contextOptions={alpha:a.transparent,antialias:a.options.antialias,premultipliedAlpha:a.transparent&&"notMultiplied"!==a.transparent,stencil:!0,preserveDrawingBuffer:a.options.preserveDrawingBuffer,powerPreference:a.options.powerPreference},a._backgroundColorRgba[3]=a.transparent?0:1,a.maskManager=new n.default(a),a.stencilManager=new o.default(a),a.emptyRenderer=new u.default(a),a.currentRenderer=a.emptyRenderer,a.textureManager=null,a.filterManager=null,a.initPlugins(),a.options.context&&(0,p.default)(a.options.context),a.gl=a.options.context||y.default.createContext(a.view,a._contextOptions),a.CONTEXT_UID=m++,a.state=new f.default(a.gl),a.renderingToScreen=!0,a.boundTextures=null,a._activeShader=null,a._activeVao=null,a._activeRenderTarget=null,a._initContext(),a.drawModes=(0,d.default)(a.gl),a._nextTextureLocation=0,a.setBlendMode(0),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new h.default(this),this.filterManager=new s.default(this),this.textureGC=new c.default(this),this.state.resetToDefault(),this.rootRenderTarget=new a.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new y.default.GLTexture.fromData(t,null,1,1),i={_glTextures:{}};i._glTextures[this.CONTEXT_UID]={};for(var n=0;n<e;n++){var o=new l.default;o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[n]=i,this.emptyTextures[n]=o,this.bindTexture(null,n)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,r,i,n){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!n){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,i),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){i.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var r=void 0;if(t){var i=t.baseTexture;i._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(i,0),this.unbindTexture(i),(r=i._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,r)e=e||0;else{for(var i=0;i<this.boundTextures.length;i++)if(this.boundTextures[i]===t)return i;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var n=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,n.activeTexture(n.TEXTURE0+e),n.bindTexture(n.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new y.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(i.default);e.default=b,v.pluginTarget.mixin(b)},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(13);var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(((i=n)&&i.__esModule?i:{default:i}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var i,n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(39),s=(i=o)&&i.__esModule?i:{default:i};var a=n.ticker.shared;n.settings.UPLOADS_PER_FRAME=4;var u=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.limiter=new s.default(n.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(p),this.registerFindHook(v),this.registerFindHook(h),this.registerFindHook(l),this.registerFindHook(c),this.registerUploadHook(f),this.registerUploadHook(d)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,a.addOnce(this.tick,this,n.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)a.addOnce(this.tick,this,n.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var s=0,u=o.length;s<u;s++)o[s]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof n.Container)for(var i=t.children.length-1;i>=0;i--)this.add(t.children[i]);return this},t.prototype.destroy=function(){this.ticking&&a.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function h(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof n.Texture){var o=t._textures[i].baseTexture;-1===e.indexOf(o)&&(e.push(o),r=!0)}return r}function l(t,e){return t instanceof n.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function c(t,e){if(t._texture&&t._texture instanceof n.Texture){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function f(t,e){return e instanceof n.Text&&(e.updateText(!0),!0)}function d(t,e){if(e instanceof n.TextStyle){var r=e.toFontString();return n.TextMetrics.measureFont(r),!0}return!1}function p(t,e){if(t instanceof n.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function v(t,e){return t instanceof n.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=s(r(45)),o=s(r(46));function s(t){return t&&t.__esModule?t:{default:t}}var a=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),u=null;function h(){}var l=function(){function t(e,r,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=h,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new o.default,this.onProgress=new o.default,this.onComplete=new o.default,this.onAfterMiddleware=new o.default}return t.setExtensionLoadType=function(e,r){c(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){c(t._xhrTypeMap,e,r)},t.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},t.prototype.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(r)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:a&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return!!(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(f(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnAbort=function(){this.abort(f(this.xhr)+" Request was aborted by the user.")},t.prototype._xdrOnTimeout=function(){this.abort(f(this.xhr)+" Request timed out.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",i=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===i&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2===(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,u||(u=document.createElement("a")),u.href=t;var r=!(t=(0,n.default)(u.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(i>-1?i:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},i(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function c(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function f(t){return t.toString().replace("object ","")}e.default=l,l.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},l.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},l.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},l.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},l._loadTypeMap={gif:l.LOAD_TYPE.IMAGE,png:l.LOAD_TYPE.IMAGE,bmp:l.LOAD_TYPE.IMAGE,jpg:l.LOAD_TYPE.IMAGE,jpeg:l.LOAD_TYPE.IMAGE,tif:l.LOAD_TYPE.IMAGE,tiff:l.LOAD_TYPE.IMAGE,webp:l.LOAD_TYPE.IMAGE,tga:l.LOAD_TYPE.IMAGE,svg:l.LOAD_TYPE.IMAGE,"svg+xml":l.LOAD_TYPE.IMAGE,mp3:l.LOAD_TYPE.AUDIO,ogg:l.LOAD_TYPE.AUDIO,wav:l.LOAD_TYPE.AUDIO,mp4:l.LOAD_TYPE.VIDEO,webm:l.LOAD_TYPE.VIDEO},l._xhrTypeMap={xhtml:l.XHR_RESPONSE_TYPE.DOCUMENT,html:l.XHR_RESPONSE_TYPE.DOCUMENT,htm:l.XHR_RESPONSE_TYPE.DOCUMENT,xml:l.XHR_RESPONSE_TYPE.DOCUMENT,tmx:l.XHR_RESPONSE_TYPE.DOCUMENT,svg:l.XHR_RESPONSE_TYPE.DOCUMENT,tsx:l.XHR_RESPONSE_TYPE.DOCUMENT,gif:l.XHR_RESPONSE_TYPE.BLOB,png:l.XHR_RESPONSE_TYPE.BLOB,bmp:l.XHR_RESPONSE_TYPE.BLOB,jpg:l.XHR_RESPONSE_TYPE.BLOB,jpeg:l.XHR_RESPONSE_TYPE.BLOB,tif:l.XHR_RESPONSE_TYPE.BLOB,tiff:l.XHR_RESPONSE_TYPE.BLOB,webp:l.XHR_RESPONSE_TYPE.BLOB,tga:l.XHR_RESPONSE_TYPE.BLOB,json:l.XHR_RESPONSE_TYPE.JSON,text:l.XHR_RESPONSE_TYPE.TEXT,txt:l.XHR_RESPONSE_TYPE.TEXT,ttf:l.XHR_RESPONSE_TYPE.BUFFER,otf:l.XHR_RESPONSE_TYPE.BUFFER},l.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=6*t,r=new Uint16Array(e),i=0,n=0;i<e;i+=6,n+=4)r[i+0]=n+0,r[i+1]=n+1,r[i+2]=n+2,r[i+3]=n+0,r[i+4]=n+2,r[i+5]=n+3;return r}},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(2),o=r(68);var s={getTintedTexture:function(t,e){var r=t._texture,i="#"+("00000"+(0|(e=s.roundColor(e))).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var n=r.tintCache[i],o=void 0;if(n){if(n.tintId===r._updateID)return r.tintCache[i];o=r.tintCache[i]}else o=s.canvas||document.createElement("canvas");if(s.tintMethod(r,e,o),o.tintId=r._updateID,s.convertTintToImage){var a=new Image;a.src=o.toDataURL(),r.tintCache[i]=a}else r.tintCache[i]=o,s.canvas=null;return o},tintWithMultiply:function(t,e,r){var i=r.getContext("2d"),n=t._frame.clone(),o=t.baseTexture.resolution;n.x*=o,n.y*=o,n.width*=o,n.height*=o,r.width=Math.ceil(n.width),r.height=Math.ceil(n.height),i.save(),i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,n.width,n.height),i.globalCompositeOperation="multiply",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),i.restore()},tintWithOverlay:function(t,e,r){var i=r.getContext("2d"),n=t._frame.clone(),o=t.baseTexture.resolution;n.x*=o,n.y*=o,n.width*=o,n.height*=o,r.width=Math.ceil(n.width),r.height=Math.ceil(n.height),i.save(),i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,n.width,n.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),i.restore()},tintWithPerPixel:function(t,e,r){var i=r.getContext("2d"),o=t._frame.clone(),s=t.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,r.width=Math.ceil(o.width),r.height=Math.ceil(o.height),i.save(),i.globalCompositeOperation="copy",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),i.restore();for(var a=(0,n.hex2rgb)(e),u=a[0],h=a[1],l=a[2],c=i.getImageData(0,0,o.width,o.height),f=c.data,d=0;d<f.length;d+=4)f[d+0]*=u,f[d+1]*=h,f[d+2]*=l;i.putImageData(c,0,0)},roundColor:function(t){var e=s.cacheStepsPerColorChannel,r=(0,n.hex2rgb)(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),(0,n.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((i=o)&&i.__esModule?i:{default:i}).default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=n(r(70));function n(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=null;if(!(r instanceof i.default)){var s=arguments[1],a=arguments[2],u=arguments[3],h=arguments[4];console.warn("Please use RenderTexture.create("+s+", "+a+") instead of the ctor directly."),o=arguments[0],n=null,r=new i.default(s,a,u,h)}var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n));return l.legacyRenderer=o,l.valid=!0,l._updateUvs(),l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e,r){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,r,n,o){return new e(new i.default(t,r,n,o))},e}(n(r(7)).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0,e.Ticker=e.shared=void 0;var i,n=r(173),o=(i=n)&&i.__esModule?i:{default:i};var s=new o.default;s.autoStart=!0,s.destroy=function(){},e.shared=s,e.Ticker=o.default},function(t,e,r){"use strict";"use restrict";function i(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=i,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var n=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,i=e,n=7;for(r>>>=1;r;r>>>=1)i<<=1,i|=1&r,--n;t[e]=i<<n&255}}(n),e.reverse=function(t){return n[255&t]<<24|n[t>>>8&255]<<16|n[t>>>16&255]<<8|n[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>i(t)+1}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=r(4),o=r(2),s=r(0),a=h(r(7)),u=h(r(15));function h(t){return t&&t.__esModule?t:{default:t}}var l=new n.Point,c=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i._anchor=new n.ObservablePoint(i._onAnchorUpdate,i),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=s.BLEND_MODES.NORMAL,i.shader=null,i.cachedTint=16777215,i.texture=r||a.default.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.pluginName="sprite",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,o.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,o.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,h=t.trim,l=t.orig,c=this._anchor,f=0,d=0,p=0,v=0;h?(f=(d=h.x-c._x*l.width)+h.width,p=(v=h.y-c._y*l.height)+h.height):(f=(d=-c._x*l.width)+l.width,p=(v=-c._y*l.height)+l.height),u[0]=r*d+n*v+s,u[1]=o*v+i*d+a,u[2]=r*f+n*v+s,u[3]=o*v+i*f+a,u[4]=r*f+n*p+s,u[5]=o*p+i*f+a,u[6]=r*d+n*p+s,u[7]=o*p+i*d+a}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,u=n.d,h=n.tx,l=n.ty,c=-i._x*r.width,f=c+r.width,d=-i._y*r.height,p=d+r.height;e[0]=o*c+a*d+h,e[1]=u*d+s*c+l,e[2]=o*f+a*d+h,e[3]=u*d+s*f+l,e[4]=o*f+a*p+h,e[5]=u*p+s*f+l,e[6]=o*c+a*p+h,e[7]=u*p+s*c+l},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new n.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x,n=0;return l.x>=i&&l.x<i+e&&(n=-r*this.anchor.y,l.y>=n&&l.y<n+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null,this.shader=null},e.from=function(t){return new e(a.default.from(t))},e.fromFrame=function(t){var r=o.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(r)},e.fromImage=function(t,r,i){return new e(a.default.fromImage(t,r,i))},i(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,o.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,o.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(u.default);e.default=c},function(t,e,r){"use strict";function i(t,e,r){r=r||2;var i,a,u,h,l,d,v,y=e&&e.length,g=y?e[0]*r:t.length,_=n(t,0,g,r,!0),m=[];if(!_)return m;if(y&&(_=function(t,e,r,i){var s,a,u,h,l,d=[];for(s=0,a=e.length;s<a;s++)u=e[s]*i,h=s<a-1?e[s+1]*i:t.length,(l=n(t,u,h,i,!1))===l.next&&(l.steiner=!0),d.push(p(l));for(d.sort(c),s=0;s<d.length;s++)f(d[s],r),r=o(r,r.next);return r}(t,e,_,r)),t.length>80*r){i=u=t[0],a=h=t[1];for(var b=r;b<g;b+=r)l=t[b],d=t[b+1],l<i&&(i=l),d<a&&(a=d),l>u&&(u=l),d>h&&(h=d);v=0!==(v=Math.max(u-i,h-a))?1/v:0}return s(_,m,r,i,a,v),m}function n(t,e,r,i,n){var o,s;if(n===O(t,e,r,i)>0)for(o=e;o<r;o+=i)s=T(o,t[o],t[o+1],s);else for(o=r-i;o>=e;o-=i)s=T(o,t[o],t[o+1],s);return s&&_(s,s.next)&&(w(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!_(i,i.next)&&0!==g(i.prev,i,i.next))i=i.next;else{if(w(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function s(t,e,r,i,n,c,f){if(t){!f&&c&&function(t,e,r,i){var n=t;do{null===n.z&&(n.z=d(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,s,a,u,h=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,i=r,a=0,e=0;e<h&&(a++,i=i.nextZ);e++);for(u=h;a>0||u>0&&i;)0!==a&&(0===u||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,u--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,h*=2}while(s>1)}(n)}(t,i,n,c);for(var p,v,y=t;t.prev!==t.next;)if(p=t.prev,v=t.next,c?u(t,i,n,c):a(t))e.push(p.i/r),e.push(t.i/r),e.push(v.i/r),w(t),t=v.next,y=v.next;else if((t=v)===y){f?1===f?s(t=h(t,e,r),e,r,i,n,c,2):2===f&&l(t,e,r,i,n,c):s(o(t),e,r,i,n,c,1);break}}}function a(t){var e=t.prev,r=t,i=t.next;if(g(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(v(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&g(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function u(t,e,r,i){var n=t.prev,o=t,s=t.next;if(g(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,u=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,h=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,l=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,c=d(a,u,e,r,i),f=d(h,l,e,r,i),p=t.prevZ,y=t.nextZ;p&&p.z>=c&&y&&y.z<=f;){if(p!==t.prev&&p!==t.next&&v(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,y!==t.prev&&y!==t.next&&v(n.x,n.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&v(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;y&&y.z<=f;){if(y!==t.prev&&y!==t.next&&v(n.x,n.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function h(t,e,r){var i=t;do{var n=i.prev,o=i.next.next;!_(n,o)&&m(n,i,i.next,o)&&b(n,o)&&b(o,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(o.i/r),w(i),w(i.next),i=t=o),i=i.next}while(i!==t);return i}function l(t,e,r,i,n,a){var u=t;do{for(var h=u.next.next;h!==u.prev;){if(u.i!==h.i&&y(u,h)){var l=x(u,h);return u=o(u,u.next),l=o(l,l.next),s(u,e,r,i,n,a),void s(l,e,r,i,n,a)}h=h.next}u=u.next}while(u!==t)}function c(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var r,i=e,n=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>s){if(s=a,a===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===s)return r.prev;var u,h=r,l=r.x,c=r.y,f=1/0;i=r.next;for(;i!==h;)n>=i.x&&i.x>=l&&n!==i.x&&v(o<c?n:s,o,l,c,o<c?s:n,o,i.x,i.y)&&((u=Math.abs(o-i.y)/(n-i.x))<f||u===f&&i.x>r.x)&&b(i,t)&&(r=i,f=u),i=i.next;return r}(t,e)){var r=x(e,t);o(r,r.next)}}function d(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function v(t,e,r,i,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(n-s)*(i-a)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&m(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&b(t,e)&&b(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)}function g(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function _(t,e){return t.x===e.x&&t.y===e.y}function m(t,e,r,i){return!!(_(t,e)&&_(r,i)||_(t,i)&&_(r,e))||g(t,e,r)>0!=g(t,e,i)>0&&g(r,i,t)>0!=g(r,i,e)>0}function b(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function x(t,e){var r=new E(t.i,t.x,t.y),i=new E(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function T(t,e,r,i){var n=new E(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,r,i){for(var n=0,o=e,s=r-i;o<r;o+=i)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}t.exports=i,t.exports.default=i,i.deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,s=Math.abs(O(t,0,o,r));if(n)for(var a=0,u=e.length;a<u;a++){var h=e[a]*r,l=a<u-1?e[a+1]*r:t.length;s-=Math.abs(O(t,h,l,r))}var c=0;for(a=0;a<i.length;a+=3){var f=i[a]*r,d=i[a+1]*r,p=i[a+2]*r;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},i.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[n][o][s]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r}},function(t,e,r){"use strict";e.__esModule=!0;var i=r(4);var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.worldTransform=new i.Matrix,this.localTransform=new i.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,r=this.worldTransform,i=this.localTransform;r.a=i.a*e.a+i.b*e.c,r.b=i.a*e.b+i.b*e.d,r.c=i.c*e.a+i.d*e.c,r.d=i.c*e.b+i.d*e.d,r.tx=i.tx*e.a+i.ty*e.c+e.tx,r.ty=i.tx*e.b+i.ty*e.d+e.ty,this._worldID++},t}();e.default=n,n.prototype.updateWorldTransform=n.prototype.updateTransform,n.IDENTITY=new n},function(t,e,r){var i,n,o,s,a,u,h,l,c,f,d,p,v,y,g,_,m,b,x,T,w,E;
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
s=this,a=/iPhone/i,u=/iPod/i,h=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,c=/Android/i,f=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,d=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/Windows Phone/i,v=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,y=/BlackBerry/i,g=/BB10/i,_=/Opera Mini/i,m=/(CriOS|Chrome)(?=.*\bMobile\b)/i,b=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,x=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),T=function(t,e){return t.test(e)},w=function(t){var e=t||navigator.userAgent,r=e.split("[FBAN");if(void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]),this.apple={phone:T(a,e),ipod:T(u,e),tablet:!T(a,e)&&T(h,e),device:T(a,e)||T(u,e)||T(h,e)},this.amazon={phone:T(f,e),tablet:!T(f,e)&&T(d,e),device:T(f,e)||T(d,e)},this.android={phone:T(f,e)||T(l,e),tablet:!T(f,e)&&!T(l,e)&&(T(d,e)||T(c,e)),device:T(f,e)||T(d,e)||T(l,e)||T(c,e)},this.windows={phone:T(p,e),tablet:T(v,e),device:T(p,e)||T(v,e)},this.other={blackberry:T(y,e),blackberry10:T(g,e),opera:T(_,e),firefox:T(b,e),chrome:T(m,e),device:T(y,e)||T(g,e)||T(_,e)||T(b,e)||T(m,e)},this.seven_inch=T(x,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},E=function(){var t=new w;return t.Class=w,t},void 0!==t&&t.exports&&"undefined"==typeof window?t.exports=w:void 0!==t&&t.exports&&"undefined"!=typeof window?t.exports=E():(n=[],i=s.isMobile=E(),void 0===(o="function"==typeof i?i.apply(e,n):i)||(t.exports=o))},function(t,e,r){"use strict";e.__esModule=!0;var i=r(4);var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?i.Rectangle.EMPTY:((t=t||new i.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,o=t[2],s=t[3],e=o<e?o:e,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,o=t[4],s=t[5],e=o<e?o:e,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,o=t[6],s=t[7],e=o<e?o:e,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n},t.prototype.addFrame=function(t,e,r,i,n){var o=t.worldTransform,s=o.a,a=o.b,u=o.c,h=o.d,l=o.tx,c=o.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,y=s*e+u*r+l,g=a*e+h*r+c;f=y<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=a*i+h*r+c,f=(y=s*i+u*r+l)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=a*e+h*n+c,f=(y=s*e+u*n+l)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=a*i+h*n+c,f=(y=s*i+u*n+l)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,this.minX=f,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertices=function(t,e,r,i){for(var n=t.worldTransform,o=n.a,s=n.b,a=n.c,u=n.d,h=n.tx,l=n.ty,c=this.minX,f=this.minY,d=this.maxX,p=this.maxY,v=r;v<i;v+=2){var y=e[v],g=e[v+1],_=o*y+a*g+h,m=u*g+s*y+l;c=_<c?_:c,f=m<f?m:f,d=_>d?_:d,p=m>p?m:p}this.minX=c,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=n&&i<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>u?n:u,this.maxY=o>h?o:h}},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=n&&i<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>u?n:u,this.maxY=o>h?o:h}},t}();e.default=n},function(t,e){var r=null,i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=function(t,e){if(!r){var n=Object.keys(i);r={};for(var o=0;o<n.length;++o){var s=n[o];r[t[s]]=i[s]}}return r[e]}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=r(0);var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=Number(e),this.y=Number(r),this.width=Number(i),this.height=Number(o),this.type=n.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=i,this.height=n-i},i(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var i,n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=r(35),s=(i=o)&&i.__esModule?i:{default:i},a=r(0);var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.a=e,this.b=r,this.c=i,this.d=n,this.tx=o,this.ty=s,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new s.default;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new s.default;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,n=t.y;return e.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},t.prototype.setTransform=function(t,e,r,i,n,o,s,a,u){return this.a=Math.cos(s+u)*n,this.b=Math.sin(s+u)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=-Math.atan2(-i,n),s=Math.atan2(r,e),u=Math.abs(o+s);return u<1e-5||Math.abs(a.PI_2-u)<1e-5?(t.rotation=s,e<0&&n>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();e.default=i},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(202),n=r(99),o=r(97),s=r(95),a=r(94),u=function(){function t(){var t=this;this.keyState=[],this.charactersArray=[],this.rocks=new Array,this.gameObjects=[],this.playerContainer=new i.Container,this.characterContainer=new i.Container,this.worldContainer=new i.Container,this.gameObjectContainer=new i.Container,this.length=3e3,this.heigth=4,this.pixi=new i.Application(this.length,innerHeight,{backgroundColor:0,resolution:window.devicePixelRatio,autoResize:!0,forceCanvas:!0}),this.pixi.renderer.view.style.position="absolute",this.pixi.renderer.view.style.display="block",this.pixi.renderer.autoResize=!0,this.pixi.renderer.resize(window.innerWidth,window.innerHeight),i.settings.SCALE_MODE=i.SCALE_MODES.NEAREST,document.body.appendChild(this.pixi.view),this.pixi.stage.addChild(this.worldContainer),this.pixi.stage.addChild(this.characterContainer),this.pixi.stage.addChild(this.gameObjectContainer),this.characterContainer.position.set(this.pixi.screen.width/2,this.pixi.screen.height/2),this.worldContainer.position.set(this.pixi.screen.width/2,this.pixi.screen.height/2),this.gameObjectContainer.position.set(this.pixi.screen.width/2,this.pixi.screen.height/2),i.loader.add("tileset","res/images/tileset.json").add("player_moves","res/images/moves_player.json").add("player_attack","res/images/player_attack.json").add("enemy","res/images/enemy_Thing.json").add("pickups","res/images/pickup.json").load(),i.loader.onComplete.add(function(){t.setup()})}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.addRock=function(t){this.rocks.push(t)},t.prototype.setup=function(){var e=this;this.tile=new n.default(this.length/64,this.heigth,"fill.png"),this.enemy=new s.default(500,60,this),this.player=new o.default(0,0,this.enemy,this),this.charactersArray.push(this.player,this.enemy),this.rangePickup=new a.default(250,this),this.gameObjects.push(this.rangePickup),window.addEventListener("keydown",function(e){t.getInstance().keyState[e.keyCode||e.which]=!0},!0),window.addEventListener("keyup",function(e){t.getInstance().keyState[e.keyCode||e.which]=!1},!0),requestAnimationFrame(function(){return e.gameLoop()})},t.prototype.gameLoop=function(){for(var t=this,e=0,r=this.charactersArray;e<r.length;e++){var i=r[e];i instanceof o.default&&i.keyPressed(this.keyState),i instanceof s.default&&i.enemyMove(),i.move(0,5),i.update();for(var n=0,a=this.rocks;n<a.length;n++){a[n].move()}for(var u=0,h=this.gameObjects;u<h.length;u++){h[u].checkCollision()}}this.characterContainer.pivot.copy(this.player.sprite.position),this.worldContainer.pivot.copy(this.player.sprite.position),this.gameObjectContainer.pivot.copy(this.player.sprite.position),requestAnimationFrame(function(){return t.gameLoop()})},t}();e.default=u,window.addEventListener("load",function(){u.getInstance()})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(37),n=function(){function t(t,e,r,n,o){this.x=0,this.y=0,this.vx=0,this.vy=-5,this.speed=4,this.Temp_Frameset=[],this.jumpFrames=[],this.leftFrames=[],this.rightFrames=[],this.holdFrame=[],this.id=PIXI.loader.resources[r].textures,this.health=o;var s={texture:PIXI.loader.resources[r].textures["hold.png"],time:200};this.Temp_Frameset.push(s),this.sprite=new PIXI.extras.AnimatedSprite(this.Temp_Frameset),this.sprite.x=t,this.sprite.y=e,i.default.getInstance().characterContainer.addChild(this.sprite),console.log(this.sprite)}return t.prototype.update=function(){this.sprite.x=this.x,this.sprite.y=this.y},t.prototype.move=function(t,e){for(var r=!1,n=0,o=i.default.getInstance().tile.tiles;n<o.length;n++){if(o[n].isColliding(this.sprite.x+t,this.sprite.y+e,this.sprite.height,this.sprite.width)){r=!0;break}}r||(this.x+=t,this.y+=e)},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(10),o=(i=n)&&i.__esModule?i:{default:i};var s=function(t){function e(r,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return s._ready=!0,s.verticesX=i||10,s.verticesY=n||10,s.drawMode=o.default.DRAW_MODES.TRIANGLES,s.refresh(),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,r=[],i=[],n=[],o=this.verticesX-1,s=this.verticesY-1,a=t.width/o,u=t.height/s,h=0;h<e;h++){var l=h%this.verticesX,c=h/this.verticesX|0;r.push(l*a,c*u),i.push(l/o,c/s)}for(var f=o*s,d=0;d<f;d++){var p=d%o,v=d/o|0,y=v*this.verticesX+p,g=v*this.verticesX+p+1,_=(v+1)*this.verticesX+p,m=(v+1)*this.verticesX+p+1;n.push(y,g,_),n.push(g,m,_)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(i),this.colors=new Float32Array([]),this.indices=new Uint16Array(n),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){o.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(o.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){t.data&&t.type===n.Resource.TYPE.IMAGE&&(t.texture=s.default.fromLoader(t.data,t.url,t.name)),e()}};var i,n=r(11),o=r(7),s=(i=o)&&i.__esModule?i:{default:i}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){var r=t.name+"_image";if(t.data&&t.type===n.Resource.TYPE.JSON&&t.data.frames&&!this.resources[r]){var i={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},o=u(t,this.baseUrl);this.add(r,o,i,function(r){if(r.error)e(r.error);else{var i=new a.Spritesheet(r.texture.baseTexture,t.data,t.url);i.parse(function(){t.spritesheet=i,t.textures=i.textures,e()})}})}else e()}},e.getResourcePath=u;var i,n=r(11),o=r(74),s=(i=o)&&i.__esModule?i:{default:i},a=r(1);function u(t,e){return t.isDataUrl?t.data.meta.image:s.default.resolve(t.url.replace(e,""),t.data.meta.image)}},function(t,e,r){"use strict";e.__esModule=!0,e.encodeBinary=function(t){var e="",r=0;for(;r<t.length;){for(var n=[0,0,0],o=[0,0,0,0],s=0;s<n.length;++s)r<t.length?n[s]=255&t.charCodeAt(r++):n[s]=0;o[0]=n[0]>>2,o[1]=(3&n[0])<<4|n[1]>>4,o[2]=(15&n[1])<<2|n[2]>>6,o[3]=63&n[2];var a=r-(t.length-1);switch(a){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var u=0;u<o.length;++u)e+=i.charAt(o[u])}return e};var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t,e,r){"use strict";function i(){}function n(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}e.__esModule=!0,e.eachSeries=function(t,e,r,i){var n=0,o=t.length;!function s(a){a||n===o?r&&r(a):i?setTimeout(function(){e(t[n++],s)},1):e(t[n++],s)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,o={_tasks:[],concurrency:e,saturated:i,unsaturated:i,buffer:e/4,empty:i,drain:i,error:i,started:!1,paused:!1,push:function(t,e){s(t,!1,e)},kill:function(){r=0,o.drain=i,o.started=!1,o._tasks=[]},unshift:function(t,e){s(t,!0,e)},process:function(){for(;!o.paused&&r<o.concurrency&&o._tasks.length;){var e=o._tasks.shift();0===o._tasks.length&&o.empty(),(r+=1)===o.concurrency&&o.saturated(),t(e.data,n(a(e)))}},length:function(){return o._tasks.length},running:function(){return r},idle:function(){return o._tasks.length+r===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};function s(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(o.started=!0,null==t&&o.idle())setTimeout(function(){return o.drain()},1);else{var n={data:t,callback:"function"==typeof r?r:i};e?o._tasks.unshift(n):o._tasks.push(n),setTimeout(function(){return o.process()},1)}}function a(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),r<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}return o}},function(t,e,r){"use strict";t.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[r.key[o]]=i[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(t,e,i){e&&(n[r.q.name][e]=i)}),n}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r,i){void 0===r&&(r=!1),n(this,t),this._fn=e,this._once=r,this._thisArg=i,this._next=this._prev=this._owner=null}return i(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){n(this,t),this._head=this._tail=void 0}return i(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=o,e.default=a,t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.parse=a,e.default=function(){return function(t,e){if(t.data&&t.type===o.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var r=t.isDataUrl?"":i.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/")),(r=r.replace(this.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/");var s=r+t.data.getElementsByTagName("page")[0].getAttribute("file");if(n.utils.TextureCache[s])a(t,n.utils.TextureCache[s]),e();else{var u={crossOrigin:t.crossOrigin,loadType:o.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t};this.add(t.name+"_image",s,u,function(r){a(t,r.texture),e()})}}else e();else e()}};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(6)),n=r(1),o=r(11),s=r(57);function a(t,e){t.bitmapFont=s.BitmapText.registerFont(t.data,e)}},function(t,e,r){"use strict";e.__esModule=!0,e.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},i(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();e.default=n,n.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.global=new n.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},i(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(55)),s=u(r(54)),a=u(r(53));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,i,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var h=(0,o.default)(u,!1),l=(0,s.default)(u),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h,l));return c.resolution=a||n.settings.RESOLUTION,c._quality=0,c.quality=i||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,i){if(this.firstRun){var n=t.renderer.gl,u=(0,a.default)(n);this.vertexSrc=(0,o.default)(u,!1),this.fragmentSrc=(0,s.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{for(var h=t.getRenderTarget(!0),l=e,c=h,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var d=c;c=l,l=d}t.applyFilter(this,l,r,i),t.returnRenderTarget(h)}},i(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(n.Filter);e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;for(;r>e;)r-=2;return r}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=i[t],r=e.length,o=n,s="",a=void 0,u=0;u<t;u++){var h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",u);a=u,u>=r&&(a=t-u-1),h=h.replace("%value%",e[a]),s+=h,s+="\n"}return o=(o=o.replace("%blur%",s)).replace("%size%",t)};var i={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},n=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=Math.ceil(t/2),n=i,o="",s=void 0;s=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var u=s.replace("%index%",a);u=u.replace("%sampleIndex%",a-(r-1)+".0"),o+=u,o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)};var i=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(55)),s=u(r(54)),a=u(r(53));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,i,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var h=(0,o.default)(u,!0),l=(0,s.default)(u),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h,l));return c.resolution=a||n.settings.RESOLUTION,c._quality=0,c.quality=i||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,i){if(this.firstRun){var n=t.renderer.gl,u=(0,a.default)(n);this.vertexSrc=(0,o.default)(u,!0),this.fragmentSrc=(0,s.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{for(var h=t.getRenderTarget(!0),l=e,c=h,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var d=c;c=l,l=d}t.applyFilter(this,l,r,i),t.returnRenderTarget(h)}},i(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(n.Filter);e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=void 0;var i=r(133);Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return a(i).default}});var n=r(132);Object.defineProperty(e,"TilingSprite",{enumerable:!0,get:function(){return a(n).default}});var o=r(131);Object.defineProperty(e,"TilingSpriteRenderer",{enumerable:!0,get:function(){return a(o).default}});var s=r(130);function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"BitmapText",{enumerable:!0,get:function(){return a(s).default}}),r(129),r(128),r(127)},function(t,e,r){"use strict";e.__esModule=!0,e.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,r){"use strict";e.__esModule=!0,e.autoDetectRenderer=function(t,e,r,s){var a=t&&t.forceCanvas;void 0!==s&&(a=s);if(!a&&i.isWebGLSupported())return new o.default(t,e,r);return new n.default(t,e,r)};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),n=s(r(14)),o=s(r(18));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=r(59),o=h(r(15)),s=r(25),a=h(r(3)),u=r(0);function h(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,r,i,u,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:r||a.default.RENDER_OPTIONS.height,forceCanvas:!!u,sharedTicker:!!h},i)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,n.autoDetectRenderer)(e),this.stage=new o.default,this._ticker=null,this.ticker=e.sharedTicker?s.shared:new s.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},i(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,u.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();e.default=l},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(e,r,i,n,o,s,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lineWidth=e,this.nativeLines=a,this.lineColor=r,this.lineAlpha=i,this._lineTint=r,this.fillColor=n,this.fillAlpha=o,this._fillTint=n,this.fill=s,this.holes=[],this.shape=u,this.type=u.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(e,r,i,n,o,s,a,u,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=e,this.style=r,this.width=i,this.height=n,this.lines=o,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=u,this.fontProperties=h}return t.measureText=function(e,r,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;i=i||r.wordWrap;var o=r.toFontString(),s=t.measureFont(o),a=n.getContext("2d");a.font=o;for(var u=(i?t.wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),h=new Array(u.length),l=0,c=0;c<u.length;c++){var f=a.measureText(u[c]).width+(u[c].length-1)*r.letterSpacing;h[c]=f,l=Math.max(l,f)}var d=l+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var p=r.lineHeight||s.fontSize+r.strokeThickness,v=Math.max(p,s.fontSize+r.strokeThickness)+(u.length-1)*(p+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new t(e,r,d,v,u,h,p+r.leading,l,s)},t.wordWrap=function(e,r){for(var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext("2d"),n="",o=0,s="",a={},u=r.letterSpacing,h=r.wordWrapWidth+r.letterSpacing,l=t.getFromCache(" ",u,a,i),c=e.split(" "),f=0;f<c.length;f++){var d=c[f],p=t.getFromCache(d,u,a,i);if(p>h)if(r.breakWords)for(var v=(n.length>0?" "+d:d).split(""),y=0;y<v.length;y++){var g=v[y],_=t.getFromCache(g,u,a,i);_+o>h&&(s+=t.addLine(n),n="",o=0),n+=g,o+=_}else n.length>0&&(s+=t.addLine(n),n="",o=0),s+=t.addLine(d),n="",o=0;else p+o>h&&(s+=t.addLine(n),n="",o=0),n.length>0?n+=" "+d:n+=d,o+=p+l}return s+=t.addLine(n,!1)},t.addLine=function(t){return t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?t+"\n":t},t.getFromCache=function(t,e,r,i){var n=r[t];if(void 0===n){var o=t.length*e;n=i.measureText(t).width+o,r[t]=n}return n},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={},i=t._canvas,n=t._context;n.font=e;var o=Math.ceil(n.measureText("|MÉq").width),s=Math.ceil(n.measureText("M").width),a=2*s;s=1.4*s|0,i.width=o,i.height=a,n.fillStyle="#f00",n.fillRect(0,0,o,a),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText("|MÉq",0,s);var u=n.getImageData(0,0,o,a).data,h=u.length,l=4*o,c=0,f=0,d=!1;for(c=0;c<s;++c){for(var p=0;p<l;p+=4)if(255!==u[f+p]){d=!0;break}if(d)break;f+=l}for(r.ascent=s-c,f=h-l,d=!1,c=a;c>s;--c){for(var v=0;v<l;v+=4)if(255!==u[f+v]){d=!0;break}if(d)break;f-=l}return r.descent=c-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t}();e.default=i;var n=document.createElement("canvas");n.width=n.height=10,i._canvas=n,i._context=n.getContext("2d"),i._fonts={}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=r(0),o=r(2);var s={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:n.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,wordWrap:!1,wordWrapWidth:100,leading:0},a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.styleID=0,this.reset(),l(this,e,e)}return t.prototype.clone=function(){var e={};return l(e,this,s),new t(e)},t.prototype.reset=function(){l(this,s,s)},t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var i=e[r].trim();/([\"\'])[^\'\"]+\1/.test(i)||(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},i(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=h(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=h(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=h(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();function u(t){return"number"==typeof t?(0,o.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function h(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=u(t[e]);return t}return u(t)}function l(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var i=o(r(5)),n=o(r(22));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var o=0;o<4;o++)this.interleaved[4*o]=this.vertices[2*o],this.interleaved[4*o+1]=this.vertices[2*o+1],this.interleaved[4*o+2]=this.uvs[2*o],this.interleaved[4*o+3]=this.uvs[2*o+1];this.indices=(0,n.default)(1),this.vertexBuffer=i.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new i.default.VertexArrayObject(e,r)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i,n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=r(34),s=(i=o)&&i.__esModule?i:{default:i};var a=new s.default,u=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._texture=e,this.mapCoord=new s.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===r?.5:r}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(a.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(a));var o=e.baseTexture,s=this.uClampFrame,u=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+u+h)/o.width,s[1]=(e._frame.y+u+h)/o.height,s[2]=(e._frame.x+e._frame.width-u+h)/o.width,s[3]=(e._frame.y+e._frame.height-u+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,!0},n(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=u(r(166)),o=r(2),s=r(0),a=u(r(3));function u(t){return t&&t.__esModule?t:{default:t}}var h={},l=function(){function t(e,r,i){for(var u in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this._blendMode=s.BLEND_MODES.NORMAL,this.uniformData=i||(0,n.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[u]=this.uniformData[u].value,this.uniformData[u].type&&(this.uniformData[u].type=this.uniformData[u].type.toLowerCase());this.glShaders={},h[this.vertexSrc+this.fragmentSrc]||(h[this.vertexSrc+this.fragmentSrc]=(0,o.uid)()),this.glShaderKey=h[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=a.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i)},i(t,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();e.default=l},function(t,e,r){"use strict";e.__esModule=!0;var i=s(r(66)),n=r(4),o=(r(6),s(r(65)));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=new n.Matrix,o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return r.renderable=!1,o.maskSprite=r,o.maskMatrix=i,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var i=this.maskSprite,n=this.maskSprite.texture;n.valid&&(n.transform||(n.transform=new o.default(n,0)),n.transform.update(),this.uniforms.mask=n,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(n.transform.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=n.transform.uClampFrame,t.applyFilter(this,e,r))},e}(i.default);e.default=a},function(t,e,r){"use strict";function i(t){var e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}e.__esModule=!0,e.default=function(){if("undefined"==typeof document)return!1;var t=i("#ff00ff"),e=i("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var n=r.getContext("2d");n.globalCompositeOperation="multiply",n.drawImage(t,0,0),n.drawImage(e,2,0);var o=n.getImageData(2,0,1,1);if(!o)return!1;var s=o.data;return 255===s[0]&&0===s[1]&&0===s[2]}},function(t,e,r){"use strict";e.__esModule=!0;var i,n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=r(3),s=(i=o)&&i.__esModule?i:{default:i};var a=function(){function t(e,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||s.default.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},n(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var i=o(r(9)),n=o(r(3));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments[2],s=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,null,o));return a.resolution=s||n.default.RESOLUTION,a.width=Math.ceil(r),a.height=Math.ceil(i),a.realWidth=a.width*a.resolution,a.realHeight=a.height*a.resolution,a.scaleMode=void 0!==o?o:n.default.SCALE_MODE,a.hasLoaded=!0,a._glRenderTargets={},a._canvasRenderTarget=null,a.valid=!1,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(i.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=r(2),o=r(4),s=r(0),a=c(r(3)),u=c(r(15)),h=c(r(24)),l=c(r(8));function c(t){return t&&t.__esModule?t:{default:t}}var f=new o.Matrix,d=function(t){function e(r,i,h,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return(0,n.sayHello)(r),"number"==typeof i&&(i=Object.assign({width:i,height:h||a.default.RENDER_OPTIONS.height},l)),i=Object.assign({},a.default.RENDER_OPTIONS,i),c.options=i,c.type=s.RENDERER_TYPE.UNKNOWN,c.screen=new o.Rectangle(0,0,i.width,i.height),c.view=i.view||document.createElement("canvas"),c.resolution=i.resolution||a.default.RESOLUTION,c.transparent=i.transparent,c.autoResize=i.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=i.preserveDrawingBuffer,c.clearBeforeRender=i.clearBeforeRender,c.roundPixels=i.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=i.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new u.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r,i){i=i||t.getLocalBounds();var n=h.default.create(0|i.width,0|i.height,e,r);return f.tx=-i.x,f.ty=-i.y,this.render(t,n,!1,f,!0),n},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},i(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,n.hex2string)(t),(0,n.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(l.default);e.default=d},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(88),o=(i=n)&&i.__esModule?i:{default:i};var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,r){var i=e.width,n=e.height;if(r){var s=t.width/2/i,a=t.height/2/n,u=t.x/i+s,h=t.y/n+a;r=o.default.add(r,o.default.NW),this.x0=u+s*o.default.uX(r),this.y0=h+a*o.default.uY(r),r=o.default.add(r,2),this.x1=u+s*o.default.uX(r),this.y1=h+a*o.default.uY(r),r=o.default.add(r,2),this.x2=u+s*o.default.uX(r),this.y2=h+a*o.default.uY(r),r=o.default.add(r,2),this.x3=u+s*o.default.uX(r),this.y3=h+a*o.default.uY(r)}else this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=h(r(9)),o=r(2),s=r(25),a=r(0),u=h(r(75));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(r,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw new Error("No video source element specified.");(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,i));return n.width=r.videoWidth,n.height=r.videoHeight,n._autoUpdate=!0,n._isAutoUpdating=!1,n.autoPlay=!0,n.update=n.update.bind(n),n._onCanPlay=n._onCanPlay.bind(n),r.addEventListener("play",n._onPlayStart.bind(n)),r.addEventListener("pause",n._onPlayStop.bind(n)),n.hasLoaded=!1,n.__loaded=!1,n._isSourceReady()?n._onCanPlay():(r.addEventListener("canplay",n._onCanPlay),r.addEventListener("canplaythrough",n._onCanPlay)),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(s.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(s.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&s.shared.remove(this.update,this),this.source&&this.source._pixiId&&(n.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function(t,r){t._pixiId||(t._pixiId="video_"+(0,o.uid)());var i=o.BaseTextureCache[t._pixiId];return i||(i=new e(t,r),n.default.addToCache(i,t._pixiId)),i},e.fromUrl=function(t,r,i){var n=document.createElement("video");n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","");var o=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===i&&0!==o.indexOf("data:")?n.crossOrigin=(0,u.default)(o):i&&(n.crossOrigin="string"==typeof i?i:"anonymous"),Array.isArray(t))for(var s=0;s<t.length;++s)n.appendChild(c(t[s].src||t[s],t[s].mime));else n.appendChild(c(o,t.mime));return n.load(),e.fromVideo(n,r)},i(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(s.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(s.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(n.default);function c(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}e.default=l,l.fromUrls=l.fromUrl},function(t,e,r){"use strict";var i=r(179),n=r(177);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=m,e.resolve=function(t,e){return m(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?m(t,!1,!0).resolveObject(e):e},e.format=function(t){n.isString(t)&&(t=m(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(h),c=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=r(176);function m(t,e,r){if(t&&n.isObject(t)&&t instanceof o)return t;var i=new o;return i.parse(t,e,r),i}o.prototype.parse=function(t,e,r){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",h=t.split(a);h[0]=h[0].replace(/\\/g,"/");var m=t=h.join(a);if(m=m.trim(),!r&&1===t.split("#").length){var b=u.exec(m);if(b)return this.path=m,this.href=m,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?_.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=s.exec(m);if(x){var T=(x=x[0]).toLowerCase();this.protocol=T,m=m.substr(x.length)}if(r||x||m.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===m.substr(0,2);!w||x&&y[x]||(m=m.substr(2),this.slashes=!0)}if(!y[x]&&(w||x&&!g[x])){for(var E,O,S=-1,P=0;P<f.length;P++){-1!==(M=m.indexOf(f[P]))&&(-1===S||M<S)&&(S=M)}-1!==(O=-1===S?m.lastIndexOf("@"):m.lastIndexOf("@",S))&&(E=m.slice(0,O),m=m.slice(O+1),this.auth=decodeURIComponent(E)),S=-1;for(P=0;P<c.length;P++){var M;-1!==(M=m.indexOf(c[P]))&&(-1===S||M<S)&&(S=M)}-1===S&&(S=m.length),this.host=m.slice(0,S),m=m.slice(S),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var A=this.hostname.split(/\./),I=(P=0,A.length);P<I;P++){var R=A[P];if(R&&!R.match(d)){for(var D="",L=0,N=R.length;L<N;L++)R.charCodeAt(L)>127?D+="x":D+=R[L];if(!D.match(d)){var k=A.slice(0,P),F=A.slice(P+1),j=R.match(p);j&&(k.push(j[1]),F.unshift(j[2])),F.length&&(m="/"+F.join(".")+m),this.hostname=k.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=i.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==m[0]&&(m="/"+m))}if(!v[T])for(P=0,I=l.length;P<I;P++){var X=l[P];if(-1!==m.indexOf(X)){var W=encodeURIComponent(X);W===X&&(W=escape(X)),m=m.split(X).join(W)}}var H=m.indexOf("#");-1!==H&&(this.hash=m.substr(H),m=m.slice(0,H));var G=m.indexOf("?");if(-1!==G?(this.search=m.substr(G),this.query=m.substr(G+1),e&&(this.query=_.parse(this.query)),m=m.slice(0,G)):e&&(this.search="",this.query={}),m&&(this.pathname=m),g[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var Y=this.search||"";this.path=B+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=_.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+i},o.prototype.resolve=function(t){return this.resolveObject(m(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(n.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,i=Object.keys(this),s=0;s<i.length;s++){var a=i[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),h=0;h<u.length;h++){var l=u[h];"protocol"!==l&&(r[l]=t[l])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var d=c[f];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||y[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",_=r.search||"";r.path=v+_}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||m||r.host&&t.pathname,T=x,w=r.pathname&&r.pathname.split("/")||[],E=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),x=x&&(""===p[0]||""===w[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),r.search=t.search,r.query=t.query;else if(!n.isNullOrUndefined(t.search)){if(E)r.hostname=r.host=w.shift(),(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift());return r.search=t.search,r.query=t.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=w.slice(-1)[0],S=(r.host||t.host||w.length>1)&&("."===O||".."===O)||""===O,P=0,M=w.length;M>=0;M--)"."===(O=w[M])?w.splice(M,1):".."===O?(w.splice(M,1),P++):P&&(w.splice(M,1),P--);if(!x&&!T)for(;P--;P)w.unshift("..");!x||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),S&&"/"!==w.join("/").substr(-1)&&w.push("");var C,A=""===w[0]||w[0]&&"/"===w[0].charAt(0);E&&(r.hostname=r.host=A?"":w.length?w.shift():"",(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift()));return(x=x||r.host&&w.length)&&!A&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,s||(s=document.createElement("a"));s.href=t;var r=!(t=o.default.parse(s.href)).port&&""===e.port||t.port===e.port;if(t.hostname!==e.hostname||!r||t.protocol!==e.protocol)return"anonymous";return""};var i,n=r(74),o=(i=n)&&i.__esModule?i:{default:i};var s=void 0},function(t,e,r){"use strict";e.__esModule=!0;var i,n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=r(4),s=r(29);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new o.Point(0,0),r.scale=new o.Point(1,1),r.skew=new o.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new o.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},n(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((i=s)&&i.__esModule?i:{default:i}).default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var i,n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=r(4),s=r(29);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new o.ObservablePoint(r.onChange,r,0,0),r.scale=new o.ObservablePoint(r.onChange,r,1,1),r.pivot=new o.ObservablePoint(r.onChange,r,0,0),r.skew=new o.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},n(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((i=s)&&i.__esModule?i:{default:i}).default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=c(r(8)),o=r(0),s=c(r(3)),a=c(r(77)),u=c(r(76)),h=c(r(31)),l=r(4);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),i=s.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?a.default:u.default;return r.tempDisplayObjectParent=null,r.transform=new i,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new h.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new l.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new l.Rectangle),t=this._localBoundsRect);var i=this.getBounds(!1,t);return this.parent=r,this.transform=e,i},e.prototype.toGlobal=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},i(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(n.default);e.default=f,f.prototype.displayObjectUpdateTransform=f.prototype.updateTransform},function(t,e){var r=function(t){return function(){return this.data[t].value}},i={float:function(t,e,r){t.uniform1f(e,r)},vec2:function(t,e,r){t.uniform2f(e,r[0],r[1])},vec3:function(t,e,r){t.uniform3f(e,r[0],r[1],r[2])},vec4:function(t,e,r){t.uniform4f(e,r[0],r[1],r[2],r[3])},int:function(t,e,r){t.uniform1i(e,r)},ivec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},ivec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},ivec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},bool:function(t,e,r){t.uniform1i(e,r)},bvec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},bvec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},bvec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},mat2:function(t,e,r){t.uniformMatrix2fv(e,!1,r)},mat3:function(t,e,r){t.uniformMatrix3fv(e,!1,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)},sampler2D:function(t,e,r){t.uniform1i(e,r)}},n={float:function(t,e,r){t.uniform1fv(e,r)},vec2:function(t,e,r){t.uniform2fv(e,r)},vec3:function(t,e,r){t.uniform3fv(e,r)},vec4:function(t,e,r){t.uniform4fv(e,r)},int:function(t,e,r){t.uniform1iv(e,r)},ivec2:function(t,e,r){t.uniform2iv(e,r)},ivec3:function(t,e,r){t.uniform3iv(e,r)},ivec4:function(t,e,r){t.uniform4iv(e,r)},bool:function(t,e,r){t.uniform1iv(e,r)},bvec2:function(t,e,r){t.uniform2iv(e,r)},bvec3:function(t,e,r){t.uniform3iv(e,r)},bvec4:function(t,e,r){t.uniform4iv(e,r)},sampler2D:function(t,e,r){t.uniform1iv(e,r)}};function o(t,e){return function(r){this.data[t].value=r;var o=this.data[t].location;1===e.size?i[e.type](this.gl,o,r):n[e.type](this.gl,o,r)}}function s(t,e){for(var r=e,i=0;i<t.length-1;i++){var n=r[t[i]]||{data:{}};r[t[i]]=n,r=n}return r}t.exports=function(t,e){var i={data:{}};i.gl=t;for(var n=Object.keys(e),a=0;a<n.length;a++){var u=n[a],h=u.split("."),l=h[h.length-1],c=s(h,i),f=e[u];c.data[l]=f,c.gl=t,Object.defineProperty(c,l,{get:r(l),set:o(l,f)})}return i}},function(t,e){t.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},function(t,e){var r=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};t.exports=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return r(2*e);case"bvec3":return r(3*e);case"bvec4":return r(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(t,e,r){var i=r(32),n=r(81);t.exports=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<o;s++){var a=t.getActiveUniform(e,s),u=a.name.replace(/\[.*?\]/,""),h=i(t,a.type);r[u]={type:h,size:a.size,location:t.getUniformLocation(e,u),value:n(h,a.size)}}return r}},function(t,e){var r={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(t){return r[t]}},function(t,e,r){var i=r(32),n=r(83),o=function(t,e,r,i){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,i||0)};t.exports=function(t,e){for(var r={},s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<s;a++){var u=t.getActiveAttrib(e,a),h=i(t,u.type);r[u.name]={type:h,size:n(h),location:t.getAttribLocation(e,u.name),pointer:o}}return r}},function(t,e){var r=function(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(console.log(t.getShaderInfoLog(i)),null)};t.exports=function(t,e,i,n){var o=r(t,t.VERTEX_SHADER,e),s=r(t,t.FRAGMENT_SHADER,i),a=t.createProgram();if(t.attachShader(a,o),t.attachShader(a,s),n)for(var u in n)t.bindAttribLocation(a,n[u],u);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(o),t.deleteShader(s),a}},function(t,e){var r=function(t,e,r,i,n){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=i||t.RGBA,this.type=n||t.UNSIGNED_BYTE};r.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,i=t.videoHeight||t.height;i!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=i};var i=!1;r.prototype.uploadData=function(t,e,r){this.bind();var n=this.gl;if(t instanceof Float32Array){if(!i){if(!n.getExtension("OES_texture_float"))throw new Error("floating point textures not available");i=!0}this.type=n.FLOAT}else this.type=this.type||n.UNSIGNED_BYTE;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?n.texImage2D(n.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},r.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},r.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},r.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},r.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},r.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},r.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},r.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},r.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},r.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},r.fromSource=function(t,e,i){var n=new r(t);return n.premultiplyAlpha=i||!1,n.upload(e),n},r.fromData=function(t,e,i,n){var o=new r(t);return o.uploadData(e,i,n),o},t.exports=r},function(t,e){t.exports=function(t,e,r){var i;if(r){var n=r.tempAttribState,o=r.attribState;for(i=0;i<n.length;i++)n[i]=!1;for(i=0;i<e.length;i++)n[e[i].attribute.location]=!0;for(i=0;i<o.length;i++)o[i]!==n[i]&&(o[i]=n[i],r.attribState[i]?t.enableVertexAttribArray(i):t.disableVertexAttribArray(i))}else for(i=0;i<e.length;i++){var s=e[i];t.enableVertexAttribArray(s.attribute.location)}}},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(34),o=(i=n)&&i.__esModule?i:{default:i};var s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],a=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],h=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],c=[];function f(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];c.push(e);for(var r=0;r<16;r++)for(var i=f(s[t]*s[r]+u[t]*a[r]),n=f(a[t]*s[r]+h[t]*a[r]),d=f(s[t]*u[r]+u[t]*h[r]),p=f(a[t]*u[r]+h[t]*h[r]),v=0;v<16;v++)if(s[v]===i&&a[v]===n&&u[v]===d&&h[v]===p){e.push(v);break}}for(var y=0;y<16;y++){var g=new o.default;g.set(s[y],a[y],u[y],h[y],0,0),l.push(g)}}();var d={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return s[t]},uY:function(t){return a[t]},vX:function(t){return u[t]},vY:function(t){return h[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return c[t][e]},sub:function(t,e){return c[t][d.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?d.S:d.N:2*Math.abs(e)<=Math.abs(t)?t>0?d.E:d.W:e>0?t>0?d.SE:d.SW:t>0?d.NE:d.NW},matrixAppendRotationInv:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=l[d.inv(e)];n.tx=r,n.ty=i,t.append(n)}};e.default=d},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();var n=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=i,this._y=n,this.cb=e,this.scope=r}return t.prototype.set=function(t,e){var r=t||0,i=e||(0!==e?r:0);this._x===r&&this._y===i||(this._x=r,this._y=i,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},i(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();e.default=n},function(t,e){(function(e){t.exports={mode:"development",devtool:"inline-source-map",entry:"./src/Game.ts",output:{path:e+"/docs",filename:"dist.js",publicPath:"/"},resolve:{extensions:[".ts",".tsx",".js"]},module:{rules:[{test:/\.ts?$/,loader:"ts-loader"}]}}}).call(this,"/")},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,r){this.x=t,this.y=e,this.game=r;var i=PIXI.loader.resources.pickups.textures;this.sprite=new PIXI.Sprite(i["rock.png"]),this.sprite.x=this.x+this.game.player.sprite.width,this.sprite.y=this.y+this.game.player.sprite.height/2,this.game.worldContainer.addChild(this.sprite),this.xspeed=5}return t.prototype.move=function(){var t=!1;this.sprite.x+=this.xspeed;for(var e=0,r=this.game.rocks;e<r.length;e++){var i=r[e];if(this.game.enemy.checkCollsionForAttack(i.sprite.x,i.sprite.y,i.sprite.height,i.sprite.width)){t=!0;break}}t&&(this.sprite.visible=!1,this.sprite.y=-100,this.game.worldContainer.removeChild(this.sprite))},t}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(91),n=function(){function t(t,e){this.attackFrames=[],this.player=t,this.countDown=!1,this.game=e}return t.prototype.attack=function(){if(console.log("ik ben een range attack"),!this.countDown){for(var t=1;t<=2;t++){var e={texture:PIXI.loader.resources.player_attack.textures["punch-2.png"],time:200};this.attackFrames.push(e)}this.coolDown(),this.countDown=!0,this.player.sprite.textures=this.attackFrames,this.rock=new i.default(this.player.sprite.x,this.player.sprite.y,this.game),this.game.addRock(this.rock)}},t.prototype.coolDown=function(){var t=this,e=setInterval(function(){t.countDown=!1,clearInterval(e)},300)},t}();e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(92),n=function(){function t(t,e,r,i){this.game=i,this.x=t,this.spritesheet=e,this.texture=r,this.player=this.game.player;var n=PIXI.loader.resources[this.spritesheet].textures;this.sprite=new PIXI.Sprite(n[this.texture]),this.sprite.x=this.x,this.sprite.y=window.innerHeight-64*this.game.heigth-2*this.sprite.height,this.game.gameObjectContainer.addChild(this.sprite)}return t.prototype.checkCollision=function(){this.player.sprite.x+this.player.sprite.width>this.sprite.x&&this.player.sprite.x<this.sprite.x+this.sprite.width&&this.player.sprite.y+this.player.sprite.height>this.sprite.y&&this.player.sprite.y<this.sprite.y+this.sprite.height&&(this.player.changeAttack(new i.default(this.player,this.game)),this.game.gameObjectContainer.removeChild(this.sprite),this.sprite.y=-100)},t}();e.default=n},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r){return t.call(this,e,"pickups","redJewel.png",r)||this}return n(e,t),e}(r(93).default);e.default=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,i){var n=t.call(this,e,r,"enemy","hold.png",100)||this;n.x=e,n.y=r,n.game=i,n.speed=4,n.randomNumber=0,setTimeout(function(){return n.enemyMoveGenerator()},500);var o=new PIXI.Graphics;return n.healthbar=o,n.healthbar.beginFill(15939126),n.healthbar.drawRect(-28,-28,100,15),n.healthbar.endFill(),n.sprite.addChild(n.healthbar),n}return n(e,t),e.prototype.enemyMove=function(){this.health>0?this.healthbar.width=this.health:this.healthbar.width=0},e.prototype.checkCollsionForAttack=function(t,e,r,i){return t+i>this.x&&t<this.x+i&&e+r>this.sprite.y&&e<this.sprite.y+r&&(this.damage(),!0)},e.prototype.damage=function(){this.health-=33.4,(0==this.health||this.health<0)&&(this.game.characterContainer.removeChild(this.sprite),this.sprite.removeChild(this.healthbar),this.sprite.y=-100)},e.prototype.enemyMoveGenerator=function(){var t=this;this.randomNumber=Math.floor(750*Math.random()+1),this.enemyMove(),setTimeout(function(){return t.enemyMoveGenerator()},1e3)},e}(r(38).default);e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.attackFrames=[],this.player=t,this.range=30,this.enemy=e,this.countDown=!1}return t.prototype.attack=function(){if(this.countDown)console.log("Attack will be blocked");else{for(var t=1;t<=2;t++){var e={texture:PIXI.loader.resources.player_attack.textures["punch-"+t+".png"],time:200};this.attackFrames.push(e)}e={texture:PIXI.loader.resources.player_attack.textures["punch-2.png"],time:200};this.attackFrames.push(e),this.countDown=!0,this.player.sprite.textures=this.attackFrames,this.coolDown(),this.enemy.checkCollsionForAttack(this.player.sprite.x+this.range,this.player.sprite.y,this.player.sprite.height,this.player.sprite.width)}},t.prototype.coolDown=function(){var t=this,e=setInterval(function(){t.countDown=!1,clearInterval(e)},300)},t}();e.default=i},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(38),s=r(96),a=function(t){function e(e,r,i,n){var o=t.call(this,e,r,"player_moves","left_walk1.png",5)||this;o.x=e,o.y=r,o.enemy=i,o.game=n,o.attackBehavior=new s.default(o,o.enemy);for(var a=1;a<=2;a++){var u={texture:PIXI.loader.resources.player_moves.textures["rigth_walk"+a+".png"],time:200};o.rightFrames.push(u)}u={texture:PIXI.loader.resources.player_moves.textures["rigth_walk1.png"],time:200};o.rightFrames.push(u);for(a=1;a<=2;a++){u={texture:PIXI.loader.resources.player_moves.textures["left_walk"+a+".png"],time:200};o.leftFrames.push(u)}u={texture:PIXI.loader.resources.player_moves.textures["left_walk1.png"],time:200};o.leftFrames.push(u);for(a=0;a<2;a++){u={texture:PIXI.loader.resources.player_moves.textures["jump.png"],time:200};o.jumpFrames.push(u)}u={texture:PIXI.loader.resources.player_moves.textures["jump.png"],time:200};return o}return n(e,t),e.prototype.changeAttack=function(t){this.attackBehavior=t},e.prototype.keyPressed=function(t){if(t[87])this.move(0,-12),"jump"!==this.Animationplaying&&(this.Animationplaying="jump",this.sprite.textures=this.jumpFrames,this.sprite.play());else if(t[65])this.move(-this.speed,0),"left"!==this.Animationplaying&&(this.Animationplaying="left",this.sprite.textures=this.leftFrames,this.sprite.play());else if(t[68])this.move(this.speed,0),"right"!==this.Animationplaying&&(this.Animationplaying="right",this.sprite.textures=this.rightFrames,this.sprite.play());else if(t[32])this.Animationplaying="attack",this.attackBehavior.attack(),this.sprite.play();else{this.Animationplaying="hold";var e={texture:PIXI.loader.resources.player_moves.textures["hold.png"],time:200};this.holdFrame.push(e),this.sprite.textures=this.holdFrame,this.sprite.stop()}},e}(o.default);e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(37),n=function(){function t(t,e,r){this.width=64,this.heigth=64,this.x=t,this.y=e,this.texture=r;var n=PIXI.loader.resources.tileset.textures;this.sprite=new PIXI.Sprite(n[this.texture]),this.sprite.x=this.x,this.sprite.y=window.innerHeight-this.sprite.height*this.y,i.default.getInstance().worldContainer.addChild(this.sprite)}return t.prototype.isColliding=function(t,e,r,i){return t+i>this.x&&t<this.x+i&&e+r>this.sprite.y&&e<this.sprite.y+r},t}();e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(98),n=function(){return function(t,e,r){this.tiles=new Array,this.x=0,this.y=1,this.length=t,this.heigth=e,this.texture=r;for(var n=1;n<=this.heigth;n++){for(var o=0;o<this.length;o++){this.y==this.heigth&&(this.texture="normal.png"),0==this.x&&this.y==this.heigth&&(this.texture="left.png");var s=new i.default(this.x,this.y,this.texture);this.tiles.push(s),this.x+=64}this.y+=1,this.x=0}}}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var i,n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(20);var s=16,a=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.uploadHookHelper=i,i.canvas=document.createElement("canvas"),i.canvas.width=s,i.canvas.height=s,i.ctx=i.canvas.getContext("2d"),i.registerUploadHook(u),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(((i=o)&&i.__esModule?i:{default:i}).default);function u(t,e){if(e instanceof n.BaseTexture){var r=e.source,i=0===r.width?t.canvas.width:Math.min(t.canvas.width,r.width),o=0===r.height?t.canvas.height:Math.min(t.canvas.height,r.height);return t.ctx.drawImage(r,0,0,i,o,0,0,t.canvas.width,t.canvas.height),!0}return!1}e.default=a,n.CanvasRenderer.registerPlugin("prepare",a)},function(t,e,r){"use strict";e.__esModule=!0;var i,n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(20);var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.uploadHookHelper=i.renderer,i.registerFindHook(h),i.registerUploadHook(a),i.registerUploadHook(u),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=o)&&i.__esModule?i:{default:i}).default);function a(t,e){return e instanceof n.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function u(t,e){return e instanceof n.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function h(t,e){return t instanceof n.Graphics&&(e.push(t),!0)}e.default=s,n.WebGLRenderer.registerPlugin("prepare",s)},function(t,e,r){"use strict";e.__esModule=!0;var i=r(102);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return u(i).default}});var n=r(101);Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return u(n).default}});var o=r(20);Object.defineProperty(e,"BasePrepare",{enumerable:!0,get:function(){return u(o).default}});var s=r(39);Object.defineProperty(e,"CountLimiter",{enumerable:!0,get:function(){return u(s).default}});var a=r(100);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"TimeLimiter",{enumerable:!0,get:function(){return u(a).default}})},function(t,e,r){"use strict";e.__esModule=!0;var i=o(r(5)),n=o(r(22));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,r,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<r.length;++o){var s=r[o];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,unsignedByte:s.unsignedByte,offset:s.offset},i[o]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,n.default)(this.size),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var o=this.dynamicProperties[r];o.offset=e,e+=o.size,this.dynamicStride+=o.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=i.default.GLBuffer.createVertexBuffer(t,s,t.STREAM_DRAW);var a=0;this.staticStride=0;for(var u=0;u<this.staticProperties.length;++u){var h=this.staticProperties[u];h.offset=a,a+=h.size,this.staticStride+=h.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=i.default.GLBuffer.createVertexBuffer(t,l,t.STATIC_DRAW),this.vao=new i.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var c=0;c<this.dynamicProperties.length;++c){var f=this.dynamicProperties[c];f.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*f.offset):this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.FLOAT,!1,4*this.dynamicStride,4*f.offset)}for(var d=0;d<this.staticProperties.length;++d){var p=this.staticProperties[d];p.unsignedByte?this.vao.addAttribute(this.staticBuffer,p.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*p.offset):this.vao.addAttribute(this.staticBuffer,p.attribute,t.FLOAT,!1,4*this.staticStride,4*p.offset)}},t.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(t,e,r,n.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(t,e,r,n.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(12);var o=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=n)&&i.__esModule?i:{default:i}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),n=a(r(105)),o=a(r(104)),s=r(2);function a(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.shader=null,n.indexBuffer=null,n.properties=null,n.tempMatrix=new i.Matrix,n.CONTEXT_UID=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new n.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,r=t._maxSize,n=t._batchSize,o=this.renderer,s=e.length;if(0!==s){s>r&&(s=r);var a=t._glBuffers[o.CONTEXT_UID];a||(a=t._glBuffers[o.CONTEXT_UID]=this.generateBuffers(t));var u=e[0]._texture.baseTexture;this.renderer.setBlendMode(i.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha));var h=o.gl,l=t.worldTransform.copy(this.tempMatrix);l.prepend(o._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=l.toArray(!0),this.shader.uniforms.uColor=i.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.premultipliedAlpha),this.shader.uniforms.uSampler=o.bindTexture(u);for(var c=!1,f=0,d=0;f<s;f+=n,d+=1){var p=s-f;if(p>n&&(p=n),d>=a.length){if(!t.autoResize)break;a.push(this._generateOneMoreBuffer(t))}var v=a[d];v.uploadDynamic(e,f,p);var y=t._bufferUpdateIDs[f]||0;(c=c||v._updateID<y)&&(v._updateID=t._updateID,v.uploadStatic(e,f,p)),o.bindVao(v.vao),v.vao.draw(h.TRIANGLES,6*p)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,r=[],i=t._maxSize,n=t._batchSize,s=t._properties,a=0;a<i;a+=n)r.push(new o.default(e,this.properties,s,n));return r},e.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,r=t._batchSize,i=t._properties;return new o.default(e,this.properties,i,r)},e.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s=0,a=0,u=0,h=0,l=0;l<r;++l){var c=t[e+l],f=c._texture,d=c.scale.x,p=c.scale.y,v=f.trim,y=f.orig;v?(s=(a=v.x-c.anchor.x*y.width)+v.width,u=(h=v.y-c.anchor.y*y.height)+v.height):(s=y.width*(1-c.anchor.x),a=y.width*-c.anchor.x,u=y.height*(1-c.anchor.y),h=y.height*-c.anchor.y),i[o]=a*d,i[o+1]=h*p,i[o+n]=s*d,i[o+n+1]=h*p,i[o+2*n]=s*d,i[o+2*n+1]=u*p,i[o+3*n]=a*d,i[o+3*n+1]=u*p,o+=4*n}},e.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},e.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},e.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},e.prototype.uploadTint=function(t,e,r,i,n,o){for(var a=0;a<r;++a){var u=t[e+a],h=u._texture.baseTexture.premultipliedAlpha,l=u.alpha,c=l<1&&h?(0,s.premultiplyTint)(u._tintRGB,l):u._tintRGB+(255*l<<24);i[o]=c,i[o+n]=c,i[o+2*n]=c,i[o+3*n]=c,o+=4*n}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(i.ObjectRenderer);e.default=u,i.WebGLRenderer.registerPlugin("particle",u)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(2);var s=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,i=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o>16384&&(o=16384),o>r&&(o=r),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=o,a._glBuffers={},a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=n.BLEND_MODES.NORMAL,a.autoResize=s,a.roundPixels=!0,a.baseTexture=null,a.setProperties(i),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,i=!0,n=0,o=0,s=0,a=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var h=this.children[u];if(h.visible){var l=h._texture.frame;if(e.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)==0)i&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx*t.resolution,r.ty*t.resolution),i=!1),n=h.anchor.x*(-l.width*h.scale.x)+h.position.x+.5,o=h.anchor.y*(-l.height*h.scale.y)+h.position.y+.5,s=l.width*h.scale.x,a=l.height*h.scale.y;else{i||(i=!0),h.displayObjectUpdateTransform();var c=h.worldTransform;t.roundPixels?e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution|0,c.ty*t.resolution|0):e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution,c.ty*t.resolution),n=h.anchor.x*-l.width+.5,o=h.anchor.y*-l.height+.5,s=l.width,a=l.height}var f=h._texture.baseTexture.resolution;e.drawImage(h._texture.baseTexture.source,l.x*f,l.y*f,l.width*f,l.height*f,n*t.resolution,o*t.resolution,s*t.resolution,a*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},i(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,o.hex2rgb)(t,this.tintRgb)}}]),e}(n.Container);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=r(107);Object.defineProperty(e,"ParticleContainer",{enumerable:!0,get:function(){return o(i).default}});var n=r(106);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"ParticleRenderer",{enumerable:!0,get:function(){return o(n).default}})},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(10);var o=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.points=i,n.vertices=new Float32Array(4*i.length),n.uvs=new Float32Array(4*i.length),n.colors=new Float32Array(2*i.length),n.indices=new Uint16Array(2*i.length),n.autoUpdate=!0,n.refresh(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,r=this.indices,i=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,i[0]=1,i[1]=1,r[0]=0,r[1]=1;for(var n=t.length,o=1;o<n;o++){var s=4*o,a=o/(n-1);e[s]=a,e[s+1]=0,e[s+2]=a,e[s+3]=1,i[s=2*o]=1,i[s+1]=1,r[s=2*o]=s,r[s+1]=s+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],r=void 0,i=0,n=0,o=this.vertices,s=t.length,a=0;a<s;a++){var u=t[a],h=4*a;n=-((r=a<t.length-1?t[a+1]:u).x-e.x),i=r.y-e.y;var l=10*(1-a/(s-1));l>1&&(l=1);var c=Math.sqrt(i*i+n*n),f=this._texture.height/2;i/=c,n/=c,i*=f,n*=f,o[h]=u.x+i,o[h+1]=u.y+n,o[h+2]=u.x-i,o[h+3]=u.y-n,e=u}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(((i=n)&&i.__esModule?i:{default:i}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var i,n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=r(40);var s=10,a=function(t){function e(r,i,n,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,4,4));return u._origWidth=r.orig.width,u._origHeight=r.orig.height,u._width=u._origWidth,u._height=u._origHeight,u.leftWidth=void 0!==i?i:s,u.rightWidth=void 0!==o?o:s,u.topHeight=void 0!==n?n:s,u.bottomHeight=void 0!==a?a:s,u.refresh(!0),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices;t[9]=t[11]=t[13]=t[15]=this._topHeight,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices;t[2]=t[10]=t[18]=t[26]=this._leftWidth,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode);var r=this.worldTransform,i=t.resolution;t.roundPixels?e.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i|0,r.ty*i|0):e.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i);var n=this._texture.baseTexture,o=n.source,s=n.width*n.resolution,a=n.height*n.resolution;this.drawSegment(e,o,s,a,0,1,10,11),this.drawSegment(e,o,s,a,2,3,12,13),this.drawSegment(e,o,s,a,4,5,14,15),this.drawSegment(e,o,s,a,8,9,18,19),this.drawSegment(e,o,s,a,10,11,20,21),this.drawSegment(e,o,s,a,12,13,22,23),this.drawSegment(e,o,s,a,16,17,26,27),this.drawSegment(e,o,s,a,18,19,28,29),this.drawSegment(e,o,s,a,20,21,30,31)},e.prototype.drawSegment=function(t,e,r,i,n,o,s,a){var u=this.uvs,h=this.vertices,l=(u[s]-u[n])*r,c=(u[a]-u[o])*i,f=h[s]-h[n],d=h[a]-h[o];l<1&&(l=1),c<1&&(c=1),f<1&&(f=1),d<1&&(d=1),t.drawImage(e,u[n]*r,u[o]*i,l,c,h[n],h[o],f,d)},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,r=this._texture;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,n=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=n*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},n(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(((i=o)&&i.__esModule?i:{default:i}).default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var i,n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(10),s=(i=o)&&i.__esModule?i:{default:i};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,i=t.worldTransform,n=e.resolution;e.roundPixels?r.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n|0,i.ty*n|0):r.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n,i.ty*n),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===s.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,r=0;r<e-2;r++){var i=2*r;this._renderDrawTriangle(t,i,i+2,i+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,r=e.length,i=0;i<r;i+=3){var n=2*e[i],o=2*e[i+1],s=2*e[i+2];this._renderDrawTriangle(t,n,o,s)}},t.prototype._renderDrawTriangle=function(t,e,r,i){var n=this.renderer.context,o=t.uvs,s=t.vertices,a=t._texture;if(a.valid){var u=a.baseTexture,h=u.source,l=u.width,c=u.height,f=void 0,d=void 0,p=void 0,v=void 0,y=void 0,g=void 0;if(t.uploadUvTransform){var _=t._uvTransform.mapCoord;f=(o[e]*_.a+o[e+1]*_.c+_.tx)*u.width,d=(o[r]*_.a+o[r+1]*_.c+_.tx)*u.width,p=(o[i]*_.a+o[i+1]*_.c+_.tx)*u.width,v=(o[e]*_.b+o[e+1]*_.d+_.ty)*u.height,y=(o[r]*_.b+o[r+1]*_.d+_.ty)*u.height,g=(o[i]*_.b+o[i+1]*_.d+_.ty)*u.height}else f=o[e]*u.width,d=o[r]*u.width,p=o[i]*u.width,v=o[e+1]*u.height,y=o[r+1]*u.height,g=o[i+1]*u.height;var m=s[e],b=s[r],x=s[i],T=s[e+1],w=s[r+1],E=s[i+1],O=t.canvasPadding/this.renderer.resolution;if(O>0){var S=O/Math.abs(t.worldTransform.a),P=O/Math.abs(t.worldTransform.d),M=(m+b+x)/3,C=(T+w+E)/3,A=m-M,I=T-C,R=Math.sqrt(A*A+I*I);m=M+A/R*(R+S),T=C+I/R*(R+P),I=w-C,b=M+(A=b-M)/(R=Math.sqrt(A*A+I*I))*(R+S),w=C+I/R*(R+P),I=E-C,x=M+(A=x-M)/(R=Math.sqrt(A*A+I*I))*(R+S),E=C+I/R*(R+P)}n.save(),n.beginPath(),n.moveTo(m,T),n.lineTo(b,w),n.lineTo(x,E),n.closePath(),n.clip();var D=f*y+v*p+d*g-y*p-v*d-f*g,L=m*y+v*x+b*g-y*x-v*b-m*g,N=f*b+m*p+d*x-b*p-m*d-f*x,k=f*y*x+v*b*p+m*d*g-m*y*p-v*d*x-f*b*g,F=T*y+v*E+w*g-y*E-v*w-T*g,j=f*w+T*p+d*E-w*p-T*d-f*E,B=f*y*E+v*w*p+T*d*g-T*y*p-v*d*E-f*w*g;n.transform(L/D,F/D,N/D,j/D,k/D,B/D),n.drawImage(h,0,0,l*u.resolution,c*u.resolution,0,0,l,c),n.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,r=t.vertices,i=r.length/2;e.beginPath();for(var n=1;n<i-2;++n){var o=2*n,s=r[o],a=r[o+1],u=r[o+2],h=r[o+3],l=r[o+4],c=r[o+5];e.moveTo(s,a),e.lineTo(u,h),e.lineTo(l,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=a,n.CanvasRenderer.registerPlugin("mesh",a)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),n=s(r(5)),o=s(r(10));r(6);function s(t){return t&&t.__esModule?t:{default:t}}var a=i.Matrix.IDENTITY,u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.shader=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new i.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function(t){var e=this.renderer,r=e.gl,s=t._texture;if(s.valid){var u=t._glDatas[e.CONTEXT_UID];u||(e.bindVao(null),(u={shader:this.shader,vertexBuffer:n.default.GLBuffer.createVertexBuffer(r,t.vertices,r.STREAM_DRAW),uvBuffer:n.default.GLBuffer.createVertexBuffer(r,t.uvs,r.STREAM_DRAW),indexBuffer:n.default.GLBuffer.createIndexBuffer(r,t.indices,r.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty}).vao=new n.default.VertexArrayObject(r).addIndex(u.indexBuffer).addAttribute(u.vertexBuffer,u.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(u.uvBuffer,u.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=u),e.bindVao(u.vao),t.dirty!==u.dirty&&(u.dirty=t.dirty,u.uvBuffer.upload(t.uvs)),t.indexDirty!==u.indexDirty&&(u.indexDirty=t.indexDirty,u.indexBuffer.upload(t.indices)),u.vertexBuffer.upload(t.vertices),e.bindShader(u.shader),u.shader.uniforms.uSampler=e.bindTexture(s),e.state.setBlendMode(i.utils.correctBlendMode(t.blendMode,s.baseTexture.premultipliedAlpha)),u.shader.uniforms.uTransform&&(t.uploadUvTransform?u.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):u.shader.uniforms.uTransform=a.toArray(!0)),u.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),u.shader.uniforms.uColor=i.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,u.shader.uniforms.uColor,s.baseTexture.premultipliedAlpha);var h=t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;u.vao.draw(h,t.indices.length,0)}},e}(i.ObjectRenderer);e.default=u,i.WebGLRenderer.registerPlugin("mesh",u)},function(t,e,r){"use strict";e.__esModule=!0;var i=r(10);Object.defineProperty(e,"Mesh",{enumerable:!0,get:function(){return h(i).default}});var n=r(112);Object.defineProperty(e,"MeshRenderer",{enumerable:!0,get:function(){return h(n).default}});var o=r(111);Object.defineProperty(e,"CanvasMeshRenderer",{enumerable:!0,get:function(){return h(o).default}});var s=r(40);Object.defineProperty(e,"Plane",{enumerable:!0,get:function(){return h(s).default}});var a=r(110);Object.defineProperty(e,"NineSlicePlane",{enumerable:!0,get:function(){return h(a).default}});var u=r(109);function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Rope",{enumerable:!0,get:function(){return h(u).default}})},function(t,e,r){"use strict";e.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===n.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=(u=a.createObjectURL(t.data),t.blob=t.data,t.data=new Image,t.data.src=u,t.type=n.default.TYPE.IMAGE,t.data.onload=function(){a.revokeObjectURL(u),t.data.onload=null,e()},{v:void 0});if("object"===(void 0===r?"undefined":i(r)))return r.v}}else{var s=t.xhr.getResponseHeader("content-type");if(s&&0===s.indexOf("image"))return t.data=new Image,t.data.src="data:"+s+";base64,"+o.default.encodeBinary(t.xhr.responseText),t.type=n.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}var u;e()}else e()}};var n=s(r(21)),o=s(r(43));function s(t){return t&&t.__esModule?t:{default:t}}var a=window.URL||window.webkitURL},function(t,e,r){"use strict";e.__esModule=!0;var i=h(r(11)),n=r(114),o=h(r(8)),s=h(r(41)),a=h(r(42)),u=h(r(47));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,i));o.default.call(n);for(var s=0;s<e._pixiMiddleware.length;++s)n.use(e._pixiMiddleware[s]());return n.onStart.add(function(t){return n.emit("start",t)}),n.onProgress.add(function(t,e){return n.emit("progress",t,e)}),n.onError.add(function(t,e,r){return n.emit("error",t,e,r)}),n.onLoad.add(function(t,e){return n.emit("load",t,e)}),n.onComplete.add(function(t,e){return n.emit("complete",t,e)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(i.default);for(var c in e.default=l,o.default.prototype)l.prototype[c]=o.default.prototype[c];l._pixiMiddleware=[n.blobMiddlewareFactory,s.default,a.default,u.default];var f=i.default.Resource;f.setExtensionXhrType("fnt",f.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,r){"use strict";e.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=h(r(46)),s=h(r(45)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(44)),u=h(r(21));function h(t){return t&&t.__esModule?t:{default:t}}var l=/(#[\w-]+)?$/,c=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,r){return e._loadResource(t,r)},this._queue=a.queue(this._boundLoadResource,i),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default}return t.prototype.add=function(t,e,r,n){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"===(void 0===t?"undefined":i(t))&&(n=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new u.default(t,e,r),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var s=r.parentResource,a=[],h=0;h<s.children.length;++h)s.children[h].isComplete||a.push(s.children[h]);var l=s.progressChunk*(a.length+1)/(a.length+2);s.children.push(this.resources[t]),s.progressChunk=l;for(var c=0;c<a.length;++c)a[c].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,s.default)(t,{strictMode:!0}),r=void 0;if(r=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=l.exec(r)[0];-1!==(r=r.substr(0,r.length-i.length)).indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=i}return r},t.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,a.eachSeries(this._beforeMiddleware,function(e,i){e.call(r,t,function(){i(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),a.eachSeries(this._afterMiddleware,function(r,i){r.call(e,t,i)},function(){t.onAfterMiddleware.dispatch(t),e.progress+=t.progressChunk,e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},n(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();e.default=c},function(t,e,r){"use strict";e.__esModule=!0,e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=void 0;var i=r(47);Object.defineProperty(e,"bitmapFontParser",{enumerable:!0,get:function(){return h(i).default}}),Object.defineProperty(e,"parseBitmapFontData",{enumerable:!0,get:function(){return i.parse}});var n=r(42);Object.defineProperty(e,"spritesheetParser",{enumerable:!0,get:function(){return h(n).default}}),Object.defineProperty(e,"getResourcePath",{enumerable:!0,get:function(){return n.getResourcePath}});var o=r(41);Object.defineProperty(e,"textureParser",{enumerable:!0,get:function(){return h(o).default}});var s=r(11);Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return s.Resource}});var a=h(r(60)),u=h(r(115));function h(t){return t&&t.__esModule?t:{default:t}}e.Loader=u.default;var l=new u.default;l.destroy=function(){},e.shared=l;var c=a.default.prototype;c._loader=null,Object.defineProperty(c,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?l:new u.default}return this._loader}}),c._parentDestroy=c.destroy,c.destroy=function(t){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t)}},function(t,e,r){"use strict";e.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=l(r(51)),s=l(r(50)),a=l(r(49)),u=l(r(8)),h=l(r(48));function l(t){return t&&t.__esModule?t:{default:t}}n.utils.mixins.delayMixin(n.DisplayObject.prototype,h.default);var c=1,f={target:null,data:{global:null}},d=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i=i||{},a.renderer=r,a.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,a.interactionFrequency=i.interactionFrequency||10,a.mouse=new o.default,a.mouse.identifier=c,a.mouse.global.set(-999999),a.activeInteractionData={},a.activeInteractionData[c]=a.mouse,a.interactionDataPool=[],a.eventData=new s.default,a.interactionDOMElement=null,a.moveWhenInside=!1,a.eventsAdded=!1,a.mouseOverRenderer=!1,a.supportsTouchEvents="ontouchstart"in window,a.supportsPointerEvents=!!window.PointerEvent,a.onPointerUp=a.onPointerUp.bind(a),a.processPointerUp=a.processPointerUp.bind(a),a.onPointerCancel=a.onPointerCancel.bind(a),a.processPointerCancel=a.processPointerCancel.bind(a),a.onPointerDown=a.onPointerDown.bind(a),a.processPointerDown=a.processPointerDown.bind(a),a.onPointerMove=a.onPointerMove.bind(a),a.processPointerMove=a.processPointerMove.bind(a),a.onPointerOut=a.onPointerOut.bind(a),a.processPointerOverOut=a.processPointerOverOut.bind(a),a.onPointerOver=a.onPointerOver.bind(a),a.cursorStyles={default:"inherit",pointer:"pointer"},a.currentCursorMode=null,a.cursor=null,a._tempPoint=new n.Point,a.resolution=1,a.setTargetElement(a.renderer.view,a.renderer.resolution),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.hitTest=function(t,e){return f.target=null,f.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(f,e,null,!0),f.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(n.ticker.shared.add(this.update,this,n.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(n.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":i(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.mapPositionToPoint=function(t,e,r){var i=void 0;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},e.prototype.processInteractive=function(t,e,r,i,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,u=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,u=!1)),a=!1):e._mask&&i&&(e._mask.containsPoint(o)||(i=!1,u=!1)),u&&e.interactiveChildren&&e.children)for(var h=e.children,l=h.length-1;l>=0;l--){var c=h[l],f=this.processInteractive(t,c,r,i,a);if(f){if(!c.parent)continue;a=!1,f&&(t.target&&(i=!1),s=!0)}}return n&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var i=t.data,n=t.data.identifier;if(r)if(e.trackedPointers[n]||(e.trackedPointers[n]=new a.default(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var i=this.normalizeToPointerData(t),n=i.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=i[s],u=this.getInteractionDataForPointerId(a),h=this.configureInteractionEventForDOMEvent(this.eventData,a,u);if(h.data.originalEvent=t,this.processInteractive(h,this.renderer._lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,h),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,h)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,h),this.releaseInteractionDataForPointerId(a.pointerId,u))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var i=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===i.pointerType;if("mouse"===i.pointerType||"pen"===i.pointerType){var u=2===i.button,h=a.default.FLAGS,l=u?h.RIGHT_DOWN:h.LEFT_DOWN,c=void 0!==o&&o.flags&l;r?(this.dispatchEvent(e,u?"rightup":"mouseup",t),c&&this.dispatchEvent(e,u?"rightclick":"click",t)):c&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t;var a="touch"!==n.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var i=t.data,n="touch"===i.pointerType,o="mouse"===i.pointerType||"pen"===i.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var i=t.data,n=t.data.identifier,o="mouse"===i.pointerType||"pen"===i.pointerType,s=e.trackedPointers[n];r&&!s&&(s=e.trackedPointers[n]=new a.default(n)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,r=void 0;return e===c||"mouse"===t.pointerType?r=this.mouse:this.activeInteractionData[e]?r=this.activeInteractionData[e]:((r=this.interactionDataPool.pop()||new o.default).identifier=e,this.activeInteractionData[e]=r),r.copyEvent(t),r},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(r.global.x=r.global.x/this.resolution,r.global.y=r.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,i=t.changedTouches.length;r<i;r++){var n=t.changedTouches[r];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),n.twist=0,n.tangentialPressure=0,void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=c),void 0===t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(u.default);e.default=d,n.WebGLRenderer.registerPlugin("interaction",d),n.CanvasRenderer.registerPlugin("interaction",d)},function(t,e,r){"use strict";e.__esModule=!0;var i=r(51);Object.defineProperty(e,"InteractionData",{enumerable:!0,get:function(){return u(i).default}});var n=r(118);Object.defineProperty(e,"InteractionManager",{enumerable:!0,get:function(){return u(n).default}});var o=r(48);Object.defineProperty(e,"interactiveTarget",{enumerable:!0,get:function(){return u(o).default}});var s=r(49);Object.defineProperty(e,"InteractionTrackingData",{enumerable:!0,get:function(){return u(s).default}});var a=r(50);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"InteractionEvent",{enumerable:!0,get:function(){return u(a).default}})},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var o=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return i.alpha=r,i.glShaderKey="alpha",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(n.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._loadMatrix=function(t){var e=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[r+(1-r)*n,n*(1-r)-o*i,n*(1-r)+o*i,0,0,n*(1-r)+o*i,r+n*(1-r),n*(1-r)-o*i,0,0,n*(1-r)-o*i,n*(1-r)+o*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,i,n){t=t||.2,e=e||.15;var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=((i=i||3375104)>>16&255)/255,h=(i>>8&255)/255,l=(255&i)/255,c=[.3,.59,.11,0,0,o,s,a,t,0,u,h,l,e,0,o-u,s-h,a-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},i(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(n.Filter);e.default=o,o.prototype.grayscale=o.prototype.greyscale},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=a(r(56)),s=a(r(52));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r,i,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return h.blurXFilter=new o.default(r,i,a,u),h.blurYFilter=new s.default(r,i,a,u),h.padding=0,h.resolution=a||n.settings.RESOLUTION,h.quality=i||4,h.blur=r||8,h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var i=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,i,!0),this.blurYFilter.apply(t,i,r,!1),t.returnRenderTarget(i)},i(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(n.Filter);e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var o=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=new n.Matrix;r.renderable=!1;var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return s.maskSprite=r,s.maskMatrix=o,s.uniforms.mapSampler=r._texture,s.uniforms.filterMatrix=o,s.uniforms.scale={x:1,y:1},null!==i&&void 0!==i||(i=20),s.scale=new n.Point(i,i),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,r)},i(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(n.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var o=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return n.noise=r,n.seed=i,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(n.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var n=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.Filter);e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var i=r(125);Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return c(i).default}});var n=r(124);Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return c(n).default}});var o=r(123);Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return c(o).default}});var s=r(122);Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return c(s).default}});var a=r(56);Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return c(a).default}});var u=r(52);Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return c(u).default}});var h=r(121);Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return c(h).default}});var l=r(120);function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AlphaFilter",{enumerable:!0,get:function(){return c(l).default}})},function(t,e,r){"use strict";var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));i.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,r){"use strict";var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,r){"use strict";var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),n=a(r(7)),o=a(r(9)),s=r(2);function a(t){return t&&t.__esModule?t:{default:t}}var u=i.DisplayObject,h=new i.Matrix;u.prototype._cacheAsBitmap=!1,u.prototype._cacheData=!1;var l=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(u.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new l),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),u.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},u.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters){var a=this._filters[0].padding;r.pad(a)}var u=t._activeRenderTarget,l=t.filterManager.filterStack,c=i.RenderTexture.create(0|r.width,0|r.height),f="cacheAsBitmap_"+(0,s.uid)();this._cacheData.textureCacheId=f,o.default.addToCache(c.baseTexture,f),n.default.addToCache(c,f);var d=h;d.tx=-r.x,d.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,c,!0,d,!0),t.bindRenderTarget(u),t.filterManager.filterStack=l,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var p=new i.Sprite(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-r.x/r.width,p.anchor.y=-r.y/r.height,p.alpha=e,p._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)}},u.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},u.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var a=t.context,u=i.RenderTexture.create(0|e.width,0|e.height),l="cacheAsBitmap_"+(0,s.uid)();this._cacheData.textureCacheId=l,o.default.addToCache(u.baseTexture,l),n.default.addToCache(u,l);var c=h;this.transform.localTransform.copy(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,u,!0,c,!1),t.context=a,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var f=new i.Sprite(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-e.x/e.width,f.anchor.y=-e.y/e.height,f._bounds=this._bounds,f.alpha=r,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=f,this.containsPoint=f.containsPoint.bind(f)}},u.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},u.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},u.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,o.default.removeFromCache(this._cacheData.textureCacheId),n.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},u.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(89)),s=r(2),a=u(r(3));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n._textWidth=0,n._textHeight=0,n._glyphs=[],n._font={tint:void 0!==i.tint?i.tint:16777215,align:i.align||"left",name:null,size:0},n.font=i.font,n._text=r,n._maxWidth=0,n._maxLineHeight=0,n._anchor=new o.default(function(){n.dirty=!0},n,0,0),n.dirty=!1,n.updateText(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,i=new n.Point,o=[],s=[],a=null,u=0,h=0,l=0,c=-1,f=0,d=0,p=0,v=0;v<this.text.length;v++){var y=this.text.charCodeAt(v);if(/(\s)/.test(this.text.charAt(v))&&(c=v,f=u),/(?:\r\n|\r|\n)/.test(this.text.charAt(v)))s.push(u),h=Math.max(h,u),l++,i.x=0,i.y+=t.lineHeight,a=null;else if(-1!==c&&this._maxWidth>0&&i.x*r>this._maxWidth)n.utils.removeItems(o,c-d,v-c),v=c,c=-1,++d,s.push(f),h=Math.max(h,f),l++,i.x=0,i.y+=t.lineHeight,a=null;else{var g=t.chars[y];g&&(a&&g.kerning[a]&&(i.x+=g.kerning[a]),o.push({texture:g.texture,line:l,charCode:y,position:new n.Point(i.x+g.xOffset,i.y+g.yOffset)}),u=i.x+(g.texture.width+g.xOffset),i.x+=g.xAdvance,p=Math.max(p,g.yOffset+g.texture.height),a=y)}}s.push(u),h=Math.max(h,u);for(var _=[],m=0;m<=l;m++){var b=0;"right"===this._font.align?b=h-s[m]:"center"===this._font.align&&(b=(h-s[m])/2),_.push(b)}for(var x=o.length,T=this.tint,w=0;w<x;w++){var E=this._glyphs[w];E?E.texture=o[w].texture:(E=new n.Sprite(o[w].texture),this._glyphs.push(E)),E.position.x=(o[w].position.x+_[o[w].line])*r,E.position.y=o[w].position.y*r,E.scale.x=E.scale.y=r,E.tint=T,E.parent||this.addChild(E)}for(var O=x;O<this._glyphs.length;++O)this.removeChild(this._glyphs[O]);if(this._textWidth=h*r,this._textHeight=(i.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var S=0;S<x;S++)this._glyphs[S].x-=this._textWidth*this.anchor.x,this._glyphs[S].y-=this._textHeight*this.anchor.y;this._maxLineHeight=p*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,r){var i={},o=t.getElementsByTagName("info")[0],u=t.getElementsByTagName("common")[0],h=t.getElementsByTagName("page")[0].getAttribute("file"),l=(0,s.getResolutionOfUrl)(h,a.default.RESOLUTION);i.font=o.getAttribute("face"),i.size=parseInt(o.getAttribute("size"),10),i.lineHeight=parseInt(u.getAttribute("lineHeight"),10)/l,i.chars={};for(var c=t.getElementsByTagName("char"),f=0;f<c.length;f++){var d=c[f],p=parseInt(d.getAttribute("id"),10),v=new n.Rectangle(parseInt(d.getAttribute("x"),10)/l+r.frame.x/l,parseInt(d.getAttribute("y"),10)/l+r.frame.y/l,parseInt(d.getAttribute("width"),10)/l,parseInt(d.getAttribute("height"),10)/l);i.chars[p]={xOffset:parseInt(d.getAttribute("xoffset"),10)/l,yOffset:parseInt(d.getAttribute("yoffset"),10)/l,xAdvance:parseInt(d.getAttribute("xadvance"),10)/l,kerning:{},texture:new n.Texture(r.baseTexture,v)}}for(var y=t.getElementsByTagName("kerning"),g=0;g<y.length;g++){var _=y[g],m=parseInt(_.getAttribute("first"),10)/l,b=parseInt(_.getAttribute("second"),10)/l,x=parseInt(_.getAttribute("amount"),10)/l;i.chars[b]&&(i.chars[b].kerning[m]=x)}return e.fonts[i.font]=i,i},i(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(n.Container);e.default=h,h.fonts={}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),n=r(0);r(6);var o=new i.Matrix,s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.shader=null,i.simpleShader=null,i.quad=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new i.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new i.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new i.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,r=this.quad;e.bindVao(r.vao);var s=r.vertices;s[0]=s[6]=t._width*-t.anchor.x,s[1]=s[3]=t._height*-t.anchor.y,s[2]=s[4]=t._width*(1-t.anchor.x),s[5]=s[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((s=r.uvs)[0]=s[6]=-t.anchor.x,s[1]=s[3]=-t.anchor.y,s[2]=s[4]=1-t.anchor.x,s[5]=s[7]=1-t.anchor.y),r.upload();var a=t._texture,u=a.baseTexture,h=t.tileTransform.localTransform,l=t.uvTransform,c=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;c&&(u._glTextures[e.CONTEXT_UID]?c=u.wrapMode!==n.WRAP_MODES.CLAMP:u.wrapMode===n.WRAP_MODES.CLAMP&&(u.wrapMode=n.WRAP_MODES.REPEAT));var f=c?this.simpleShader:this.shader;e.bindShader(f);var d=a.width,p=a.height,v=t._width,y=t._height;o.set(h.a*d/v,h.b*d/y,h.c*p/v,h.d*p/y,h.tx/v,h.ty/y),o.invert(),c?o.prepend(l.mapCoord):(f.uniforms.uMapCoord=l.mapCoord.toArray(!0),f.uniforms.uClampFrame=l.uClampFrame,f.uniforms.uClampOffset=l.uClampOffset),f.uniforms.uTransform=o.toArray(!0),f.uniforms.uColor=i.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,f.uniforms.uColor,u.premultipliedAlpha),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=e.bindTexture(a),e.setBlendMode(i.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha)),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(i.ObjectRenderer);e.default=s,i.WebGLRenderer.registerPlugin("tilingSprite",s)},function(t,e,r){"use strict";e.__esModule=!0;var i,n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),s=r(23),a=(i=s)&&i.__esModule?i:{default:i};var u=new o.Point,h=function(t){function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return s.tileTransform=new o.TransformStatic,s._width=i,s._height=n,s._canvasPattern=null,s.uvTransform=r.transform||new o.TextureMatrix(r),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,i=this.worldTransform,n=t.resolution,s=e.baseTexture,u=s.resolution,h=this.tilePosition.x/this.tileScale.x%e._frame.width*u,l=this.tilePosition.y/this.tileScale.y%e._frame.height*u;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var c=new o.CanvasRenderTarget(e._frame.width,e._frame.height,u);16777215!==this.tint?(this.tintedTexture=a.default.getTintedTexture(this,this.tint),c.context.drawImage(this.tintedTexture,0,0)):c.context.drawImage(s.source,-e._frame.x*u,-e._frame.y*u),this.cachedTint=this.tint,this._canvasPattern=c.context.createPattern(c.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n,i.ty*n),t.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/u,this.tileScale.y/u);var f=this.anchor.x*-this._width,d=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(h,l),r.fillRect(-h+f,-l+d,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u)):(r.translate(h+f,l+d),r.fillRect(-h,-l,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),e||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e=this._width,r=this._height,i=-e*this.anchor._x;if(u.x>=i&&u.x<i+e){var n=-r*this.anchor._y;if(u.y>=n&&u.y<n+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,r,i){return new e(o.Texture.from(t),r,i)},e.fromFrame=function(t,r,i){var n=o.utils.TextureCache[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(n,r,i)},e.fromImage=function(t,r,i,n,s){return new e(o.Texture.fromImage(t,n,s),r,i)},n(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(o.Sprite);e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var o=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r[0]instanceof n.Texture?r[0]:r[0].texture));return o._textures=null,o._durations=null,o.textures=r,o._autoUpdate=!1!==i,o.animationSpeed=1,o.loop=!0,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o.playing=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&n.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&n.ticker.shared.add(this.update,this,n.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var r=[],i=0;i<t.length;++i)r.push(n.Texture.fromFrame(t[i]));return new e(r)},e.fromImages=function(t){for(var r=[],i=0;i<t.length;++i)r.push(n.Texture.fromImage(t[i]));return new e(r)},i(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof n.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(n.Sprite);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var n=new i.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0;t&&(a=t instanceof i.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(r=e.rootContext,(s=n).width=this.renderer.width,s.height=this.renderer.height);var u=s.width*o,h=s.height*o,l=new i.CanvasRenderTarget(u,h),c=r.getImageData(s.x*o,s.y*o,u,h);return l.context.putImageData(c,0,0),l.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0;return t&&(a=t instanceof i.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(r=e.rootContext,(s=n).width=e.width,s.height=e.height),r.getImageData(0,0,s.width*o,s.height*o).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,i.CanvasRenderer.registerPlugin("extract",o)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var n=new i.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=!1,u=void 0,h=!1;t&&(t instanceof i.RenderTexture?u=t:(u=this.renderer.generateTexture(t),h=!0)),u?(o=(r=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=u.frame,a=!1):(o=(r=this.renderer.rootRenderTarget).resolution,a=!0,(s=n).width=r.size.width,s.height=r.size.height);var l=s.width*o,c=s.height*o,f=new i.CanvasRenderTarget(l,c);if(r){e.bindRenderTarget(r);var d=new Uint8Array(4*l*c),p=e.gl;p.readPixels(s.x*o,s.y*o,l,c,p.RGBA,p.UNSIGNED_BYTE,d);var v=f.context.getImageData(0,0,l,c);v.data.set(d),f.context.putImageData(v,0,0),a&&(f.context.scale(1,-1),f.context.drawImage(f.canvas,0,-c))}return h&&u.destroy(!0),f.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0,u=!1;t&&(t instanceof i.RenderTexture?a=t:(a=this.renderer.generateTexture(t),u=!0)),a?(o=(r=a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=a.frame):(o=(r=this.renderer.rootRenderTarget).resolution,(s=n).width=r.size.width,s.height=r.size.height);var h=s.width*o,l=s.height*o,c=new Uint8Array(4*h*l);if(r){e.bindRenderTarget(r);var f=e.gl;f.readPixels(s.x*o,s.y*o,h,l,f.RGBA,f.UNSIGNED_BYTE,c)}return u&&a.destroy(!0),c},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,i.WebGLRenderer.registerPlugin("extract",o)},function(t,e,r){"use strict";e.__esModule=!0;var i=r(135);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return o(i).default}});var n=r(134);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return o(n).default}})},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),n=s(r(30)),o=s(r(58));function s(t){return t&&t.__esModule?t:{default:t}}i.utils.mixins.delayMixin(i.DisplayObject.prototype,o.default);var a=100,u=0,h=0,l=2,c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!n.default.tablet&&!n.default.phone||navigator.isCocoonJS||this.createTouchHook();var r=document.createElement("div");r.style.width=a+"px",r.style.height=a+"px",r.style.position="absolute",r.style.top=u+"px",r.style.left=h+"px",r.style.zIndex=l,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=e.length-1;r>=0;r--)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,n=this.div;n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.width=this.renderer.width+"px",n.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s=this.children[o];if(s.renderId!==this.renderId)s._accessibleActive=!1,i.utils.removeItems(this.children,o,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{n=s._accessibleDiv;var a=s.hitArea,u=s.worldTransform;s.hitArea?(n.style.left=(u.tx+a.x*u.a)*e+"px",n.style.top=(u.ty+a.y*u.d)*r+"px",n.style.width=a.width*u.a*e+"px",n.style.height=a.height*u.d*r+"px"):(a=s.getBounds(),this.capHitArea(a),n.style.left=a.x*e+"px",n.style.top=a.y*r+"px",n.style.width=a.width*e+"px",n.style.height=a.height*r+"px")}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=a+"px",e.style.height=a+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=l,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleTitle||t.accessibleHint||(e.title="displayObject "+this.tabIndex),t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(){this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();e.default=c,i.WebGLRenderer.registerPlugin("accessibility",c),i.CanvasRenderer.registerPlugin("accessibility",c)},function(t,e,r){"use strict";e.__esModule=!0;var i=r(58);Object.defineProperty(e,"accessibleTarget",{enumerable:!0,get:function(){return o(i).default}});var n=r(137);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AccessibilityManager",{enumerable:!0,get:function(){return o(n).default}})},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.mesh,r=t.particles,i=t.extras,o=t.filters,s=t.prepare,a=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return n("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return n("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return n("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return n("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function(){return n("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),r.ParticleContainer}},MovieClip:{get:function(){return n("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),i.AnimatedSprite}},TilingSprite:{get:function(){return n("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),i.TilingSprite}},BitmapText:{get:function(){return n("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),i.BitmapText}},blendModes:{get:function(){return n("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return n("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return n("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return n("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return n("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return n("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(e){n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(e){n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(e){n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(e){n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(e){n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(e){n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return n("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var h=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],l=function(e){var r=h[e];Object.defineProperty(t[r.parent],"DEFAULT",{get:function(){return n("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]},set:function(e){n("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]=e}})},c=0;c<h.length;c++)l(c);Object.defineProperties(t.settings,{PRECISION:{get:function(){return n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(e){n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=e}}}),i.AnimatedSprite&&Object.defineProperties(i,{MovieClip:{get:function(){return n("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),i.AnimatedSprite}}});i&&Object.defineProperties(i,{TextureTransform:{get:function(){return n("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),t.TextureMatrix}}});t.DisplayObject.prototype.generateTexture=function(t,e,r){return n("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,r)},t.Graphics.prototype.generateTexture=function(t,e){return n("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},t.GroupD8.isSwapWidthHeight=function(e){return n("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),t.GroupD8.isVertical(e)},t.RenderTexture.prototype.render=function(t,e,r,i){this.legacyRenderer.render(t,this,r,e,!i),n("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return n("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return n("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return n("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return n("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,n("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},i.BitmapText&&(i.BitmapText.prototype.setText=function(t){this.text=t,n("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});t.Text.prototype.setText=function(t){this.text=t,n("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function(e){return n("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return n("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return n("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return n("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,n("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(e){return n("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return n("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(e=e||{})instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){n("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){n("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),r=-1;this._fontSize=26;for(var i=0;i<e.length;++i)if(e[i].match(/(px|pt|em|%)/)){r=i,this._fontSize=e[i];break}this._fontWeight="normal";for(var o=0;o<r;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(r>-1&&r<e.length-1){this._fontFamily="";for(var s=r+1;s<e.length;++s)this._fontFamily+=e[s]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,n("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(e,r){t.Texture.addToCache(e,r),n("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(e){return n("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return n("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}},VoidFilter:{get:function(){return n("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),o.AlphaFilter}}}),t.utils.uuid=function(){return n("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return n("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var f=!0;Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(n("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),f=t},get:function(){return f}}),s.BasePrepare&&(s.BasePrepare.prototype.register=function(t,e){return n("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this});s.canvas&&Object.defineProperty(s.canvas,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});s.webgl&&Object.defineProperty(s.webgl,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});if(a.Loader){var d=a.Resource,p=a.Loader;Object.defineProperties(d.prototype,{isJson:{get:function(){return n("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===d.TYPE.JSON}},isXml:{get:function(){return n("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===d.TYPE.XML}},isImage:{get:function(){return n("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===d.TYPE.IMAGE}},isAudio:{get:function(){return n("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===d.TYPE.AUDIO}},isVideo:{get:function(){return n("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===d.TYPE.VIDEO}}}),Object.defineProperties(p.prototype,{before:{get:function(){return n("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return n("The after() method is deprecated, please use use()."),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function(t){n("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return n("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}});u.InteractionManager&&(Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function(t){n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function(t){n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))};var i={};function n(t){if(!i[t]){var e=(new Error).stack;void 0===e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e))),i[t]=!0}}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=r(1),o=r(2);var s=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseTexture=e,this.textures={},this.data=r,this.resolution=this._updateResolution(i||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return i(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=(0,o.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,i=t.BATCH_SIZE,o=this.baseTexture.sourceScale;r-e<i&&r<this._frameKeys.length;){var s=this._frameKeys[r],a=this._frames[s],u=a.frame;if(u){var h=null,l=null,c=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,f=new n.Rectangle(0,0,Math.floor(c.w*o)/this.resolution,Math.floor(c.h*o)/this.resolution);h=a.rotated?new n.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.h*o)/this.resolution,Math.floor(u.w*o)/this.resolution):new n.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(l=new n.Rectangle(Math.floor(a.spriteSourceSize.x*o)/this.resolution,Math.floor(a.spriteSourceSize.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution)),this.textures[s]=new n.Texture(this.baseTexture,h,f,l,a.rotated?2:0),n.Texture.addToCache(this.textures[s],s)}r++}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():e._parseComplete()},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(14),o=(i=n)&&i.__esModule?i:{default:i},s=r(0);var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,i=t.worldAlpha,n=t.transform.worldTransform,o=e.resolution;this._prevTint!==this.tint&&(this.dirty=!0),r.setTransform(n.a*o,n.b*o,n.c*o,n.d*o,n.tx*o,n.ty*o),t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var u=t.graphicsData[a],h=u.shape,l=u._fillTint,c=u._lineTint;if(r.lineWidth=u.lineWidth,u.type===s.SHAPES.POLY){r.beginPath(),this.renderPolygon(h.points,h.closed,r);for(var f=0;f<u.holes.length;f++)this.renderPolygon(u.holes[f].points,!0,r);u.fill&&(r.globalAlpha=u.fillAlpha*i,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*i,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*i,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fillRect(h.x,h.y,h.width,h.height)),u.lineWidth&&(r.globalAlpha=u.lineAlpha*i,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.strokeRect(h.x,h.y,h.width,h.height));else if(u.type===s.SHAPES.CIRC)r.beginPath(),r.arc(h.x,h.y,h.radius,0,2*Math.PI),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*i,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*i,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke());else if(u.type===s.SHAPES.ELIP){var d=2*h.width,p=2*h.height,v=h.x-d/2,y=h.y-p/2;r.beginPath();var g=d/2*.5522848,_=p/2*.5522848,m=v+d,b=y+p,x=v+d/2,T=y+p/2;r.moveTo(v,T),r.bezierCurveTo(v,T-_,x-g,y,x,y),r.bezierCurveTo(x+g,y,m,T-_,m,T),r.bezierCurveTo(m,T+_,x+g,b,x,b),r.bezierCurveTo(x-g,b,v,T+_,v,T),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*i,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*i,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RREC){var w=h.x,E=h.y,O=h.width,S=h.height,P=h.radius,M=Math.min(O,S)/2|0;P=P>M?M:P,r.beginPath(),r.moveTo(w,E+P),r.lineTo(w,E+S-P),r.quadraticCurveTo(w,E+S,w+P,E+S),r.lineTo(w+O-P,E+S),r.quadraticCurveTo(w+O,E+S,w+O,E+S-P),r.lineTo(w+O,E+P),r.quadraticCurveTo(w+O,E,w+O-P,E),r.lineTo(w+P,E),r.quadraticCurveTo(w,E,w,E+P),r.closePath(),(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*i,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*i,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,i=(255&t.tint)/255,n=0;n<t.graphicsData.length;++n){var o=t.graphicsData[n],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*i*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*i*255}},t.prototype.renderPolygon=function(t,e,r){r.moveTo(t[0],t[1]);for(var i=1;i<t.length/2;++i)r.lineTo(t[2*i],t[2*i+1]);e&&r.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=a,o.default.registerPlugin("graphics",a)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var i=t.shape,n=i.x,u=i.y,h=void 0,l=void 0;t.type===s.SHAPES.CIRC?(h=i.radius,l=i.radius):(h=i.width,l=i.height);if(0===h||0===l)return;var c=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(i.width+i.height)),f=2*Math.PI/c;if(t.fill){var d=(0,a.hex2rgb)(t.fillColor),p=t.fillAlpha,v=d[0]*p,y=d[1]*p,g=d[2]*p,_=e.points,m=e.indices,b=_.length/6;m.push(b);for(var x=0;x<c+1;x++)_.push(n,u,v,y,g,p),_.push(n+Math.sin(f*x)*h,u+Math.cos(f*x)*l,v,y,g,p),m.push(b++,b++);m.push(b-1)}if(t.lineWidth){var T=t.points;t.points=[];for(var w=0;w<c+1;w++)t.points.push(n+Math.sin(f*w)*h,u+Math.cos(f*w)*l);(0,o.default)(t,e,r),t.points=T}};var i,n=r(16),o=(i=n)&&i.__esModule?i:{default:i},s=r(0),a=r(2)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var s=t.shape,a=s.x,h=s.y,l=s.width,c=s.height,f=s.radius,d=[];if(d.push(a,h+f),u(a,h+c-f,a,h+c,a+f,h+c,d),u(a+l-f,h+c,a+l,h+c,a+l,h+c-f,d),u(a+l,h+f,a+l,h,a+l-f,h,d),u(a+f,h,a,h,a,h+f+1e-10,d),t.fill){for(var p=(0,o.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,_=p[2]*v,m=e.points,b=e.indices,x=m.length/6,T=(0,i.default)(d,null,2),w=0,E=T.length;w<E;w+=3)b.push(T[w]+x),b.push(T[w]+x),b.push(T[w+1]+x),b.push(T[w+2]+x),b.push(T[w+2]+x);for(var O=0,S=d.length;O<S;O++)m.push(d[O],d[++O],y,g,_,v)}if(t.lineWidth){var P=t.points;t.points=d,(0,n.default)(t,e,r),t.points=P}};var i=s(r(28)),n=s(r(16)),o=r(2);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){return t+(e-t)*r}function u(t,e,r,i,n,o){for(var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=0,h=0,l=0,c=0,f=0,d=0,p=0,v=0;p<=20;++p)u=a(t,r,v=p/20),h=a(e,i,v),l=a(r,n,v),c=a(i,o,v),f=a(u,l,v),d=a(h,c,v),s.push(f,d);return s}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var i=t.shape,n=i.x,a=i.y,u=i.width,h=i.height;if(t.fill){var l=(0,s.hex2rgb)(t.fillColor),c=t.fillAlpha,f=l[0]*c,d=l[1]*c,p=l[2]*c,v=e.points,y=e.indices,g=v.length/6;v.push(n,a),v.push(f,d,p,c),v.push(n+u,a),v.push(f,d,p,c),v.push(n,a+h),v.push(f,d,p,c),v.push(n+u,a+h),v.push(f,d,p,c),y.push(g,g,g+1,g+2,g+3,g+3)}if(t.lineWidth){var _=t.points;t.points=[n,a,n+u,a,n+u,a+h,n,a+h,n,a],(0,o.default)(t,e,r),t.points=_}};var i,n=r(16),o=(i=n)&&i.__esModule?i:{default:i},s=r(2)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t.points=t.shape.points.slice();var s=t.points;if(t.fill&&s.length>=6){for(var a=[],u=t.holes,h=0;h<u.length;h++){var l=u[h];a.push(s.length/2),s=s.concat(l.points)}var c=e.points,f=e.indices,d=s.length/2,p=(0,n.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,_=p[2]*v,m=(0,o.default)(s,a,2);if(!m)return;for(var b=c.length/6,x=0;x<m.length;x+=3)f.push(m[x]+b),f.push(m[x]+b),f.push(m[x+1]+b),f.push(m[x+2]+b),f.push(m[x+2]+b);for(var T=0;T<d;T++)c.push(s[2*T],s[2*T+1],y,g,_,v)}t.lineWidth>0&&(0,i.default)(t,e,r)};var i=s(r(16)),n=r(2),o=s(r(28));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(12);var o=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=n)&&i.__esModule?i:{default:i}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(5),o=(i=n)&&i.__esModule?i:{default:i};var s=function(){function t(e,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new o.default.VertexArrayObject(e,i).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=r(2),n=r(0),o=d(r(19)),s=d(r(18)),a=d(r(147)),u=d(r(146)),h=d(r(145)),l=d(r(144)),c=d(r(143)),f=d(r(142));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.graphicsDataPool=[],i.primitiveShader=null,i.gl=r.gl,i.CONTEXT_UID=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new u.default(this.gl)},e.prototype.destroy=function(){o.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,r=e.gl,n=void 0,o=t._webGL[this.CONTEXT_UID];o&&t.dirty===o.dirty||(this.updateGraphics(t),o=t._webGL[this.CONTEXT_UID]);var s=this.primitiveShader;e.bindShader(s),e.state.setBlendMode(t.blendMode);for(var a=0,u=o.data.length;a<u;a++){var h=(n=o.data[a]).shader;e.bindShader(h),h.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),h.uniforms.tint=(0,i.hex2rgb)(t.tint),h.uniforms.alpha=t.worldAlpha,e.bindVao(n.vao),n.nativeLines?r.drawArrays(r.LINES,0,n.points.length/6):n.vao.draw(r.TRIANGLE_STRIP,n.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[this.CONTEXT_UID];if(r||(r=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),r.dirty=t.dirty,t.clearDirty!==r.clearDirty){r.clearDirty=t.clearDirty;for(var i=0;i<r.data.length;i++)this.graphicsDataPool.push(r.data[i]);r.data.length=0,r.lastIndex=0}for(var o=void 0,s=void 0,a=r.lastIndex;a<t.graphicsData.length;a++){var u=t.graphicsData[a];o=this.getWebGLData(r,0),u.nativeLines&&u.lineWidth&&(s=this.getWebGLData(r,0,!0),r.lastIndex++),u.type===n.SHAPES.POLY&&(0,h.default)(u,o,s),u.type===n.SHAPES.RECT?(0,l.default)(u,o,s):u.type===n.SHAPES.CIRC||u.type===n.SHAPES.ELIP?(0,f.default)(u,o,s):u.type===n.SHAPES.RREC&&(0,c.default)(u,o,s),r.lastIndex++}this.renderer.bindVao(null);for(var d=0;d<r.data.length;d++)(o=r.data[d]).dirty&&o.upload()},e.prototype.getWebGLData=function(t,e,r){var i=t.data[t.data.length-1];return(!i||i.nativeLines!==r||i.points.length>32e4)&&((i=this.graphicsDataPool.pop()||new a.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=r,i.reset(e),t.data.push(i)),i.dirty=!0,i},e}(o.default);e.default=p,s.default.registerPlugin("graphics",p)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r,i,n,o,s,a){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],h=0,l=0,c=0,f=0,d=0;u.push(t,e);for(var p=1,v=0;p<=20;++p)c=(l=(h=1-(v=p/20))*h)*h,d=(f=v*v)*v,u.push(c*t+3*l*v*r+3*h*f*n+d*s,c*e+3*l*v*i+3*h*f*o+d*a);return u}},function(t,e,r){"use strict";e.__esModule=!0;var i=p(r(15)),n=p(r(24)),o=p(r(7)),s=p(r(61)),a=p(r(27)),u=r(4),h=r(2),l=r(0),c=p(r(31)),f=p(r(149)),d=p(r(14));function p(t){return t&&t.__esModule?t:{default:t}}var v=void 0,y=new u.Matrix,g=new u.Point,_=new Float32Array(4),m=new Float32Array(4),b=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i.fillAlpha=1,i.lineWidth=0,i.nativeLines=r,i.lineColor=0,i.graphicsData=[],i.tint=16777215,i._prevTint=16777215,i.blendMode=l.BLEND_MODES.NORMAL,i.currentPath=null,i._webGL={},i.isMask=!1,i.boundsPadding=0,i._localBounds=new c.default,i.dirty=0,i.fastRectDirty=-1,i.clearDirty=0,i.boundsDirty=-1,i.cachedSpriteDirty=!1,i._spriteRect=null,i._fastRect=!1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this.currentPath)if(this.currentPath.shape.points.length){var i=new u.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},e.prototype.moveTo=function(t,e){var r=new u.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},e.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty++,this},e.prototype.quadraticCurveTo=function(t,e,r,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n=this.currentPath.shape.points,o=0,s=0;0===n.length&&this.moveTo(0,0);for(var a=n[n.length-2],u=n[n.length-1],h=1;h<=20;++h){var l=h/20;o=a+(t-a)*l,s=u+(e-u)*l,n.push(o+(t+(r-t)*l-o)*l,s+(e+(i-e)*l-s)*l)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,e,r,i,n,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,a=s[s.length-2],u=s[s.length-1];return s.length-=2,(0,f.default)(a,u,t,e,r,i,n,o,s),this.dirty++,this},e.prototype.arcTo=function(t,e,r,i,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1]-e,u=s-t,h=i-e,l=r-t,c=Math.abs(a*l-u*h);if(c<1e-8||0===n)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=a*a+u*u,d=h*h+l*l,p=a*h+u*l,v=n*Math.sqrt(f)/c,y=n*Math.sqrt(d)/c,g=v*p/f,_=y*p/d,m=v*l+y*u,b=v*h+y*a,x=u*(y+g),T=a*(y+g),w=l*(v+_),E=h*(v+_),O=Math.atan2(T-b,x-m),S=Math.atan2(E-b,w-m);this.arc(m+t,b+e,n,O,S,u*h>l*a)}return this.dirty++,this},e.prototype.arc=function(t,e,r,i,n){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i===n)return this;!o&&n<=i?n+=l.PI_2:o&&i<=n&&(i+=l.PI_2);var s=n-i,a=40*Math.ceil(Math.abs(s)/l.PI_2);if(0===s)return this;var u=t+Math.cos(i)*r,h=e+Math.sin(i)*r,c=this.currentPath?this.currentPath.shape.points:null;c?c[c.length-2]===u&&c[c.length-1]===h||c.push(u,h):(this.moveTo(u,h),c=this.currentPath.shape.points);for(var f=s/(2*a),d=2*f,p=Math.cos(f),v=Math.sin(f),y=a-1,g=y%1/y,_=0;_<=y;++_){var m=f+i+d*(_+g*_),b=Math.cos(m),x=-Math.sin(m);c.push((p*b+v*x)*r+t,(p*-x+v*b)*r+e)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,r,i){return this.drawShape(new u.Rectangle(t,e,r,i)),this},e.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new u.RoundedRectangle(t,e,r,i,n)),this},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new u.Circle(t,e,r)),this},e.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new u.Ellipse(t,e,r,i)),this},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof u.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var i=0;i<e.length;++i)e[i]=arguments[i]}var n=new u.Polygon(e);return n.closed=r,this.drawShape(n),this},e.prototype.drawStar=function(t,e,r,i,n){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;n=n||i/2;for(var s=-1*Math.PI/2+o,a=2*r,u=l.PI_2/a,h=[],c=0;c<a;c++){var f=c%2?n:i,d=c*u+s;h.push(t+f*Math.cos(d),e+f*Math.sin(d))}return this.drawPolygon(h)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===l.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new a.default(new o.default(o.default.WHITE)));var r=this._spriteRect;if(16777215===this.tint)r.tint=this.graphicsData[0].fillColor;else{var i=_,n=m;(0,h.hex2rgb)(this.graphicsData[0].fillColor,i),(0,h.hex2rgb)(this.tint,n),i[0]*=n[0],i[1]*=n[1],i[2]*=n[2],r.tint=(0,h.rgb2hex)(i)}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=e.width,r._texture._frame.height=e.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-e.x/e.width,-e.y/e.height),r._onAnchorUpdate(),r._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,g);for(var e=this.graphicsData,r=0;r<e.length;++r){var i=e[r];if(i.fill&&(i.shape&&i.shape.contains(g.x,g.y))){if(i.holes)for(var n=0;n<i.holes.length;n++){if(i.holes[n].contains(g.x,g.y))return!1}return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,i=-1/0;if(this.graphicsData.length)for(var n=0,o=0,s=0,a=0,u=0,h=0;h<this.graphicsData.length;h++){var c=this.graphicsData[h],f=c.type,d=c.lineWidth;if(n=c.shape,f===l.SHAPES.RECT||f===l.SHAPES.RREC)o=n.x-d/2,s=n.y-d/2,a=n.width+d,u=n.height+d,t=o<t?o:t,e=o+a>e?o+a:e,r=s<r?s:r,i=s+u>i?s+u:i;else if(f===l.SHAPES.CIRC)o=n.x,s=n.y,a=n.radius+d/2,u=n.radius+d/2,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,i=s+u>i?s+u:i;else if(f===l.SHAPES.ELIP)o=n.x,s=n.y,a=n.width+d/2,u=n.height+d/2,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,i=s+u>i?s+u:i;else for(var p=n.points,v=0,y=0,g=0,_=0,m=0,b=0,x=0,T=0,w=0;w+2<p.length;w+=2)o=p[w],s=p[w+1],v=p[w+2],y=p[w+3],g=Math.abs(v-o),_=Math.abs(y-s),u=d,(a=Math.sqrt(g*g+_*_))<1e-9||(b=(u/a*g+_)/2,T=(y+s)/2,t=(x=(v+o)/2)-(m=(u/a*_+g)/2)<t?x-m:t,e=x+m>e?x+m:e,r=T-b<r?T-b:r,i=T+b>i?T+b:i)}else t=0,e=0,r=0,i=0;var E=this.boundsPadding;this._localBounds.minX=t-E,this._localBounds.maxX=e+E,this._localBounds.minY=r-E,this._localBounds.maxY=i+E},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new s.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t);return this.graphicsData.push(e),e.type===l.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),i=n.default.create(r.width,r.height,t,e);v||(v=new d.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(y),y.invert(),y.tx-=r.x,y.ty-=r.y,v.render(this,i,!0,y);var s=o.default.fromCanvas(i.baseTexture._canvasRenderTarget.canvas,t,"graphics");return s.baseTexture.resolution=e,s.baseTexture.update(),s},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var i in this._webgl)for(var n=0;n<this._webgl[i].data.length;++n)this._webgl[i].data[n].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},e}(i.default);e.default=b,b._SPRITE_TEXTURE=null},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.width,r=t.height,i=t.getContext("2d"),n=i.getImageData(0,0,e,r).data,o=n.length,s={top:null,left:null,right:null,bottom:null},a=void 0,u=void 0,h=void 0;for(a=0;a<o;a+=4)0!==n[a+3]&&(u=a/4%e,h=~~(a/4/e),null===s.top&&(s.top=h),null===s.left?s.left=u:u<s.left&&(s.left=u),null===s.right?s.right=u+1:s.right<u&&(s.right=u+1),null===s.bottom?s.bottom=h:s.bottom<h&&(s.bottom=h));e=s.right-s.left,r=s.bottom-s.top+1;var l=i.getImageData(s.left,s.top,e,r);return{height:r,width:e,data:l}}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=d(r(27)),o=d(r(7)),s=r(4),a=r(2),u=r(0),h=d(r(3)),l=d(r(63)),c=d(r(62)),f=d(r(151));function d(t){return t&&t.__esModule?t:{default:t}}var p={texture:!0,children:!1,baseTexture:!0},v=function(t){function e(r,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=n||document.createElement("canvas")).width=3,n.height=3;var a=o.default.fromCanvas(n,h.default.SCALE_MODE,"text");a.orig=new s.Rectangle,a.trim=new s.Rectangle;var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,a));return o.default.addToCache(u._texture,u._texture.baseTexture.textureCacheIds[0]),u.canvas=n,u.context=u.canvas.getContext("2d"),u.resolution=h.default.RESOLUTION,u._text=null,u._style=null,u._styleListener=null,u._font="",u.text=r,u.style=i,u.localStyleID=-1,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r=this.context,i=c.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),n=i.width,o=i.height,s=i.lines,a=i.lineHeight,u=i.lineWidths,h=i.maxLineWidth,l=i.fontProperties;this.canvas.width=Math.ceil((Math.max(1,n)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this.resolution),r.scale(this.resolution,this.resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.strokeStyle=e.stroke,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;var f=void 0,d=void 0;if(e.dropShadow){r.fillStyle=e.dropShadowColor,r.globalAlpha=e.dropShadowAlpha,r.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(r.shadowColor=e.dropShadowColor);for(var p=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,v=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,y=0;y<s.length;y++)f=e.strokeThickness/2,d=e.strokeThickness/2+y*a+l.ascent,"right"===e.align?f+=h-u[y]:"center"===e.align&&(f+=(h-u[y])/2),e.fill&&(this.drawLetterSpacing(s[y],f+p+e.padding,d+v+e.padding),e.stroke&&e.strokeThickness&&(r.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(s[y],f+p+e.padding,d+v+e.padding,!0),r.strokeStyle=e.stroke))}r.shadowBlur=0,r.globalAlpha=1,r.fillStyle=this._generateFillStyle(e,s);for(var g=0;g<s.length;g++)f=e.strokeThickness/2,d=e.strokeThickness/2+g*a+l.ascent,"right"===e.align?f+=h-u[g]:"center"===e.align&&(f+=(h-u[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(s[g],f+e.padding,d+e.padding,!0),e.fill&&this.drawLetterSpacing(s[g],f+e.padding,d+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=this._style.letterSpacing;if(0!==n)for(var o=String.prototype.split.call(t,""),s=e,a=0,u="";a<t.length;)u=o[a++],i?this.context.strokeText(u,s,r):this.context.fillText(u,s,r),s+=this.context.measureText(u).width+n;else i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,f.default)(t);t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0)}var r=this._texture,i=this._style,n=i.trim?0:i.padding,o=r.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,r.trim.width=r._frame.width=t.width/this.resolution,r.trim.height=r._frame.height=t.height/this.resolution,r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var r=void 0,i=void 0,n=void 0,o=void 0,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,h=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=h.length+1,f=1;f<c;++f)l.push(f/c);if(h.unshift(t.fill[0]),l.unshift(0),h.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===u.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,a),i=(h.length+1)*e.length,n=0;for(var d=0;d<e.length;d++){n+=1;for(var p=0;p<h.length;p++)o="number"==typeof l[p]?l[p]/e.length+d/e.length:n/i,r.addColorStop(o,h[p]),n++}}else{r=this.context.createLinearGradient(0,a/2,s,a/2),i=h.length+1,n=1;for(var v=0;v<h.length;v++)o="number"==typeof l[v]?l[v]:n/i,r.addColorStop(o,h[v]),n++}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},p,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},i(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,a.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,a.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof l.default?this._style=t:this._style=new l.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null===t||void 0===t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(n.default);e.default=v},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var i=document.createElement("canvas");i.width=1,i.height=1,e=o.default.createContext(i)}var n=e.createShader(e.FRAGMENT_SHADER);for(;;){var u=s.replace(/%forloop%/gi,a(t));if(e.shaderSource(n,u),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))break;t=t/2|0}r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext();return t};var i,n=r(5),o=(i=n)&&i.__esModule?i:{default:i};var s=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function a(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=s;r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var i=new o.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",r),n=[],a=0;a<e;a++)n[a]=a;return i.bind(),i.uniforms.uSamplers=n,i};var i,n=r(12),o=(i=n)&&i.__esModule?i:{default:i};r(6);var s=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[i.DRAW_MODES.POINTS]=t.POINTS,e[i.DRAW_MODES.LINES]=t.LINES,e[i.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[i.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[i.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[i.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[i.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var i=r(0)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[i.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[i.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[i.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[i.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e};var i=r(0)},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(158),o=(i=n)&&i.__esModule?i:{default:i};var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,o.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(0),o=r(3),s=(i=o)&&i.__esModule?i:{default:i};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=s.default.GC_MAX_IDLE,this.checkCountMax=s.default.GC_MAX_CHECK_COUNT,this.mode=s.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==n.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n._glRenderTargets&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(5),o=r(0),s=r(17),a=(i=s)&&i.__esModule?i:{default:i},u=r(2);var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var r=this.gl,i=!!t._glRenderTargets;if(!t.hasLoaded)return null;var s=this.renderer.boundTextures;if(void 0===e){e=0;for(var u=0;u<s.length;++u)if(s[u]===t){e=u;break}}s[e]=t,r.activeTexture(r.TEXTURE0+e);var h=t._glTextures[this.renderer.CONTEXT_UID];if(h)i?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):h.upload(t.source);else{if(i){var l=new a.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);l.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=l,h=l.texture}else(h=new n.GLTexture(this.gl,null,null,null,null)).bind(e),h.premultiplyAlpha=!0,h.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=h,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&h.enableMipmap(),t.wrapMode===o.WRAP_MODES.CLAMP?h.enableWrapClamp():t.wrapMode===o.WRAP_MODES.REPEAT?h.enableWrapRepeat():h.enableWrapMirrorRepeat()):h.enableWrapClamp(),t.scaleMode===o.SCALE_MODES.NEAREST?h.enableNearestScaling():h.enableLinearScaling()}return h},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var r=this.renderer.CONTEXT_UID,i=t._glTextures,n=t._glRenderTargets;if(i[r]&&(this.renderer.unbindTexture(t),i[r].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete i[r],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&(0,u.removeItems)(this._managedTextures,o,1)}n&&n[r]&&(n[r].destroy(),delete n[r])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.calculateScreenSpaceMatrix=function(t,e,r){var i=t.identity();return i.translate(e.x/r.width,e.y/r.height),i.scale(r.width,r.height),i},e.calculateNormalizedScreenSpaceMatrix=function(t,e,r){var i=t.identity();i.translate(e.x/r.width,e.y/r.height);var n=r.width/e.width,o=r.height/e.height;return i.scale(n,o),i},e.calculateSpriteMatrix=function(t,e,r,n){var o=n._texture.orig,s=t.set(r.width,0,0,r.height,e.x,e.y),a=n.worldTransform.copy(i.Matrix.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(n.anchor.x,n.anchor.y),s};var i=r(4)},function(t,e,r){"use strict";e.__esModule=!0;var i=l(r(13)),n=l(r(17)),o=l(r(64)),s=r(4),a=l(r(12)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(162)),h=l(r(26));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=function t(){c(this,t),this.renderTarget=null,this.sourceFrame=new s.Rectangle,this.destinationFrame=new s.Rectangle,this.filters=[],this.target=null,this.resolution=1},d=function(t){function e(r){c(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.gl=i.renderer.gl,i.quad=new o.default(i.gl,r.state.attribState),i.shaderCache={},i.pool={},i.filterData=null,i.managedFilters=[],i.renderer.on("prerender",i.onPrerender,i),i._screenWidth=r.view.width,i._screenHeight=r.view.height,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushFilter=function(t,e){var r=this.renderer,i=this.filterData;if(!i){i=this.renderer._activeRenderTarget.filterStack;var n=new f;n.sourceFrame=n.destinationFrame=this.renderer._activeRenderTarget.size,n.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=i={index:0,stack:[n]},this.filterData=i}var o=i.stack[++i.index],s=i.stack[0].destinationFrame;o||(o=i.stack[i.index]=new f);var a=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===r.screen.width&&t.filterArea.height===r.screen.height,u=e[0].resolution,h=0|e[0].padding,l=a?r.screen:t.filterArea||t.getBounds(!0),c=o.sourceFrame,d=o.destinationFrame;c.x=(l.x*u|0)/u,c.y=(l.y*u|0)/u,c.width=(l.width*u|0)/u,c.height=(l.height*u|0)/u,a||(i.stack[0].renderTarget.transform||e[0].autoFit&&c.fit(s),c.pad(h)),d.width=c.width,d.height=c.height;var p=this.getPotRenderTarget(r.gl,c.width,c.height,u);o.target=t,o.filters=e,o.resolution=u,o.renderTarget=p,p.setFrame(d,c),r.bindRenderTarget(p),p.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var i=r.filters;if(1===i.length)i[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var n=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var s=0;for(s=0;s<i.length-1;++s){i[s].apply(this,n,o,!0,r);var a=n;n=o,o=a}i[s].apply(this,n,e.renderTarget,!1,r),this.freePotRenderTarget(n),this.freePotRenderTarget(o)}t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,r,i){var n=this.renderer,o=n.gl,s=t.glShaders[n.CONTEXT_UID];s||(t.glShaderKey?(s=this.shaderCache[t.glShaderKey])||(s=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[n.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=s,this.managedFilters.push(t)):(s=t.glShaders[n.CONTEXT_UID]=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),n.bindVao(null),this.quad.initVao(s)),n.bindVao(this.quad.vao),n.bindRenderTarget(r),i&&(o.disable(o.SCISSOR_TEST),n.clear(),o.enable(o.SCISSOR_TEST)),r===n.maskManager.scissorRenderTarget&&n.maskManager.pushScissorMask(null,n.maskManager.scissorData),n.bindShader(s);var u=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=u,this.syncUniforms(s,t),n.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var r=e.uniformData,i=e.uniforms,n=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=t.uniforms.filterArea;s[0]=o.renderTarget.size.width,s[1]=o.renderTarget.size.height,s[2]=o.sourceFrame.x,s[3]=o.sourceFrame.y,t.uniforms.filterArea=s}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var a=t.uniforms.filterClamp;a[0]=0,a[1]=0,a[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,a[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=a}for(var u in r){var h=r[u].type;if("sampler2d"===h&&0!==i[u]){if(i[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(i[u].baseTexture,n);else{t.uniforms[u]=n;var l=this.renderer.gl;this.renderer.boundTextures[n]=this.renderer.emptyTextures[n],l.activeTexture(l.TEXTURE0+n),i[u].texture.bind()}n++}else if("mat3"===h)void 0!==i[u].a?t.uniforms[u]=i[u].toArray(!0):t.uniforms[u]=i[u];else if("vec2"===h)if(void 0!==i[u].x){var c=t.uniforms[u]||new Float32Array(2);c[0]=i[u].x,c[1]=i[u].y,t.uniforms[u]=c}else t.uniforms[u]=i[u];else"float"===h?t.uniforms.data[u].value!==r[u]&&(t.uniforms[u]=i[u]):t.uniforms[u]=i[u]}},e.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],i=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return i.setFrame(r.destinationFrame,r.sourceFrame),i},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return u.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)},e.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.renderer,r=this.managedFilters;e.off("prerender",this.onPrerender,this);for(var i=0;i<r.length;i++)t||r[i].glShaders[e.CONTEXT_UID].destroy(),delete r[i].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,r,i){var o="screen";r*=i,(e*=i)===this._screenWidth&&r===this._screenHeight||(o=(65535&(e=h.default.nextPow2(e)))<<16|65535&(r=h.default.nextPow2(r))),this.pool[o]||(this.pool[o]=[]);var s=this.pool[o].pop();if(!s){var a=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),s=new n.default(t,e,r,null,1),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return s.resolution=i,s.defaultFrame.width=s.size.width=e/i,s.defaultFrame.height=s.size.height=r/i,s},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){var e=t.size.width*t.resolution,r=t.size.height*t.resolution,i="screen";e===this._screenWidth&&r===this._screenHeight||(i=(65535&e)<<16|65535&r),this.pool[i].push(t)},e.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},e}(i.default);e.default=d},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(13),o=(i=n)&&i.__esModule?i:{default:i};var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.stencilMaskStack=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){o.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(o.default);e.default=s},function(t,e){var r,i,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,h=[],l=!1,c=-1;function f(){l&&u&&(l=!1,u.length?h=u.concat(h):c=-1,h.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=h.length;e;){for(u=h,h=[];++c<e;)u&&u[c].run();c=-1,e=h.length}u=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new p(t,e)),1!==h.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=v,n.addListener=v,n.once=v,n.off=v,n.removeListener=v,n.removeAllListeners=v,n.emit=v,n.prependListener=v,n.prependOnceListener=v,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var i=s(t),n=s(e);return Object.assign(i,n)};var i,n=r(5);var o=((i=n)&&i.__esModule?i:{default:i}).default.shader.defaultValue;function s(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},i=void 0,n=t.replace(/\s+/g," ").split(/\s*;\s*/),s=0;s<n.length;s++){var a=n[s].trim();if(a.indexOf("uniform")>-1){var u=a.split(" "),h=u[1],l=u[2],c=1;l.indexOf("[")>-1&&(l=(i=l.split(/\[|]/))[0],c*=Number(i[1])),l.match(e)||(r[l]={value:o(h,c),name:l,type:h})}}return r}},function(t,e,r){"use strict";e.__esModule=!0;var i=o(r(13)),n=o(r(67));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.scissor=!1,i.scissorData=null,i.scissorRenderTarget=null,i.enableScissor=!0,i.alphaMaskPool=[],i.alphaMaskIndex=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,i=Math.atan2(r.b,r.a);(i=Math.round(i*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new n.default(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,i=e.getBounds();i.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var n=this.renderer.resolution;this.renderer.gl.scissor(i.x*n,(r.root?r.size.height-i.y-i.height:i.y)*n,i.width*n,i.height*n),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(i.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var i=d(r(19)),n=d(r(18)),o=d(r(22)),s=d(r(155)),a=d(r(154)),u=d(r(153)),h=d(r(3)),l=r(2),c=d(r(5)),f=d(r(26));function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=0,y=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));i.vertSize=5,i.vertByteSize=4*i.vertSize,i.size=h.default.SPRITE_BATCH_SIZE,i.buffers=[];for(var n=1;n<=f.default.nextPow2(i.size);n*=2)i.buffers.push(new u.default(4*n*i.vertByteSize));i.indices=(0,o.default)(i.size),i.shader=null,i.currentIndex=0,i.groups=[];for(var s=0;s<i.size;s++)i.groups[s]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return i.sprites=[],i.vertexBuffers=[],i.vaos=[],i.vaoMax=2,i.vertexCount=0,i.renderer.on("prerender",i.onPrerender,i),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,a.default)(this.MAX_TEXTURES,t)),this.shader=(0,s.default)(t,this.MAX_TEXTURES),this.indexBuffer=c.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var i=this.vertexBuffers[r]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),n=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(i,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(i,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(i,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&n.addAttribute(i,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=n}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,r=f.default.nextPow2(this.currentIndex),i=f.default.log2(r),n=this.buffers[i],o=this.sprites,s=this.groups,a=n.float32View,u=n.uint32View,d=this.boundTextures,y=this.renderer.boundTextures,g=this.renderer.textureGC.count,_=0,m=void 0,b=void 0,x=1,T=0,w=s[0],E=void 0,O=void 0,S=l.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];w.textureCount=0,w.start=0,w.blend=S,p++;var P=void 0;for(P=0;P<e;++P){var M=y[P];M._enabled!==p?(d[P]=M,M._virtalBoundId=P,M._enabled=p):d[P]=this.renderer.emptyTextures[P]}for(p++,P=0;P<this.currentIndex;++P){var C=o[P];m=C._texture.baseTexture;var A=l.premultiplyBlendMode[Number(m.premultipliedAlpha)][C.blendMode];if(S!==A&&(S=A,b=null,T=e,p++),b!==m&&(b=m,m._enabled!==p)){if(T===e&&(p++,w.size=P-w.start,T=0,(w=s[x++]).blend=S,w.textureCount=0,w.start=P),m.touched=g,-1===m._virtalBoundId)for(var I=0;I<e;++I){var R=(I+v)%e,D=d[R];if(D._enabled!==p){v++,D._virtalBoundId=-1,m._virtalBoundId=R,d[R]=m;break}}m._enabled=p,w.textureCount++,w.ids[T]=m._virtalBoundId,w.textures[T++]=m}if(E=C.vertexData,O=C._texture._uvs.uvsUint32,this.renderer.roundPixels){var L=this.renderer.resolution;a[_]=(E[0]*L|0)/L,a[_+1]=(E[1]*L|0)/L,a[_+5]=(E[2]*L|0)/L,a[_+6]=(E[3]*L|0)/L,a[_+10]=(E[4]*L|0)/L,a[_+11]=(E[5]*L|0)/L,a[_+15]=(E[6]*L|0)/L,a[_+16]=(E[7]*L|0)/L}else a[_]=E[0],a[_+1]=E[1],a[_+5]=E[2],a[_+6]=E[3],a[_+10]=E[4],a[_+11]=E[5],a[_+15]=E[6],a[_+16]=E[7];u[_+2]=O[0],u[_+7]=O[1],u[_+12]=O[2],u[_+17]=O[3];var N=Math.min(C.worldAlpha,1),k=N<1&&m.premultipliedAlpha?(0,l.premultiplyTint)(C._tintRGB,N):C._tintRGB+(255*N<<24);u[_+3]=u[_+8]=u[_+13]=u[_+18]=k,a[_+4]=a[_+9]=a[_+14]=a[_+19]=m._virtalBoundId,_+=20}if(w.size=P-w.start,h.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(n.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var F=this.shader.attributes,j=this.vertexBuffers[this.vertexCount]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),B=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(j,F.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(j,F.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(j,F.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);F.aTextureId&&B.addAttribute(j,F.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=B}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(n.vertices,0,!1),this.vertexCount++}for(P=0;P<e;++P)y[P]._virtalBoundId=-1;for(P=0;P<x;++P){for(var U=s[P],X=U.textureCount,W=0;W<X;W++)b=U.textures[W],y[U.ids[W]]!==b&&this.renderer.bindTexture(b,U.ids[W],!0),b._virtalBoundId=-1;this.renderer.state.setBlendMode(U.blend),t.drawElements(t.TRIANGLES,6*U.size,t.UNSIGNED_SHORT,6*U.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),h.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},e}(i.default);e.default=y,n.default.registerPlugin("sprite",y)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,s.default)()?(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="multiply",t[n.BLEND_MODES.SCREEN]="screen",t[n.BLEND_MODES.OVERLAY]="overlay",t[n.BLEND_MODES.DARKEN]="darken",t[n.BLEND_MODES.LIGHTEN]="lighten",t[n.BLEND_MODES.COLOR_DODGE]="color-dodge",t[n.BLEND_MODES.COLOR_BURN]="color-burn",t[n.BLEND_MODES.HARD_LIGHT]="hard-light",t[n.BLEND_MODES.SOFT_LIGHT]="soft-light",t[n.BLEND_MODES.DIFFERENCE]="difference",t[n.BLEND_MODES.EXCLUSION]="exclusion",t[n.BLEND_MODES.HUE]="hue",t[n.BLEND_MODES.SATURATION]="saturate",t[n.BLEND_MODES.COLOR]="color",t[n.BLEND_MODES.LUMINOSITY]="luminosity"):(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="source-over",t[n.BLEND_MODES.SCREEN]="source-over",t[n.BLEND_MODES.OVERLAY]="source-over",t[n.BLEND_MODES.DARKEN]="source-over",t[n.BLEND_MODES.LIGHTEN]="source-over",t[n.BLEND_MODES.COLOR_DODGE]="source-over",t[n.BLEND_MODES.COLOR_BURN]="source-over",t[n.BLEND_MODES.HARD_LIGHT]="source-over",t[n.BLEND_MODES.SOFT_LIGHT]="source-over",t[n.BLEND_MODES.DIFFERENCE]="source-over",t[n.BLEND_MODES.EXCLUSION]="source-over",t[n.BLEND_MODES.HUE]="source-over",t[n.BLEND_MODES.SATURATION]="source-over",t[n.BLEND_MODES.COLOR]="source-over",t[n.BLEND_MODES.LUMINOSITY]="source-over");return t[n.BLEND_MODES.NORMAL_NPM]=t[n.BLEND_MODES.NORMAL],t[n.BLEND_MODES.ADD_NPM]=t[n.BLEND_MODES.ADD],t[n.BLEND_MODES.SCREEN_NPM]=t[n.BLEND_MODES.SCREEN],t};var i,n=r(0),o=r(68),s=(i=o)&&i.__esModule?i:{default:i}},function(t,e,r){"use strict";e.__esModule=!0;var i=r(0);var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var r=t.alpha,i=t.transform.worldTransform,n=e.resolution;e.context.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n,i.ty*n),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=r},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var n=0;n<r;n++){var o=t.graphicsData[n],s=o.shape;if(o.type===i.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(a[2*u],a[2*u+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===i.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===i.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===i.SHAPES.ELIP){var h=2*s.width,l=2*s.height,c=s.x-h/2,f=s.y-l/2,d=h/2*.5522848,p=l/2*.5522848,v=c+h,y=f+l,g=c+h/2,_=f+l/2;e.moveTo(c,_),e.bezierCurveTo(c,_-p,g-d,f,g,f),e.bezierCurveTo(g+d,f,v,_-p,v,_),e.bezierCurveTo(v,_+p,g+d,y,g,y),e.bezierCurveTo(g-d,y,c,_+p,c,_),e.closePath()}else if(o.type===i.SHAPES.RREC){var m=s.x,b=s.y,x=s.width,T=s.height,w=s.radius,E=Math.min(x,T)/2|0;w=w>E?E:w,e.moveTo(m,b+w),e.lineTo(m,b+T-w),e.quadraticCurveTo(m,b+T,m+w,b+T),e.lineTo(m+x-w,b+T),e.quadraticCurveTo(m+x,b+T,m+x,b+T-w),e.lineTo(m+x,b+w),e.quadraticCurveTo(m+x,b,m+x-w,b),e.lineTo(m+w,b),e.quadraticCurveTo(m,b,m,b+w),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var i=a(r(14)),n=r(0),o=r(4),s=a(r(23));function a(t){return t&&t.__esModule?t:{default:t}}var u=new o.Matrix,h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,i=e._frame.width,a=e._frame.height,h=t.transform.worldTransform,l=0,c=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(r.setBlendMode(t.blendMode),e.valid)){r.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===n.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==f&&(r.context[r.smoothProperty]=f),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,c=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height),e.rotate&&(h.copy(u),h=u,o.GroupD8.matrixAppendRotationInv(h,e.rotate,l,c),l=0,c=0),l-=i/2,c-=a/2,r.roundPixels?(r.context.setTransform(h.a,h.b,h.c,h.d,h.tx*r.resolution|0,h.ty*r.resolution|0),l|=0,c|=0):r.context.setTransform(h.a,h.b,h.c,h.d,h.tx*r.resolution,h.ty*r.resolution);var d=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=s.default.getTintedTexture(t,t.tint)),r.context.drawImage(t.tintedTexture,0,0,i*d,a*d,l*r.resolution,c*r.resolution,i*r.resolution,a*r.resolution)):r.context.drawImage(e.baseTexture.source,e._frame.x*d,e._frame.y*d,i*d,a*d,l*r.resolution,c*r.resolution,i*r.resolution,a*r.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();e.default=h,i.default.registerPlugin("sprite",h)},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fn=e,this.context=r,this.priority=i,this.once=n,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.previous;return this.next=t?null:e,this.previous=null,e},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=a(r(3)),o=r(0),s=a(r(172));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._head=new s.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/n.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,r))},t.prototype.addOnce=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*n.default.TARGET_FPMS*this.speed;for(var r=this._head,i=r.next;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},i(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,n.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();e.default=u},function(t,e,r){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),function(s){var a=encodeURIComponent(i(s))+r;return n(t[s])?o(t[s],function(t){return a+encodeURIComponent(i(t))}).join(e):a+encodeURIComponent(i(t[s]))}).join(e):a?encodeURIComponent(i(a))+r+encodeURIComponent(i(t)):""};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var h=t.length;u>0&&h>u&&(h=u);for(var l=0;l<h;++l){var c,f,d,p,v=t[l].replace(a,"%20"),y=v.indexOf(r);y>=0?(c=v.substr(0,y),f=v.substr(y+1)):(c=v,f=""),d=decodeURIComponent(c),p=decodeURIComponent(f),i(s,d)?n(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";e.decode=e.parse=r(175),e.encode=e.stringify=r(174)},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){(function(t,i){var n;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var s="object"==typeof i&&i;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,h=36,l=1,c=26,f=38,d=700,p=72,v=128,y="-",g=/^xn--/,_=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=h-l,T=Math.floor,w=String.fromCharCode;function E(t){throw new RangeError(b[t])}function O(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function S(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+O((t=t.replace(m,".")).split("."),e).join(".")}function P(t){for(var e,r,i=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function M(t){return O(t,function(t){var e="";return t>65535&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=w(t)}).join("")}function C(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function A(t,e,r){var i=0;for(t=r?T(t/d):t>>1,t+=T(t/e);t>x*c>>1;i+=h)t=T(t/x);return T(i+(x+1)*t/(t+f))}function I(t){var e,r,i,n,o,s,a,f,d,g,_,m=[],b=t.length,x=0,w=v,O=p;for((r=t.lastIndexOf(y))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&E("not-basic"),m.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<b;){for(o=x,s=1,a=h;n>=b&&E("invalid-input"),((f=(_=t.charCodeAt(n++))-48<10?_-22:_-65<26?_-65:_-97<26?_-97:h)>=h||f>T((u-x)/s))&&E("overflow"),x+=f*s,!(f<(d=a<=O?l:a>=O+c?c:a-O));a+=h)s>T(u/(g=h-d))&&E("overflow"),s*=g;O=A(x-o,e=m.length+1,0==o),T(x/e)>u-w&&E("overflow"),w+=T(x/e),x%=e,m.splice(x++,0,w)}return M(m)}function R(t){var e,r,i,n,o,s,a,f,d,g,_,m,b,x,O,S=[];for(m=(t=P(t)).length,e=v,r=0,o=p,s=0;s<m;++s)(_=t[s])<128&&S.push(w(_));for(i=n=S.length,n&&S.push(y);i<m;){for(a=u,s=0;s<m;++s)(_=t[s])>=e&&_<a&&(a=_);for(a-e>T((u-r)/(b=i+1))&&E("overflow"),r+=(a-e)*b,e=a,s=0;s<m;++s)if((_=t[s])<e&&++r>u&&E("overflow"),_==e){for(f=r,d=h;!(f<(g=d<=o?l:d>=o+c?c:d-o));d+=h)O=f-g,x=h-g,S.push(w(C(g+O%x,0))),f=T(O/x);S.push(w(C(f,0))),o=A(r,b,i==n),r=0,++i}++r,++e}return S.join("")}a={version:"1.4.1",ucs2:{decode:P,encode:M},decode:I,encode:R,toASCII:function(t){return S(t,function(t){return _.test(t)?"xn--"+R(t):t})},toUnicode:function(t){return S(t,function(t){return g.test(t)?I(t.slice(4).toLowerCase()):t})}},void 0===(n=function(){return a}.call(e,r,e,t))||(t.exports=n)}()}).call(this,r(178)(t),r(36))},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[i.BLEND_MODES.NORMAL_NPM]=i.BLEND_MODES.NORMAL,t[i.BLEND_MODES.ADD_NPM]=i.BLEND_MODES.ADD,t[i.BLEND_MODES.SCREEN_NPM]=i.BLEND_MODES.SCREEN,e[i.BLEND_MODES.NORMAL]=i.BLEND_MODES.NORMAL_NPM,e[i.BLEND_MODES.ADD]=i.BLEND_MODES.ADD_NPM,e[i.BLEND_MODES.SCREEN]=i.BLEND_MODES.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n};var i=r(0)},function(t,e,r){"use strict";t.exports=function(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){var o=n-(r=e+r>n?n-e:r);for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}}},function(t,e,r){"use strict";function i(t,e){if(t&&e)for(var r=Object.keys(e),i=0;i<r.length;++i){var n=r[i];Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}}e.__esModule=!0,e.mixin=i,e.delayMixin=function(t,e){n.push(t,e)},e.performMixins=function(){for(var t=0;t<n.length;t+=2)i(n[t],n[t+1]);n.length=0};var n=[]},function(t,e,r){"use strict";e.__esModule=!0,e.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){if(o.default.tablet||o.default.phone)return 4;return t};var i,n=r(30),o=(i=n)&&i.__esModule?i:{default:i}},function(t,e,r){t.exports={compileProgram:r(85),defaultValue:r(81),extractAttributes:r(84),extractUniforms:r(82),generateUniformAccessObject:r(79),setPrecision:r(80),mapSize:r(83),mapType:r(32)}},function(t,e,r){var i=r(87);function n(t,e){if(this.nativeVaoExtension=null,n.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}n.prototype.constructor=n,t.exports=n,n.FORCE_NATIVE=!1,n.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},n.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},n.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var n=this.attributes[r];e!==n.buffer&&(n.buffer.bind(),e=n.buffer),t.vertexAttribPointer(n.attribute.location,n.attribute.size,n.type||t.FLOAT,n.normalized||!1,n.stride||0,n.start||0)}return i(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},n.prototype.addAttribute=function(t,e,r,i,n,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:i||!1,stride:n||0,start:o||0}),this.dirty=!0,this},n.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},n.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},n.prototype.draw=function(t,e,r){var i=this.gl;return this.indexBuffer?i.drawElements(t,e||this.indexBuffer.data.length,i.UNSIGNED_SHORT,2*(r||0)):i.drawArrays(t,r,e||this.getSize()),this},n.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},n.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e,r){var i=r(85),n=r(84),o=r(82),s=r(80),a=r(79),u=function(t,e,r,u,h){this.gl=t,u&&(e=s(e,u),r=s(r,u)),this.program=i(t,e,r,h),this.attributes=n(t,this.program),this.uniformData=o(t,this.program),this.uniforms=a(t,this.uniformData)};u.prototype.bind=function(){return this.gl.useProgram(this.program),this},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=u},function(t,e,r){var i=r(86),n=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};n.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new i(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},n.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},n.prototype.clear=function(t,e,r,i){this.bind();var n=this.gl;n.clearColor(t,e,r,i),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)},n.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},n.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},n.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},n.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},n.createRGBA=function(t,e,r,o){var s=i.fromData(t,null,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new n(t,e,r);return a.enableTexture(s),a.unbind(),a},n.createFloat32=function(t,e,r,o){var s=new i.fromData(t,o,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new n(t,e,r);return a.enableTexture(s),a.unbind(),a},t.exports=n},function(t,e){var r=new ArrayBuffer(0),i=function(t,e,i,n){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=n||t.STATIC_DRAW,this.data=r,i&&this.upload(i),this._updateID=0};i.prototype.upload=function(t,e,r){r||this.bind();var i=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?i.bufferSubData(this.type,e,t):i.bufferData(this.type,t,this.drawType),this.data=t},i.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},i.createVertexBuffer=function(t,e,r){return new i(t,t.ARRAY_BUFFER,e,r)},i.createIndexBuffer=function(t,e,r){return new i(t,t.ELEMENT_ARRAY_BUFFER,e,r)},i.create=function(t,e,r,n){return new i(t,e,r,n)},i.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=i},function(t,e){t.exports=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}},function(t,e,r){"use strict";e.__esModule=!0;var i=r(0);var n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=n,this.height=o,this.radius=s,this.type=i.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=e-(this.y+this.radius),n=this.radius*this.radius;if(r*r+i*i<=n)return!0;if((r=t-(this.x+this.width-this.radius))*r+i*i<=n)return!0;if(r*r+(i=e-(this.y+this.height-this.radius))*i<=n)return!0;if((r=t-(this.x+this.radius))*r+i*i<=n)return!0}return!1},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(35),o=(i=n)&&i.__esModule?i:{default:i},s=r(0);var a=function(){function t(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof o.default){for(var n=[],a=0,u=r.length;a<u;a++)n.push(r[a].x,r[a].y);r=n}this.closed=!0,this.points=r,this.type=s.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;n<i;o=n++){var s=this.points[2*n],a=this.points[2*n+1],u=this.points[2*o],h=this.points[2*o+1];a>e!=h>e&&t<(e-a)/(h-a)*(u-s)+s&&(r=!r)}return r},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(33),o=(i=n)&&i.__esModule?i:{default:i},s=r(0);var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=i,this.height=n,this.type=s.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},t.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var i,n=r(33),o=(i=n)&&i.__esModule?i:{default:i},s=r(0);var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.radius=i,this.type=s.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,n=this.y-e;return(i*=i)+(n*=n)<=r},t.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();e.default=a},function(t,e,r){"use strict";Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t})},function(t,e,r){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1})},function(t,e,r){"use strict";(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),i=["ms","moz","webkit","o"],n=0;n<i.length&&!t.requestAnimationFrame;++n){var o=i[n];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+r-e;return i<0&&(i=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},i)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,r(36))},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var h in r=Object(arguments[u]))n.call(r,h)&&(a[h]=r[h]);if(i){s=i(r);for(var l=0;l<s.length;l++)o.call(r,s[l])&&(a[s[l]]=r[s[l]])}}return a}},function(t,e,r){"use strict";var i,n=r(199),o=(i=n)&&i.__esModule?i:{default:i};Object.assign||(Object.assign=o.default)},function(t,e,r){"use strict";r(200),r(198),r(197),r(196),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e,r){"use strict";(function(t){e.__esModule=!0,e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=void 0;var i=r(201);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var n=r(1);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var o,s=r(139),a=(o=s)&&o.__esModule?o:{default:o},u=g(r(138)),h=g(r(136)),l=g(r(57)),c=g(r(126)),f=g(r(119)),d=g(r(117)),p=g(r(113)),v=g(r(108)),y=g(r(103));function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}n.utils.mixins.performMixins();var _=d.shared||null;e.accessibility=u,e.extract=h,e.extras=l,e.filters=c,e.interaction=f,e.loaders=d,e.mesh=p,e.particles=v,e.prepare=y,e.loader=_,"function"==typeof a.default&&(0,a.default)(e),t.PIXI=e}).call(this,r(36))},function(t,e,r){r(37),t.exports=r(90)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvY29uc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc2V0dGluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGF0aC1icm93c2VyaWZ5L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1RleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvQmFzZVRleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL21lc2gvTWVzaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9TaGFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL1dlYkdMTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvQ29udGFpbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL3V0aWxzL2J1aWxkTGluZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvUmVuZGVyVGFyZ2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9XZWJHTFJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC91dGlscy9PYmplY3RSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS9CYXNlUHJlcGFyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9SZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc3ByaXRlcy9jYW52YXMvQ2FudmFzVGludGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1JlbmRlclRleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGlja2VyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iaXQtdHdpZGRsZS90d2lkZGxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvU3ByaXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9lYXJjdXQvc3JjL2VhcmN1dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9kaXNwbGF5L1RyYW5zZm9ybUJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lzbW9iaWxlanMvaXNNb2JpbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZGlzcGxheS9Cb3VuZHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL21hcFR5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9zaGFwZXMvUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvTWF0cml4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvUG9pbnQuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvR2FtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ2hhcmFjdGVycy9DaGFyYWN0ZXJzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wcmVwYXJlL2xpbWl0ZXJzL0NvdW50TGltaXRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC9QbGFuZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbG9hZGVycy90ZXh0dXJlUGFyc2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9sb2FkZXJzL3Nwcml0ZXNoZWV0UGFyc2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvbGliL2I2NC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9hc3luYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGFyc2UtdXJpL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9taW5pLXNpZ25hbHMvbGliL21pbmktc2lnbmFscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbG9hZGVycy9iaXRtYXBGb250UGFyc2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbnRlcmFjdGlvbi9pbnRlcmFjdGl2ZVRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uRXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ibHVyL0JsdXJZRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2JsdXIvZ2V0TWF4Qmx1cktlcm5lbFNpemUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvYmx1ci9nZW5lcmF0ZUJsdXJGcmFnU291cmNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2JsdXIvZ2VuZXJhdGVCbHVyVmVydFNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ibHVyL0JsdXJYRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2FjY2Vzc2liaWxpdHkvYWNjZXNzaWJsZVRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9hdXRvRGV0ZWN0UmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvQXBwbGljYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3MvR3JhcGhpY3NEYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHQvVGV4dE1ldHJpY3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dC9UZXh0U3R5bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL1F1YWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvVGV4dHVyZU1hdHJpeC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvZmlsdGVycy9GaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy9jYW52YXMvdXRpbHMvY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2Rlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL0NhbnZhc1JlbmRlclRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90ZXh0dXJlcy9CYXNlUmVuZGVyVGV4dHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvU3lzdGVtUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvVGV4dHVyZVV2cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90ZXh0dXJlcy9WaWRlb0Jhc2VUZXh0dXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXJsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL2RldGVybWluZUNyb3NzT3JpZ2luLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvVHJhbnNmb3JtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvVHJhbnNmb3JtU3RhdGljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvRGlzcGxheU9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9zZXRQcmVjaXNpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL2RlZmF1bHRWYWx1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvZXh0cmFjdFVuaWZvcm1zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9tYXBTaXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9leHRyYWN0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvY29tcGlsZVByb2dyYW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvR0xUZXh0dXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NldFZlcnRleEF0dHJpYkFycmF5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL0dyb3VwRDguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9PYnNlcnZhYmxlUG9pbnQuanMiLCJ3ZWJwYWNrOi8vLy4vd2VicGFjay5jb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1JvY2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1N0cmF0ZWd5L1JhbmdlQXR0YWNrLnRzIiwid2VicGFjazovLy8uL3NyYy9HYW1lT2JqZWN0L0dhbWVPYmplY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWVPYmplY3QvUmFuZ2VQaWNrVXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NoYXJhY3RlcnMvRW5lbXkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1N0cmF0ZWd5L01lbGVlQXR0YWNrLnRzIiwid2VicGFjazovLy8uL3NyYy9DaGFyYWN0ZXJzL1BsYXllci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvV29ybGQvVGlsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvV29ybGQvQ3JlYXRlV29ybGQudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3ByZXBhcmUvbGltaXRlcnMvVGltZUxpbWl0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3ByZXBhcmUvY2FudmFzL0NhbnZhc1ByZXBhcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3ByZXBhcmUvd2ViZ2wvV2ViR0xQcmVwYXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wcmVwYXJlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wYXJ0aWNsZXMvd2ViZ2wvUGFydGljbGVCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BhcnRpY2xlcy93ZWJnbC9QYXJ0aWNsZVNoYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGFydGljbGVzL3dlYmdsL1BhcnRpY2xlUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BhcnRpY2xlcy9QYXJ0aWNsZUNvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGFydGljbGVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9tZXNoL1JvcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL21lc2gvTmluZVNsaWNlUGxhbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL21lc2gvY2FudmFzL0NhbnZhc01lc2hSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC93ZWJnbC9NZXNoUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL21lc2gvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9saWIvbWlkZGxld2FyZXMvcGFyc2luZy9ibG9iLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9sb2FkZXJzL2xvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9Mb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2xvYWRlcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW50ZXJhY3Rpb24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvYWxwaGEvQWxwaGFGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvY29sb3JtYXRyaXgvQ29sb3JNYXRyaXhGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvYmx1ci9CbHVyRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2Rpc3BsYWNlbWVudC9EaXNwbGFjZW1lbnRGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvbm9pc2UvTm9pc2VGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvZnhhYS9GWEFBRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYXMvZ2V0R2xvYmFsUG9zaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy9nZXRDaGlsZEJ5TmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL2NhY2hlQXNCaXRtYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy9CaXRtYXBUZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYXMvd2ViZ2wvVGlsaW5nU3ByaXRlUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy9UaWxpbmdTcHJpdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy9BbmltYXRlZFNwcml0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFjdC9jYW52YXMvQ2FudmFzRXh0cmFjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFjdC93ZWJnbC9XZWJHTEV4dHJhY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhY3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2FjY2Vzc2liaWxpdHkvQWNjZXNzaWJpbGl0eU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2FjY2Vzc2liaWxpdHkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2RlcHJlY2F0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1Nwcml0ZXNoZWV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL2NhbnZhcy9DYW52YXNHcmFwaGljc1JlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL3V0aWxzL2J1aWxkQ2lyY2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL3V0aWxzL2J1aWxkUm91bmRlZFJlY3RhbmdsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC91dGlscy9idWlsZFJlY3RhbmdsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC91dGlscy9idWlsZFBvbHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3Mvd2ViZ2wvc2hhZGVycy9QcmltaXRpdmVTaGFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3Mvd2ViZ2wvV2ViR0xHcmFwaGljc0RhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3Mvd2ViZ2wvR3JhcGhpY3NSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy91dGlscy9iZXppZXJDdXJ2ZVRvLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL0dyYXBoaWNzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL3RyaW1DYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dC9UZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvd2ViZ2wvQmF0Y2hCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL2NoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9zcHJpdGVzL3dlYmdsL2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC91dGlscy92YWxpZGF0ZUNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL21hcFdlYkdMRHJhd01vZGVzVG9QaXhpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC91dGlscy9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL1dlYkdMU3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL1RleHR1cmVHYXJiYWdlQ29sbGVjdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9UZXh0dXJlTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvZmlsdGVycy9maWx0ZXJUcmFuc2Zvcm1zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9tYW5hZ2Vycy9GaWx0ZXJNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9tYW5hZ2Vycy9TdGVuY2lsTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL01hc2tNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvd2ViZ2wvU3ByaXRlUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL2NhbnZhcy91dGlscy9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy9jYW52YXMvdXRpbHMvQ2FudmFzTWFza01hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc3ByaXRlcy9jYW52YXMvQ2FudmFzU3ByaXRlUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGlja2VyL1RpY2tlckxpc3RlbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RpY2tlci9UaWNrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9lbmNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9kZWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXJsL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbm9kZS1saWJzLWJyb3dzZXIvbm9kZV9tb2R1bGVzL3B1bnljb2RlL3B1bnljb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL21hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZW1vdmUtYXJyYXktaXRlbXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvcGx1Z2luVGFyZ2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL2NhblVwbG9hZFNhbWVCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvbWF4UmVjb21tZW5kZWRUZXh0dXJlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvVmVydGV4QXJyYXlPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvR0xTaGFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvR0xGcmFtZWJ1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9HTEJ1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9jcmVhdGVDb250ZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvc2hhcGVzL1JvdW5kZWRSZWN0YW5nbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9zaGFwZXMvUG9seWdvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL3NoYXBlcy9FbGxpcHNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvc2hhcGVzL0NpcmNsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcG9seWZpbGwvTnVtYmVyLmlzSW50ZWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcG9seWZpbGwvTWF0aC5zaWduLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wb2x5ZmlsbC9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BvbHlmaWxsL09iamVjdC5hc3NpZ24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BvbHlmaWxsL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVkVSU0lPTiIsIlBJXzIiLCJNYXRoIiwiUEkiLCJSQURfVE9fREVHIiwiREVHX1RPX1JBRCIsIlJFTkRFUkVSX1RZUEUiLCJVTktOT1dOIiwiV0VCR0wiLCJDQU5WQVMiLCJCTEVORF9NT0RFUyIsIk5PUk1BTCIsIkFERCIsIk1VTFRJUExZIiwiU0NSRUVOIiwiT1ZFUkxBWSIsIkRBUktFTiIsIkxJR0hURU4iLCJDT0xPUl9ET0RHRSIsIkNPTE9SX0JVUk4iLCJIQVJEX0xJR0hUIiwiU09GVF9MSUdIVCIsIkRJRkZFUkVOQ0UiLCJFWENMVVNJT04iLCJIVUUiLCJTQVRVUkFUSU9OIiwiQ09MT1IiLCJMVU1JTk9TSVRZIiwiTk9STUFMX05QTSIsIkFERF9OUE0iLCJTQ1JFRU5fTlBNIiwiRFJBV19NT0RFUyIsIlBPSU5UUyIsIkxJTkVTIiwiTElORV9MT09QIiwiTElORV9TVFJJUCIsIlRSSUFOR0xFUyIsIlRSSUFOR0xFX1NUUklQIiwiVFJJQU5HTEVfRkFOIiwiU0NBTEVfTU9ERVMiLCJMSU5FQVIiLCJORUFSRVNUIiwiV1JBUF9NT0RFUyIsIkNMQU1QIiwiUkVQRUFUIiwiTUlSUk9SRURfUkVQRUFUIiwiR0NfTU9ERVMiLCJBVVRPIiwiTUFOVUFMIiwiVVJMX0ZJTEVfRVhURU5TSU9OIiwiREFUQV9VUkkiLCJTVkdfU0laRSIsIlNIQVBFUyIsIlBPTFkiLCJSRUNUIiwiQ0lSQyIsIkVMSVAiLCJSUkVDIiwiUFJFQ0lTSU9OIiwiTE9XIiwiTUVESVVNIiwiSElHSCIsIlRSQU5TRk9STV9NT0RFIiwiU1RBVElDIiwiRFlOQU1JQyIsIlRFWFRfR1JBRElFTlQiLCJMSU5FQVJfVkVSVElDQUwiLCJMSU5FQVJfSE9SSVpPTlRBTCIsIlVQREFURV9QUklPUklUWSIsIklOVEVSQUNUSU9OIiwiVVRJTElUWSIsImF1dG9EZXRlY3RSZW5kZXJlciIsIkFwcGxpY2F0aW9uIiwiRmlsdGVyIiwiU3ByaXRlTWFza0ZpbHRlciIsIlF1YWQiLCJSZW5kZXJUYXJnZXQiLCJPYmplY3RSZW5kZXJlciIsIldlYkdMTWFuYWdlciIsIlNoYWRlciIsIkNhbnZhc1JlbmRlclRhcmdldCIsIlRleHR1cmVVdnMiLCJWaWRlb0Jhc2VUZXh0dXJlIiwiQmFzZVJlbmRlclRleHR1cmUiLCJSZW5kZXJUZXh0dXJlIiwiQmFzZVRleHR1cmUiLCJUZXh0dXJlTWF0cml4IiwiVGV4dHVyZSIsIlNwcml0ZXNoZWV0IiwiQ2FudmFzR3JhcGhpY3NSZW5kZXJlciIsIkdyYXBoaWNzUmVuZGVyZXIiLCJHcmFwaGljc0RhdGEiLCJHcmFwaGljcyIsIlRleHRNZXRyaWNzIiwiVGV4dFN0eWxlIiwiVGV4dCIsIlNwcml0ZVJlbmRlcmVyIiwiQ2FudmFzVGludGVyIiwiQ2FudmFzU3ByaXRlUmVuZGVyZXIiLCJTcHJpdGUiLCJUcmFuc2Zvcm1CYXNlIiwiVHJhbnNmb3JtU3RhdGljIiwiVHJhbnNmb3JtIiwiQ29udGFpbmVyIiwiRGlzcGxheU9iamVjdCIsIkJvdW5kcyIsImdsQ29yZSIsIldlYkdMUmVuZGVyZXIiLCJDYW52YXNSZW5kZXJlciIsInRpY2tlciIsInV0aWxzIiwic2V0dGluZ3MiLCJ1bmRlZmluZWQiLCJfY29uc3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsIl9tYXRoIiwiX3BpeGlHbENvcmUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiZGVmYXVsdCIsIl9Cb3VuZHMiLCJfRGlzcGxheU9iamVjdCIsIl9Db250YWluZXIiLCJfVHJhbnNmb3JtIiwiX1RyYW5zZm9ybVN0YXRpYyIsIl9UcmFuc2Zvcm1CYXNlIiwiX1Nwcml0ZSIsIl9DYW52YXNTcHJpdGVSZW5kZXJlciIsIl9DYW52YXNUaW50ZXIiLCJfU3ByaXRlUmVuZGVyZXIiLCJfVGV4dCIsIl9UZXh0U3R5bGUiLCJfVGV4dE1ldHJpY3MiLCJfR3JhcGhpY3MiLCJfR3JhcGhpY3NEYXRhIiwiX0dyYXBoaWNzUmVuZGVyZXIiLCJfQ2FudmFzR3JhcGhpY3NSZW5kZXJlciIsIl9TcHJpdGVzaGVldCIsIl9UZXh0dXJlIiwiX1RleHR1cmVNYXRyaXgiLCJfQmFzZVRleHR1cmUiLCJfUmVuZGVyVGV4dHVyZSIsIl9CYXNlUmVuZGVyVGV4dHVyZSIsIl9WaWRlb0Jhc2VUZXh0dXJlIiwiX1RleHR1cmVVdnMiLCJfQ2FudmFzUmVuZGVyVGFyZ2V0IiwiX1NoYWRlciIsIl9XZWJHTE1hbmFnZXIiLCJfT2JqZWN0UmVuZGVyZXIiLCJfUmVuZGVyVGFyZ2V0IiwiX1F1YWQiLCJfU3ByaXRlTWFza0ZpbHRlciIsIl9GaWx0ZXIiLCJfQXBwbGljYXRpb24iLCJfYXV0b0RldGVjdFJlbmRlcmVyIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfc2V0dGluZ3MyIiwiX0NhbnZhc1JlbmRlcmVyMiIsIl9XZWJHTFJlbmRlcmVyMiIsIm9iaiIsIm5ld09iaiIsInByZW11bHRpcGx5QmxlbmRNb2RlIiwiQmFzZVRleHR1cmVDYWNoZSIsIlRleHR1cmVDYWNoZSIsImVhcmN1dCIsIm1peGlucyIsInBsdWdpblRhcmdldCIsIkV2ZW50RW1pdHRlciIsInJlbW92ZUl0ZW1zIiwiaXNNb2JpbGUiLCJ1aWQiLCJuZXh0VWlkIiwiaGV4MnJnYiIsImhleCIsIm91dCIsImhleDJzdHJpbmciLCJ0b1N0cmluZyIsInN1YnN0ciIsImxlbmd0aCIsInJnYjJoZXgiLCJyZ2IiLCJnZXRSZXNvbHV0aW9uT2ZVcmwiLCJ1cmwiLCJkZWZhdWx0VmFsdWUiLCJyZXNvbHV0aW9uIiwiUkVUSU5BX1BSRUZJWCIsImV4ZWMiLCJwYXJzZUZsb2F0IiwiZGVjb21wb3NlRGF0YVVyaSIsImRhdGFVcmkiLCJkYXRhVXJpTWF0Y2giLCJtZWRpYVR5cGUiLCJ0b0xvd2VyQ2FzZSIsInN1YlR5cGUiLCJlbmNvZGluZyIsImRhdGEiLCJnZXRVcmxGaWxlRXh0ZW5zaW9uIiwiZXh0ZW5zaW9uIiwiZ2V0U3ZnU2l6ZSIsInN2Z1N0cmluZyIsInNpemVNYXRjaCIsInNpemUiLCJyb3VuZCIsInNraXBIZWxsbyIsInNhaWRIZWxsbyIsInNheUhlbGxvIiwidHlwZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJhcmdzIiwid2luZG93IiwiY29uc29sZSIsImxvZyIsImFwcGx5IiwiaXNXZWJHTFN1cHBvcnRlZCIsImNvbnRleHRPcHRpb25zIiwic3RlbmNpbCIsImZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQiLCJXZWJHTFJlbmRlcmluZ0NvbnRleHQiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJnbCIsImdldENvbnRleHQiLCJzdWNjZXNzIiwiZ2V0Q29udGV4dEF0dHJpYnV0ZXMiLCJsb3NlQ29udGV4dCIsImdldEV4dGVuc2lvbiIsImUiLCJzaWduIiwiZGVzdHJveVRleHR1cmVDYWNoZSIsImRlc3Ryb3kiLCJjbGVhclRleHR1cmVDYWNoZSIsImNvcnJlY3RCbGVuZE1vZGUiLCJibGVuZE1vZGUiLCJwcmVtdWx0aXBsaWVkIiwicHJlbXVsdGlwbHlUaW50IiwidGludCIsImFscGhhIiwiUiIsIkciLCJCIiwicHJlbXVsdGlwbHlSZ2JhIiwicHJlbXVsdGlwbHkiLCJGbG9hdDMyQXJyYXkiLCJwcmVtdWx0aXBseVRpbnRUb1JnYmEiLCJfZXZlbnRlbWl0dGVyMiIsIl9wbHVnaW5UYXJnZXQyIiwiX3JlbW92ZUFycmF5SXRlbXMyIiwiX21hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzMiIsIl9lYXJjdXQyIiwiY3JlYXRlIiwiX21heFJlY29tbWVuZGVkVGV4dHVyZXMyIiwiX2NhblVwbG9hZFNhbWVCdWZmZXIyIiwiVEFSR0VUX0ZQTVMiLCJNSVBNQVBfVEVYVFVSRVMiLCJSRVNPTFVUSU9OIiwiRklMVEVSX1JFU09MVVRJT04iLCJTUFJJVEVfTUFYX1RFWFRVUkVTIiwiU1BSSVRFX0JBVENIX1NJWkUiLCJSRU5ERVJfT1BUSU9OUyIsInZpZXciLCJhbnRpYWxpYXMiLCJmb3JjZUZYQUEiLCJhdXRvUmVzaXplIiwidHJhbnNwYXJlbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjbGVhckJlZm9yZVJlbmRlciIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsInJvdW5kUGl4ZWxzIiwid2lkdGgiLCJoZWlnaHQiLCJsZWdhY3kiLCJHQ19NT0RFIiwiR0NfTUFYX0lETEUiLCJHQ19NQVhfQ0hFQ0tfQ09VTlQiLCJXUkFQX01PREUiLCJTQ0FMRV9NT0RFIiwiUFJFQ0lTSU9OX1ZFUlRFWCIsIlBSRUNJU0lPTl9GUkFHTUVOVCIsIkNBTl9VUExPQURfU0FNRV9CVUZGRVIiLCJNRVNIX0NBTlZBU19QQURESU5HIiwiX1BvaW50IiwiX09ic2VydmFibGVQb2ludCIsIl9NYXRyaXgiLCJfR3JvdXBEIiwiX0NpcmNsZSIsIl9FbGxpcHNlIiwiX1BvbHlnb24iLCJfUmVjdGFuZ2xlIiwiX1JvdW5kZWRSZWN0YW5nbGUiLCJjcmVhdGVDb250ZXh0Iiwic2V0VmVydGV4QXR0cmliQXJyYXlzIiwiR0xCdWZmZXIiLCJHTEZyYW1lYnVmZmVyIiwiR0xTaGFkZXIiLCJHTFRleHR1cmUiLCJWZXJ0ZXhBcnJheU9iamVjdCIsInNoYWRlciIsIlBJWEkiLCJwcm9jZXNzIiwibm9ybWFsaXplQXJyYXkiLCJwYXJ0cyIsImFsbG93QWJvdmVSb290IiwidXAiLCJsYXN0Iiwic3BsaWNlIiwidW5zaGlmdCIsInNwbGl0UGF0aFJlIiwic3BsaXRQYXRoIiwiZmlsZW5hbWUiLCJzbGljZSIsImZpbHRlciIsInhzIiwiZiIsInJlcyIsInB1c2giLCJyZXNvbHZlIiwicmVzb2x2ZWRQYXRoIiwicmVzb2x2ZWRBYnNvbHV0ZSIsImFyZ3VtZW50cyIsInBhdGgiLCJjd2QiLCJUeXBlRXJyb3IiLCJjaGFyQXQiLCJzcGxpdCIsImpvaW4iLCJub3JtYWxpemUiLCJpc0Fic29sdXRlIiwidHJhaWxpbmdTbGFzaCIsInBhdGhzIiwiQXJyYXkiLCJpbmRleCIsInJlbGF0aXZlIiwiZnJvbSIsInRvIiwidHJpbSIsImFyciIsInN0YXJ0IiwiZW5kIiwiZnJvbVBhcnRzIiwidG9QYXJ0cyIsIm1pbiIsInNhbWVQYXJ0c0xlbmd0aCIsIm91dHB1dFBhcnRzIiwiY29uY2F0Iiwic2VwIiwiZGVsaW1pdGVyIiwiZGlybmFtZSIsInJlc3VsdCIsInJvb3QiLCJkaXIiLCJiYXNlbmFtZSIsImV4dCIsImV4dG5hbWUiLCJzdHIiLCJsZW4iLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwid3JpdGFibGUiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9CYXNlVGV4dHVyZTIiLCJfVmlkZW9CYXNlVGV4dHVyZTIiLCJfVGV4dHVyZVV2czIiLCJfdXRpbHMiLCJfRXZlbnRFbWl0dGVyIiwiYmFzZVRleHR1cmUiLCJmcmFtZSIsIm9yaWciLCJyb3RhdGUiLCJpbnN0YW5jZSIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfdGhpcyIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwibm9GcmFtZSIsIlJlY3RhbmdsZSIsIl9mcmFtZSIsInZhbGlkIiwicmVxdWlyZXNVcGRhdGUiLCJfdXZzIiwiX3JvdGF0ZSIsIk51bWJlciIsIkVycm9yIiwiaGFzTG9hZGVkIiwib24iLCJvbkJhc2VUZXh0dXJlVXBkYXRlZCIsIm9uY2UiLCJvbkJhc2VUZXh0dXJlTG9hZGVkIiwiX3VwZGF0ZUlEIiwidHJhbnNmb3JtIiwidGV4dHVyZUNhY2hlSWRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY29uc3RydWN0b3IiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9pbmhlcml0cyIsInVwZGF0ZSIsImVtaXQiLCJkZXN0cm95QmFzZSIsImltYWdlVXJsIiwicmVtb3ZlRnJvbUNhY2hlIiwib2ZmIiwiY2xvbmUiLCJfdXBkYXRlVXZzIiwic2V0IiwiZnJvbUltYWdlIiwiY3Jvc3NvcmlnaW4iLCJzY2FsZU1vZGUiLCJzb3VyY2VTY2FsZSIsInRleHR1cmUiLCJhZGRUb0NhY2hlIiwiZnJvbUZyYW1lIiwiZnJhbWVJZCIsImZyb21DYW52YXMiLCJvcmlnaW4iLCJmcm9tVmlkZW8iLCJ2aWRlbyIsImZyb21WaWRlb1VybCIsInZpZGVvVXJsIiwiZnJvbVVybCIsInNvdXJjZSIsIm1hdGNoIiwiSFRNTEltYWdlRWxlbWVudCIsIkhUTUxDYW52YXNFbGVtZW50IiwiSFRNTFZpZGVvRWxlbWVudCIsImZyb21Mb2FkZXIiLCJpZCIsIndhcm4iLCJ0ZXh0dXJlRnJvbUNhY2hlIiwieCIsInkiLCJ4Tm90Rml0IiwieU5vdEZpdCIsInJlbGF0aW9uc2hpcCIsImVycm9yWCIsImVycm9yWSIsInJlbW92ZUFsbEhhbmRsZXJzIiwidGV4IiwiRU1QVFkiLCJXSElURSIsImNvbnRleHQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImNyZWF0ZVdoaXRlVGV4dHVyZSIsImhhcyIsInByZWZpeCIsIkV2ZW50cyIsIkVFIiwiZm4iLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiZXZlbnROYW1lcyIsImV2ZW50cyIsIm5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibGlzdGVuZXJzIiwiZXZlbnQiLCJleGlzdHMiLCJldnQiLCJhdmFpbGFibGUiLCJlZSIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJyZW1vdmVMaXN0ZW5lciIsImoiLCJsaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImFkZExpc3RlbmVyIiwic2V0TWF4TGlzdGVuZXJzIiwicHJlZml4ZWQiLCJfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4yIiwiX2JpdFR3aWRkbGUyIiwidG91Y2hlZCIsInJlYWxXaWR0aCIsInJlYWxIZWlnaHQiLCJpc0xvYWRpbmciLCJvcmlnU291cmNlIiwiaW1hZ2VUeXBlIiwicHJlbXVsdGlwbGllZEFscGhhIiwiaXNQb3dlck9mVHdvIiwibWlwbWFwIiwid3JhcE1vZGUiLCJfZ2xUZXh0dXJlcyIsIl9lbmFibGVkIiwiX3ZpcnRhbEJvdW5kSWQiLCJfZGVzdHJveWVkIiwibG9hZFNvdXJjZSIsIm5hdHVyYWxXaWR0aCIsInZpZGVvV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwidmlkZW9IZWlnaHQiLCJfdXBkYXRlRGltZW5zaW9ucyIsImlzUG93MiIsIndhc0xvYWRpbmciLCJvbmxvYWQiLCJvbmVycm9yIiwiZmlyc3RTb3VyY2VMb2FkZWQiLCJzcmMiLCJjb21wbGV0ZSIsIl91cGRhdGVJbWFnZVR5cGUiLCJfbG9hZFN2Z1NvdXJjZSIsIl9zb3VyY2VMb2FkZWQiLCJzY29wZSIsImZpcnN0U3ViVHlwZSIsIl9sb2FkU3ZnU291cmNlVXNpbmdEYXRhVXJpIiwiX2xvYWRTdmdTb3VyY2VVc2luZ1hociIsImF0b2IiLCJfbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nIiwiX3RoaXMyIiwic3ZnWGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZWFkeVN0YXRlIiwiRE9ORSIsInN0YXR1cyIsInJlc3BvbnNlIiwib3BlbiIsInNlbmQiLCJzdmdTaXplIiwic3ZnV2lkdGgiLCJzdmdIZWlnaHQiLCJfcGl4aUlkIiwiZHJhd0ltYWdlIiwiaXNDb2Nvb25KUyIsImRpc3Bvc2UiLCJ1cGRhdGVTb3VyY2VJbWFnZSIsIm5ld1NyYyIsImltYWdlIiwiSW1hZ2UiLCJjcm9zc09yaWdpbiIsImJhc2VUZXh0dXJlRnJvbUNhY2hlIiwiY29yZSIsIl9UZXh0dXJlMiIsInRlbXBQb2ludCIsIlBvaW50IiwidGVtcFBvbHlnb24iLCJQb2x5Z29uIiwiTWVzaCIsIl9jb3JlJENvbnRhaW5lciIsInZlcnRpY2VzIiwidXZzIiwiaW5kaWNlcyIsImRyYXdNb2RlIiwiX3RleHR1cmUiLCJVaW50MTZBcnJheSIsImRpcnR5IiwiaW5kZXhEaXJ0eSIsImNhbnZhc1BhZGRpbmciLCJUUklBTkdMRV9NRVNIIiwidGludFJnYiIsIl9nbERhdGFzIiwiX3V2VHJhbnNmb3JtIiwidXBsb2FkVXZUcmFuc2Zvcm0iLCJwbHVnaW5OYW1lIiwiX3JlbmRlcldlYkdMIiwicmVuZGVyZXIiLCJyZWZyZXNoIiwic2V0T2JqZWN0UmVuZGVyZXIiLCJwbHVnaW5zIiwicmVuZGVyIiwiX3JlbmRlckNhbnZhcyIsIl9vblRleHR1cmVVcGRhdGUiLCJtdWx0aXBseVV2cyIsImZvcmNlVXBkYXRlIiwiX3JlZnJlc2giLCJfY2FsY3VsYXRlQm91bmRzIiwiX2JvdW5kcyIsImFkZFZlcnRpY2VzIiwiY29udGFpbnNQb2ludCIsInBvaW50IiwiZ2V0Qm91bmRzIiwiY29udGFpbnMiLCJ3b3JsZFRyYW5zZm9ybSIsImFwcGx5SW52ZXJzZSIsInBvaW50cyIsInN0ZXAiLCJpbmQwIiwiaW5kMSIsImluZDIiLCJMb2FkZXIiLCJSZXNvdXJjZSIsImFzeW5jIiwiYjY0IiwiYmFzZTY0IiwiX3NldHRpbmdzIiwiY2hlY2tQcmVjaXNpb24iLCJkZWYiLCJzdWJzdHJpbmciLCJjb3B5IiwiX0dMU2hhZGVyIiwidmVydGV4U3JjIiwiZnJhZ21lbnRTcmMiLCJhdHRyaWJ1dGVMb2NhdGlvbnMiLCJwcmVjaXNpb24iLCJvbkNvbnRleHRDaGFuZ2UiLCJfU3lzdGVtUmVuZGVyZXIzIiwiX0NhbnZhc01hc2tNYW5hZ2VyMiIsIl9DYW52YXNSZW5kZXJUYXJnZXQyIiwiX21hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkyIiwiX1N5c3RlbVJlbmRlcmVyIiwib3B0aW9ucyIsImFyZzIiLCJhcmczIiwicm9vdENvbnRleHQiLCJtYXNrTWFuYWdlciIsInNtb290aFByb3BlcnR5IiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwid2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwibW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwib0ltYWdlU21vb3RoaW5nRW5hYmxlZCIsIm1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwiaW5pdFBsdWdpbnMiLCJibGVuZE1vZGVzIiwiX2FjdGl2ZUJsZW5kTW9kZSIsInJlbmRlcmluZ1RvU2NyZWVuIiwicmVzaXplIiwiZGlzcGxheU9iamVjdCIsInJlbmRlclRleHR1cmUiLCJjbGVhciIsInNraXBVcGRhdGVUcmFuc2Zvcm0iLCJyb290UmVzb2x1dGlvbiIsIl9jYW52YXNSZW5kZXJUYXJnZXQiLCJfbGFzdE9iamVjdFJlbmRlcmVkIiwiY2FjaGVQYXJlbnQiLCJwYXJlbnQiLCJ0ZW1wV3QiLCJfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJfd29ybGRJRCIsImlkZW50aXR5IiwidXBkYXRlVHJhbnNmb3JtIiwic2F2ZSIsInNldFRyYW5zZm9ybSIsImdsb2JhbEFscGhhIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwic2NyZWVuY2FudmFzIiwiY2xlYXJSZWN0IiwiX2JhY2tncm91bmRDb2xvclN0cmluZyIsInRlbXBDb250ZXh0IiwicmVuZGVyQ2FudmFzIiwicmVzdG9yZSIsImNsZWFyQ29sb3IiLCJzZXRCbGVuZE1vZGUiLCJyZW1vdmVWaWV3IiwiZGVzdHJveVBsdWdpbnMiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsImludmFsaWRhdGVCbGVuZE1vZGUiLCJtaXhpbiIsIl9EaXNwbGF5T2JqZWN0MiIsImNoaWxkcmVuIiwib25DaGlsZHJlbkNoYW5nZSIsImFkZENoaWxkIiwiY2hpbGQiLCJhcmd1bWVudHNMZW5ndGgiLCJyZW1vdmVDaGlsZCIsIl9wYXJlbnRJRCIsIl9ib3VuZHNJRCIsImFkZENoaWxkQXQiLCJzd2FwQ2hpbGRyZW4iLCJjaGlsZDIiLCJpbmRleDEiLCJnZXRDaGlsZEluZGV4IiwiaW5kZXgyIiwic2V0Q2hpbGRJbmRleCIsImN1cnJlbnRJbmRleCIsImdldENoaWxkQXQiLCJyZW1vdmVDaGlsZEF0IiwicmVtb3ZlQ2hpbGRyZW4iLCJiZWdpbkluZGV4IiwiZW5kSW5kZXgiLCJiZWdpbiIsInJhbmdlIiwicmVtb3ZlZCIsIl9pIiwiUmFuZ2VFcnJvciIsIndvcmxkQWxwaGEiLCJ2aXNpYmxlIiwiY2FsY3VsYXRlQm91bmRzIiwicmVuZGVyYWJsZSIsIl9tYXNrIiwiYWRkQm91bmRzTWFzayIsImZpbHRlckFyZWEiLCJhZGRCb3VuZHNBcmVhIiwiYWRkQm91bmRzIiwiX2xhc3RCb3VuZHNJRCIsInJlbmRlcldlYkdMIiwiX2ZpbHRlcnMiLCJyZW5kZXJBZHZhbmNlZFdlYkdMIiwiZmx1c2giLCJmaWx0ZXJzIiwibWFzayIsIl9lbmFibGVkRmlsdGVycyIsImVuYWJsZWQiLCJmaWx0ZXJNYW5hZ2VyIiwicHVzaEZpbHRlciIsInB1c2hNYXNrIiwiX2kyIiwicG9wTWFzayIsInBvcEZpbHRlciIsImRlc3Ryb3lDaGlsZHJlbiIsIm9sZENoaWxkcmVuIiwic2NhbGUiLCJnZXRMb2NhbEJvdW5kcyIsIl93aWR0aCIsIl9oZWlnaHQiLCJjb250YWluZXJVcGRhdGVUcmFuc2Zvcm0iLCJncmFwaGljc0RhdGEiLCJ3ZWJHTERhdGEiLCJ3ZWJHTERhdGFOYXRpdmVMaW5lcyIsIm5hdGl2ZUxpbmVzIiwidmVydHMiLCJjb2xvciIsImxpbmVDb2xvciIsImxpbmVBbHBoYSIsImciLCJiIiwicDF4IiwicDF5IiwicDJ4IiwicDJ5IiwiYnVpbGROYXRpdmVMaW5lIiwiZmlyc3RQb2ludCIsImxhc3RQb2ludCIsInBvcCIsIm1pZFBvaW50WCIsIm1pZFBvaW50WSIsImluZGV4Q291bnQiLCJpbmRleFN0YXJ0IiwibGluZVdpZHRoIiwicDN4IiwicDN5IiwicGVycHgiLCJwZXJweSIsInBlcnAyeCIsInBlcnAyeSIsInBlcnAzeCIsInBlcnAzeSIsImRpc3QiLCJzcXJ0IiwiYjEiLCJjMSIsImIyIiwiYzIiLCJkZW5vbSIsImFicyIsInB4IiwicHkiLCJwZGlzdCIsImJ1aWxkTGluZSIsImZyYW1lQnVmZmVyIiwicHJvamVjdGlvbk1hdHJpeCIsIk1hdHJpeCIsImRlZmF1bHRGcmFtZSIsImRlc3RpbmF0aW9uRnJhbWUiLCJzb3VyY2VGcmFtZSIsInN0ZW5jaWxCdWZmZXIiLCJzdGVuY2lsTWFza1N0YWNrIiwiZmlsdGVyRGF0YSIsImZyYW1lYnVmZmVyIiwiY3JlYXRlUkdCQSIsImVuYWJsZU5lYXJlc3RTY2FsaW5nIiwiZW5hYmxlTGluZWFyU2NhbGluZyIsInNldEZyYW1lIiwiY2MiLCJhdHRhY2hTdGVuY2lsQnVmZmVyIiwiZW5hYmxlU3RlbmNpbCIsImFjdGl2YXRlIiwiYmluZCIsImNhbGN1bGF0ZVByb2plY3Rpb24iLCJhcHBlbmQiLCJlbmFibGUiLCJTQ0lTU09SX1RFU1QiLCJzY2lzc29yIiwiZGlzYWJsZSIsInZpZXdwb3J0IiwicG0iLCJhIiwidHgiLCJ0eSIsInByb2plY3Rpb25GcmFtZSIsIl9NYXNrTWFuYWdlcjIiLCJfU3RlbmNpbE1hbmFnZXIyIiwiX0ZpbHRlck1hbmFnZXIyIiwiX1JlbmRlclRhcmdldDIiLCJfT2JqZWN0UmVuZGVyZXIyIiwiX1RleHR1cmVNYW5hZ2VyMiIsIl9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvcjIiLCJfV2ViR0xTdGF0ZTIiLCJfbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkyIiwiX3ZhbGlkYXRlQ29udGV4dDIiLCJfcGl4aUdsQ29yZTIiLCJDT05URVhUX1VJRCIsIkZPUkNFX05BVElWRSIsImhhbmRsZUNvbnRleHRMb3N0IiwiaGFuZGxlQ29udGV4dFJlc3RvcmVkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jb250ZXh0T3B0aW9ucyIsInBvd2VyUHJlZmVyZW5jZSIsIl9iYWNrZ3JvdW5kQ29sb3JSZ2JhIiwic3RlbmNpbE1hbmFnZXIiLCJlbXB0eVJlbmRlcmVyIiwiY3VycmVudFJlbmRlcmVyIiwidGV4dHVyZU1hbmFnZXIiLCJzdGF0ZSIsImJvdW5kVGV4dHVyZXMiLCJfYWN0aXZlU2hhZGVyIiwiX2FjdGl2ZVZhbyIsIl9hY3RpdmVSZW5kZXJUYXJnZXQiLCJfaW5pdENvbnRleHQiLCJkcmF3TW9kZXMiLCJfbmV4dFRleHR1cmVMb2NhdGlvbiIsImlzQ29udGV4dExvc3QiLCJyZXN0b3JlQ29udGV4dCIsIm1heFRleHR1cmVzIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMiLCJlbXB0eVRleHR1cmVzIiwidGV4dHVyZUdDIiwicmVzZXRUb0RlZmF1bHQiLCJyb290UmVuZGVyVGFyZ2V0IiwiYmluZFJlbmRlclRhcmdldCIsImVtcHR5R0xUZXh0dXJlIiwiZnJvbURhdGEiLCJ0ZW1wT2JqIiwiZW1wdHkiLCJiaW5kVGV4dHVyZSIsInNjcmVlbiIsImJpbmRSZW5kZXJUZXh0dXJlIiwib2JqZWN0UmVuZGVyZXIiLCJzdG9wIiwidW5pZm9ybXMiLCJ0b0FycmF5IiwibWF0cml4IiwiY2xlYXJSZW5kZXJUZXh0dXJlIiwicmVuZGVyVGFyZ2V0IiwiX2dsUmVuZGVyVGFyZ2V0cyIsInVwZGF0ZVRleHR1cmUiLCJ1bmJpbmRUZXh0dXJlIiwic2V0TWFza1N0YWNrIiwiYmluZFNoYWRlciIsImF1dG9Qcm9qZWN0IiwibG9jYXRpb24iLCJmb3JjZUxvY2F0aW9uIiwiY291bnQiLCJnbFRleHR1cmUiLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJURVhUVVJFXzJEIiwiY3JlYXRlVmFvIiwiYXR0cmliU3RhdGUiLCJiaW5kVmFvIiwidmFvIiwidW5iaW5kIiwicmVzZXQiLCJwcmV2ZW50RGVmYXVsdCIsInJlbW92ZUFsbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1c2VQcm9ncmFtIiwiX1dlYkdMTWFuYWdlcjIiLCJfQ291bnRMaW1pdGVyIiwiX0NvdW50TGltaXRlcjIiLCJTaGFyZWRUaWNrZXIiLCJzaGFyZWQiLCJVUExPQURTX1BFUl9GUkFNRSIsIkJhc2VQcmVwYXJlIiwibGltaXRlciIsInVwbG9hZEhvb2tIZWxwZXIiLCJxdWV1ZSIsImFkZEhvb2tzIiwidXBsb2FkSG9va3MiLCJjb21wbGV0ZXMiLCJ0aWNraW5nIiwiZGVsYXllZFRpY2siLCJwcmVwYXJlSXRlbXMiLCJyZWdpc3RlckZpbmRIb29rIiwiZmluZFRleHQiLCJmaW5kVGV4dFN0eWxlIiwiZmluZE11bHRpcGxlQmFzZVRleHR1cmVzIiwiZmluZEJhc2VUZXh0dXJlIiwiZmluZFRleHR1cmUiLCJyZWdpc3RlclVwbG9hZEhvb2siLCJkcmF3VGV4dCIsImNhbGN1bGF0ZVRleHRTdHlsZSIsInVwbG9hZCIsIml0ZW0iLCJkb25lIiwiYWRkIiwiYWRkT25jZSIsInRpY2siLCJzZXRUaW1lb3V0IiwiYmVnaW5GcmFtZSIsImFsbG93ZWRUb1VwbG9hZCIsInVwbG9hZGVkIiwic2hpZnQiLCJfbGVuIiwiYWRkSG9vayIsInVwbG9hZEhvb2siLCJyZW1vdmUiLCJfdGV4dHVyZXMiLCJoZWxwZXIiLCJ1cGRhdGVUZXh0IiwiZm9udCIsInRvRm9udFN0cmluZyIsIm1lYXN1cmVGb250Iiwic3R5bGUiLCJfcGFyc2VVcmkyIiwiX21pbmlTaWduYWxzMiIsInVzZVhkciIsIlhEb21haW5SZXF1ZXN0IiwidGVtcEFuY2hvciIsIl9ub29wIiwiX2ZsYWdzIiwiX3NldEZsYWciLCJTVEFUVVNfRkxBR1MiLCJEQVRBX1VSTCIsIl9nZXRFeHRlbnNpb24iLCJsb2FkVHlwZSIsIl9kZXRlcm1pbmVMb2FkVHlwZSIsInhoclR5cGUiLCJtZXRhZGF0YSIsImVycm9yIiwieGhyIiwiVFlQRSIsInByb2dyZXNzQ2h1bmsiLCJfZGVxdWV1ZSIsIl9vbkxvYWRCaW5kaW5nIiwiX2JvdW5kQ29tcGxldGUiLCJfYm91bmRPbkVycm9yIiwiX29uRXJyb3IiLCJfYm91bmRPblByb2dyZXNzIiwiX29uUHJvZ3Jlc3MiLCJfYm91bmRYaHJPbkVycm9yIiwiX3hock9uRXJyb3IiLCJfYm91bmRYaHJPbkFib3J0IiwiX3hock9uQWJvcnQiLCJfYm91bmRYaHJPbkxvYWQiLCJfeGhyT25Mb2FkIiwiX2JvdW5kWGRyT25UaW1lb3V0IiwiX3hkck9uVGltZW91dCIsIm9uU3RhcnQiLCJvblByb2dyZXNzIiwib25Db21wbGV0ZSIsIm9uQWZ0ZXJNaWRkbGV3YXJlIiwic2V0RXh0ZW5zaW9uTG9hZFR5cGUiLCJzZXRFeHRNYXAiLCJfbG9hZFR5cGVNYXAiLCJzZXRFeHRlbnNpb25YaHJUeXBlIiwiX3hoclR5cGVNYXAiLCJvbnRpbWVvdXQiLCJvbnByb2dyZXNzIiwiaXNDb21wbGV0ZSIsIkNPTVBMRVRFIiwiTE9BRElORyIsImRpc3BhdGNoIiwiYWJvcnQiLCJtZXNzYWdlIiwieGRyIiwiRU1QVFlfR0lGIiwiZmlyc3RDaGlsZCIsImxvYWQiLCJjYiIsIl9kZXRlcm1pbmVDcm9zc09yaWdpbiIsIkxPQURfVFlQRSIsIklNQUdFIiwiX2xvYWRFbGVtZW50IiwiQVVESU8iLCJfbG9hZFNvdXJjZUVsZW1lbnQiLCJWSURFTyIsIlhIUiIsIl9sb2FkWGRyIiwiX2xvYWRYaHIiLCJfaGFzRmxhZyIsImZsYWciLCJsb2FkRWxlbWVudCIsInNraXBTb3VyY2UiLCJBdWRpbyIsImlzQXJyYXkiLCJtaW1lVHlwZXMiLCJtaW1lVHlwZSIsImFwcGVuZENoaWxkIiwiX2NyZWF0ZVNvdXJjZSIsIl9taW1lVHlwZXMiLCJfZGV0ZXJtaW5lWGhyVHlwZSIsIlhIUl9SRVNQT05TRV9UWVBFIiwiSlNPTiIsIkRPQ1VNRU5UIiwicmVzcG9uc2VUeXBlIiwiVEVYVCIsInRpbWVvdXQiLCJtaW1lIiwibm9kZU5hbWUiLCJsZW5ndGhDb21wdXRhYmxlIiwibG9hZGVkIiwidG90YWwiLCJyZXFUeXBlIiwic3RhdHVzVGV4dCIsInRleHQiLCJyZXNwb25zZVRleHQiLCJCVUZGRVIiLCJwYXJzZSIsIkRPTVBhcnNlciIsImRvbXBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImRpdiIsImlubmVySFRNTCIsIlhNTCIsInJlc3BvbnNlVVJMIiwibG9jIiwiaHJlZiIsInNhbWVQb3J0Iiwic3RyaWN0TW9kZSIsInBvcnQiLCJwcm90b2NvbCIsImhvc3QiLCJob3N0bmFtZSIsImlzRGF0YVVybCIsInNsYXNoSW5kZXgiLCJxdWVyeVN0YXJ0IiwiaGFzaFN0YXJ0IiwibGFzdEluZGV4T2YiLCJfZ2V0TWltZUZyb21YaHJUeXBlIiwiQkxPQiIsIkRFRkFVTFQiLCJtYXAiLCJ2YWwiLCJyZXBsYWNlIiwiTk9ORSIsImdpZiIsInBuZyIsImJtcCIsImpwZyIsImpwZWciLCJ0aWYiLCJ0aWZmIiwid2VicCIsInRnYSIsInN2ZyIsInN2Zyt4bWwiLCJtcDMiLCJvZ2ciLCJ3YXYiLCJtcDQiLCJ3ZWJtIiwieGh0bWwiLCJodG1sIiwiaHRtIiwieG1sIiwidG14IiwidHN4IiwianNvbiIsInR4dCIsInR0ZiIsIm90ZiIsInRvdGFsSW5kaWNlcyIsIl9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzIiwiZ2V0VGludGVkVGV4dHVyZSIsInNwcml0ZSIsInN0cmluZ0NvbG9yIiwicm91bmRDb2xvciIsInRpbnRDYWNoZSIsImNhY2hlZFRleHR1cmUiLCJ0aW50SWQiLCJ0aW50TWV0aG9kIiwiY29udmVydFRpbnRUb0ltYWdlIiwidGludEltYWdlIiwidG9EYXRhVVJMIiwidGludFdpdGhNdWx0aXBseSIsImNyb3AiLCJjZWlsIiwidGludFdpdGhPdmVybGF5IiwidGludFdpdGhQZXJQaXhlbCIsInJnYlZhbHVlcyIsInBpeGVsRGF0YSIsImdldEltYWdlRGF0YSIsInBpeGVscyIsInB1dEltYWdlRGF0YSIsImNhY2hlU3RlcHNQZXJDb2xvckNoYW5uZWwiLCJjYW5Vc2VNdWx0aXBseSIsIl9CYXNlUmVuZGVyVGV4dHVyZTIiLCJiYXNlUmVuZGVyVGV4dHVyZSIsIl9sZWdhY3lSZW5kZXJlciIsImxlZ2FjeVJlbmRlcmVyIiwiZG9Ob3RSZXNpemVCYXNlVGV4dHVyZSIsIlRpY2tlciIsIl9UaWNrZXIiLCJfVGlja2VyMiIsImF1dG9TdGFydCIsImNvdW50VHJhaWxpbmdaZXJvcyIsInYiLCJJTlRfQklUUyIsIklOVF9NQVgiLCJJTlRfTUlOIiwibWF4IiwibG9nMiIsImxvZzEwIiwicG9wQ291bnQiLCJuZXh0UG93MiIsInByZXZQb3cyIiwicGFyaXR5IiwiUkVWRVJTRV9UQUJMRSIsInRhYiIsInJldmVyc2UiLCJpbnRlcmxlYXZlMiIsImRlaW50ZXJsZWF2ZTIiLCJpbnRlcmxlYXZlMyIsInoiLCJkZWludGVybGVhdmUzIiwibmV4dENvbWJpbmF0aW9uIiwidCIsIl9Db250YWluZXIzIiwiX2FuY2hvciIsIk9ic2VydmFibGVQb2ludCIsIl9vbkFuY2hvclVwZGF0ZSIsIl90aW50IiwiX3RpbnRSR0IiLCJjYWNoZWRUaW50IiwidmVydGV4RGF0YSIsInZlcnRleFRyaW1tZWREYXRhIiwiX3RyYW5zZm9ybUlEIiwiX3RleHR1cmVJRCIsIl90cmFuc2Zvcm1UcmltbWVkSUQiLCJfdGV4dHVyZVRyaW1tZWRJRCIsImNhbGN1bGF0ZVZlcnRpY2VzIiwid3QiLCJhbmNob3IiLCJ3MCIsIncxIiwiaDAiLCJoMSIsIl94IiwiX3kiLCJjYWxjdWxhdGVUcmltbWVkVmVydGljZXMiLCJhZGRRdWFkIiwicmVjdCIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJfbG9jYWxCb3VuZHNSZWN0IiwiZ2V0UmVjdGFuZ2xlIiwieDEiLCJ5MSIsImRlc3Ryb3lCYXNlVGV4dHVyZSIsImltYWdlSWQiLCJob2xlSW5kaWNlcyIsImRpbSIsImludlNpemUiLCJoYXNIb2xlcyIsIm91dGVyTGVuIiwib3V0ZXJOb2RlIiwibGlua2VkTGlzdCIsInRyaWFuZ2xlcyIsImxpc3QiLCJuZXh0Iiwic3RlaW5lciIsImdldExlZnRtb3N0Iiwic29ydCIsImNvbXBhcmVYIiwiZWxpbWluYXRlSG9sZSIsImZpbHRlclBvaW50cyIsImVsaW1pbmF0ZUhvbGVzIiwiZWFyY3V0TGlua2VkIiwiY2xvY2t3aXNlIiwic2lnbmVkQXJlYSIsImluc2VydE5vZGUiLCJlcXVhbHMiLCJyZW1vdmVOb2RlIiwiYWdhaW4iLCJhcmVhIiwicHJldiIsImVhciIsInBhc3MiLCJ6T3JkZXIiLCJwcmV2WiIsIm5leHRaIiwicSIsInRhaWwiLCJudW1NZXJnZXMiLCJwU2l6ZSIsInFTaXplIiwiaW5TaXplIiwic29ydExpbmtlZCIsImluZGV4Q3VydmUiLCJpc0Vhckhhc2hlZCIsImlzRWFyIiwiY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyIsInNwbGl0RWFyY3V0IiwicG9pbnRJblRyaWFuZ2xlIiwibWluVFgiLCJtaW5UWSIsIm1heFRYIiwibWF4VFkiLCJtaW5aIiwibWF4WiIsImludGVyc2VjdHMiLCJsb2NhbGx5SW5zaWRlIiwiaXNWYWxpZERpYWdvbmFsIiwic3BsaXRQb2x5Z29uIiwiaG9sZSIsImh4IiwiaHkiLCJxeCIsIkluZmluaXR5IiwidGFuIiwibXgiLCJteSIsInRhbk1pbiIsImZpbmRIb2xlQnJpZGdlIiwibGVmdG1vc3QiLCJheCIsImF5IiwiYngiLCJieSIsImN4IiwiY3kiLCJpbnRlcnNlY3RzUG9seWdvbiIsImluc2lkZSIsIm1pZGRsZUluc2lkZSIsInAxIiwicDIiLCJxMSIsInEyIiwiTm9kZSIsImFuIiwiYnAiLCJzdW0iLCJkZXZpYXRpb24iLCJwb2x5Z29uQXJlYSIsInRyaWFuZ2xlc0FyZWEiLCJmbGF0dGVuIiwiaG9sZXMiLCJkaW1lbnNpb25zIiwiaG9sZUluZGV4IiwibG9jYWxUcmFuc2Zvcm0iLCJ1cGRhdGVMb2NhbFRyYW5zZm9ybSIsInBhcmVudFRyYW5zZm9ybSIsInB0IiwibHQiLCJ1cGRhdGVXb3JsZFRyYW5zZm9ybSIsIklERU5USVRZIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwiZ2xvYmFsIiwiYXBwbGVfcGhvbmUiLCJhcHBsZV9pcG9kIiwiYXBwbGVfdGFibGV0IiwiYW5kcm9pZF9waG9uZSIsImFuZHJvaWRfdGFibGV0IiwiYW1hem9uX3Bob25lIiwiYW1hem9uX3RhYmxldCIsIndpbmRvd3NfcGhvbmUiLCJ3aW5kb3dzX3RhYmxldCIsIm90aGVyX2JsYWNrYmVycnkiLCJvdGhlcl9ibGFja2JlcnJ5XzEwIiwib3RoZXJfb3BlcmEiLCJvdGhlcl9jaHJvbWUiLCJvdGhlcl9maXJlZm94Iiwic2V2ZW5faW5jaCIsIklzTW9iaWxlQ2xhc3MiLCJpbnN0YW50aWF0ZSIsIlJlZ0V4cCIsInJlZ2V4IiwidGVzdCIsInVhIiwidG1wIiwiYXBwbGUiLCJwaG9uZSIsImlwb2QiLCJ0YWJsZXQiLCJkZXZpY2UiLCJhbWF6b24iLCJhbmRyb2lkIiwid2luZG93cyIsIm90aGVyIiwiYmxhY2tiZXJyeSIsImJsYWNrYmVycnkxMCIsIm9wZXJhIiwiZmlyZWZveCIsImNocm9tZSIsImFueSIsIklNIiwiQ2xhc3MiLCJpc0VtcHR5IiwidXBkYXRlSUQiLCJhZGRQb2ludCIsImFkZEZyYW1lIiwieDAiLCJ5MCIsImJlZ2luT2Zmc2V0IiwiZW5kT2Zmc2V0IiwicmF3WCIsInJhd1kiLCJib3VuZHMiLCJfbWluWCIsIl9taW5ZIiwiX21heFgiLCJfbWF4WSIsIkdMX1RBQkxFIiwiR0xfVE9fR0xTTF9UWVBFUyIsIkZMT0FUIiwiRkxPQVRfVkVDMiIsIkZMT0FUX1ZFQzMiLCJGTE9BVF9WRUM0IiwiSU5UIiwiSU5UX1ZFQzIiLCJJTlRfVkVDMyIsIklOVF9WRUM0IiwiQk9PTCIsIkJPT0xfVkVDMiIsIkJPT0xfVkVDMyIsIkJPT0xfVkVDNCIsIkZMT0FUX01BVDIiLCJGTE9BVF9NQVQzIiwiRkxPQVRfTUFUNCIsIlNBTVBMRVJfMkQiLCJ0eXBlTmFtZXMiLCJ0biIsInJlY3RhbmdsZSIsInBhZCIsInBhZGRpbmdYIiwicGFkZGluZ1kiLCJmaXQiLCJlbmxhcmdlIiwieDIiLCJ5MiIsIl9Qb2ludDIiLCJhcnJheSIsImZyb21BcnJheSIsInRyYW5zcG9zZSIsInBvcyIsIm5ld1BvcyIsInRyYW5zbGF0ZSIsImFuZ2xlIiwiY29zIiwic2luIiwidHgxIiwiZDEiLCJwaXZvdFgiLCJwaXZvdFkiLCJzY2FsZVgiLCJzY2FsZVkiLCJyb3RhdGlvbiIsInNrZXdYIiwic2tld1kiLCJwcmVwZW5kIiwiZGVjb21wb3NlIiwiYXRhbjIiLCJkZWx0YSIsInNrZXciLCJwb3NpdGlvbiIsImludmVydCIsIkZ1bmN0aW9uIiwiZXZhbCIsIkNyZWF0ZVdvcmxkXzEiLCJQbGF5ZXJfMSIsIkVuZW15XzEiLCJSYW5nZVBpY2tVcF8xIiwiR2FtZSIsImtleVN0YXRlIiwiY2hhcmFjdGVyc0FycmF5Iiwicm9ja3MiLCJnYW1lT2JqZWN0cyIsInBsYXllckNvbnRhaW5lciIsImNoYXJhY3RlckNvbnRhaW5lciIsIndvcmxkQ29udGFpbmVyIiwiZ2FtZU9iamVjdENvbnRhaW5lciIsImhlaWd0aCIsInBpeGkiLCJpbm5lckhlaWdodCIsImRldmljZVBpeGVsUmF0aW8iLCJmb3JjZUNhbnZhcyIsImRpc3BsYXkiLCJpbm5lcldpZHRoIiwiYm9keSIsInN0YWdlIiwibG9hZGVyIiwic2V0dXAiLCJnZXRJbnN0YW5jZSIsImFkZFJvY2siLCJ0aWxlIiwiZW5lbXkiLCJwbGF5ZXIiLCJyYW5nZVBpY2t1cCIsImtleUNvZGUiLCJ3aGljaCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImdhbWVMb29wIiwiX2EiLCJrZXlQcmVzc2VkIiwiZW5lbXlNb3ZlIiwibW92ZSIsIl9iIiwiX2MiLCJfZCIsIl9lIiwiY2hlY2tDb2xsaXNpb24iLCJwaXZvdCIsIkdhbWVfMSIsIkNoYXJhY3RlcnMiLCJ0aWxlc2V0Iiwic3ByaXRlTmFtZSIsImhlYWx0aCIsInZ4IiwidnkiLCJzcGVlZCIsIlRlbXBfRnJhbWVzZXQiLCJqdW1wRnJhbWVzIiwibGVmdEZyYW1lcyIsInJpZ2h0RnJhbWVzIiwiaG9sZEZyYW1lIiwicmVzb3VyY2VzIiwidGV4dHVyZXMiLCJ0ZW1wRnJhbWUiLCJ0aW1lIiwiZXh0cmFzIiwiQW5pbWF0ZWRTcHJpdGUiLCJ3aWxsQ29sbGlkZSIsInRpbGVzXzEiLCJ0aWxlcyIsImlzQ29sbGlkaW5nIiwiQ291bnRMaW1pdGVyIiwibWF4SXRlbXNQZXJGcmFtZSIsIml0ZW1zTGVmdCIsIl9NZXNoMiIsIl9NZXNoMyIsIlBsYW5lIiwiX01lc2giLCJ2ZXJ0aWNlc1giLCJ2ZXJ0aWNlc1kiLCJfcmVhZHkiLCJzZWdtZW50c1giLCJzZWdtZW50c1kiLCJzaXplWCIsInNpemVZIiwidG90YWxTdWIiLCJ4cG9zIiwieXBvcyIsInZhbHVlMiIsInZhbHVlMyIsInZhbHVlNCIsImNvbG9ycyIsInJlc291cmNlIiwiX3Jlc291cmNlTG9hZGVyIiwiaW1hZ2VSZXNvdXJjZU5hbWUiLCJmcmFtZXMiLCJsb2FkT3B0aW9ucyIsImltYWdlTWV0YWRhdGEiLCJwYXJlbnRSZXNvdXJjZSIsInJlc291cmNlUGF0aCIsImdldFJlc291cmNlUGF0aCIsImJhc2VVcmwiLCJzcHJpdGVzaGVldCIsIl9jb3JlIiwiX3VybCIsIl91cmwyIiwibWV0YSIsImVuY29kZUJpbmFyeSIsImlucHV0Iiwib3V0cHV0IiwiaW54IiwiYnl0ZWJ1ZmZlciIsImVuY29kZWRDaGFySW5kZXhlcyIsImpueCIsImNoYXJDb2RlQXQiLCJwYWRkaW5nQnl0ZXMiLCJfam54IiwiX2tleVN0ciIsIm9ubHlPbmNlIiwiY2FsbEZuIiwiZWFjaFNlcmllcyIsIml0ZXJhdG9yIiwiY2FsbGJhY2siLCJkZWZlck5leHQiLCJlcnIiLCJ3b3JrZXIiLCJjb25jdXJyZW5jeSIsIndvcmtlcnMiLCJfdGFza3MiLCJzYXR1cmF0ZWQiLCJ1bnNhdHVyYXRlZCIsImJ1ZmZlciIsImRyYWluIiwic3RhcnRlZCIsInBhdXNlZCIsIl9pbnNlcnQiLCJraWxsIiwidGFzayIsIl9uZXh0IiwicnVubmluZyIsImlkbGUiLCJwYXVzZSIsInJlc3VtZSIsInciLCJpbnNlcnRBdEZyb250Iiwib3B0cyIsInBhcnNlciIsInN0cmljdCIsImxvb3NlIiwidXJpIiwiJDAiLCIkMSIsIiQyIiwiTWluaVNpZ25hbEJpbmRpbmciLCJ0aGlzQXJnIiwiX2ZuIiwiX29uY2UiLCJfdGhpc0FyZyIsIl9wcmV2IiwiX293bmVyIiwiZGV0YWNoIiwiX2FkZE1pbmlTaWduYWxCaW5kaW5nIiwibm9kZSIsIl9oZWFkIiwiX3RhaWwiLCJNaW5pU2lnbmFsIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJnZXRBdHRyaWJ1dGUiLCJ4bWxVcmwiLCJ0ZXh0dXJlVXJsIiwiX2V4dHJhcyIsImJpdG1hcEZvbnQiLCJCaXRtYXBUZXh0IiwicmVnaXN0ZXJGb250IiwiaW50ZXJhY3RpdmUiLCJpbnRlcmFjdGl2ZUNoaWxkcmVuIiwiaGl0QXJlYSIsImJ1dHRvbk1vZGUiLCJjdXJzb3IiLCJ0cmFja2VkUG9pbnRlcnMiLCJfdHJhY2tlZFBvaW50ZXJzIiwiSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEiLCJwb2ludGVySWQiLCJfcG9pbnRlcklkIiwiRkxBR1MiLCJfZG9TZXQiLCJ5biIsImZsYWdzIiwiT1ZFUiIsIlJJR0hUX0RPV04iLCJMRUZUX0RPV04iLCJmcmVlemUiLCJJbnRlcmFjdGlvbkV2ZW50Iiwic3RvcHBlZCIsImN1cnJlbnRUYXJnZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJJbnRlcmFjdGlvbkRhdGEiLCJvcmlnaW5hbEV2ZW50IiwiaWRlbnRpZmllciIsImlzUHJpbWFyeSIsImJ1dHRvbiIsImJ1dHRvbnMiLCJ0aWx0WCIsInRpbHRZIiwicG9pbnRlclR5cGUiLCJwcmVzc3VyZSIsInJvdGF0aW9uQW5nbGUiLCJ0d2lzdCIsInRhbmdlbnRpYWxQcmVzc3VyZSIsImdldExvY2FsUG9zaXRpb24iLCJnbG9iYWxQb3MiLCJjb3B5RXZlbnQiLCJpc0ludGVnZXIiLCJfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZTIiLCJfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIiLCJfZ2V0TWF4Qmx1cktlcm5lbFNpemUyIiwiQmx1cllGaWx0ZXIiLCJfY29yZSRGaWx0ZXIiLCJzdHJlbmd0aCIsInF1YWxpdHkiLCJrZXJuZWxTaXplIiwidmVydFNyYyIsImZyYWdTcmMiLCJfcXVhbGl0eSIsImZpcnN0UnVuIiwicGFzc2VzIiwiYXBwbHlGaWx0ZXIiLCJnZXRSZW5kZXJUYXJnZXQiLCJmbGlwIiwiZmxvcCIsInRlbXAiLCJyZXR1cm5SZW5kZXJUYXJnZXQiLCJwYWRkaW5nIiwibWF4VmFyeWluZ3MiLCJNQVhfVkFSWUlOR19WRUNUT1JTIiwia2VybmVsIiwiR0FVU1NJQU5fVkFMVUVTIiwiaGFsZkxlbmd0aCIsImZyYWdTb3VyY2UiLCJmcmFnVGVtcGxhdGUiLCJibHVyTG9vcCIsImJsdXIiLCI1IiwiNyIsIjkiLCIxMSIsIjEzIiwiMTUiLCJ2ZXJ0U291cmNlIiwidmVydFRlbXBsYXRlIiwidGVtcGxhdGUiLCJCbHVyWEZpbHRlciIsIlRpbGluZ1Nwcml0ZVJlbmRlcmVyIiwiVGlsaW5nU3ByaXRlIiwiX0FuaW1hdGVkU3ByaXRlIiwiX1RpbGluZ1Nwcml0ZSIsIl9UaWxpbmdTcHJpdGVSZW5kZXJlciIsIl9CaXRtYXBUZXh0IiwiYWNjZXNzaWJsZSIsImFjY2Vzc2libGVUaXRsZSIsImFjY2Vzc2libGVIaW50IiwidGFiSW5kZXgiLCJfYWNjZXNzaWJsZUFjdGl2ZSIsIl9hY2Nlc3NpYmxlRGl2IiwiYXJnMSIsIl9Db250YWluZXIyIiwiX3RpY2tlciIsImFyZzQiLCJhcmc1IiwiYXNzaWduIiwic2hhcmVkVGlja2VyIiwiX29wdGlvbnMiLCJzaGFyZWRMb2FkZXIiLCJvbGRUaWNrZXIiLCJmaWxsQ29sb3IiLCJmaWxsQWxwaGEiLCJmaWxsIiwic2hhcGUiLCJfbGluZVRpbnQiLCJfZmlsbFRpbnQiLCJhZGRIb2xlIiwibGluZXMiLCJsaW5lV2lkdGhzIiwibGluZUhlaWdodCIsIm1heExpbmVXaWR0aCIsImZvbnRQcm9wZXJ0aWVzIiwibWVhc3VyZVRleHQiLCJ3b3JkV3JhcCIsIl9jYW52YXMiLCJsZXR0ZXJTcGFjaW5nIiwic3Ryb2tlVGhpY2tuZXNzIiwiZHJvcFNoYWRvdyIsImRyb3BTaGFkb3dEaXN0YW5jZSIsImZvbnRTaXplIiwibGVhZGluZyIsImxpbmUiLCJjYWNoZSIsImxzIiwid29yZFdyYXBXaWR0aCIsInNwYWNlV2lkdGgiLCJnZXRGcm9tQ2FjaGUiLCJ3b3JkcyIsIndvcmQiLCJ3b3JkV2lkdGgiLCJicmVha1dvcmRzIiwiY2hhcmFjdGVycyIsImNoYXJhY3RlciIsImNoYXJhY3RlcldpZHRoIiwiYWRkTGluZSIsInNwYWNpbmciLCJfZm9udHMiLCJwcm9wZXJ0aWVzIiwiX2NvbnRleHQiLCJiYXNlbGluZSIsInRleHRCYXNlbGluZSIsImZpbGxUZXh0IiwiaW1hZ2VkYXRhIiwiaWR4IiwiYXNjZW50IiwiX2oiLCJkZXNjZW50IiwiZGVmYXVsdFN0eWxlIiwiYWxpZ24iLCJkcm9wU2hhZG93QWxwaGEiLCJkcm9wU2hhZG93QW5nbGUiLCJkcm9wU2hhZG93Qmx1ciIsImRyb3BTaGFkb3dDb2xvciIsImZpbGxHcmFkaWVudFR5cGUiLCJmaWxsR3JhZGllbnRTdG9wcyIsImZvbnRGYW1pbHkiLCJmb250U3R5bGUiLCJmb250VmFyaWFudCIsImZvbnRXZWlnaHQiLCJsaW5lSm9pbiIsIm1pdGVyTGltaXQiLCJzdHJva2UiLCJzdHlsZUlEIiwiZGVlcENvcHlQcm9wZXJ0aWVzIiwiY2xvbmVkUHJvcGVydGllcyIsImZvbnRTaXplU3RyaW5nIiwiZm9udEZhbWlsaWVzIiwiX2FsaWduIiwiX2JyZWFrV29yZHMiLCJfZHJvcFNoYWRvdyIsIl9kcm9wU2hhZG93QWxwaGEiLCJfZHJvcFNoYWRvd0FuZ2xlIiwiX2Ryb3BTaGFkb3dCbHVyIiwiX2Ryb3BTaGFkb3dDb2xvciIsIm91dHB1dENvbG9yIiwiZ2V0Q29sb3IiLCJfZHJvcFNoYWRvd0Rpc3RhbmNlIiwiX2ZpbGwiLCJfZmlsbEdyYWRpZW50VHlwZSIsIl9maWxsR3JhZGllbnRTdG9wcyIsImFycmF5MSIsImFycmF5MiIsImFyZUFycmF5c0VxdWFsIiwiX2ZvbnRGYW1pbHkiLCJfZm9udFNpemUiLCJfZm9udFN0eWxlIiwiX2ZvbnRWYXJpYW50IiwiX2ZvbnRXZWlnaHQiLCJfbGV0dGVyU3BhY2luZyIsIl9saW5lSGVpZ2h0IiwiX2xlYWRpbmciLCJfbGluZUpvaW4iLCJfbWl0ZXJMaW1pdCIsIl9wYWRkaW5nIiwiX3N0cm9rZSIsIl9zdHJva2VUaGlja25lc3MiLCJfdGV4dEJhc2VsaW5lIiwiX3RyaW0iLCJfd29yZFdyYXAiLCJfd29yZFdyYXBXaWR0aCIsImdldFNpbmdsZUNvbG9yIiwicHJvcGVydHlPYmoiLCJwcm9wIiwiX2NyZWF0ZUluZGljZXNGb3JRdWFkczIiLCJpbnRlcmxlYXZlZCIsInZlcnRleEJ1ZmZlciIsImNyZWF0ZVZlcnRleEJ1ZmZlciIsIlNUQVRJQ19EUkFXIiwiaW5kZXhCdWZmZXIiLCJjcmVhdGVJbmRleEJ1ZmZlciIsImluaXRWYW8iLCJhZGRJbmRleCIsImFkZEF0dHJpYnV0ZSIsImF0dHJpYnV0ZXMiLCJhVmVydGV4UG9zaXRpb24iLCJhVGV4dHVyZUNvb3JkIiwidGFyZ2V0VGV4dHVyZUZyYW1lIiwiZGVsZXRlQnVmZmVyIiwiX01hdHJpeDIiLCJ0ZW1wTWF0IiwiY2xhbXBNYXJnaW4iLCJtYXBDb29yZCIsInVDbGFtcEZyYW1lIiwidUNsYW1wT2Zmc2V0IiwiX2xhc3RUZXh0dXJlSUQiLCJjbGFtcE9mZnNldCIsIm1hdCIsIngzIiwieTMiLCJ0ZXhCYXNlIiwibWFyZ2luIiwib2Zmc2V0IiwiX2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMyIiwiU09VUkNFX0tFWV9NQVAiLCJkZWZhdWx0VmVydGV4U3JjIiwiZGVmYXVsdEZyYWdtZW50U3JjIiwiX2JsZW5kTW9kZSIsInVuaWZvcm1EYXRhIiwiZ2xTaGFkZXJzIiwiZ2xTaGFkZXJLZXkiLCJhdXRvRml0IiwiY3VycmVudFN0YXRlIiwiX0ZpbHRlcjMiLCJfVGV4dHVyZU1hdHJpeDIiLCJtYXNrTWF0cml4IiwibWFza1Nwcml0ZSIsIm90aGVyTWF0cml4IiwiY2FsY3VsYXRlU3ByaXRlTWF0cml4IiwibWFza0NsYW1wIiwiY3JlYXRlQ29sb3JlZENhbnZhcyIsIm1hZ2VudGEiLCJ5ZWxsb3ciLCJpbWFnZURhdGEiLCJfQmFzZVRleHR1cmUzIiwiX1JlbmRlclRleHR1cmUyIiwidGVtcE1hdHJpeCIsIlN5c3RlbVJlbmRlcmVyIiwic3lzdGVtIiwiX2JhY2tncm91bmRDb2xvciIsImdlbmVyYXRlVGV4dHVyZSIsInJlZ2lvbiIsInBhcmVudE5vZGUiLCJfR3JvdXBEMiIsInV2c1VpbnQzMiIsIlVpbnQzMkFycmF5IiwiYmFzZUZyYW1lIiwidHciLCJ0aCIsIncyIiwiaDIiLCJjWCIsImNZIiwiTlciLCJ1WCIsInVZIiwiSEFWRV9FTk9VR0hfREFUQSIsIkhBVkVfRlVUVVJFX0RBVEEiLCJfYXV0b1VwZGF0ZSIsIl9pc0F1dG9VcGRhdGluZyIsImF1dG9QbGF5IiwiX29uQ2FuUGxheSIsIl9vblBsYXlTdGFydCIsIl9vblBsYXlTdG9wIiwiX19sb2FkZWQiLCJfaXNTb3VyY2VSZWFkeSIsIl9pc1NvdXJjZVBsYXlpbmciLCJjdXJyZW50VGltZSIsImVuZGVkIiwiYXV0b1VwZGF0ZSIsInBsYXkiLCJ2aWRlb1NyYyIsInNldEF0dHJpYnV0ZSIsImNyZWF0ZVNvdXJjZSIsImZyb21VcmxzIiwicHVueWNvZGUiLCJ1dGlsIiwiVXJsIiwic2xhc2hlcyIsImF1dGgiLCJoYXNoIiwic2VhcmNoIiwicXVlcnkiLCJwYXRobmFtZSIsInVybFBhcnNlIiwicmVzb2x2ZU9iamVjdCIsImZvcm1hdCIsImlzU3RyaW5nIiwicHJvdG9jb2xQYXR0ZXJuIiwicG9ydFBhdHRlcm4iLCJzaW1wbGVQYXRoUGF0dGVybiIsInVud2lzZSIsImF1dG9Fc2NhcGUiLCJub25Ib3N0Q2hhcnMiLCJob3N0RW5kaW5nQ2hhcnMiLCJob3N0bmFtZVBhcnRQYXR0ZXJuIiwiaG9zdG5hbWVQYXJ0U3RhcnQiLCJ1bnNhZmVQcm90b2NvbCIsImphdmFzY3JpcHQiLCJqYXZhc2NyaXB0OiIsImhvc3RsZXNzUHJvdG9jb2wiLCJzbGFzaGVkUHJvdG9jb2wiLCJodHRwIiwiaHR0cHMiLCJmdHAiLCJnb3BoZXIiLCJmaWxlIiwiaHR0cDoiLCJodHRwczoiLCJmdHA6IiwiZ29waGVyOiIsImZpbGU6IiwicXVlcnlzdHJpbmciLCJwYXJzZVF1ZXJ5U3RyaW5nIiwic2xhc2hlc0Rlbm90ZUhvc3QiLCJpc09iamVjdCIsInUiLCJxdWVyeUluZGV4Iiwic3BsaXR0ZXIiLCJ1U3BsaXQiLCJyZXN0Iiwic2ltcGxlUGF0aCIsInByb3RvIiwibG93ZXJQcm90byIsImF0U2lnbiIsImhvc3RFbmQiLCJoZWMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJwYXJzZUhvc3QiLCJpcHY2SG9zdG5hbWUiLCJob3N0cGFydHMiLCJwYXJ0IiwibmV3cGFydCIsImsiLCJ2YWxpZFBhcnRzIiwibm90SG9zdCIsImJpdCIsInRvQVNDSUkiLCJoIiwiYWUiLCJlc2MiLCJlbmNvZGVVUklDb21wb25lbnQiLCJlc2NhcGUiLCJxbSIsInN0cmluZ2lmeSIsInJlbCIsInRrZXlzIiwidGsiLCJ0a2V5IiwicmtleXMiLCJyayIsInJrZXkiLCJyZWxQYXRoIiwiaXNTb3VyY2VBYnMiLCJpc1JlbEFicyIsIm11c3RFbmRBYnMiLCJyZW1vdmVBbGxEb3RzIiwic3JjUGF0aCIsInBzeWNob3RpYyIsImlzTnVsbE9yVW5kZWZpbmVkIiwiYXV0aEluSG9zdCIsImlzTnVsbCIsImhhc1RyYWlsaW5nU2xhc2giLCJfdXJsMyIsIl9UcmFuc2Zvcm1CYXNlMiIsInVwZGF0ZVNrZXciLCJfcm90YXRpb24iLCJfY3giLCJfc3giLCJfY3kiLCJfc3kiLCJzZXRGcm9tTWF0cml4Iiwib25DaGFuZ2UiLCJfbG9jYWxJRCIsIl9jdXJyZW50TG9jYWxJRCIsIl9UcmFuc2Zvcm1TdGF0aWMyIiwiX1RyYW5zZm9ybTIiLCJfQm91bmRzMiIsIlRyYW5zZm9ybUNsYXNzIiwidGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJfYm91bmRzUmVjdCIsIl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtIiwic2tpcFVwZGF0ZSIsInRyYW5zZm9ybVJlZiIsInBhcmVudFJlZiIsInRvR2xvYmFsIiwiZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSIsInRvTG9jYWwiLCJzZXRQYXJlbnQiLCJjb250YWluZXIiLCJfY3VycmVudEJvdW5kcyIsImlzTWFzayIsImdlbmVyYXRlR2V0dGVyIiwiR0xTTF9TSU5HTEVfU0VUVEVSUyIsImZsb2F0IiwidW5pZm9ybTFmIiwidmVjMiIsInVuaWZvcm0yZiIsInZlYzMiLCJ1bmlmb3JtM2YiLCJ2ZWM0IiwidW5pZm9ybTRmIiwiaW50IiwidW5pZm9ybTFpIiwiaXZlYzIiLCJ1bmlmb3JtMmkiLCJpdmVjMyIsInVuaWZvcm0zaSIsIml2ZWM0IiwidW5pZm9ybTRpIiwiYm9vbCIsImJ2ZWMyIiwiYnZlYzMiLCJidmVjNCIsIm1hdDIiLCJ1bmlmb3JtTWF0cml4MmZ2IiwibWF0MyIsInVuaWZvcm1NYXRyaXgzZnYiLCJtYXQ0IiwidW5pZm9ybU1hdHJpeDRmdiIsInNhbXBsZXIyRCIsIkdMU0xfQVJSQVlfU0VUVEVSUyIsInVuaWZvcm0xZnYiLCJ1bmlmb3JtMmZ2IiwidW5pZm9ybTNmdiIsInVuaWZvcm00ZnYiLCJ1bmlmb3JtMWl2IiwidW5pZm9ybTJpdiIsInVuaWZvcm0zaXYiLCJ1bmlmb3JtNGl2IiwiZ2VuZXJhdGVTZXR0ZXIiLCJ1bmlmb3JtIiwiZ2V0VW5pZm9ybUdyb3VwIiwibmFtZVRva2VucyIsImN1ciIsInVuaWZvcm1LZXlzIiwiZnVsbE5hbWUiLCJ1bmlmb3JtR3JvdXAiLCJib29sZWFuQXJyYXkiLCJJbnQzMkFycmF5IiwibWFwVHlwZSIsInByb2dyYW0iLCJ0b3RhbFVuaWZvcm1zIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkFDVElWRV9VTklGT1JNUyIsImdldEFjdGl2ZVVuaWZvcm0iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJHTFNMX1RPX1NJWkUiLCJtYXBTaXplIiwicG9pbnRlciIsIm5vcm1hbGl6ZWQiLCJzdHJpZGUiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwidG90YWxBdHRyaWJ1dGVzIiwiQUNUSVZFX0FUVFJJQlVURVMiLCJhdHRyaWJEYXRhIiwiZ2V0QWN0aXZlQXR0cmliIiwiZ2V0QXR0cmliTG9jYXRpb24iLCJjb21waWxlU2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyU291cmNlIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJnZXRTaGFkZXJJbmZvTG9nIiwiZ2xWZXJ0U2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsImdsRnJhZ1NoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJiaW5kQXR0cmliTG9jYXRpb24iLCJsaW5rUHJvZ3JhbSIsIkxJTktfU1RBVFVTIiwiVkFMSURBVEVfU1RBVFVTIiwiZ2V0RXJyb3IiLCJnZXRQcm9ncmFtSW5mb0xvZyIsImRlbGV0ZVByb2dyYW0iLCJkZWxldGVTaGFkZXIiLCJjcmVhdGVUZXh0dXJlIiwicHJlbXVsdGlwbHlBbHBoYSIsIlJHQkEiLCJVTlNJR05FRF9CWVRFIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wiLCJuZXdXaWR0aCIsIm5ld0hlaWdodCIsInRleEltYWdlMkQiLCJ0ZXhTdWJJbWFnZTJEIiwiRkxPQVRJTkdfUE9JTlRfQVZBSUxBQkxFIiwidXBsb2FkRGF0YSIsIm1pbkZpbHRlciIsImxpbmVhciIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX01JTl9GSUxURVIiLCJMSU5FQVJfTUlQTUFQX0xJTkVBUiIsIk5FQVJFU1RfTUlQTUFQX05FQVJFU1QiLCJtYWdGaWx0ZXIiLCJURVhUVVJFX01BR19GSUxURVIiLCJlbmFibGVNaXBtYXAiLCJnZW5lcmF0ZU1pcG1hcCIsImVuYWJsZVdyYXBDbGFtcCIsIlRFWFRVUkVfV1JBUF9TIiwiQ0xBTVBfVE9fRURHRSIsIlRFWFRVUkVfV1JBUF9UIiwiZW5hYmxlV3JhcFJlcGVhdCIsImVuYWJsZVdyYXBNaXJyb3JSZXBlYXQiLCJkZWxldGVUZXh0dXJlIiwiZnJvbVNvdXJjZSIsImF0dHJpYnMiLCJ0ZW1wQXR0cmliU3RhdGUiLCJhdHRyaWJ1dGUiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImF0dHJpYiIsInV4IiwidXkiLCJ0ZW1wTWF0cmljZXMiLCJtdWwiLCJzaWdudW0iLCJyb3ciLCJfdXgiLCJfdXkiLCJfdngiLCJfdnkiLCJpbml0IiwiR3JvdXBEOCIsIkUiLCJTRSIsIlMiLCJTVyIsIlciLCJOIiwiTkUiLCJNSVJST1JfVkVSVElDQUwiLCJNSVJST1JfSE9SSVpPTlRBTCIsImluZCIsInZYIiwidlkiLCJpbnYiLCJyb3RhdGlvblNlY29uZCIsInJvdGF0aW9uRmlyc3QiLCJzdWIiLCJyb3RhdGUxODAiLCJpc1ZlcnRpY2FsIiwiYnlEaXJlY3Rpb24iLCJkeCIsImR5IiwibWF0cml4QXBwZW5kUm90YXRpb25JbnYiLCJfX2Rpcm5hbWUiLCJtb2RlIiwiZGV2dG9vbCIsImVudHJ5IiwicHVibGljUGF0aCIsImV4dGVuc2lvbnMiLCJydWxlcyIsIlJvY2siLCJnYW1lIiwieHNwZWVkIiwiY29sbGlkZSIsImNoZWNrQ29sbHNpb25Gb3JBdHRhY2siLCJSb2NrXzEiLCJSYW5nZUF0dGFjayIsImF0dGFja0ZyYW1lcyIsImNvdW50RG93biIsImF0dGFjayIsImNvb2xEb3duIiwicm9jayIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiUmFuZ2VBdHRhY2tfMSIsIkdhbWVPYmplY3QiLCJjaGFuZ2VBdHRhY2siLCJSYW5nZVBpY2tVcCIsIl9zdXBlciIsIl9fZXh0ZW5kcyIsIkVuZW15IiwicmFuZG9tTnVtYmVyIiwiZW5lbXlNb3ZlR2VuZXJhdG9yIiwiaGVhbHRoYmFyIiwiYmVnaW5GaWxsIiwiZHJhd1JlY3QiLCJlbmRGaWxsIiwiZGFtYWdlIiwiZmxvb3IiLCJyYW5kb20iLCJNZWxlZUF0dGFjayIsIkNoYXJhY3RlcnNfMSIsIk1lbGVlQXR0YWNrXzEiLCJQbGF5ZXIiLCJhdHRhY2tCZWhhdmlvciIsIkFuaW1hdGlvbnBsYXlpbmciLCJwbGF5ZXJfbW92ZXMiLCJUaWxlIiwiVGlsZV8xIiwiQ3JlYXRlV29ybGQiLCJUaW1lTGltaXRlciIsIm1heE1pbGxpc2Vjb25kcyIsImZyYW1lU3RhcnQiLCJEYXRlIiwibm93IiwiX0Jhc2VQcmVwYXJlMiIsIkNBTlZBU19TVEFSVF9TSVpFIiwiQ2FudmFzUHJlcGFyZSIsIl9CYXNlUHJlcGFyZSIsImN0eCIsInVwbG9hZEJhc2VUZXh0dXJlcyIsInByZXBhcmUiLCJpbWFnZVdpZHRoIiwiaW1hZ2VIZWlnaHQiLCJyZWdpc3RlclBsdWdpbiIsIldlYkdMUHJlcGFyZSIsImZpbmRHcmFwaGljcyIsInVwbG9hZEdyYXBoaWNzIiwiY2xlYXJEaXJ0eSIsIl93ZWJHTCIsImdyYXBoaWNzIiwidXBkYXRlR3JhcGhpY3MiLCJfV2ViR0xQcmVwYXJlIiwiX0NhbnZhc1ByZXBhcmUiLCJfVGltZUxpbWl0ZXIiLCJQYXJ0aWNsZUJ1ZmZlciIsImR5bmFtaWNQcm9wZXJ0eUZsYWdzIiwiZHluYW1pY1Byb3BlcnRpZXMiLCJzdGF0aWNQcm9wZXJ0aWVzIiwidXBsb2FkRnVuY3Rpb24iLCJ1bnNpZ25lZEJ5dGUiLCJzdGF0aWNTdHJpZGUiLCJzdGF0aWNCdWZmZXIiLCJzdGF0aWNEYXRhIiwic3RhdGljRGF0YVVpbnQzMiIsImR5bmFtaWNTdHJpZGUiLCJkeW5hbWljQnVmZmVyIiwiZHluYW1pY0RhdGEiLCJkeW5hbWljRGF0YVVpbnQzMiIsImluaXRCdWZmZXJzIiwiZHluYW1pY09mZnNldCIsImR5bkJ1ZmZlciIsIkFycmF5QnVmZmVyIiwiU1RSRUFNX0RSQVciLCJzdGF0aWNPZmZzZXQiLCJfcHJvcGVydHkiLCJzdGF0QnVmZmVyIiwiX3Byb3BlcnR5MiIsIl9pMyIsIl9wcm9wZXJ0eTMiLCJ1cGxvYWREeW5hbWljIiwic3RhcnRJbmRleCIsImFtb3VudCIsInVwbG9hZFN0YXRpYyIsIl9TaGFkZXIyIiwiUGFydGljbGVTaGFkZXIiLCJfUGFydGljbGVTaGFkZXIyIiwiX1BhcnRpY2xlQnVmZmVyMiIsIlBhcnRpY2xlUmVuZGVyZXIiLCJfY29yZSRPYmplY3RSZW5kZXJlciIsInVwbG9hZFZlcnRpY2VzIiwiYVBvc2l0aW9uQ29vcmQiLCJ1cGxvYWRQb3NpdGlvbiIsImFSb3RhdGlvbiIsInVwbG9hZFJvdGF0aW9uIiwidXBsb2FkVXZzIiwiYUNvbG9yIiwidXBsb2FkVGludCIsIm1heFNpemUiLCJfbWF4U2l6ZSIsImJhdGNoU2l6ZSIsIl9iYXRjaFNpemUiLCJ0b3RhbENoaWxkcmVuIiwiYnVmZmVycyIsIl9nbEJ1ZmZlcnMiLCJnZW5lcmF0ZUJ1ZmZlcnMiLCJ1Q29sb3IiLCJ1U2FtcGxlciIsInVwZGF0ZVN0YXRpYyIsIl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIiLCJiaWQiLCJfYnVmZmVyVXBkYXRlSURzIiwiZHJhdyIsIl9wcm9wZXJ0aWVzIiwic3giLCJzeSIsInNwcml0ZVBvc2l0aW9uIiwic3ByaXRlUm90YXRpb24iLCJ0ZXh0dXJlVXZzIiwiYXJnYiIsIlBhcnRpY2xlQ29udGFpbmVyIiwic2V0UHJvcGVydGllcyIsInBhcnRpY2xlIiwic21hbGxlc3RDaGlsZEluZGV4IiwiYnVmZmVySW5kZXgiLCJpc1JvdGF0ZWQiLCJwb3NpdGlvblgiLCJwb3NpdGlvblkiLCJmaW5hbFdpZHRoIiwiZmluYWxIZWlnaHQiLCJjaGlsZFRyYW5zZm9ybSIsIl9idWZmZXJzIiwiX1BhcnRpY2xlQ29udGFpbmVyIiwiX1BhcnRpY2xlUmVuZGVyZXIiLCJSb3BlIiwicmVmcmVzaFZlcnRpY2VzIiwibmV4dFBvaW50IiwicGVycFgiLCJwZXJwWSIsInJhdGlvIiwicGVycExlbmd0aCIsIm51bSIsIl9QbGFuZTIiLCJERUZBVUxUX0JPUkRFUl9TSVpFIiwiTmluZVNsaWNlUGxhbmUiLCJfUGxhbmUiLCJsZWZ0V2lkdGgiLCJ0b3BIZWlnaHQiLCJyaWdodFdpZHRoIiwiYm90dG9tSGVpZ2h0IiwiX29yaWdXaWR0aCIsIl9vcmlnSGVpZ2h0IiwidXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzIiwiX3RvcEhlaWdodCIsIl9ib3R0b21IZWlnaHQiLCJ1cGRhdGVWZXJ0aWNhbFZlcnRpY2VzIiwiX2xlZnRXaWR0aCIsIl9yaWdodFdpZHRoIiwiYmFzZSIsInRleHR1cmVTb3VyY2UiLCJkcmF3U2VnbWVudCIsInN3Iiwic2giLCJkdyIsImRoIiwiX3V2dyIsIl91dmgiLCJNZXNoU3ByaXRlUmVuZGVyZXIiLCJtZXNoIiwiX3JlbmRlclRyaWFuZ2xlTWVzaCIsIl9yZW5kZXJUcmlhbmdsZXMiLCJfcmVuZGVyRHJhd1RyaWFuZ2xlIiwiaW5kZXgwIiwidGV4dHVyZVdpZHRoIiwidGV4dHVyZUhlaWdodCIsInUwIiwidTEiLCJ1MiIsInYwIiwidjEiLCJ2MiIsInV0IiwiY2VudGVyWCIsImNlbnRlclkiLCJub3JtWCIsIm5vcm1ZIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwiY2xvc2VQYXRoIiwiY2xpcCIsImRlbHRhQSIsImRlbHRhQiIsImRlbHRhQyIsImRlbHRhRCIsImRlbHRhRSIsImRlbHRhRiIsInJlbmRlck1lc2hGbGF0IiwibWF0cml4SWRlbnRpdHkiLCJNZXNoUmVuZGVyZXIiLCJnbERhdGEiLCJ1dkJ1ZmZlciIsInVUcmFuc2Zvcm0iLCJ0cmFuc2xhdGlvbk1hdHJpeCIsIl9NZXNoUmVuZGVyZXIiLCJfQ2FudmFzTWVzaFJlbmRlcmVyIiwiX05pbmVTbGljZVBsYW5lIiwiX1JvcGUiLCJfdHlwZW9mIiwiU3ltYm9sIiwiYmxvYk1pZGRsZXdhcmVGYWN0b3J5IiwiX1Jlc291cmNlMiIsIkJsb2IiLCJfcmV0IiwiY3JlYXRlT2JqZWN0VVJMIiwiYmxvYiIsInJldm9rZU9iamVjdFVSTCIsImdldFJlc3BvbnNlSGVhZGVyIiwiX2IyIiwiVVJMIiwid2Via2l0VVJMIiwiX3Jlc291cmNlTG9hZGVyMiIsIl9ibG9iIiwiX3RleHR1cmVQYXJzZXIyIiwiX3Nwcml0ZXNoZWV0UGFyc2VyMiIsIl9iaXRtYXBGb250UGFyc2VyMiIsIl9SZXNvdXJjZUxvYWRlciIsIl9waXhpTWlkZGxld2FyZSIsInVzZSIsIm9uRXJyb3IiLCJvbkxvYWQiLCJhZGRQaXhpTWlkZGxld2FyZSIsInJneEV4dHJhY3RVcmxIYXNoIiwicHJvZ3Jlc3MiLCJsb2FkaW5nIiwiZGVmYXVsdFF1ZXJ5U3RyaW5nIiwiX2JlZm9yZU1pZGRsZXdhcmUiLCJfYWZ0ZXJNaWRkbGV3YXJlIiwiX3Jlc291cmNlc1BhcnNpbmciLCJfYm91bmRMb2FkUmVzb3VyY2UiLCJfbG9hZFJlc291cmNlIiwiX3F1ZXVlIiwiX3ByZXBhcmVVcmwiLCJpbmNvbXBsZXRlQ2hpbGRyZW4iLCJlYWNoQ2h1bmsiLCJwcmUiLCJfb25TdGFydCIsIl9vbkNvbXBsZXRlIiwiY2h1bmsiLCJwYXJzZWRVcmwiLCJkZXF1ZXVlIiwiX29uTG9hZCIsIl90aGlzMyIsInRleHR1cmVQYXJzZXIiLCJzcHJpdGVzaGVldFBhcnNlciIsInBhcnNlQml0bWFwRm9udERhdGEiLCJiaXRtYXBGb250UGFyc2VyIiwiX2JpdG1hcEZvbnRQYXJzZXIiLCJfc3ByaXRlc2hlZXRQYXJzZXIiLCJfdGV4dHVyZVBhcnNlciIsIl9BcHBsaWNhdGlvbjIiLCJfbG9hZGVyMiIsIkFwcFByb3RvdHlwZSIsIl9sb2FkZXIiLCJfcGFyZW50RGVzdHJveSIsIl9JbnRlcmFjdGlvbkRhdGEyIiwiX0ludGVyYWN0aW9uRXZlbnQyIiwiX0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhMiIsIl9pbnRlcmFjdGl2ZVRhcmdldDIiLCJkZWxheU1peGluIiwiTU9VU0VfUE9JTlRFUl9JRCIsImhpdFRlc3RFdmVudCIsIkludGVyYWN0aW9uTWFuYWdlciIsImF1dG9QcmV2ZW50RGVmYXVsdCIsImludGVyYWN0aW9uRnJlcXVlbmN5IiwibW91c2UiLCJhY3RpdmVJbnRlcmFjdGlvbkRhdGEiLCJpbnRlcmFjdGlvbkRhdGFQb29sIiwiZXZlbnREYXRhIiwiaW50ZXJhY3Rpb25ET01FbGVtZW50IiwibW92ZVdoZW5JbnNpZGUiLCJldmVudHNBZGRlZCIsIm1vdXNlT3ZlclJlbmRlcmVyIiwic3VwcG9ydHNUb3VjaEV2ZW50cyIsInN1cHBvcnRzUG9pbnRlckV2ZW50cyIsIlBvaW50ZXJFdmVudCIsIm9uUG9pbnRlclVwIiwicHJvY2Vzc1BvaW50ZXJVcCIsIm9uUG9pbnRlckNhbmNlbCIsInByb2Nlc3NQb2ludGVyQ2FuY2VsIiwib25Qb2ludGVyRG93biIsInByb2Nlc3NQb2ludGVyRG93biIsIm9uUG9pbnRlck1vdmUiLCJwcm9jZXNzUG9pbnRlck1vdmUiLCJvblBvaW50ZXJPdXQiLCJwcm9jZXNzUG9pbnRlck92ZXJPdXQiLCJvblBvaW50ZXJPdmVyIiwiY3Vyc29yU3R5bGVzIiwiY3VycmVudEN1cnNvck1vZGUiLCJfdGVtcFBvaW50Iiwic2V0VGFyZ2V0RWxlbWVudCIsImhpdFRlc3QiLCJnbG9iYWxQb2ludCIsInByb2Nlc3NJbnRlcmFjdGl2ZSIsImVsZW1lbnQiLCJyZW1vdmVFdmVudHMiLCJhZGRFdmVudHMiLCJtc1BvaW50ZXJFbmFibGVkIiwiZGVsdGFUaW1lIiwiX2RlbHRhVGltZSIsImRpZE1vdmUiLCJpbnRlcmFjdGlvbkRhdGEiLCJpbnRlcmFjdGlvbkV2ZW50IiwiY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50Iiwic2V0Q3Vyc29yTW9kZSIsImRpc3BhdGNoRXZlbnQiLCJldmVudFN0cmluZyIsIm1hcFBvc2l0aW9uVG9Qb2ludCIsInBhcmVudEVsZW1lbnQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJyZXNvbHV0aW9uTXVsdGlwbGllciIsImxlZnQiLCJ0b3AiLCJmdW5jIiwiaGl0IiwiaW50ZXJhY3RpdmVQYXJlbnQiLCJoaXRUZXN0Q2hpbGRyZW4iLCJjaGlsZEhpdCIsIm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEiLCJpc05vcm1hbGl6ZWQiLCJldmVudExlbiIsImdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCIsImlzUmlnaHRCdXR0b24iLCJyaWdodERvd24iLCJsZWZ0RG93biIsIm9uUG9pbnRlckNvbXBsZXRlIiwiY2FuY2VsbGVkIiwiZXZlbnRBcHBlbmQiLCJyZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwidHJhY2tpbmdEYXRhIiwiaXNUb3VjaCIsImlzRG93biIsIm92ZXIiLCJub25lIiwiaXNNb3VzZSIsInBvaW50ZXJFdmVudCIsImNsaWVudFgiLCJjbGllbnRZIiwiZ2xvYmFsWCIsImdsb2JhbFkiLCJub3JtYWxpemVkRXZlbnRzIiwiVG91Y2hFdmVudCIsImxpIiwiY2hhbmdlZFRvdWNoZXMiLCJ0b3VjaCIsInRvdWNoZXMiLCJyYWRpdXNYIiwicmFkaXVzWSIsImZvcmNlIiwibGF5ZXJYIiwib2Zmc2V0WCIsImxheWVyWSIsIm9mZnNldFkiLCJNb3VzZUV2ZW50IiwiX0ludGVyYWN0aW9uRGF0YSIsIl9JbnRlcmFjdGlvbk1hbmFnZXIiLCJfaW50ZXJhY3RpdmVUYXJnZXQiLCJfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEiLCJfSW50ZXJhY3Rpb25FdmVudCIsIkFscGhhRmlsdGVyIiwidUFscGhhIiwiQ29sb3JNYXRyaXhGaWx0ZXIiLCJfbG9hZE1hdHJpeCIsIm5ld01hdHJpeCIsIl9tdWx0aXBseSIsIl9jb2xvck1hdHJpeCIsImJyaWdodG5lc3MiLCJtdWx0aXBseSIsImdyZXlzY2FsZSIsImJsYWNrQW5kV2hpdGUiLCJodWUiLCJjb3NSIiwic2luUiIsInNxclciLCJjb250cmFzdCIsInNhdHVyYXRlIiwiZGVzYXR1cmF0ZSIsIm5lZ2F0aXZlIiwic2VwaWEiLCJ0ZWNobmljb2xvciIsInBvbGFyb2lkIiwidG9CR1IiLCJrb2RhY2hyb21lIiwiYnJvd25pIiwidmludGFnZSIsImNvbG9yVG9uZSIsImRlc2F0dXJhdGlvbiIsInRvbmVkIiwibGlnaHRDb2xvciIsImRhcmtDb2xvciIsImxSIiwibEciLCJsQiIsImRSIiwiZEciLCJkQiIsIm5pZ2h0IiwiaW50ZW5zaXR5IiwicHJlZGF0b3IiLCJsc2QiLCJncmF5c2NhbGUiLCJfQmx1clhGaWx0ZXIyIiwiX0JsdXJZRmlsdGVyMiIsIkJsdXJGaWx0ZXIiLCJibHVyWEZpbHRlciIsImJsdXJZRmlsdGVyIiwiRGlzcGxhY2VtZW50RmlsdGVyIiwibWFwU2FtcGxlciIsImZpbHRlck1hdHJpeCIsIk5vaXNlRmlsdGVyIiwibm9pc2UiLCJzZWVkIiwidU5vaXNlIiwidVNlZWQiLCJGWEFBRmlsdGVyIiwiX0ZYQUFGaWx0ZXIiLCJfTm9pc2VGaWx0ZXIiLCJfRGlzcGxhY2VtZW50RmlsdGVyIiwiX0JsdXJGaWx0ZXIiLCJfQmx1clhGaWx0ZXIiLCJfQmx1cllGaWx0ZXIiLCJfQ29sb3JNYXRyaXhGaWx0ZXIiLCJfQWxwaGFGaWx0ZXIiLCJnZXRHbG9iYWxQb3NpdGlvbiIsImdldENoaWxkQnlOYW1lIiwiX3RlbXBNYXRyaXgiLCJfY2FjaGVBc0JpdG1hcCIsIl9jYWNoZURhdGEiLCJDYWNoZURhdGEiLCJ0ZXh0dXJlQ2FjaGVJZCIsIm9yaWdpbmFsUmVuZGVyV2ViR0wiLCJvcmlnaW5hbFJlbmRlckNhbnZhcyIsIm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzIiwib3JpZ2luYWxHZXRMb2NhbEJvdW5kcyIsIm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtIiwib3JpZ2luYWxIaXRUZXN0Iiwib3JpZ2luYWxEZXN0cm95Iiwib3JpZ2luYWxNYXNrIiwib3JpZ2luYWxGaWx0ZXJBcmVhIiwiY2FjaGVBc0JpdG1hcCIsIm9yaWdpbmFsQ29udGFpbnNQb2ludCIsIl9yZW5kZXJDYWNoZWRXZWJHTCIsIl9yZW5kZXJDYWNoZWRDYW52YXMiLCJfY2FjaGVBc0JpdG1hcERlc3Ryb3kiLCJfZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QiLCJfaW5pdENhY2hlZERpc3BsYXlPYmplY3QiLCJjYWNoZUFscGhhIiwiY2FjaGVkUmVuZGVyVGFyZ2V0Iiwic3RhY2siLCJmaWx0ZXJTdGFjayIsImNhY2hlZFNwcml0ZSIsIl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMiLCJfZ2V0Q2FjaGVkTG9jYWxCb3VuZHMiLCJfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMiLCJfT2JzZXJ2YWJsZVBvaW50MiIsIl90ZXh0V2lkdGgiLCJfdGV4dEhlaWdodCIsIl9nbHlwaHMiLCJfZm9udCIsIl90ZXh0IiwiX21heFdpZHRoIiwiX21heExpbmVIZWlnaHQiLCJmb250cyIsImNoYXJzIiwicHJldkNoYXJDb2RlIiwibGFzdExpbmVXaWR0aCIsImxhc3RTcGFjZSIsImxhc3RTcGFjZVdpZHRoIiwic3BhY2VzUmVtb3ZlZCIsIm1heExpbmVIZWlnaHQiLCJjaGFyQ29kZSIsImNoYXJEYXRhIiwia2VybmluZyIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwieEFkdmFuY2UiLCJsaW5lQWxpZ25PZmZzZXRzIiwiYWxpZ25PZmZzZXQiLCJsZW5DaGFycyIsIl9pNCIsInZhbGlkYXRlIiwiaW5mbyIsImNvbW1vbiIsImZpbGVOYW1lIiwicGFyc2VJbnQiLCJsZXR0ZXJzIiwibGV0dGVyIiwidGV4dHVyZVJlY3QiLCJrZXJuaW5ncyIsIl9pNSIsImZpcnN0Iiwic2Vjb25kIiwic2ltcGxlU2hhZGVyIiwicXVhZCIsInRzIiwidXZSZXNwZWN0QW5jaG9yIiwiYmFzZVRleCIsInRpbGVUcmFuc2Zvcm0iLCJ1diIsInV2VHJhbnNmb3JtIiwiaXNTaW1wbGUiLCJIIiwidU1hcENvb3JkIiwiX0NhbnZhc1RpbnRlcjIiLCJfY29yZSRTcHJpdGUiLCJfY2FudmFzUGF0dGVybiIsImJhc2VUZXh0dXJlUmVzb2x1dGlvbiIsIm1vZFgiLCJ0aWxlUG9zaXRpb24iLCJ0aWxlU2NhbGUiLCJtb2RZIiwidGVtcENhbnZhcyIsInRpbnRlZFRleHR1cmUiLCJjcmVhdGVQYXR0ZXJuIiwiYW5jaG9yWCIsImFuY2hvclkiLCJfZHVyYXRpb25zIiwiYW5pbWF0aW9uU3BlZWQiLCJsb29wIiwib25GcmFtZUNoYW5nZSIsIm9uTG9vcCIsIl9jdXJyZW50VGltZSIsInBsYXlpbmciLCJnb3RvQW5kU3RvcCIsImZyYW1lTnVtYmVyIiwicHJldmlvdXNGcmFtZSIsImN1cnJlbnRGcmFtZSIsImdvdG9BbmRQbGF5IiwiZWxhcHNlZCIsImxhZyIsImZyb21GcmFtZXMiLCJmcm9tSW1hZ2VzIiwiaW1hZ2VzIiwiVEVNUF9SRUNUIiwiQ2FudmFzRXh0cmFjdCIsImV4dHJhY3QiLCJjYW52YXNCdWZmZXIiLCJjYW52YXNEYXRhIiwiV2ViR0xFeHRyYWN0IiwidGV4dHVyZUJ1ZmZlciIsImZsaXBZIiwiZ2VuZXJhdGVkIiwid2ViZ2xQaXhlbHMiLCJVaW50OEFycmF5IiwicmVhZFBpeGVscyIsIl9XZWJHTEV4dHJhY3QiLCJfQ2FudmFzRXh0cmFjdCIsIl9pc21vYmlsZWpzMiIsIl9hY2Nlc3NpYmxlVGFyZ2V0MiIsIkRJVl9UT1VDSF9TSVpFIiwiRElWX1RPVUNIX1BPU19YIiwiRElWX1RPVUNIX1BPU19ZIiwiRElWX1RPVUNIX1pJTkRFWCIsIkFjY2Vzc2liaWxpdHlNYW5hZ2VyIiwiY3JlYXRlVG91Y2hIb29rIiwiekluZGV4IiwicG9vbCIsInJlbmRlcklkIiwiZGVidWciLCJfb25LZXlEb3duIiwiX29uTW91c2VNb3ZlIiwiaXNBY3RpdmUiLCJpc01vYmlsZUFjY2Vzc2FiaWxsaXR5IiwiaG9va0RpdiIsIkRJVl9IT09LX1NJWkUiLCJESVZfSE9PS19QT1NfWCIsIkRJVl9IT09LX1BPU19ZIiwidGl0bGUiLCJkZWFjdGl2YXRlIiwidXBkYXRlQWNjZXNzaWJsZU9iamVjdHMiLCJjYXBIaXRBcmVhIiwiYm9yZGVyU3R5bGUiLCJfb25DbGljayIsIl9vbkZvY3VzIiwiX29uRm9jdXNPdXQiLCJpbnRlcmFjdGlvbk1hbmFnZXIiLCJpbnRlcmFjdGlvbiIsIl9hY2Nlc3NpYmxlVGFyZ2V0IiwiX0FjY2Vzc2liaWxpdHlNYW5hZ2VyIiwicGFydGljbGVzIiwibG9hZGVycyIsIlNwcml0ZUJhdGNoIiwiQXNzZXRMb2FkZXIiLCJTdGFnZSIsIkRpc3BsYXlPYmplY3RDb250YWluZXIiLCJTdHJpcCIsIk1vdmllQ2xpcCIsInNjYWxlTW9kZXMiLCJtYXRoIiwiQWJzdHJhY3RGaWx0ZXIiLCJUcmFuc2Zvcm1NYW51YWwiLCJERUZBVUxUX1JFTkRFUl9PUFRJT05TIiwiZGVmYXVsdHMiLCJfbG9vcCIsImRlcHJlY2F0aW9uIiwiVGV4dHVyZVRyYW5zZm9ybSIsImdlbmVyYXRlQ2FudmFzVGV4dHVyZSIsImlzU3dhcFdpZHRoSGVpZ2h0IiwiZ2V0SW1hZ2UiLCJnZXRCYXNlNjQiLCJnZXRDYW52YXMiLCJnZXRQaXhlbHMiLCJzZXRUZXh0dXJlIiwic2V0VGV4dCIsImNhbGN1bGF0ZUZvbnRQcm9wZXJ0aWVzIiwiZm9udFByb3BlcnRpZXNDYWNoZSIsImZvbnRQcm9wZXJ0aWVzQ2FudmFzIiwiZm9udFByb3BlcnRpZXNDb250ZXh0Iiwic2V0U3R5bGUiLCJkZXRlcm1pbmVGb250UHJvcGVydGllcyIsImdldEZvbnRTdHlsZSIsInNwbGl0cyIsImZvbnRTaXplSW5kZXgiLCJhZGRUZXh0dXJlVG9DYWNoZSIsInJlbW92ZVRleHR1cmVGcm9tQ2FjaGUiLCJWb2lkRmlsdGVyIiwidXVpZCIsImNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMiLCJyZWdpc3RlciIsIk5hTiIsIndlYmdsIiwiaXNKc29uIiwiaXNYbWwiLCJpc0ltYWdlIiwiaXNBdWRpbyIsImlzVmlkZW8iLCJiZWZvcmUiLCJhZnRlciIsImludGVyYWN0aXZlVGFyZ2V0Iiwid2FybmluZ3MiLCJtc2ciLCJncm91cENvbGxhcHNlZCIsImdyb3VwRW5kIiwiXyIsInJlc29sdXRpb25GaWxlbmFtZSIsIl91cGRhdGVSZXNvbHV0aW9uIiwiX2ZyYW1lcyIsIl9mcmFtZUtleXMiLCJfYmF0Y2hJbmRleCIsIl9jYWxsYmFjayIsIkJBVENIX1NJWkUiLCJfcHJvY2Vzc0ZyYW1lcyIsIl9wYXJzZUNvbXBsZXRlIiwiX25leHRCYXRjaCIsImluaXRpYWxGcmFtZUluZGV4IiwiZnJhbWVJbmRleCIsIm1heEZyYW1lcyIsInNvdXJjZVNpemUiLCJ0cmltbWVkIiwicm90YXRlZCIsInNwcml0ZVNvdXJjZVNpemUiLCJfQ2FudmFzUmVuZGVyZXIiLCJfcHJldlRpbnQiLCJ1cGRhdGVHcmFwaGljc1RpbnQiLCJyZW5kZXJQb2x5Z29uIiwiY2xvc2VkIiwic3Ryb2tlU3R5bGUiLCJzdHJva2VSZWN0IiwiYXJjIiwicmFkaXVzIiwib3giLCJveSIsInhlIiwieWUiLCJ4bSIsInltIiwiYmV6aWVyQ3VydmVUbyIsInJ4IiwicnkiLCJtYXhSYWRpdXMiLCJxdWFkcmF0aWNDdXJ2ZVRvIiwidGludFIiLCJ0aW50RyIsInRpbnRCIiwiY2xvc2UiLCJjaXJjbGVEYXRhIiwidG90YWxTZWdzIiwic2VnIiwidmVjUG9zIiwidGVtcFBvaW50cyIsIl9idWlsZExpbmUyIiwiX2J1aWxkTGluZSIsInJyZWN0RGF0YSIsInJlY1BvaW50cyIsInF1YWRyYXRpY0JlemllckN1cnZlIiwiZ2V0UHQiLCJuMSIsIm4yIiwicGVyYyIsImZyb21YIiwiZnJvbVkiLCJjcFgiLCJjcFkiLCJ0b1giLCJ0b1kiLCJ4YSIsInlhIiwieGIiLCJ5YiIsInJlY3REYXRhIiwidmVydFBvcyIsImhvbGVBcnJheSIsIlByaW1pdGl2ZVNoYWRlciIsIldlYkdMR3JhcGhpY3NEYXRhIiwiYXR0cmlic1N0YXRlIiwiZ2xQb2ludHMiLCJnbEluZGljZXMiLCJfT2JqZWN0UmVuZGVyZXIzIiwiX1dlYkdMR3JhcGhpY3NEYXRhMiIsIl9QcmltaXRpdmVTaGFkZXIyIiwiX2J1aWxkUG9seTIiLCJfYnVpbGRSZWN0YW5nbGUyIiwiX2J1aWxkUm91bmRlZFJlY3RhbmdsZTIiLCJfYnVpbGRDaXJjbGUyIiwiZ3JhcGhpY3NEYXRhUG9vbCIsInByaW1pdGl2ZVNoYWRlciIsIndlYkdMIiwic2hhZGVyVGVtcCIsImRyYXdBcnJheXMiLCJsYXN0SW5kZXgiLCJnZXRXZWJHTERhdGEiLCJjcFgyIiwiY3BZMiIsImR0IiwiZHQyIiwiZHQzIiwidDIiLCJ0MyIsIl9HcmFwaGljc0RhdGEyIiwiX1Nwcml0ZTIiLCJfYmV6aWVyQ3VydmVUbzMiLCJjYW52YXNSZW5kZXJlciIsInRlbXBDb2xvcjEiLCJ0ZW1wQ29sb3IyIiwiY3VycmVudFBhdGgiLCJib3VuZHNQYWRkaW5nIiwiX2xvY2FsQm91bmRzIiwiZmFzdFJlY3REaXJ0eSIsImJvdW5kc0RpcnR5IiwiY2FjaGVkU3ByaXRlRGlydHkiLCJfc3ByaXRlUmVjdCIsIl9mYXN0UmVjdCIsInVwZGF0ZUxvY2FsQm91bmRzIiwibGluZVN0eWxlIiwiZHJhd1NoYXBlIiwiYXJjVG8iLCJtbSIsImRkIiwidHQiLCJrMSIsImsyIiwiajEiLCJqMiIsInF5Iiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwiYW50aWNsb2Nrd2lzZSIsInN3ZWVwIiwic2VncyIsInN0YXJ0WCIsInN0YXJ0WSIsInRoZXRhIiwidGhldGEyIiwiY1RoZXRhIiwic1RoZXRhIiwic2VnTWludXMiLCJyZW1haW5kZXIiLCJmaWxsaW5nIiwiZHJhd1JvdW5kZWRSZWN0IiwiUm91bmRlZFJlY3RhbmdsZSIsImRyYXdDaXJjbGUiLCJDaXJjbGUiLCJkcmF3RWxsaXBzZSIsIkVsbGlwc2UiLCJkcmF3UG9seWdvbiIsImRyYXdTdGFyIiwiaW5uZXJSYWRpdXMiLCJwb2x5Z29uIiwiaXNGYXN0UmVjdCIsIl9yZW5kZXJTcHJpdGVSZWN0IiwidDEiLCJsYiIsInJ3IiwicmgiLCJfd2ViZ2wiLCJfU1BSSVRFX1RFWFRVUkUiLCJib3VuZCIsInJpZ2h0IiwiYm90dG9tIiwiX1Nwcml0ZTMiLCJfVGV4dFN0eWxlMiIsIl9UZXh0TWV0cmljczIiLCJfdHJpbUNhbnZhczIiLCJkZWZhdWx0RGVzdHJveU9wdGlvbnMiLCJfc3R5bGUiLCJfc3R5bGVMaXN0ZW5lciIsImxvY2FsU3R5bGVJRCIsInJlc3BlY3REaXJ0eSIsIm1lYXN1cmVkIiwibGluZVBvc2l0aW9uWCIsImxpbmVQb3NpdGlvblkiLCJzaGFkb3dCbHVyIiwic2hhZG93Q29sb3IiLCJ4U2hhZG93T2Zmc2V0IiwieVNoYWRvd09mZnNldCIsImRyYXdMZXR0ZXJTcGFjaW5nIiwiX2dlbmVyYXRlRmlsbFN0eWxlIiwiaXNTdHJva2UiLCJTdHJpbmciLCJjdXJyZW50UG9zaXRpb24iLCJjdXJyZW50Iiwic3Ryb2tlVGV4dCIsIl9vblN0eWxlQ2hhbmdlIiwiZ3JhZGllbnQiLCJ0b3RhbEl0ZXJhdGlvbnMiLCJjdXJyZW50SXRlcmF0aW9uIiwibGVuZ3RoUGx1czEiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsIkJ1ZmZlciIsImZsb2F0MzJWaWV3IiwidWludDMyVmlldyIsInBvc2l0aW9ucyIsIm1heElmcyIsImNyZWF0ZVRlbXBDb250ZXh0IiwidGlueUNhbnZhcyIsImdlbmVyYXRlSWZUZXN0U3JjIiwiZ2VuZXJhdGVTYW1wbGVTcmMiLCJzYW1wbGVWYWx1ZXMiLCJ1U2FtcGxlcnMiLCJPTkUiLCJPTkVfTUlOVVNfU1JDX0FMUEhBIiwiRFNUX0FMUEhBIiwiRFNUX0NPTE9SIiwiT05FX01JTlVTX1NSQ19DT0xPUiIsIlNSQ19BTFBIQSIsIl9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkiLCJfbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpMiIsIldlYkdMU3RhdGUiLCJhY3RpdmVTdGF0ZSIsImRlZmF1bHRTdGF0ZSIsInN0YWNrSW5kZXgiLCJtYXhBdHRyaWJzIiwiTUFYX1ZFUlRFWF9BVFRSSUJTIiwibmF0aXZlVmFvRXh0ZW5zaW9uIiwic2V0U3RhdGUiLCJzZXRCbGVuZCIsInNldERlcHRoVGVzdCIsInNldEZyb250RmFjZSIsInNldEN1bGxGYWNlIiwiQkxFTkQiLCJibGVuZEZ1bmMiLCJibGVuZEZ1bmNTZXBhcmF0ZSIsIkRFUFRIX1RFU1QiLCJDVUxMX0ZBQ0UiLCJmcm9udEZhY2UiLCJyZXNldEF0dHJpYnV0ZXMiLCJiaW5kVmVydGV4QXJyYXlPRVMiLCJVTlBBQ0tfRkxJUF9ZX1dFQkdMIiwiVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IiLCJjaGVja0NvdW50IiwibWF4SWRsZSIsImNoZWNrQ291bnRNYXgiLCJydW4iLCJ0bSIsIm1hbmFnZWRUZXh0dXJlcyIsIl9tYW5hZ2VkVGV4dHVyZXMiLCJ3YXNSZW1vdmVkIiwiZGVzdHJveVRleHR1cmUiLCJ1bmxvYWQiLCJUZXh0dXJlTWFuYWdlciIsImdldFRleHR1cmUiLCJpc1JlbmRlclRleHR1cmUiLCJza2lwUmVtb3ZlIiwiZ2xUZXh0dXJlcyIsImdsUmVuZGVyVGFyZ2V0cyIsImNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4Iiwib3V0cHV0TWF0cml4IiwidGV4dHVyZVNpemUiLCJtYXBwZWRNYXRyaXgiLCJjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXgiLCJ0cmFuc2xhdGVTY2FsZVgiLCJ0cmFuc2xhdGVTY2FsZVkiLCJURU1QX01BVFJJWCIsIl9XZWJHTE1hbmFnZXIzIiwiX1F1YWQyIiwiZmlsdGVyVHJhbnNmb3JtcyIsIkZpbHRlclN0YXRlIiwiRmlsdGVyTWFuYWdlciIsInNoYWRlckNhY2hlIiwibWFuYWdlZEZpbHRlcnMiLCJvblByZXJlbmRlciIsIl9zY3JlZW5XaWR0aCIsIl9zY3JlZW5IZWlnaHQiLCJmaWx0ZXJTdGF0ZSIsInJlbmRlclRhcmdldEZyYW1lIiwiZnVsbFNjcmVlbiIsInRhcmdldEJvdW5kcyIsImdldFBvdFJlbmRlclRhcmdldCIsImxhc3RTdGF0ZSIsImZyZWVQb3RSZW5kZXJUYXJnZXQiLCJzY2lzc29yUmVuZGVyVGFyZ2V0IiwicHVzaFNjaXNzb3JNYXNrIiwic2Npc3NvckRhdGEiLCJzeW5jVW5pZm9ybXMiLCJ0ZXh0dXJlQ291bnQiLCJmaWx0ZXJDbGFtcCIsImNvbnRleHRMb3N0IiwiZW1wdHlQb29sIiwibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJTdGVuY2lsTWFuYWdlciIsIlNURU5DSUxfVEVTVCIsInB1c2hTdGVuY2lsIiwicHJldk1hc2tDb3VudCIsImNvbG9yTWFzayIsInN0ZW5jaWxGdW5jIiwiRVFVQUwiLCJfZ2V0Qml0d2lzZU1hc2siLCJzdGVuY2lsT3AiLCJLRUVQIiwiSU5DUiIsIl91c2VDdXJyZW50IiwicG9wU3RlbmNpbCIsIlNURU5DSUxfQlVGRkVSX0JJVCIsImNsZWFyU3RlbmNpbCIsIkRFQ1IiLCJzdGVuY2lsU3RhY2siLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJub29wIiwibmV4dFRpY2siLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJiaW5kaW5nIiwiY2hkaXIiLCJ1bWFzayIsInZlcnRVbmlmb3JtcyIsImV4dHJhY3RVbmlmb3Jtc0Zyb21TdHJpbmciLCJmcmFnVW5pZm9ybXMiLCJzdHJpbmciLCJtYXNrUmVnZXgiLCJuYW1lU3BsaXQiLCJzcGxpdExpbmUiLCJfU3ByaXRlTWFza0ZpbHRlcjIiLCJNYXNrTWFuYWdlciIsImVuYWJsZVNjaXNzb3IiLCJhbHBoYU1hc2tQb29sIiwiYWxwaGFNYXNrSW5kZXgiLCJtYXNrRGF0YSIsInB1c2hTcHJpdGVNYXNrIiwicm90IiwicHVzaFN0ZW5jaWxNYXNrIiwicG9wU3ByaXRlTWFzayIsInBvcFNjaXNzb3JNYXNrIiwicG9wU3RlbmNpbE1hc2siLCJhbHBoYU1hc2tGaWx0ZXIiLCJfZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIyIiwiX2NoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlcjIiLCJfQmF0Y2hCdWZmZXIyIiwiVElDSyIsIlRFWFRVUkVfVElDSyIsInZlcnRTaXplIiwidmVydEJ5dGVTaXplIiwiZ3JvdXBzIiwiaWRzIiwiYmxlbmQiLCJzcHJpdGVzIiwidmVydGV4QnVmZmVycyIsInZhb3MiLCJ2YW9NYXgiLCJ2ZXJ0ZXhDb3VudCIsIk1BWF9URVhUVVJFUyIsImF0dHJzIiwiVU5TSUdORURfU0hPUlQiLCJhVGV4dHVyZUlkIiwiY3VycmVudEJsZW5kTW9kZSIsIm5wMiIsInJlbmRlcmVyQm91bmRUZXh0dXJlcyIsIm5leHRUZXh0dXJlIiwiY3VycmVudFRleHR1cmUiLCJncm91cENvdW50IiwiY3VycmVudEdyb3VwIiwiYnQiLCJzcHJpdGVCbGVuZE1vZGUiLCJ0SW5kZXgiLCJncm91cCIsImdyb3VwVGV4dHVyZUNvdW50IiwiZHJhd0VsZW1lbnRzIiwiX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMyIiwiQ2FudmFzTWFza01hbmFnZXIiLCJyZW5kZXJHcmFwaGljc1NoYXBlIiwiY2FudmFzUmVuZGVyV29ybGRUcmFuc2Zvcm0iLCJzbW9vdGhpbmdFbmFibGVkIiwiVGlja2VyTGlzdGVuZXIiLCJwcmlvcml0eSIsInByZXZpb3VzIiwicmVkaXJlY3QiLCJjb25uZWN0IiwiaGFyZCIsIl9UaWNrZXJMaXN0ZW5lcjIiLCJfcmVxdWVzdElkIiwiX21heEVsYXBzZWRNUyIsImVsYXBzZWRNUyIsImxhc3RUaW1lIiwiX3RpY2siLCJfcmVxdWVzdElmTmVlZGVkIiwicGVyZm9ybWFuY2UiLCJfY2FuY2VsSWZOZWVkZWQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIl9zdGFydElmUG9zc2libGUiLCJfYWRkTGlzdGVuZXIiLCJoZWFkIiwiZnBzIiwibWluRlBNUyIsInN0cmluZ2lmeVByaW1pdGl2ZSIsImlzRmluaXRlIiwiZXEiLCJvYmplY3RLZXlzIiwia3MiLCJxcyIsInJlZ2V4cCIsIm1heEtleXMiLCJrc3RyIiwidnN0ciIsImRlY29kZSIsImVuY29kZSIsImFyZyIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsIm5vZGVUeXBlIiwiZnJlZUdsb2JhbCIsIm1heEludCIsInRNaW4iLCJ0TWF4IiwiZGFtcCIsImluaXRpYWxCaWFzIiwiaW5pdGlhbE4iLCJyZWdleFB1bnljb2RlIiwicmVnZXhOb25BU0NJSSIsInJlZ2V4U2VwYXJhdG9ycyIsImVycm9ycyIsIm92ZXJmbG93Iiwibm90LWJhc2ljIiwiaW52YWxpZC1pbnB1dCIsImJhc2VNaW51c1RNaW4iLCJzdHJpbmdGcm9tQ2hhckNvZGUiLCJmcm9tQ2hhckNvZGUiLCJtYXBEb21haW4iLCJ1Y3MyZGVjb2RlIiwiZXh0cmEiLCJjb3VudGVyIiwidWNzMmVuY29kZSIsImRpZ2l0VG9CYXNpYyIsImRpZ2l0IiwiYWRhcHQiLCJudW1Qb2ludHMiLCJmaXJzdFRpbWUiLCJiYXNpYyIsIm9sZGkiLCJiYXNlTWludXNUIiwiY29kZVBvaW50IiwiaW5wdXRMZW5ndGgiLCJiaWFzIiwiaGFuZGxlZENQQ291bnQiLCJiYXNpY0xlbmd0aCIsImN1cnJlbnRWYWx1ZSIsImhhbmRsZWRDUENvdW50UGx1c09uZSIsInFNaW51c1QiLCJ1Y3MyIiwidG9Vbmljb2RlIiwibnBtIiwic3RhcnRJZHgiLCJyZW1vdmVDb3VudCIsInByb3BlcnR5TmFtZSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInBlcmZvcm1NaXhpbnMiLCJfX3BsdWdpbnMiLCJjdG9yIiwicGxhdGZvcm0iLCJfaXNtb2JpbGVqcyIsImNvbXBpbGVQcm9ncmFtIiwiZXh0cmFjdEF0dHJpYnV0ZXMiLCJleHRyYWN0VW5pZm9ybXMiLCJnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QiLCJzZXRQcmVjaXNpb24iLCJuYXRpdmVTdGF0ZSIsIm5hdGl2ZVZhbyIsImNyZWF0ZVZlcnRleEFycmF5T0VTIiwibGFzdEJ1ZmZlciIsImdldFNpemUiLCJkZWxldGVWZXJ0ZXhBcnJheU9FUyIsIkZyYW1lYnVmZmVyIiwiY3JlYXRlRnJhbWVidWZmZXIiLCJlbmFibGVUZXh0dXJlIiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJGUkFNRUJVRkZFUiIsIkNPTE9SX0FUVEFDSE1FTlQwIiwiY3JlYXRlUmVuZGVyYnVmZmVyIiwiYmluZFJlbmRlcmJ1ZmZlciIsIlJFTkRFUkJVRkZFUiIsImZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyIiwiREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsIkRFUFRIX1NURU5DSUwiLCJDT0xPUl9CVUZGRVJfQklUIiwiREVQVEhfQlVGRkVSX0JJVCIsImJpbmRGcmFtZWJ1ZmZlciIsImRlbGV0ZUZyYW1lYnVmZmVyIiwiZmJvIiwiY3JlYXRlRmxvYXQzMiIsIkVNUFRZX0FSUkFZX0JVRkZFUiIsImRyYXdUeXBlIiwiY3JlYXRlQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiZG9udEJpbmQiLCJieXRlTGVuZ3RoIiwiYnVmZmVyU3ViRGF0YSIsImJ1ZmZlckRhdGEiLCJiaW5kQnVmZmVyIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJyYWRpdXMyIiwiX2tleSIsImlsIiwieGkiLCJ5aSIsInhqIiwieWoiLCJfUmVjdGFuZ2xlMiIsIm5vcm14Iiwibm9ybXkiLCJyMiIsImlzTmFOIiwiZ2V0VGltZSIsInN0YXJ0VGltZSIsInZlbmRvcnMiLCJkZWxheSIsInByb3BJc0VudW1lcmFibGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInRlc3QxIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInRlc3QyIiwidGVzdDMiLCJzaG91bGRVc2VOYXRpdmUiLCJzeW1ib2xzIiwidG9PYmplY3QiLCJfb2JqZWN0QXNzaWduIiwiX29iamVjdEFzc2lnbjIiLCJhY2Nlc3NpYmlsaXR5IiwiX3BvbHlmaWxsIiwiX2RlcHJlY2F0aW9uIiwiX2RlcHJlY2F0aW9uMiJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQ0FLLGNBQUEsRUFDQUMsWUFB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R0FBQTZELEVBQUEsR0FBQTdELEVBQUEsR0FBQTZELEVBQUEsR0FBQTdELEVBQUEsSUFBQTZELEVBQUEsR0FBQTdELEVBQUEsSUFBQTZELEVBQUEsR0FHQXRtQixFQUFBLEdBQUFzbUIsRUFBQSxHQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxJQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxJQUNBemlCLEVBQUEsR0FBQXNtQixFQUFBLEdBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLElBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLElBQ0F6aUIsRUFBQSxHQUFBc21CLEVBQUEsR0FBQTdELEVBQUEsR0FBQTZELEVBQUEsR0FBQTdELEVBQUEsR0FBQTZELEVBQUEsR0FBQTdELEVBQUEsSUFBQTZELEVBQUEsR0FBQTdELEVBQUEsSUFDQXppQixFQUFBLEdBQUFzbUIsRUFBQSxHQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxJQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxJQUNBemlCLEVBQUEsR0FBQXNtQixFQUFBLEdBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLElBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLElBQUE2RCxFQUFBLEdBR0F0bUIsRUFBQSxJQUFBc21CLEVBQUEsSUFBQTdELEVBQUEsR0FBQTZELEVBQUEsSUFBQTdELEVBQUEsR0FBQTZELEVBQUEsSUFBQTdELEVBQUEsSUFBQTZELEVBQUEsSUFBQTdELEVBQUEsSUFDQXppQixFQUFBLElBQUFzbUIsRUFBQSxJQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxJQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxJQUFBN0QsRUFBQSxJQUFBNkQsRUFBQSxJQUFBN0QsRUFBQSxJQUNBemlCLEVBQUEsSUFBQXNtQixFQUFBLElBQUE3RCxF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QUFXLFVBQUFDLGVBQUFuQixLQUFBc0wsRUFBQTVDLEtBQUE2QyxFQUFBN0MsR0FBQTRDLEVBQUE1QyxJQUFzRyxPQUF0QjZDLEVBQUF6QyxRQUFBd0MsRUFBc0JDLEVBSzFQeXhDLEVBQUE1MEMsTUFBQXdELE9BQUFvL0YsZ0JBZUEsSUFBQTd5RCxFQUFBMnlDLEVBQUE3eUQsUUFBQSxLQUVBdDRCLEVBQUE2dkcsZ0JBQ0E3dkcsRUFBQXNvRixVQUNBdG9GLEVBQUErNkMsU0FDQS82QyxFQUFBeXRCLFVBQ0F6dEIsRUFBQStxRixjQUNBL3FGLEVBQUFtckYsVUFDQW5yRixFQUFBNndFLE9BQ0E3d0UsRUFBQWtyRixZQUNBbHJGLEVBQUE4b0UsVUFDQTlvRSxFQUFBdzRDLFNBSUEsbUJBQUF3M0QsRUFBQTdtRyxVQUNBLEVBQUE2bUcsRUFBQTdtRyxTQUFBbkosR0FJQW13QyxFQUFBMzdCLEtBQUF4VSIsImZpbGUiOiJkaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMjAzKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbi8qKlxuICogU3RyaW5nIG9mIHRoZSBjdXJyZW50IFBJWEkgdmVyc2lvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBWRVJTSU9OXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG52YXIgVkVSU0lPTiA9IGV4cG9ydHMuVkVSU0lPTiA9ICc0LjcuMyc7XG5cbi8qKlxuICogVHdvIFBpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBQSV8yID0gZXhwb3J0cy5QSV8yID0gTWF0aC5QSSAqIDI7XG5cbi8qKlxuICogQ29udmVyc2lvbiBmYWN0b3IgZm9yIGNvbnZlcnRpbmcgcmFkaWFucyB0byBkZWdyZWVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBSQURfVE9fREVHID0gZXhwb3J0cy5SQURfVE9fREVHID0gMTgwIC8gTWF0aC5QSTtcblxuLyoqXG4gKiBDb252ZXJzaW9uIGZhY3RvciBmb3IgY29udmVydGluZyBkZWdyZWVzIHRvIHJhZGlhbnMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIERFR19UT19SQUQgPSBleHBvcnRzLkRFR19UT19SQUQgPSBNYXRoLlBJIC8gMTgwO1xuXG4vKipcbiAqIENvbnN0YW50IHRvIGlkZW50aWZ5IHRoZSBSZW5kZXJlciBUeXBlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIFJFTkRFUkVSX1RZUEVcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5LTk9XTiAtIFVua25vd24gcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wgLSBXZWJHTCByZW5kZXIgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDQU5WQVMgLSBDYW52YXMgcmVuZGVyIHR5cGUuXG4gKi9cbnZhciBSRU5ERVJFUl9UWVBFID0gZXhwb3J0cy5SRU5ERVJFUl9UWVBFID0ge1xuICBVTktOT1dOOiAwLFxuICBXRUJHTDogMSxcbiAgQ0FOVkFTOiAyXG59O1xuXG4vKipcbiAqIFZhcmlvdXMgYmxlbmQgbW9kZXMgc3VwcG9ydGVkIGJ5IFBJWEkuXG4gKlxuICogSU1QT1JUQU5UIC0gVGhlIFdlYkdMIHJlbmRlcmVyIG9ubHkgc3VwcG9ydHMgdGhlIE5PUk1BTCwgQURELCBNVUxUSVBMWSBhbmQgU0NSRUVOIGJsZW5kIG1vZGVzLlxuICogQW55dGhpbmcgZWxzZSB3aWxsIHNpbGVudGx5IGFjdCBsaWtlIE5PUk1BTC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCTEVORF9NT0RFU1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNVUxUSVBMWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9WRVJMQVlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEQVJLRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSUdIVEVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfRE9ER0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9CVVJOXG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFSRF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNPRlRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBESUZGRVJFTkNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVhDTFVTSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gSFVFXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0FUVVJBVElPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SXG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5PU0lUWVxuICovXG52YXIgQkxFTkRfTU9ERVMgPSBleHBvcnRzLkJMRU5EX01PREVTID0ge1xuICBOT1JNQUw6IDAsXG4gIEFERDogMSxcbiAgTVVMVElQTFk6IDIsXG4gIFNDUkVFTjogMyxcbiAgT1ZFUkxBWTogNCxcbiAgREFSS0VOOiA1LFxuICBMSUdIVEVOOiA2LFxuICBDT0xPUl9ET0RHRTogNyxcbiAgQ09MT1JfQlVSTjogOCxcbiAgSEFSRF9MSUdIVDogOSxcbiAgU09GVF9MSUdIVDogMTAsXG4gIERJRkZFUkVOQ0U6IDExLFxuICBFWENMVVNJT046IDEyLFxuICBIVUU6IDEzLFxuICBTQVRVUkFUSU9OOiAxNCxcbiAgQ09MT1I6IDE1LFxuICBMVU1JTk9TSVRZOiAxNixcbiAgTk9STUFMX05QTTogMTcsXG4gIEFERF9OUE06IDE4LFxuICBTQ1JFRU5fTlBNOiAxOVxufTtcblxuLyoqXG4gKiBWYXJpb3VzIHdlYmdsIGRyYXcgbW9kZXMuIFRoZXNlIGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgd2hpY2ggR0wgZHJhd01vZGUgdG8gdXNlXG4gKiB1bmRlciBjZXJ0YWluIHNpdHVhdGlvbnMgYW5kIHJlbmRlcmVycy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBEUkFXX01PREVTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPSU5UU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORV9MT09QXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORV9TVFJJUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfRkFOXG4gKi9cbnZhciBEUkFXX01PREVTID0gZXhwb3J0cy5EUkFXX01PREVTID0ge1xuICBQT0lOVFM6IDAsXG4gIExJTkVTOiAxLFxuICBMSU5FX0xPT1A6IDIsXG4gIExJTkVfU1RSSVA6IDMsXG4gIFRSSUFOR0xFUzogNCxcbiAgVFJJQU5HTEVfU1RSSVA6IDUsXG4gIFRSSUFOR0xFX0ZBTjogNlxufTtcblxuLyoqXG4gKiBUaGUgc2NhbGUgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLlNDQUxFX01PREV9IHNjYWxlIG1vZGUgYWZmZWN0cyB0aGUgZGVmYXVsdCBzY2FsaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIExJTkVBUiBvciBORUFSRVNULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBTQ0FMRV9NT0RFU1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVIgU21vb3RoIHNjYWxpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBORUFSRVNUIFBpeGVsYXRpbmcgc2NhbGluZ1xuICovXG52YXIgU0NBTEVfTU9ERVMgPSBleHBvcnRzLlNDQUxFX01PREVTID0ge1xuICBMSU5FQVI6IDAsXG4gIE5FQVJFU1Q6IDFcbn07XG5cbi8qKlxuICogVGhlIHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLldSQVBfTU9ERX0gd3JhcCBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgd3JhcHBpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgQ0xBTVAgb3IgUkVQRUFULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqIElmIHRoZSB0ZXh0dXJlIGlzIG5vbiBwb3dlciBvZiB0d28gdGhlbiBjbGFtcCB3aWxsIGJlIHVzZWQgcmVnYXJkbGVzcyBhcyB3ZWJHTCBjYW5cbiAqIG9ubHkgdXNlIFJFUEVBVCBpZiB0aGUgdGV4dHVyZSBpcyBwbzIuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBXUkFQX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDTEFNUCAtIFRoZSB0ZXh0dXJlcyB1dnMgYXJlIGNsYW1wZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUlSUk9SRURfUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdCB3aXRoIG1pcnJvcmluZ1xuICovXG52YXIgV1JBUF9NT0RFUyA9IGV4cG9ydHMuV1JBUF9NT0RFUyA9IHtcbiAgQ0xBTVA6IDAsXG4gIFJFUEVBVDogMSxcbiAgTUlSUk9SRURfUkVQRUFUOiAyXG59O1xuXG4vKipcbiAqIFRoZSBnYyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuR0NfTU9ERX0gR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUgZm9yIFBpeGlKUyB0ZXh0dXJlcyBpcyBBVVRPXG4gKiBJZiBzZXQgdG8gR0NfTU9ERSwgdGhlIHJlbmRlcmVyIHdpbGwgb2NjYXNpb25hbGx5IGNoZWNrIHRleHR1cmVzIHVzYWdlLiBJZiB0aGV5IGFyZSBub3RcbiAqIHVzZWQgZm9yIGEgc3BlY2lmaWVkIHBlcmlvZCBvZiB0aW1lIHRoZXkgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVS4gVGhleSB3aWxsIG9mIGNvdXJzZVxuICogYmUgdXBsb2FkZWQgYWdhaW4gd2hlbiB0aGV5IGFyZSByZXF1aXJlZC4gVGhpcyBpcyBhIHNpbGVudCBiZWhpbmQgdGhlIHNjZW5lcyBwcm9jZXNzIHRoYXRcbiAqIHNob3VsZCBlbnN1cmUgdGhhdCB0aGUgR1BVIGRvZXMgbm90ICBnZXQgZmlsbGVkIHVwLlxuICpcbiAqIEhhbmR5IGZvciBtb2JpbGUgZGV2aWNlcyFcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgR0NfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFVVE8gLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBoYXBwZW4gcGVyaW9kaWNhbGx5IGF1dG9tYXRpY2FsbHlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNQU5VQUwgLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBuZWVkIHRvIGJlIGNhbGxlZCBtYW51YWxseVxuICovXG52YXIgR0NfTU9ERVMgPSBleHBvcnRzLkdDX01PREVTID0ge1xuICBBVVRPOiAwLFxuICBNQU5VQUw6IDFcbn07XG5cbi8qKlxuICogUmVnZXhwIGZvciBpbWFnZSB0eXBlIGJ5IGV4dGVuc2lvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7UmVnRXhwfHN0cmluZ31cbiAqIEBleGFtcGxlIGBpbWFnZS5wbmdgXG4gKi9cbnZhciBVUkxfRklMRV9FWFRFTlNJT04gPSBleHBvcnRzLlVSTF9GSUxFX0VYVEVOU0lPTiA9IC9cXC4oXFx3ezMsNH0pKD86JHxcXD98IykvaTtcblxuLyoqXG4gKiBSZWdleHAgZm9yIGRhdGEgVVJJLlxuICogQmFzZWQgb246IHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcmFnaW5nd2luZC9kYXRhLXVyaS1yZWdleH1cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIERBVEFfVVJJXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge1JlZ0V4cHxzdHJpbmd9XG4gKiBAZXhhbXBsZSBkYXRhOmltYWdlL3BuZztiYXNlNjRcbiAqL1xudmFyIERBVEFfVVJJID0gZXhwb3J0cy5EQVRBX1VSSSA9IC9eXFxzKmRhdGE6KD86KFtcXHctXSspXFwvKFtcXHcrLi1dKykpPyg/OjsoY2hhcnNldD1bXFx3LV0rfGJhc2U2NCkpPywoLiopL2k7XG5cbi8qKlxuICogUmVnZXhwIGZvciBTVkcgc2l6ZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNWR19TSVpFXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge1JlZ0V4cHxzdHJpbmd9XG4gKiBAZXhhbXBsZSAmbHQ7c3ZnIHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiMTAwXCImZ3Q7Jmx0Oy9zdmcmZ3Q7XG4gKi9cbnZhciBTVkdfU0laRSA9IGV4cG9ydHMuU1ZHX1NJWkUgPSAvPHN2Z1tePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKig/Olxccyh3aWR0aHxoZWlnaHQpPSgnfFwiKShcXGQqKD86XFwuXFxkKyk/KSg/OnB4KT8oJ3xcIikpW14+XSo+L2k7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlblxuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IGlkZW50aWZ5IHNoYXBlcywgbWFpbmx5IHRvIHByZXZlbnQgYGluc3RhbmNlb2ZgIGNhbGxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgU0hBUEVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0xZIFBvbHlnb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRUNUIFJlY3RhbmdsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENJUkMgQ2lyY2xlXG4gKiBAcHJvcGVydHkge251bWJlcn0gRUxJUCBFbGxpcHNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gUlJFQyBSb3VuZGVkIFJlY3RhbmdsZVxuICovXG52YXIgU0hBUEVTID0gZXhwb3J0cy5TSEFQRVMgPSB7XG4gIFBPTFk6IDAsXG4gIFJFQ1Q6IDEsXG4gIENJUkM6IDIsXG4gIEVMSVA6IDMsXG4gIFJSRUM6IDRcbn07XG5cbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gc2hhZGVycy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFBSRUNJU0lPTlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gTE9XPSdsb3dwJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IE1FRElVTT0nbWVkaXVtcCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBISUdIPSdoaWdocCdcbiAqL1xudmFyIFBSRUNJU0lPTiA9IGV4cG9ydHMuUFJFQ0lTSU9OID0ge1xuICBMT1c6ICdsb3dwJyxcbiAgTUVESVVNOiAnbWVkaXVtcCcsXG4gIEhJR0g6ICdoaWdocCdcbn07XG5cbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSB0aGUgdHJhbnNmb3JtIHR5cGUuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBUUkFOU0ZPUk1fTU9ERVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gU1RBVElDXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFlOQU1JQ1xuICovXG52YXIgVFJBTlNGT1JNX01PREUgPSBleHBvcnRzLlRSQU5TRk9STV9NT0RFID0ge1xuICBTVEFUSUM6IDAsXG4gIERZTkFNSUM6IDFcbn07XG5cbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgZGVmaW5lIHRoZSB0eXBlIG9mIGdyYWRpZW50IG9uIHRleHQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBURVhUX0dSQURJRU5UXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfVkVSVElDQUwgVmVydGljYWwgZ3JhZGllbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfSE9SSVpPTlRBTCBMaW5lYXIgZ3JhZGllbnRcbiAqL1xudmFyIFRFWFRfR1JBRElFTlQgPSBleHBvcnRzLlRFWFRfR1JBRElFTlQgPSB7XG4gIExJTkVBUl9WRVJUSUNBTDogMCxcbiAgTElORUFSX0hPUklaT05UQUw6IDFcbn07XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgdXBkYXRlIHByaW9yaXRpZXMgdXNlZCBieSBpbnRlcm5hbCBQSVhJIGNsYXNzZXMgd2hlbiByZWdpc3RlcmVkIHdpdGhcbiAqIHRoZSB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyfSBvYmplY3QuIEhpZ2hlciBwcmlvcml0eSBpdGVtcyBhcmUgdXBkYXRlZCBmaXJzdCBhbmQgbG93ZXJcbiAqIHByaW9yaXR5IGl0ZW1zLCBzdWNoIGFzIHJlbmRlciwgc2hvdWxkIGdvIGxhdGVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVVBEQVRFX1BSSU9SSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBJTlRFUkFDVElPTj01MCBIaWdoZXN0IHByaW9yaXR5LCB1c2VkIGZvciB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gSElHSD0yNSBIaWdoIHByaW9yaXR5IHVwZGF0aW5nLCB7QGxpbmsgUElYSS5WaWRlb0Jhc2VUZXh0dXJlfSBhbmQge0BsaW5rIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTD0wIERlZmF1bHQgcHJpb3JpdHkgZm9yIHRpY2tlciBldmVudHMsIHNlZSB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2FkZH0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XPS0yNSBMb3cgcHJpb3JpdHkgdXNlZCBmb3Ige0BsaW5rIFBJWEkuQXBwbGljYXRpb259IHJlbmRlcmluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVVElMSVRZPS01MCBMb3dlc3QgcHJpb3JpdHkgdXNlZCBmb3Ige0BsaW5rIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gdXRpbGl0eS5cbiAqL1xudmFyIFVQREFURV9QUklPUklUWSA9IGV4cG9ydHMuVVBEQVRFX1BSSU9SSVRZID0ge1xuICBJTlRFUkFDVElPTjogNTAsXG4gIEhJR0g6IDI1LFxuICBOT1JNQUw6IDAsXG4gIExPVzogLTI1LFxuICBVVElMSVRZOiAtNTBcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmF1dG9EZXRlY3RSZW5kZXJlciA9IGV4cG9ydHMuQXBwbGljYXRpb24gPSBleHBvcnRzLkZpbHRlciA9IGV4cG9ydHMuU3ByaXRlTWFza0ZpbHRlciA9IGV4cG9ydHMuUXVhZCA9IGV4cG9ydHMuUmVuZGVyVGFyZ2V0ID0gZXhwb3J0cy5PYmplY3RSZW5kZXJlciA9IGV4cG9ydHMuV2ViR0xNYW5hZ2VyID0gZXhwb3J0cy5TaGFkZXIgPSBleHBvcnRzLkNhbnZhc1JlbmRlclRhcmdldCA9IGV4cG9ydHMuVGV4dHVyZVV2cyA9IGV4cG9ydHMuVmlkZW9CYXNlVGV4dHVyZSA9IGV4cG9ydHMuQmFzZVJlbmRlclRleHR1cmUgPSBleHBvcnRzLlJlbmRlclRleHR1cmUgPSBleHBvcnRzLkJhc2VUZXh0dXJlID0gZXhwb3J0cy5UZXh0dXJlTWF0cml4ID0gZXhwb3J0cy5UZXh0dXJlID0gZXhwb3J0cy5TcHJpdGVzaGVldCA9IGV4cG9ydHMuQ2FudmFzR3JhcGhpY3NSZW5kZXJlciA9IGV4cG9ydHMuR3JhcGhpY3NSZW5kZXJlciA9IGV4cG9ydHMuR3JhcGhpY3NEYXRhID0gZXhwb3J0cy5HcmFwaGljcyA9IGV4cG9ydHMuVGV4dE1ldHJpY3MgPSBleHBvcnRzLlRleHRTdHlsZSA9IGV4cG9ydHMuVGV4dCA9IGV4cG9ydHMuU3ByaXRlUmVuZGVyZXIgPSBleHBvcnRzLkNhbnZhc1RpbnRlciA9IGV4cG9ydHMuQ2FudmFzU3ByaXRlUmVuZGVyZXIgPSBleHBvcnRzLlNwcml0ZSA9IGV4cG9ydHMuVHJhbnNmb3JtQmFzZSA9IGV4cG9ydHMuVHJhbnNmb3JtU3RhdGljID0gZXhwb3J0cy5UcmFuc2Zvcm0gPSBleHBvcnRzLkNvbnRhaW5lciA9IGV4cG9ydHMuRGlzcGxheU9iamVjdCA9IGV4cG9ydHMuQm91bmRzID0gZXhwb3J0cy5nbENvcmUgPSBleHBvcnRzLldlYkdMUmVuZGVyZXIgPSBleHBvcnRzLkNhbnZhc1JlbmRlcmVyID0gZXhwb3J0cy50aWNrZXIgPSBleHBvcnRzLnV0aWxzID0gZXhwb3J0cy5zZXR0aW5ncyA9IHVuZGVmaW5lZDtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4vY29uc3QnKTtcblxuT2JqZWN0LmtleXMoX2NvbnN0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfY29uc3Rba2V5XTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4vbWF0aCcpO1xuXG5PYmplY3Qua2V5cyhfbWF0aCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX21hdGhba2V5XTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2dsQ29yZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0JvdW5kcyA9IHJlcXVpcmUoJy4vZGlzcGxheS9Cb3VuZHMnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCb3VuZHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Cb3VuZHMpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0Rpc3BsYXlPYmplY3QgPSByZXF1aXJlKCcuL2Rpc3BsYXkvRGlzcGxheU9iamVjdCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0Rpc3BsYXlPYmplY3QnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaXNwbGF5T2JqZWN0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Db250YWluZXIgPSByZXF1aXJlKCcuL2Rpc3BsYXkvQ29udGFpbmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ29udGFpbmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udGFpbmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UcmFuc2Zvcm0gPSByZXF1aXJlKCcuL2Rpc3BsYXkvVHJhbnNmb3JtJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVHJhbnNmb3JtJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNmb3JtKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UcmFuc2Zvcm1TdGF0aWMgPSByZXF1aXJlKCcuL2Rpc3BsYXkvVHJhbnNmb3JtU3RhdGljJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVHJhbnNmb3JtU3RhdGljJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNmb3JtU3RhdGljKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UcmFuc2Zvcm1CYXNlID0gcmVxdWlyZSgnLi9kaXNwbGF5L1RyYW5zZm9ybUJhc2UnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUcmFuc2Zvcm1CYXNlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNmb3JtQmFzZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfU3ByaXRlID0gcmVxdWlyZSgnLi9zcHJpdGVzL1Nwcml0ZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1Nwcml0ZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Nwcml0ZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzU3ByaXRlUmVuZGVyZXIgPSByZXF1aXJlKCcuL3Nwcml0ZXMvY2FudmFzL0NhbnZhc1Nwcml0ZVJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2FudmFzU3ByaXRlUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNTcHJpdGVSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzVGludGVyID0gcmVxdWlyZSgnLi9zcHJpdGVzL2NhbnZhcy9DYW52YXNUaW50ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDYW52YXNUaW50ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNUaW50ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1Nwcml0ZVJlbmRlcmVyID0gcmVxdWlyZSgnLi9zcHJpdGVzL3dlYmdsL1Nwcml0ZVJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnU3ByaXRlUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGVSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGV4dCA9IHJlcXVpcmUoJy4vdGV4dC9UZXh0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGV4dCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RleHRTdHlsZSA9IHJlcXVpcmUoJy4vdGV4dC9UZXh0U3R5bGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUZXh0U3R5bGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0U3R5bGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RleHRNZXRyaWNzID0gcmVxdWlyZSgnLi90ZXh0L1RleHRNZXRyaWNzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGV4dE1ldHJpY3MnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0TWV0cmljcykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfR3JhcGhpY3MgPSByZXF1aXJlKCcuL2dyYXBoaWNzL0dyYXBoaWNzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnR3JhcGhpY3MnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmFwaGljcykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfR3JhcGhpY3NEYXRhID0gcmVxdWlyZSgnLi9ncmFwaGljcy9HcmFwaGljc0RhdGEnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdHcmFwaGljc0RhdGEnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmFwaGljc0RhdGEpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0dyYXBoaWNzUmVuZGVyZXIgPSByZXF1aXJlKCcuL2dyYXBoaWNzL3dlYmdsL0dyYXBoaWNzUmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdHcmFwaGljc1JlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JhcGhpY3NSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzR3JhcGhpY3NSZW5kZXJlciA9IHJlcXVpcmUoJy4vZ3JhcGhpY3MvY2FudmFzL0NhbnZhc0dyYXBoaWNzUmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDYW52YXNHcmFwaGljc1JlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzR3JhcGhpY3NSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfU3ByaXRlc2hlZXQgPSByZXF1aXJlKCcuL3RleHR1cmVzL1Nwcml0ZXNoZWV0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnU3ByaXRlc2hlZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGVzaGVldCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGV4dHVyZSA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvVGV4dHVyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RleHR1cmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UZXh0dXJlTWF0cml4ID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9UZXh0dXJlTWF0cml4Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGV4dHVyZU1hdHJpeCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmVNYXRyaXgpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0Jhc2VUZXh0dXJlID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9CYXNlVGV4dHVyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0Jhc2VUZXh0dXJlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVRleHR1cmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1JlbmRlclRleHR1cmUgPSByZXF1aXJlKCcuL3RleHR1cmVzL1JlbmRlclRleHR1cmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSZW5kZXJUZXh0dXJlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVuZGVyVGV4dHVyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQmFzZVJlbmRlclRleHR1cmUgPSByZXF1aXJlKCcuL3RleHR1cmVzL0Jhc2VSZW5kZXJUZXh0dXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQmFzZVJlbmRlclRleHR1cmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlUmVuZGVyVGV4dHVyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVmlkZW9CYXNlVGV4dHVyZSA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvVmlkZW9CYXNlVGV4dHVyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1ZpZGVvQmFzZVRleHR1cmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WaWRlb0Jhc2VUZXh0dXJlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UZXh0dXJlVXZzID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9UZXh0dXJlVXZzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGV4dHVyZVV2cycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmVVdnMpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc1JlbmRlclRhcmdldCA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL2NhbnZhcy91dGlscy9DYW52YXNSZW5kZXJUYXJnZXQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDYW52YXNSZW5kZXJUYXJnZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNSZW5kZXJUYXJnZXQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1NoYWRlciA9IHJlcXVpcmUoJy4vU2hhZGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnU2hhZGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2hhZGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9XZWJHTE1hbmFnZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC9tYW5hZ2Vycy9XZWJHTE1hbmFnZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdXZWJHTE1hbmFnZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTE1hbmFnZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX09iamVjdFJlbmRlcmVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvT2JqZWN0UmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdPYmplY3RSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09iamVjdFJlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9SZW5kZXJUYXJnZXQgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC91dGlscy9SZW5kZXJUYXJnZXQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSZW5kZXJUYXJnZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUYXJnZXQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1F1YWQgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC91dGlscy9RdWFkJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUXVhZCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1F1YWQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1Nwcml0ZU1hc2tGaWx0ZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL3Nwcml0ZU1hc2svU3ByaXRlTWFza0ZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1Nwcml0ZU1hc2tGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGVNYXNrRmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9GaWx0ZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL0ZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0ZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQXBwbGljYXRpb24gPSByZXF1aXJlKCcuL0FwcGxpY2F0aW9uJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQXBwbGljYXRpb24nLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BcHBsaWNhdGlvbikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfYXV0b0RldGVjdFJlbmRlcmVyID0gcmVxdWlyZSgnLi9hdXRvRGV0ZWN0UmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdhdXRvRGV0ZWN0UmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfYXV0b0RldGVjdFJlbmRlcmVyLmF1dG9EZXRlY3RSZW5kZXJlcjtcbiAgfVxufSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciB1dGlscyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlscyk7XG5cbnZhciBfdGlja2VyID0gcmVxdWlyZSgnLi90aWNrZXInKTtcblxudmFyIHRpY2tlciA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aWNrZXIpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9DYW52YXNSZW5kZXJlciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlcicpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlcicpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xSZW5kZXJlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuc2V0dGluZ3MgPSBfc2V0dGluZ3MyLmRlZmF1bHQ7XG5leHBvcnRzLnV0aWxzID0gdXRpbHM7XG5leHBvcnRzLnRpY2tlciA9IHRpY2tlcjtcbmV4cG9ydHMuQ2FudmFzUmVuZGVyZXIgPSBfQ2FudmFzUmVuZGVyZXIyLmRlZmF1bHQ7XG5leHBvcnRzLldlYkdMUmVuZGVyZXIgPSBfV2ViR0xSZW5kZXJlcjIuZGVmYXVsdDsgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG5hbWVzcGFjZSBQSVhJXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLnByZW11bHRpcGx5QmxlbmRNb2RlID0gZXhwb3J0cy5CYXNlVGV4dHVyZUNhY2hlID0gZXhwb3J0cy5UZXh0dXJlQ2FjaGUgPSBleHBvcnRzLmVhcmN1dCA9IGV4cG9ydHMubWl4aW5zID0gZXhwb3J0cy5wbHVnaW5UYXJnZXQgPSBleHBvcnRzLkV2ZW50RW1pdHRlciA9IGV4cG9ydHMucmVtb3ZlSXRlbXMgPSBleHBvcnRzLmlzTW9iaWxlID0gdW5kZWZpbmVkO1xuZXhwb3J0cy51aWQgPSB1aWQ7XG5leHBvcnRzLmhleDJyZ2IgPSBoZXgycmdiO1xuZXhwb3J0cy5oZXgyc3RyaW5nID0gaGV4MnN0cmluZztcbmV4cG9ydHMucmdiMmhleCA9IHJnYjJoZXg7XG5leHBvcnRzLmdldFJlc29sdXRpb25PZlVybCA9IGdldFJlc29sdXRpb25PZlVybDtcbmV4cG9ydHMuZGVjb21wb3NlRGF0YVVyaSA9IGRlY29tcG9zZURhdGFVcmk7XG5leHBvcnRzLmdldFVybEZpbGVFeHRlbnNpb24gPSBnZXRVcmxGaWxlRXh0ZW5zaW9uO1xuZXhwb3J0cy5nZXRTdmdTaXplID0gZ2V0U3ZnU2l6ZTtcbmV4cG9ydHMuc2tpcEhlbGxvID0gc2tpcEhlbGxvO1xuZXhwb3J0cy5zYXlIZWxsbyA9IHNheUhlbGxvO1xuZXhwb3J0cy5pc1dlYkdMU3VwcG9ydGVkID0gaXNXZWJHTFN1cHBvcnRlZDtcbmV4cG9ydHMuc2lnbiA9IHNpZ247XG5leHBvcnRzLmRlc3Ryb3lUZXh0dXJlQ2FjaGUgPSBkZXN0cm95VGV4dHVyZUNhY2hlO1xuZXhwb3J0cy5jbGVhclRleHR1cmVDYWNoZSA9IGNsZWFyVGV4dHVyZUNhY2hlO1xuZXhwb3J0cy5jb3JyZWN0QmxlbmRNb2RlID0gY29ycmVjdEJsZW5kTW9kZTtcbmV4cG9ydHMucHJlbXVsdGlwbHlUaW50ID0gcHJlbXVsdGlwbHlUaW50O1xuZXhwb3J0cy5wcmVtdWx0aXBseVJnYmEgPSBwcmVtdWx0aXBseVJnYmE7XG5leHBvcnRzLnByZW11bHRpcGx5VGludFRvUmdiYSA9IHByZW11bHRpcGx5VGludFRvUmdiYTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9ldmVudGVtaXR0ZXIgPSByZXF1aXJlKCdldmVudGVtaXR0ZXIzJyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V2ZW50ZW1pdHRlcik7XG5cbnZhciBfcGx1Z2luVGFyZ2V0ID0gcmVxdWlyZSgnLi9wbHVnaW5UYXJnZXQnKTtcblxudmFyIF9wbHVnaW5UYXJnZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGx1Z2luVGFyZ2V0KTtcblxudmFyIF9taXhpbiA9IHJlcXVpcmUoJy4vbWl4aW4nKTtcblxudmFyIG1peGlucyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9taXhpbik7XG5cbnZhciBfaXNtb2JpbGVqcyA9IHJlcXVpcmUoJ2lzbW9iaWxlanMnKTtcblxudmFyIGlzTW9iaWxlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2lzbW9iaWxlanMpO1xuXG52YXIgX3JlbW92ZUFycmF5SXRlbXMgPSByZXF1aXJlKCdyZW1vdmUtYXJyYXktaXRlbXMnKTtcblxudmFyIF9yZW1vdmVBcnJheUl0ZW1zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlbW92ZUFycmF5SXRlbXMpO1xuXG52YXIgX21hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzID0gcmVxdWlyZSgnLi9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcycpO1xuXG52YXIgX21hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKTtcblxudmFyIF9lYXJjdXQgPSByZXF1aXJlKCdlYXJjdXQnKTtcblxudmFyIF9lYXJjdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWFyY3V0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIG5leHRVaWQgPSAwO1xudmFyIHNhaWRIZWxsbyA9IGZhbHNlO1xuXG4vKipcbiAqIEdlbmVyYWxpemVkIGNvbnZlbmllbmNlIHV0aWxpdGllcyBmb3IgUElYSS5cbiAqIEBleGFtcGxlXG4gKiAvLyBFeHRlbmQgUElYSSdzIGludGVybmFsIEV2ZW50IEVtaXR0ZXIuXG4gKiBjbGFzcyBNeUVtaXR0ZXIgZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlciB7XG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgICBzdXBlcigpO1xuICogICAgICBjb25zb2xlLmxvZyhcIkVtaXR0ZXIgY3JlYXRlZCFcIik7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiAvLyBHZXQgaW5mbyBvbiBjdXJyZW50IGRldmljZVxuICogY29uc29sZS5sb2coUElYSS51dGlscy5pc01vYmlsZSk7XG4gKlxuICogLy8gQ29udmVydCBoZXggY29sb3IgdG8gc3RyaW5nXG4gKiBjb25zb2xlLmxvZyhQSVhJLnV0aWxzLmhleDJzdHJpbmcoMHhmZjAwZmYpKTsgLy8gcmV0dXJuczogXCIjZmYwMGZmXCJcbiAqIEBuYW1lc3BhY2UgUElYSS51dGlsc1xuICovXG5leHBvcnRzLmlzTW9iaWxlID0gaXNNb2JpbGU7XG5leHBvcnRzLnJlbW92ZUl0ZW1zID0gX3JlbW92ZUFycmF5SXRlbXMyLmRlZmF1bHQ7XG5leHBvcnRzLkV2ZW50RW1pdHRlciA9IF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQ7XG5leHBvcnRzLnBsdWdpblRhcmdldCA9IF9wbHVnaW5UYXJnZXQyLmRlZmF1bHQ7XG5leHBvcnRzLm1peGlucyA9IG1peGlucztcbmV4cG9ydHMuZWFyY3V0ID0gX2VhcmN1dDIuZGVmYXVsdDtcblxuLyoqXG4gKiBHZXRzIHRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiB1aWRcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIG5leHQgdW5pcXVlIGlkZW50aWZpZXIgdG8gdXNlLlxuICovXG5cbmZ1bmN0aW9uIHVpZCgpIHtcbiAgICByZXR1cm4gKytuZXh0VWlkO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgaGV4IGNvbG9yIG51bWJlciB0byBhbiBbUiwgRywgQl0gYXJyYXlcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGhleDJyZ2JcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZXggLSBUaGUgbnVtYmVyIHRvIGNvbnZlcnRcbiAqIEBwYXJhbSAge251bWJlcltdfSBbb3V0PVtdXSBJZiBzdXBwbGllZCwgdGhpcyBhcnJheSB3aWxsIGJlIHVzZWQgcmF0aGVyIHRoYW4gcmV0dXJuaW5nIGEgbmV3IG9uZVxuICogQHJldHVybiB7bnVtYmVyW119IEFuIGFycmF5IHJlcHJlc2VudGluZyB0aGUgW1IsIEcsIEJdIG9mIHRoZSBjb2xvci5cbiAqL1xuZnVuY3Rpb24gaGV4MnJnYihoZXgsIG91dCkge1xuICAgIG91dCA9IG91dCB8fCBbXTtcblxuICAgIG91dFswXSA9IChoZXggPj4gMTYgJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMV0gPSAoaGV4ID4+IDggJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMl0gPSAoaGV4ICYgMHhGRikgLyAyNTU7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgaGV4IGNvbG9yIG51bWJlciB0byBhIHN0cmluZy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGhleDJzdHJpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZXggLSBOdW1iZXIgaW4gaGV4XG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmcgY29sb3IuXG4gKi9cbmZ1bmN0aW9uIGhleDJzdHJpbmcoaGV4KSB7XG4gICAgaGV4ID0gaGV4LnRvU3RyaW5nKDE2KTtcbiAgICBoZXggPSAnMDAwMDAwJy5zdWJzdHIoMCwgNiAtIGhleC5sZW5ndGgpICsgaGV4O1xuXG4gICAgcmV0dXJuICcjJyArIGhleDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGNvbG9yIGFzIGFuIFtSLCBHLCBCXSBhcnJheSB0byBhIGhleCBudW1iZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHJnYjJoZXhcbiAqIEBwYXJhbSB7bnVtYmVyW119IHJnYiAtIHJnYiBhcnJheVxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgY29sb3IgbnVtYmVyXG4gKi9cbmZ1bmN0aW9uIHJnYjJoZXgocmdiKSB7XG4gICAgcmV0dXJuIChyZ2JbMF0gKiAyNTUgPDwgMTYpICsgKHJnYlsxXSAqIDI1NSA8PCA4KSArIChyZ2JbMl0gKiAyNTUgfCAwKTtcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgYW4gYXNzZXQgYnkgbG9va2luZyBmb3IgdGhlIHByZWZpeFxuICogdXNlZCBieSBzcHJpdGVzaGVldHMgYW5kIGltYWdlIHVybHNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybFxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIHRoZSBpbWFnZSBwYXRoXG4gKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZT0xXSAtIHRoZSBkZWZhdWx0VmFsdWUgaWYgbm8gZmlsZW5hbWUgcHJlZml4IGlzIHNldC5cbiAqIEByZXR1cm4ge251bWJlcn0gcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiBhbiBhc3NldFxuICovXG5mdW5jdGlvbiBnZXRSZXNvbHV0aW9uT2ZVcmwodXJsLCBkZWZhdWx0VmFsdWUpIHtcbiAgICB2YXIgcmVzb2x1dGlvbiA9IF9zZXR0aW5nczIuZGVmYXVsdC5SRVRJTkFfUFJFRklYLmV4ZWModXJsKTtcblxuICAgIGlmIChyZXNvbHV0aW9uKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHJlc29sdXRpb25bMV0pO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IDE7XG59XG5cbi8qKlxuICogVHlwZWRlZiBmb3IgZGVjb21wb3NlRGF0YVVyaSByZXR1cm4gb2JqZWN0LlxuICpcbiAqIEB0eXBlZGVmIHtvYmplY3R9IFBJWEkudXRpbHN+RGVjb21wb3NlZERhdGFVcmlcbiAqIEBwcm9wZXJ0eSB7bWVkaWFUeXBlfSBNZWRpYSB0eXBlLCBlZy4gYGltYWdlYFxuICogQHByb3BlcnR5IHtzdWJUeXBlfSBTdWIgdHlwZSwgZWcuIGBwbmdgXG4gKiBAcHJvcGVydHkge2VuY29kaW5nfSBEYXRhIGVuY29kaW5nLCBlZy4gYGJhc2U2NGBcbiAqIEBwcm9wZXJ0eSB7ZGF0YX0gVGhlIGFjdHVhbCBkYXRhXG4gKi9cblxuLyoqXG4gKiBTcGxpdCBhIGRhdGEgVVJJIGludG8gY29tcG9uZW50cy4gUmV0dXJucyB1bmRlZmluZWQgaWZcbiAqIHBhcmFtZXRlciBgZGF0YVVyaWAgaXMgbm90IGEgdmFsaWQgZGF0YSBVUkkuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVVyaSAtIHRoZSBkYXRhIFVSSSB0byBjaGVja1xuICogQHJldHVybiB7UElYSS51dGlsc35EZWNvbXBvc2VkRGF0YVVyaXx1bmRlZmluZWR9IFRoZSBkZWNvbXBvc2VkIGRhdGEgdXJpIG9yIHVuZGVmaW5lZFxuICovXG5mdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpKGRhdGFVcmkpIHtcbiAgICB2YXIgZGF0YVVyaU1hdGNoID0gX2NvbnN0LkRBVEFfVVJJLmV4ZWMoZGF0YVVyaSk7XG5cbiAgICBpZiAoZGF0YVVyaU1hdGNoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZWRpYVR5cGU6IGRhdGFVcmlNYXRjaFsxXSA/IGRhdGFVcmlNYXRjaFsxXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3ViVHlwZTogZGF0YVVyaU1hdGNoWzJdID8gZGF0YVVyaU1hdGNoWzJdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBlbmNvZGluZzogZGF0YVVyaU1hdGNoWzNdID8gZGF0YVVyaU1hdGNoWzNdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkYXRhOiBkYXRhVXJpTWF0Y2hbNF1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEdldCB0eXBlIG9mIHRoZSBpbWFnZSBieSByZWdleHAgZm9yIGV4dGVuc2lvbi4gUmV0dXJucyB1bmRlZmluZWQgZm9yIHVua25vd24gZXh0ZW5zaW9ucy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGdldFVybEZpbGVFeHRlbnNpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSB0aGUgaW1hZ2UgcGF0aFxuICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gaW1hZ2UgZXh0ZW5zaW9uXG4gKi9cbmZ1bmN0aW9uIGdldFVybEZpbGVFeHRlbnNpb24odXJsKSB7XG4gICAgdmFyIGV4dGVuc2lvbiA9IF9jb25zdC5VUkxfRklMRV9FWFRFTlNJT04uZXhlYyh1cmwpO1xuXG4gICAgaWYgKGV4dGVuc2lvbikge1xuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uWzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBUeXBlZGVmIGZvciBTaXplIG9iamVjdC5cbiAqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBQSVhJLnV0aWxzflNpemVcbiAqIEBwcm9wZXJ0eSB7d2lkdGh9IFdpZHRoIGNvbXBvbmVudFxuICogQHByb3BlcnR5IHtoZWlnaHR9IEhlaWdodCBjb21wb25lbnRcbiAqL1xuXG4vKipcbiAqIEdldCBzaXplIGZyb20gYW4gc3ZnIHN0cmluZyB1c2luZyByZWdleHAuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBnZXRTdmdTaXplXG4gKiBAcGFyYW0ge3N0cmluZ30gc3ZnU3RyaW5nIC0gYSBzZXJpYWxpemVkIHN2ZyBlbGVtZW50XG4gKiBAcmV0dXJuIHtQSVhJLnV0aWxzflNpemV8dW5kZWZpbmVkfSBpbWFnZSBleHRlbnNpb25cbiAqL1xuZnVuY3Rpb24gZ2V0U3ZnU2l6ZShzdmdTdHJpbmcpIHtcbiAgICB2YXIgc2l6ZU1hdGNoID0gX2NvbnN0LlNWR19TSVpFLmV4ZWMoc3ZnU3RyaW5nKTtcbiAgICB2YXIgc2l6ZSA9IHt9O1xuXG4gICAgaWYgKHNpemVNYXRjaCkge1xuICAgICAgICBzaXplW3NpemVNYXRjaFsxXV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoc2l6ZU1hdGNoWzNdKSk7XG4gICAgICAgIHNpemVbc2l6ZU1hdGNoWzVdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbN10pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2l6ZTtcbn1cblxuLyoqXG4gKiBTa2lwcyB0aGUgaGVsbG8gbWVzc2FnZSBvZiByZW5kZXJlcnMgdGhhdCBhcmUgY3JlYXRlZCBhZnRlciB0aGlzIGlzIHJ1bi5cbiAqXG4gKiBAZnVuY3Rpb24gc2tpcEhlbGxvXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICovXG5mdW5jdGlvbiBza2lwSGVsbG8oKSB7XG4gICAgc2FpZEhlbGxvID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBMb2dzIG91dCB0aGUgdmVyc2lvbiBhbmQgcmVuZGVyZXIgaW5mb3JtYXRpb24gZm9yIHRoaXMgcnVubmluZyBpbnN0YW5jZSBvZiBQSVhJLlxuICogSWYgeW91IGRvbid0IHdhbnQgdG8gc2VlIHRoaXMgbWVzc2FnZSB5b3UgY2FuIHJ1biBgUElYSS51dGlscy5za2lwSGVsbG8oKWAgYmVmb3JlXG4gKiBjcmVhdGluZyB5b3VyIHJlbmRlcmVyLiBLZWVwIGluIG1pbmQgdGhhdCBkb2luZyB0aGF0IHdpbGwgZm9yZXZlciBtYWtlcyB5b3UgYSBqZXJrIGZhY2UuXG4gKlxuICogQHN0YXRpY1xuICogQGZ1bmN0aW9uIHNheUhlbGxvXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgc3RyaW5nIHJlbmRlcmVyIHR5cGUgdG8gbG9nLlxuICovXG5mdW5jdGlvbiBzYXlIZWxsbyh0eXBlKSB7XG4gICAgaWYgKHNhaWRIZWxsbykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjaHJvbWUnKSA+IC0xKSB7XG4gICAgICAgIHZhciBhcmdzID0gWydcXG4gJWMgJWMgJWMgUGl4aUpTICcgKyBfY29uc3QuVkVSU0lPTiArICcgLSBcXHUyNzMwICcgKyB0eXBlICsgJyBcXHUyNzMwICAlYyAgJWMgIGh0dHA6Ly93d3cucGl4aWpzLmNvbS8gICVjICVjIFxcdTI2NjUlY1xcdTI2NjUlY1xcdTI2NjUgXFxuXFxuJywgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JywgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JywgJ2NvbG9yOiAjZmY2NmE1OyBiYWNrZ3JvdW5kOiAjMDMwMzA3OyBwYWRkaW5nOjVweCAwOycsICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsICdiYWNrZ3JvdW5kOiAjZmZjM2RjOyBwYWRkaW5nOjVweCAwOycsICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnLCAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JywgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOyddO1xuXG4gICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygnUGl4aUpTICcgKyBfY29uc3QuVkVSU0lPTiArICcgLSAnICsgdHlwZSArICcgLSBodHRwOi8vd3d3LnBpeGlqcy5jb20vJyk7XG4gICAgfVxuXG4gICAgc2FpZEhlbGxvID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgZm9yIGNoZWNraW5nIGZvciB3ZWJnbCBzdXBwb3J0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpcyB3ZWJnbCBzdXBwb3J0ZWRcbiAqL1xuZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZCgpIHtcbiAgICB2YXIgY29udGV4dE9wdGlvbnMgPSB7IHN0ZW5jaWw6IHRydWUsIGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6IHRydWUgfTtcblxuICAgIHRyeSB7XG4gICAgICAgIGlmICghd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB2YXIgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBjb250ZXh0T3B0aW9ucykgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGNvbnRleHRPcHRpb25zKTtcblxuICAgICAgICB2YXIgc3VjY2VzcyA9ICEhKGdsICYmIGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCkuc3RlbmNpbCk7XG5cbiAgICAgICAgaWYgKGdsKSB7XG4gICAgICAgICAgICB2YXIgbG9zZUNvbnRleHQgPSBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpO1xuXG4gICAgICAgICAgICBpZiAobG9zZUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBsb3NlQ29udGV4dC5sb3NlQ29udGV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZ2wgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHNpZ24gb2YgbnVtYmVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBzaWduXG4gKiBAcGFyYW0ge251bWJlcn0gbiAtIHRoZSBudW1iZXIgdG8gY2hlY2sgdGhlIHNpZ24gb2ZcbiAqIEByZXR1cm5zIHtudW1iZXJ9IDAgaWYgYG5gIGlzIDAsIC0xIGlmIGBuYCBpcyBuZWdhdGl2ZSwgMSBpZiBgbmAgaXMgcG9zaXRpdmVcbiAqL1xuZnVuY3Rpb24gc2lnbihuKSB7XG4gICAgaWYgKG4gPT09IDApIHJldHVybiAwO1xuXG4gICAgcmV0dXJuIG4gPCAwID8gLTEgOiAxO1xufVxuXG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBUZXh0dXJlQ2FjaGUgPSBleHBvcnRzLlRleHR1cmVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHByaXZhdGVcbiAqL1xudmFyIEJhc2VUZXh0dXJlQ2FjaGUgPSBleHBvcnRzLkJhc2VUZXh0dXJlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4vKipcbiAqIERlc3Ryb3lzIGFsbCB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZVxuICovXG5mdW5jdGlvbiBkZXN0cm95VGV4dHVyZUNhY2hlKCkge1xuICAgIHZhciBrZXkgPSB2b2lkIDA7XG5cbiAgICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgVGV4dHVyZUNhY2hlW2tleV0uZGVzdHJveSgpO1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBCYXNlVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIEJhc2VUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIHRleHR1cmVzIGZyb20gY2FjaGUsIGJ1dCBkb2VzIG5vdCBkZXN0cm95IHRoZW1cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNsZWFyVGV4dHVyZUNhY2hlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyVGV4dHVyZUNhY2hlKCkge1xuICAgIHZhciBrZXkgPSB2b2lkIDA7XG5cbiAgICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVtrZXldO1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBCYXNlVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxufVxuXG4vKipcbiAqIG1hcHMgcHJlbXVsdGlwbHkgZmxhZyBhbmQgYmxlbmRNb2RlIHRvIGFkanVzdGVkIGJsZW5kTW9kZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBjb25zdCBwcmVtdWx0aXBseUJsZW5kTW9kZVxuICogQHR5cGUge0FycmF5PG51bWJlcltdPn1cbiAqL1xudmFyIHByZW11bHRpcGx5QmxlbmRNb2RlID0gZXhwb3J0cy5wcmVtdWx0aXBseUJsZW5kTW9kZSA9ICgwLCBfbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMyLmRlZmF1bHQpKCk7XG5cbi8qKlxuICogY2hhbmdlcyBibGVuZE1vZGUgYWNjb3JkaW5nIHRvIHRleHR1cmUgZm9ybWF0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjb3JyZWN0QmxlbmRNb2RlXG4gKiBAcGFyYW0ge251bWJlcn0gYmxlbmRNb2RlIHN1cHBvc2VkIGJsZW5kIG1vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJlbXVsdGlwbGllZCAgd2hldGhlciBzb3VyY2UgaXMgcHJlbXVsdGlwbGllZFxuICogQHJldHVybnMge251bWJlcn0gdHJ1ZSBibGVuZCBtb2RlIGZvciB0aGlzIHRleHR1cmVcbiAqL1xuZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZShibGVuZE1vZGUsIHByZW11bHRpcGxpZWQpIHtcbiAgICByZXR1cm4gcHJlbXVsdGlwbHlCbGVuZE1vZGVbcHJlbXVsdGlwbGllZCA/IDEgOiAwXVtibGVuZE1vZGVdO1xufVxuXG4vKipcbiAqIHByZW11bHRpcGxpZXMgdGludFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdGludCBpbnRlZ2V0IFJHQlxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIGZsb2F0aW5nIHBvaW50IGFscGhhICgwLjAtMS4wKVxuICogQHJldHVybnMge251bWJlcn0gdGludCBtdWx0aXBsaWVkIGJ5IGFscGhhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5VGludCh0aW50LCBhbHBoYSkge1xuICAgIGlmIChhbHBoYSA9PT0gMS4wKSB7XG4gICAgICAgIHJldHVybiAoYWxwaGEgKiAyNTUgPDwgMjQpICsgdGludDtcbiAgICB9XG4gICAgaWYgKGFscGhhID09PSAwLjApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHZhciBSID0gdGludCA+PiAxNiAmIDB4RkY7XG4gICAgdmFyIEcgPSB0aW50ID4+IDggJiAweEZGO1xuICAgIHZhciBCID0gdGludCAmIDB4RkY7XG5cbiAgICBSID0gUiAqIGFscGhhICsgMC41IHwgMDtcbiAgICBHID0gRyAqIGFscGhhICsgMC41IHwgMDtcbiAgICBCID0gQiAqIGFscGhhICsgMC41IHwgMDtcblxuICAgIHJldHVybiAoYWxwaGEgKiAyNTUgPDwgMjQpICsgKFIgPDwgMTYpICsgKEcgPDwgOCkgKyBCO1xufVxuXG4vKipcbiAqIGNvbWJpbmVzIHJnYiBhbmQgYWxwaGEgdG8gb3V0IGFycmF5XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSByZ2IgaW5wdXQgcmdiXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlSZ2JhKHJnYiwgYWxwaGEsIG91dCwgcHJlbXVsdGlwbHkpIHtcbiAgICBvdXQgPSBvdXQgfHwgbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICBpZiAocHJlbXVsdGlwbHkgfHwgcHJlbXVsdGlwbHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF0gKiBhbHBoYTtcbiAgICAgICAgb3V0WzFdID0gcmdiWzFdICogYWxwaGE7XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXSAqIGFscGhhO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG91dFswXSA9IHJnYlswXTtcbiAgICAgICAgb3V0WzFdID0gcmdiWzFdO1xuICAgICAgICBvdXRbMl0gPSByZ2JbMl07XG4gICAgfVxuICAgIG91dFszXSA9IGFscGhhO1xuXG4gICAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBjb252ZXJ0cyBpbnRlZ2VyIHRpbnQgYW5kIGZsb2F0IGFscGhhIHRvIHZlYzQgZm9ybSwgcHJlbXVsdGlwbGllcyBieSBkZWZhdWx0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IGlucHV0IHRpbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSBhbHBoYSBwYXJhbVxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXRdIG91dHB1dFxuICogQHBhcmFtIHtib29sZWFufSBbcHJlbXVsdGlwbHk9dHJ1ZV0gZG8gcHJlbXVsdGlwbHkgaXRcbiAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IHZlYzQgcmdiYVxuICovXG5mdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRUb1JnYmEodGludCwgYWxwaGEsIG91dCwgcHJlbXVsdGlwbHkpIHtcbiAgICBvdXQgPSBvdXQgfHwgbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICBvdXRbMF0gPSAodGludCA+PiAxNiAmIDB4RkYpIC8gMjU1LjA7XG4gICAgb3V0WzFdID0gKHRpbnQgPj4gOCAmIDB4RkYpIC8gMjU1LjA7XG4gICAgb3V0WzJdID0gKHRpbnQgJiAweEZGKSAvIDI1NS4wO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG91dFswXSAqPSBhbHBoYTtcbiAgICAgICAgb3V0WzFdICo9IGFscGhhO1xuICAgICAgICBvdXRbMl0gKj0gYWxwaGE7XG4gICAgfVxuICAgIG91dFszXSA9IGFscGhhO1xuXG4gICAgcmV0dXJuIG91dDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9tYXhSZWNvbW1lbmRlZFRleHR1cmVzID0gcmVxdWlyZSgnLi91dGlscy9tYXhSZWNvbW1lbmRlZFRleHR1cmVzJyk7XG5cbnZhciBfbWF4UmVjb21tZW5kZWRUZXh0dXJlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXhSZWNvbW1lbmRlZFRleHR1cmVzKTtcblxudmFyIF9jYW5VcGxvYWRTYW1lQnVmZmVyID0gcmVxdWlyZSgnLi91dGlscy9jYW5VcGxvYWRTYW1lQnVmZmVyJyk7XG5cbnZhciBfY2FuVXBsb2FkU2FtZUJ1ZmZlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYW5VcGxvYWRTYW1lQnVmZmVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBVc2VyJ3MgY3VzdG9taXphYmxlIGdsb2JhbHMgZm9yIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgUElYSSBzZXR0aW5ncywgc3VjaFxuICogYXMgYSByZW5kZXJlcidzIGRlZmF1bHQgcmVzb2x1dGlvbiwgZnJhbWVyYXRlLCBmbG9hdCBwZXJjaXNpb24sIGV0Yy5cbiAqIEBleGFtcGxlXG4gKiAvLyBVc2UgdGhlIG5hdGl2ZSB3aW5kb3cgcmVzb2x1dGlvbiBhcyB0aGUgZGVmYXVsdCByZXNvbHV0aW9uXG4gKiAvLyB3aWxsIHN1cHBvcnQgaGlnaC1kZW5zaXR5IGRpc3BsYXlzIHdoZW4gcmVuZGVyaW5nXG4gKiBQSVhJLnNldHRpbmdzLlJFU09MVVRJT04gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpby5cbiAqXG4gKiAvLyBEaXNhYmxlIGludGVycG9sYXRpb24gd2hlbiBzY2FsaW5nLCB3aWxsIG1ha2UgdGV4dHVyZSBiZSBwaXhlbGF0ZWRcbiAqIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERSA9IFBJWEkuU0NBTEVfTU9ERVMuTkVBUkVTVDtcbiAqIEBuYW1lc3BhY2UgUElYSS5zZXR0aW5nc1xuICovXG5leHBvcnRzLmRlZmF1bHQgPSB7XG5cbiAgLyoqXG4gICAqIFRhcmdldCBmcmFtZXMgcGVyIG1pbGxpc2Vjb25kLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDAuMDZcbiAgICovXG4gIFRBUkdFVF9GUE1TOiAwLjA2LFxuXG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gdHJ1ZSBXZWJHTCB3aWxsIGF0dGVtcHQgbWFrZSB0ZXh0dXJlcyBtaW1wYXBlZCBieSBkZWZhdWx0LlxuICAgKiBNaXBtYXBwaW5nIHdpbGwgb25seSBzdWNjZWVkIGlmIHRoZSBiYXNlIHRleHR1cmUgdXBsb2FkZWQgaGFzIHBvd2VyIG9mIHR3byBkaW1lbnNpb25zLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBNSVBNQVBfVEVYVFVSRVM6IHRydWUsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMVxuICAgKi9cbiAgUkVTT0xVVElPTjogMSxcblxuICAvKipcbiAgICogRGVmYXVsdCBmaWx0ZXIgcmVzb2x1dGlvbi5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAxXG4gICAqL1xuICBGSUxURVJfUkVTT0xVVElPTjogMSxcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gdGV4dHVyZXMgdGhhdCB0aGlzIGRldmljZSBzdXBwb3J0cy5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAzMlxuICAgKi9cbiAgU1BSSVRFX01BWF9URVhUVVJFUzogKDAsIF9tYXhSZWNvbW1lbmRlZFRleHR1cmVzMi5kZWZhdWx0KSgzMiksXG5cbiAgLy8gVE9ETzogbWF5YmUgY2hhbmdlIHRvIFNQUklURS5CQVRDSF9TSVpFOiAyMDAwXG4gIC8vIFRPRE86IG1heWJlIGFkZCBQQVJUSUNMRS5CQVRDSF9TSVpFOiAxNTAwMFxuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBzcHJpdGUgYmF0Y2ggc2l6ZS5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgYWltcyB0byBiYWxhbmNlIGRlc2t0b3AgYW5kIG1vYmlsZSBkZXZpY2VzLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDQwOTZcbiAgICovXG4gIFNQUklURV9CQVRDSF9TSVpFOiA0MDk2LFxuXG4gIC8qKlxuICAgKiBUaGUgcHJlZml4IHRoYXQgZGVub3RlcyBhIFVSTCBpcyBmb3IgYSByZXRpbmEgYXNzZXQuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge1JlZ0V4cH1cbiAgICogQGV4YW1wbGUgYEAyeGBcbiAgICogQGRlZmF1bHQgL0AoWzAtOVxcLl0rKXgvXG4gICAqL1xuICBSRVRJTkFfUFJFRklYOiAvQChbMC05XFwuXSspeC8sXG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zIGlmIG5vbmUgYXJlIHN1cHBsaWVkIHRvIHtAbGluayBQSVhJLldlYkdMUmVuZGVyZXJ9XG4gICAqIG9yIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAY29uc3RhbnRcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge29iamVjdH1cbiAgICogQHByb3BlcnR5IHtIVE1MQ2FudmFzRWxlbWVudH0gdmlldz1udWxsXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZXNvbHV0aW9uPTFcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBhbnRpYWxpYXM9ZmFsc2VcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBmb3JjZUZYQUE9ZmFsc2VcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBhdXRvUmVzaXplPWZhbHNlXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdHJhbnNwYXJlbnQ9ZmFsc2VcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IGJhY2tncm91bmRDb2xvcj0weDAwMDAwMFxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGNsZWFyQmVmb3JlUmVuZGVyPXRydWVcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VcbiAgICogQHByb3BlcnR5IHtib29sZWFufSByb3VuZFBpeGVscz1mYWxzZVxuICAgKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGg9ODAwXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQ9NjAwXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbGVnYWN5PWZhbHNlXG4gICAqL1xuICBSRU5ERVJfT1BUSU9OUzoge1xuICAgIHZpZXc6IG51bGwsXG4gICAgYW50aWFsaWFzOiBmYWxzZSxcbiAgICBmb3JjZUZYQUE6IGZhbHNlLFxuICAgIGF1dG9SZXNpemU6IGZhbHNlLFxuICAgIHRyYW5zcGFyZW50OiBmYWxzZSxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IDB4MDAwMDAwLFxuICAgIGNsZWFyQmVmb3JlUmVuZGVyOiB0cnVlLFxuICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogZmFsc2UsXG4gICAgcm91bmRQaXhlbHM6IGZhbHNlLFxuICAgIHdpZHRoOiA4MDAsXG4gICAgaGVpZ2h0OiA2MDAsXG4gICAgbGVnYWN5OiBmYWxzZVxuICB9LFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHRyYW5zZm9ybSB0eXBlLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtQSVhJLlRSQU5TRk9STV9NT0RFfVxuICAgKiBAZGVmYXVsdCBQSVhJLlRSQU5TRk9STV9NT0RFLlNUQVRJQ1xuICAgKi9cbiAgVFJBTlNGT1JNX01PREU6IDAsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge1BJWEkuR0NfTU9ERVN9XG4gICAqIEBkZWZhdWx0IFBJWEkuR0NfTU9ERVMuQVVUT1xuICAgKi9cbiAgR0NfTU9ERTogMCxcblxuICAvKipcbiAgICogRGVmYXVsdCBHYXJiYWdlIENvbGxlY3Rpb24gbWF4IGlkbGUuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMzYwMFxuICAgKi9cbiAgR0NfTUFYX0lETEU6IDYwICogNjAsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1heGltdW0gY2hlY2sgY291bnQuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgNjAwXG4gICAqL1xuICBHQ19NQVhfQ0hFQ0tfQ09VTlQ6IDYwICogMTAsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgd3JhcCBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7UElYSS5XUkFQX01PREVTfVxuICAgKiBAZGVmYXVsdCBQSVhJLldSQVBfTU9ERVMuQ0xBTVBcbiAgICovXG4gIFdSQVBfTU9ERTogMCxcblxuICAvKipcbiAgICogVGhlIHNjYWxlIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtQSVhJLlNDQUxFX01PREVTfVxuICAgKiBAZGVmYXVsdCBQSVhJLlNDQUxFX01PREVTLkxJTkVBUlxuICAgKi9cbiAgU0NBTEVfTU9ERTogMCxcblxuICAvKipcbiAgICogRGVmYXVsdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiB2ZXJ0ZXggc2hhZGVyLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtQSVhJLlBSRUNJU0lPTn1cbiAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uSElHSFxuICAgKi9cbiAgUFJFQ0lTSU9OX1ZFUlRFWDogJ2hpZ2hwJyxcblxuICAvKipcbiAgICogRGVmYXVsdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBmcmFnbWVudCBzaGFkZXIuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge1BJWEkuUFJFQ0lTSU9OfVxuICAgKiBAZGVmYXVsdCBQSVhJLlBSRUNJU0lPTi5NRURJVU1cbiAgICovXG4gIFBSRUNJU0lPTl9GUkFHTUVOVDogJ21lZGl1bXAnLFxuXG4gIC8qKlxuICAgKiBDYW4gd2UgdXBsb2FkIHRoZSBzYW1lIGJ1ZmZlciBpbiBhIHNpbmdsZSBmcmFtZT9cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAY29uc3RhbnRcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICBDQU5fVVBMT0FEX1NBTUVfQlVGRkVSOiAoMCwgX2NhblVwbG9hZFNhbWVCdWZmZXIyLmRlZmF1bHQpKCksXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgTWVzaCBgY2FudmFzUGFkZGluZ2AuXG4gICAqXG4gICAqIEBzZWUgUElYSS5tZXNoLk1lc2gjY2FudmFzUGFkZGluZ1xuICAgKiBAc3RhdGljXG4gICAqIEBjb25zdGFudFxuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgTUVTSF9DQU5WQVNfUEFERElORzogMFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldHRpbmdzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9Qb2ludCA9IHJlcXVpcmUoJy4vUG9pbnQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdQb2ludCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvaW50KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9PYnNlcnZhYmxlUG9pbnQgPSByZXF1aXJlKCcuL09ic2VydmFibGVQb2ludCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ09ic2VydmFibGVQb2ludCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09ic2VydmFibGVQb2ludCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfTWF0cml4ID0gcmVxdWlyZSgnLi9NYXRyaXgnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdNYXRyaXgnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NYXRyaXgpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0dyb3VwRCA9IHJlcXVpcmUoJy4vR3JvdXBEOCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0dyb3VwRDgnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Hcm91cEQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NpcmNsZSA9IHJlcXVpcmUoJy4vc2hhcGVzL0NpcmNsZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NpcmNsZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NpcmNsZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfRWxsaXBzZSA9IHJlcXVpcmUoJy4vc2hhcGVzL0VsbGlwc2UnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdFbGxpcHNlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRWxsaXBzZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfUG9seWdvbiA9IHJlcXVpcmUoJy4vc2hhcGVzL1BvbHlnb24nKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdQb2x5Z29uJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9seWdvbikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfUmVjdGFuZ2xlID0gcmVxdWlyZSgnLi9zaGFwZXMvUmVjdGFuZ2xlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUmVjdGFuZ2xlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVjdGFuZ2xlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Sb3VuZGVkUmVjdGFuZ2xlID0gcmVxdWlyZSgnLi9zaGFwZXMvUm91bmRlZFJlY3RhbmdsZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1JvdW5kZWRSZWN0YW5nbGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Sb3VuZGVkUmVjdGFuZ2xlKS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsInZhciBnbCA9IHtcbiAgICBjcmVhdGVDb250ZXh0OiAgICAgICAgICByZXF1aXJlKCcuL2NyZWF0ZUNvbnRleHQnKSxcbiAgICBzZXRWZXJ0ZXhBdHRyaWJBcnJheXM6ICByZXF1aXJlKCcuL3NldFZlcnRleEF0dHJpYkFycmF5cycpLFxuICAgIEdMQnVmZmVyOiAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vR0xCdWZmZXInKSxcbiAgICBHTEZyYW1lYnVmZmVyOiAgICAgICAgICByZXF1aXJlKCcuL0dMRnJhbWVidWZmZXInKSxcbiAgICBHTFNoYWRlcjogICAgICAgICAgICAgICByZXF1aXJlKCcuL0dMU2hhZGVyJyksXG4gICAgR0xUZXh0dXJlOiAgICAgICAgICAgICAgcmVxdWlyZSgnLi9HTFRleHR1cmUnKSxcbiAgICBWZXJ0ZXhBcnJheU9iamVjdDogICAgICByZXF1aXJlKCcuL1ZlcnRleEFycmF5T2JqZWN0JyksXG4gICAgc2hhZGVyOiAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9zaGFkZXInKVxufTtcblxuLy8gRXhwb3J0IGZvciBOb2RlLWNvbXBhdGlibGUgZW52aXJvbm1lbnRzXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpXG57XG4gICAgLy8gRXhwb3J0IHRoZSBtb2R1bGVcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGdsO1xufVxuXG4vLyBBZGQgdG8gdGhlIGJyb3dzZXIgd2luZG93IHBpeGkuZ2xcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylcbntcbiAgICAvLyBhZGQgdGhlIHdpbmRvdyBvYmplY3RcbiAgICB3aW5kb3cuUElYSSA9IHdpbmRvdy5QSVhJIHx8IHt9O1xuICAgIHdpbmRvdy5QSVhJLmdsQ29yZSA9IGdsO1xufVxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIHJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCBhcnJheSB3aXRoIGRpcmVjdG9yeSBuYW1lcyB0aGVyZVxuLy8gbXVzdCBiZSBubyBzbGFzaGVzLCBlbXB0eSBlbGVtZW50cywgb3IgZGV2aWNlIG5hbWVzIChjOlxcKSBpbiB0aGUgYXJyYXlcbi8vIChzbyBhbHNvIG5vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoZXMgLSBpdCBkb2VzIG5vdCBkaXN0aW5ndWlzaFxuLy8gcmVsYXRpdmUgYW5kIGFic29sdXRlIHBhdGhzKVxuZnVuY3Rpb24gbm9ybWFsaXplQXJyYXkocGFydHMsIGFsbG93QWJvdmVSb290KSB7XG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBwYXJ0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHZhciBsYXN0ID0gcGFydHNbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBwYXJ0cy51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0cztcbn1cblxuLy8gU3BsaXQgYSBmaWxlbmFtZSBpbnRvIFtyb290LCBkaXIsIGJhc2VuYW1lLCBleHRdLCB1bml4IHZlcnNpb25cbi8vICdyb290JyBpcyBqdXN0IGEgc2xhc2gsIG9yIG5vdGhpbmcuXG52YXIgc3BsaXRQYXRoUmUgPVxuICAgIC9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvO1xudmFyIHNwbGl0UGF0aCA9IGZ1bmN0aW9uKGZpbGVuYW1lKSB7XG4gIHJldHVybiBzcGxpdFBhdGhSZS5leGVjKGZpbGVuYW1lKS5zbGljZSgxKTtcbn07XG5cbi8vIHBhdGgucmVzb2x2ZShbZnJvbSAuLi5dLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMucmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzb2x2ZWRQYXRoID0gJycsXG4gICAgICByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7XG5cbiAgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHtcbiAgICB2YXIgcGF0aCA9IChpID49IDApID8gYXJndW1lbnRzW2ldIDogcHJvY2Vzcy5jd2QoKTtcblxuICAgIC8vIFNraXAgZW1wdHkgYW5kIGludmFsaWQgZW50cmllc1xuICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfSBlbHNlIGlmICghcGF0aCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDtcbiAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbiAgfVxuXG4gIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcbiAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKCkgZmFpbHMpXG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHJlc29sdmVkUGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihyZXNvbHZlZFBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhIXA7XG4gIH0pLCAhcmVzb2x2ZWRBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIHJldHVybiAoKHJlc29sdmVkQWJzb2x1dGUgPyAnLycgOiAnJykgKyByZXNvbHZlZFBhdGgpIHx8ICcuJztcbn07XG5cbi8vIHBhdGgubm9ybWFsaXplKHBhdGgpXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIGlzQWJzb2x1dGUgPSBleHBvcnRzLmlzQWJzb2x1dGUocGF0aCksXG4gICAgICB0cmFpbGluZ1NsYXNoID0gc3Vic3RyKHBhdGgsIC0xKSA9PT0gJy8nO1xuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICBwYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhIXA7XG4gIH0pLCAhaXNBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIGlmICghcGF0aCAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHBhdGggPSAnLic7XG4gIH1cbiAgaWYgKHBhdGggJiYgdHJhaWxpbmdTbGFzaCkge1xuICAgIHBhdGggKz0gJy8nO1xuICB9XG5cbiAgcmV0dXJuIChpc0Fic29sdXRlID8gJy8nIDogJycpICsgcGF0aDtcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuaXNBYnNvbHV0ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLyc7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLmpvaW4gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBhdGhzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgcmV0dXJuIGV4cG9ydHMubm9ybWFsaXplKGZpbHRlcihwYXRocywgZnVuY3Rpb24ocCwgaW5kZXgpIHtcbiAgICBpZiAodHlwZW9mIHAgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5qb2luIG11c3QgYmUgc3RyaW5ncycpO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbiAgfSkuam9pbignLycpKTtcbn07XG5cblxuLy8gcGF0aC5yZWxhdGl2ZShmcm9tLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMucmVsYXRpdmUgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuICBmcm9tID0gZXhwb3J0cy5yZXNvbHZlKGZyb20pLnN1YnN0cigxKTtcbiAgdG8gPSBleHBvcnRzLnJlc29sdmUodG8pLnN1YnN0cigxKTtcblxuICBmdW5jdGlvbiB0cmltKGFycikge1xuICAgIHZhciBzdGFydCA9IDA7XG4gICAgZm9yICg7IHN0YXJ0IDwgYXJyLmxlbmd0aDsgc3RhcnQrKykge1xuICAgICAgaWYgKGFycltzdGFydF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgZW5kID0gYXJyLmxlbmd0aCAtIDE7XG4gICAgZm9yICg7IGVuZCA+PSAwOyBlbmQtLSkge1xuICAgICAgaWYgKGFycltlbmRdICE9PSAnJykgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0ID4gZW5kKSByZXR1cm4gW107XG4gICAgcmV0dXJuIGFyci5zbGljZShzdGFydCwgZW5kIC0gc3RhcnQgKyAxKTtcbiAgfVxuXG4gIHZhciBmcm9tUGFydHMgPSB0cmltKGZyb20uc3BsaXQoJy8nKSk7XG4gIHZhciB0b1BhcnRzID0gdHJpbSh0by5zcGxpdCgnLycpKTtcblxuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4oZnJvbVBhcnRzLmxlbmd0aCwgdG9QYXJ0cy5sZW5ndGgpO1xuICB2YXIgc2FtZVBhcnRzTGVuZ3RoID0gbGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGZyb21QYXJ0c1tpXSAhPT0gdG9QYXJ0c1tpXSkge1xuICAgICAgc2FtZVBhcnRzTGVuZ3RoID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBvdXRwdXRQYXJ0cyA9IFtdO1xuICBmb3IgKHZhciBpID0gc2FtZVBhcnRzTGVuZ3RoOyBpIDwgZnJvbVBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgb3V0cHV0UGFydHMucHVzaCgnLi4nKTtcbiAgfVxuXG4gIG91dHB1dFBhcnRzID0gb3V0cHV0UGFydHMuY29uY2F0KHRvUGFydHMuc2xpY2Uoc2FtZVBhcnRzTGVuZ3RoKSk7XG5cbiAgcmV0dXJuIG91dHB1dFBhcnRzLmpvaW4oJy8nKTtcbn07XG5cbmV4cG9ydHMuc2VwID0gJy8nO1xuZXhwb3J0cy5kZWxpbWl0ZXIgPSAnOic7XG5cbmV4cG9ydHMuZGlybmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIHJlc3VsdCA9IHNwbGl0UGF0aChwYXRoKSxcbiAgICAgIHJvb3QgPSByZXN1bHRbMF0sXG4gICAgICBkaXIgPSByZXN1bHRbMV07XG5cbiAgaWYgKCFyb290ICYmICFkaXIpIHtcbiAgICAvLyBObyBkaXJuYW1lIHdoYXRzb2V2ZXJcbiAgICByZXR1cm4gJy4nO1xuICB9XG5cbiAgaWYgKGRpcikge1xuICAgIC8vIEl0IGhhcyBhIGRpcm5hbWUsIHN0cmlwIHRyYWlsaW5nIHNsYXNoXG4gICAgZGlyID0gZGlyLnN1YnN0cigwLCBkaXIubGVuZ3RoIC0gMSk7XG4gIH1cblxuICByZXR1cm4gcm9vdCArIGRpcjtcbn07XG5cblxuZXhwb3J0cy5iYXNlbmFtZSA9IGZ1bmN0aW9uKHBhdGgsIGV4dCkge1xuICB2YXIgZiA9IHNwbGl0UGF0aChwYXRoKVsyXTtcbiAgLy8gVE9ETzogbWFrZSB0aGlzIGNvbXBhcmlzb24gY2FzZS1pbnNlbnNpdGl2ZSBvbiB3aW5kb3dzP1xuICBpZiAoZXh0ICYmIGYuc3Vic3RyKC0xICogZXh0Lmxlbmd0aCkgPT09IGV4dCkge1xuICAgIGYgPSBmLnN1YnN0cigwLCBmLmxlbmd0aCAtIGV4dC5sZW5ndGgpO1xuICB9XG4gIHJldHVybiBmO1xufTtcblxuXG5leHBvcnRzLmV4dG5hbWUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBzcGxpdFBhdGgocGF0aClbM107XG59O1xuXG5mdW5jdGlvbiBmaWx0ZXIgKHhzLCBmKSB7XG4gICAgaWYgKHhzLmZpbHRlcikgcmV0dXJuIHhzLmZpbHRlcihmKTtcbiAgICB2YXIgcmVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZih4c1tpXSwgaSwgeHMpKSByZXMucHVzaCh4c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFN0cmluZy5wcm90b3R5cGUuc3Vic3RyIC0gbmVnYXRpdmUgaW5kZXggZG9uJ3Qgd29yayBpbiBJRThcbnZhciBzdWJzdHIgPSAnYWInLnN1YnN0cigtMSkgPT09ICdiJ1xuICAgID8gZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikgeyByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKSB9XG4gICAgOiBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7XG4gICAgICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gc3RyLmxlbmd0aCArIHN0YXJ0O1xuICAgICAgICByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKTtcbiAgICB9XG47XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfQmFzZVRleHR1cmUgPSByZXF1aXJlKCcuL0Jhc2VUZXh0dXJlJyk7XG5cbnZhciBfQmFzZVRleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVRleHR1cmUpO1xuXG52YXIgX1ZpZGVvQmFzZVRleHR1cmUgPSByZXF1aXJlKCcuL1ZpZGVvQmFzZVRleHR1cmUnKTtcblxudmFyIF9WaWRlb0Jhc2VUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZpZGVvQmFzZVRleHR1cmUpO1xuXG52YXIgX1RleHR1cmVVdnMgPSByZXF1aXJlKCcuL1RleHR1cmVVdnMnKTtcblxudmFyIF9UZXh0dXJlVXZzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmVVdnMpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSB0ZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlIG9yIHBhcnQgb2YgYW4gaW1hZ2UuIEl0IGNhbm5vdCBiZSBhZGRlZFxuICogdG8gdGhlIGRpc3BsYXkgbGlzdCBkaXJlY3RseS4gSW5zdGVhZCB1c2UgaXQgYXMgdGhlIHRleHR1cmUgZm9yIGEgU3ByaXRlLiBJZiBubyBmcmFtZSBpcyBwcm92aWRlZFxuICogdGhlbiB0aGUgd2hvbGUgaW1hZ2UgaXMgdXNlZC5cbiAqXG4gKiBZb3UgY2FuIGRpcmVjdGx5IGNyZWF0ZSBhIHRleHR1cmUgZnJvbSBhbiBpbWFnZSBhbmQgdGhlbiByZXVzZSBpdCBtdWx0aXBsZSB0aW1lcyBsaWtlIHRoaXMgOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoJ2Fzc2V0cy9pbWFnZS5wbmcnKTtcbiAqIGxldCBzcHJpdGUxID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogbGV0IHNwcml0ZTIgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBUZXh0dXJlcyBtYWRlIGZyb20gU1ZHcywgbG9hZGVkIG9yIG5vdCwgY2Fubm90IGJlIHVzZWQgYmVmb3JlIHRoZSBmaWxlIGZpbmlzaGVzIHByb2Nlc3NpbmcuXG4gKiBZb3UgY2FuIGNoZWNrIGZvciB0aGlzIGJ5IGNoZWNraW5nIHRoZSBzcHJpdGUncyBfdGV4dHVyZUlEIHByb3BlcnR5LlxuICogYGBganNcbiAqIHZhciB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb21JbWFnZSgnYXNzZXRzL2ltYWdlLnN2ZycpO1xuICogdmFyIHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiAvL3Nwcml0ZTEuX3RleHR1cmVJRCBzaG91bGQgbm90IGJlIHVuZGVmaW5lZCBpZiB0aGUgdGV4dHVyZSBoYXMgZmluaXNoZWQgcHJvY2Vzc2luZyB0aGUgU1ZHIGZpbGVcbiAqIGBgYFxuICogWW91IGNhbiB1c2UgYSB0aWNrZXIgb3IgckFGIHRvIGVuc3VyZSB5b3VyIHNwcml0ZXMgbG9hZCB0aGUgZmluaXNoZWQgdGV4dHVyZXMgYWZ0ZXIgcHJvY2Vzc2luZy4gU2VlIGlzc3VlICMzMDY4LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dHVyZSA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gICAgX2luaGVyaXRzKFRleHR1cmUsIF9FdmVudEVtaXR0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUgc291cmNlIHRvIGNyZWF0ZSB0aGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2ZyYW1lXSAtIFRoZSByZWN0YW5nbGUgZnJhbWUgb2YgdGhlIHRleHR1cmUgdG8gc2hvd1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtvcmlnXSAtIFRoZSBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbdHJpbV0gLSBUcmltbWVkIHJlY3RhbmdsZSBvZiBvcmlnaW5hbCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGVdIC0gaW5kaWNhdGVzIGhvdyB0aGUgdGV4dHVyZSB3YXMgcm90YXRlZCBieSB0ZXh0dXJlIHBhY2tlci4gU2VlIHtAbGluayBQSVhJLkdyb3VwRDh9XG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dHVyZShiYXNlVGV4dHVyZSwgZnJhbWUsIG9yaWcsIHRyaW0sIHJvdGF0ZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhpcyBUZXh0dXJlIGhhdmUgYW55IGZyYW1lIGRhdGEgYXNzaWduZWQgdG8gaXQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRFbWl0dGVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLm5vRnJhbWUgPSBmYWxzZTtcblxuICAgICAgICBpZiAoIWZyYW1lKSB7XG4gICAgICAgICAgICBfdGhpcy5ub0ZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZyYW1lID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiYXNlVGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2UgdGV4dHVyZSB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiB0aGUgQmFzZVRleHR1cmUgaW1hZ2UgdG8gYWN0dWFsbHkgY29weSB0byB0aGUgQ2FudmFzIC8gV2ViR0wgd2hlbiByZW5kZXJpbmcsXG4gICAgICAgICAqIGlycmVzcGVjdGl2ZSBvZiB0aGUgYWN0dWFsIGZyYW1lIHNpemUgb3IgcGxhY2VtZW50ICh3aGljaCBjYW4gYmUgaW5mbHVlbmNlZCBieSB0cmltbWVkIHRleHR1cmUgYXRsYXNlcylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZnJhbWUgPSBmcmFtZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgdHJpbW1lZCBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmUsIGJlZm9yZSBpdCB3YXMgcHV0IGluIGF0bGFzXG4gICAgICAgICAqIFBsZWFzZSBjYWxsIGBfdXBkYXRlVXZzKClgIGFmdGVyIHlvdSBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgYHRyaW1gIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyaW0gPSB0cmltO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgYSByZW5kZXJlciBrbm93IHRoYXQgYSB0ZXh0dXJlIGhhcyBiZWVuIHVwZGF0ZWQgKHVzZWQgbWFpbmx5IGZvciB3ZWJHTCB1diB1cGRhdGVzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVxdWlyZXNVcGRhdGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIFVWIGRhdGEgY2FjaGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZVV2c31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91dnMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmUsIGJlZm9yZSBpdCB3YXMgcHV0IGluIGF0bGFzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZyA9IG9yaWcgfHwgZnJhbWU7IC8vIG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG5cbiAgICAgICAgX3RoaXMuX3JvdGF0ZSA9IE51bWJlcihyb3RhdGUgfHwgMCk7XG5cbiAgICAgICAgaWYgKHJvdGF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBvbGQgdGV4dHVyZXBhY2tlciBsZWdhY3ksIHNvbWUgZ2FtZXMvbGlicmFyaWVzIGFyZSBwYXNzaW5nIFwidHJ1ZVwiIGZvciByb3RhdGVkIHRleHR1cmVzXG4gICAgICAgICAgICBfdGhpcy5fcm90YXRlID0gMjtcbiAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5fcm90YXRlICUgMiAhPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhdHRlbXB0IHRvIHVzZSBkaWFtb25kLXNoYXBlZCBVVnMuIElmIHlvdSBhcmUgc3VyZSwgc2V0IHJvdGF0aW9uIG1hbnVhbGx5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmFzZVRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMubm9GcmFtZSkge1xuICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgwLCAwLCBiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGZyYW1lIHdlIHNob3VsZCBtb25pdG9yIGZvciBhbnkgYmFzZSB0ZXh0dXJlIGNoYW5nZXMuLlxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLm9uKCd1cGRhdGUnLCBfdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLm9uY2UoJ2xvYWRlZCcsIF90aGlzLm9uQmFzZVRleHR1cmVMb2FkZWQsIF90aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSB0ZXh0dXJlIGlzIHVwZGF0ZWQuIFRoaXMgaGFwcGVucyBpZiB0aGUgZnJhbWUgb3IgdGhlIGJhc2VUZXh0dXJlIGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlRleHR1cmUjdXBkYXRlXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBJbnN0YW5jZSBvZiB0ZXh0dXJlIGJlaW5nIHVwZGF0ZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIF90aGlzLl91cGRhdGVJRCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnRhaW5zIGRhdGEgZm9yIHV2cy4gTWF5IGNvbnRhaW4gY2xhbXAgc2V0dGluZ3MgYW5kIHNvbWUgbWF0cmljZXMuXG4gICAgICAgICAqIEl0cyBhIGJpdCBoZWF2eSwgc28gYnkgZGVmYXVsdCB0aGF0IG9iamVjdCBpcyBub3QgY3JlYXRlZC5cbiAgICAgICAgICogQHR5cGUge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhbnNmb3JtID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGlkcyB1bmRlciB3aGljaCB0aGlzIFRleHR1cmUgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIHRleHR1cmUgY2FjaGUuIFRoaXMgaXNcbiAgICAgICAgICogYXV0b21hdGljYWxseSBzZXQgYXMgbG9uZyBhcyBUZXh0dXJlLmFkZFRvQ2FjaGUgaXMgdXNlZCwgYnV0IG1heSBub3QgYmUgc2V0IGlmIGFcbiAgICAgICAgICogVGV4dHVyZSBpcyBhZGRlZCBkaXJlY3RseSB0byB0aGUgVGV4dHVyZUNhY2hlIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVDYWNoZUlkcyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGlzIHRleHR1cmUgb24gdGhlIGdwdS5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUudXBkYXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBiYXNlIHRleHR1cmUgaXMgbG9hZGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5vbkJhc2VUZXh0dXJlTG9hZGVkID0gZnVuY3Rpb24gb25CYXNlVGV4dHVyZUxvYWRlZChiYXNlVGV4dHVyZSkge1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuXG4gICAgICAgIC8vIFRPRE8gdGhpcyBjb2RlIGxvb2tzIGNvbmZ1c2luZy4uIGJvbyB0byBhYnVzaW5nIGdldHRlcnMgYW5kIHNldHRlcnMhXG4gICAgICAgIGlmICh0aGlzLm5vRnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKDAsIDAsIGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IHRoaXMuX2ZyYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vbigndXBkYXRlJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBiYXNlIHRleHR1cmUgaXMgdXBkYXRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5wcm90b3R5cGUub25CYXNlVGV4dHVyZVVwZGF0ZWQgPSBmdW5jdGlvbiBvbkJhc2VUZXh0dXJlVXBkYXRlZChiYXNlVGV4dHVyZSkge1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuXG4gICAgICAgIHRoaXMuX2ZyYW1lLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgIHRoaXMuX2ZyYW1lLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gICAgICovXG5cblxuICAgIFRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICBpZiAoZGVzdHJveUJhc2UpIHtcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgdGhlIHRleHR1cmUgaWYgaXQgZXhpc3RzIGluIHRoZSB0ZXh0dXJlIGNhY2hlLi5cbiAgICAgICAgICAgICAgICAvLyB0aGlzIG9ubHkgbmVlZHMgdG8gYmUgcmVtb3ZlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIGlzIGFjdHVhbGx5IGRlc3Ryb3llZCB0b28uLlxuICAgICAgICAgICAgICAgIGlmIChfdXRpbHMuVGV4dHVyZUNhY2hlW3RoaXMuYmFzZVRleHR1cmUuaW1hZ2VVcmxdKSB7XG4gICAgICAgICAgICAgICAgICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMuYmFzZVRleHR1cmUuaW1hZ2VVcmwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZignbG9hZGVkJywgdGhpcy5vbkJhc2VUZXh0dXJlTG9hZGVkLCB0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9mcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3V2cyA9IG51bGw7XG4gICAgICAgIHRoaXMudHJpbSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy52YWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGV4dHVyZSBvYmplY3QgdGhhdCBhY3RzIHRoZSBzYW1lIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3IHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKHRoaXMuYmFzZVRleHR1cmUsIHRoaXMuZnJhbWUsIHRoaXMub3JpZywgdGhpcy50cmltLCB0aGlzLnJvdGF0ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGludGVybmFsIFdlYkdMIFVWIGNhY2hlLiBVc2UgaXQgYWZ0ZXIgeW91IGNoYW5nZSBgZnJhbWVgIG9yIGB0cmltYCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuX3VwZGF0ZVV2cyA9IGZ1bmN0aW9uIF91cGRhdGVVdnMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fdXZzKSB7XG4gICAgICAgICAgICB0aGlzLl91dnMgPSBuZXcgX1RleHR1cmVVdnMyLmRlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3V2cy5zZXQodGhpcy5fZnJhbWUsIHRoaXMuYmFzZVRleHR1cmUsIHRoaXMucm90YXRlKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgVGV4dHVyZSBvYmplY3QgZnJvbSB0aGUgZ2l2ZW4gaW1hZ2UgdXJsLlxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSAgY3JlYXRlZCBhbmQgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZVVybCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjcm9zc29yaWdpbl0gLSBXaGV0aGVyIHJlcXVlc3RzIHNob3VsZCBiZSB0cmVhdGVkIGFzIGNyb3Nzb3JpZ2luXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc291cmNlU2NhbGU9KGF1dG8pXSAtIFNjYWxlIGZvciB0aGUgb3JpZ2luYWwgaW1hZ2UsIHVzZWQgd2l0aCBTVkcgaW1hZ2VzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmZyb21JbWFnZSA9IGZ1bmN0aW9uIGZyb21JbWFnZShpbWFnZVVybCwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSwgc291cmNlU2NhbGUpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBfdXRpbHMuVGV4dHVyZUNhY2hlW2ltYWdlVXJsXTtcblxuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmUgPSBuZXcgVGV4dHVyZShfQmFzZVRleHR1cmUyLmRlZmF1bHQuZnJvbUltYWdlKGltYWdlVXJsLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlLCBzb3VyY2VTY2FsZSkpO1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgc3ByaXRlIHRoYXQgd2lsbCBjb250YWluIGEgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlQ2FjaGUgYmFzZWQgb24gdGhlIGZyYW1lSWRcbiAgICAgKiBUaGUgZnJhbWUgaWRzIGFyZSBjcmVhdGVkIHdoZW4gYSBUZXh0dXJlIHBhY2tlciBmaWxlIGhhcyBiZWVuIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFtZUlkIC0gVGhlIGZyYW1lIElkIG9mIHRoZSB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmZyb21GcmFtZSA9IGZ1bmN0aW9uIGZyb21GcmFtZShmcmFtZUlkKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gX3V0aWxzLlRleHR1cmVDYWNoZVtmcmFtZUlkXTtcblxuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGZyYW1lSWQgXCInICsgZnJhbWVJZCArICdcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGUgdGV4dHVyZSBjYWNoZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgZ2l2ZW4gY2FudmFzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gVGhlIGNhbnZhcyBlbGVtZW50IHNvdXJjZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29yaWdpbj0nY2FudmFzJ10gLSBBIHN0cmluZyBvcmlnaW4gb2Ygd2hvIGNyZWF0ZWQgdGhlIGJhc2UgdGV4dHVyZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmZyb21DYW52YXMgPSBmdW5jdGlvbiBmcm9tQ2FudmFzKGNhbnZhcywgc2NhbGVNb2RlKSB7XG4gICAgICAgIHZhciBvcmlnaW4gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdjYW52YXMnO1xuXG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZShfQmFzZVRleHR1cmUyLmRlZmF1bHQuZnJvbUNhbnZhcyhjYW52YXMsIHNjYWxlTW9kZSwgb3JpZ2luKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgZ2l2ZW4gdmlkZW8gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxWaWRlb0VsZW1lbnR8c3RyaW5nfSB2aWRlbyAtIFRoZSBVUkwgb3IgYWN0dWFsIGVsZW1lbnQgb2YgdGhlIHZpZGVvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmZyb21WaWRlbyA9IGZ1bmN0aW9uIGZyb21WaWRlbyh2aWRlbywgc2NhbGVNb2RlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmlkZW8gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tVmlkZW9VcmwodmlkZW8sIHNjYWxlTW9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUoX1ZpZGVvQmFzZVRleHR1cmUyLmRlZmF1bHQuZnJvbVZpZGVvKHZpZGVvLCBzY2FsZU1vZGUpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBUZXh0dXJlIGJhc2VkIG9uIHRoZSB2aWRlbyB1cmwuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZpZGVvVXJsIC0gVVJMIG9mIHRoZSB2aWRlb1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5mcm9tVmlkZW9VcmwgPSBmdW5jdGlvbiBmcm9tVmlkZW9VcmwodmlkZW9VcmwsIHNjYWxlTW9kZSkge1xuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUoX1ZpZGVvQmFzZVRleHR1cmUyLmRlZmF1bHQuZnJvbVVybCh2aWRlb1VybCwgc2NhbGVNb2RlKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqICAgICAgICBzb3VyY2UgLSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmZyb20gPSBmdW5jdGlvbiBmcm9tKHNvdXJjZSkge1xuICAgICAgICAvLyBUT0RPIGF1dG8gZGV0ZWN0IGNyb3NzIG9yaWdpbi4uXG4gICAgICAgIC8vIFRPRE8gcGFzcyBpbiBzY2FsZSBtb2RlP1xuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gX3V0aWxzLlRleHR1cmVDYWNoZVtzb3VyY2VdO1xuXG4gICAgICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBpdHMgYSB2aWRlby4uXG4gICAgICAgICAgICAgICAgdmFyIGlzVmlkZW8gPSBzb3VyY2UubWF0Y2goL1xcLihtcDR8d2VibXxvZ2d8aDI2NHxhdml8bW92KSQvKSAhPT0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmIChpc1ZpZGVvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBUZXh0dXJlLmZyb21WaWRlb1VybChzb3VyY2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBUZXh0dXJlLmZyb21JbWFnZShzb3VyY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUoX0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmZyb20oc291cmNlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBUZXh0dXJlLmZyb21DYW52YXMoc291cmNlLCBfc2V0dGluZ3MyLmRlZmF1bHQuU0NBTEVfTU9ERSwgJ0hUTUxDYW52YXNFbGVtZW50Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIFRleHR1cmUuZnJvbVZpZGVvKHNvdXJjZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUoc291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYXNzdW1lIGl0cyBhIHRleHR1cmUhXG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRleHR1cmUgZnJvbSBhIHNvdXJjZSBhbmQgYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIFRoZSBpbnB1dCBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGltYWdlVXJsIC0gRmlsZSBuYW1lIG9mIHRleHR1cmUsIGZvciBjYWNoZSBhbmQgcmVzb2x2aW5nIHJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lXSAtIEh1bWFuIHJlYWRpYmxlIG5hbWUgZm9yIHRoZSB0ZXh0dXJlIGNhY2hlLiBJZiBubyBuYW1lIGlzXG4gICAgICogICAgICAgIHNwZWNpZmllZCwgb25seSBgaW1hZ2VVcmxgIHdpbGwgYmUgdXNlZCBhcyB0aGUgY2FjaGUgSUQuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBPdXRwdXQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmZyb21Mb2FkZXIgPSBmdW5jdGlvbiBmcm9tTG9hZGVyKHNvdXJjZSwgaW1hZ2VVcmwsIG5hbWUpIHtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gbmV3IF9CYXNlVGV4dHVyZTIuZGVmYXVsdChzb3VyY2UsIHVuZGVmaW5lZCwgKDAsIF91dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwpKGltYWdlVXJsKSk7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gbmV3IFRleHR1cmUoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLmltYWdlVXJsID0gaW1hZ2VVcmw7XG5cbiAgICAgICAgLy8gTm8gbmFtZSwgdXNlIGltYWdlVXJsIGluc3RlYWRcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gaW1hZ2VVcmw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXRzIGFsc28gYWRkIHRoZSBmcmFtZSB0byBwaXhpJ3MgZ2xvYmFsIGNhY2hlIGZvciBmcm9tRnJhbWUgYW5kIGZyb21JbWFnZSBmdWNudGlvbnNcbiAgICAgICAgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgbmFtZSk7XG4gICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBuYW1lKTtcblxuICAgICAgICAvLyBhbHNvIGFkZCByZWZlcmVuY2VzIGJ5IHVybCBpZiB0aGV5IGFyZSBkaWZmZXJlbnQuXG4gICAgICAgIGlmIChuYW1lICE9PSBpbWFnZVVybCkge1xuICAgICAgICAgICAgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgVGV4dHVyZSB0byB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIFRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5hZGRUb0NhY2hlID0gZnVuY3Rpb24gYWRkVG9DYWNoZSh0ZXh0dXJlLCBpZCkge1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGlkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQGlmIERFQlVHXG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgICAgICBpZiAoX3V0aWxzLlRleHR1cmVDYWNoZVtpZF0pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RleHR1cmUgYWRkZWQgdG8gdGhlIGNhY2hlIHdpdGggYW4gaWQgWycgKyBpZCArICddIHRoYXQgYWxyZWFkeSBoYWQgYW4gZW50cnknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgLy8gQGVuZGlmXG5cbiAgICAgICAgICAgIF91dGlscy5UZXh0dXJlQ2FjaGVbaWRdID0gdGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBUZXh0dXJlIGZyb20gdGhlIGdsb2JhbCBUZXh0dXJlQ2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gaWQgb2YgYSBUZXh0dXJlIHRvIGJlIHJlbW92ZWQsIG9yIGEgVGV4dHVyZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV8bnVsbH0gVGhlIFRleHR1cmUgdGhhdCB3YXMgcmVtb3ZlZFxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSA9IGZ1bmN0aW9uIHJlbW92ZUZyb21DYWNoZSh0ZXh0dXJlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dHVyZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlRnJvbUNhY2hlID0gX3V0aWxzLlRleHR1cmVDYWNoZVt0ZXh0dXJlXTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmVGcm9tQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKHRleHR1cmUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZWxldGUgX3V0aWxzLlRleHR1cmVDYWNoZVt0ZXh0dXJlXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlRnJvbUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRleHR1cmUgJiYgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHRleHR1cmUgbWF0Y2hlcyB0aGUgb25lIGJlaW5nIHBhc3NlZCBpbiBiZWZvcmUgZGVsZXRpbmcgaXQgZnJvbSB0aGUgY2FjaGUuXG4gICAgICAgICAgICAgICAgaWYgKF91dGlscy5UZXh0dXJlQ2FjaGVbdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dID09PSB0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfdXRpbHMuVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFtZSBzcGVjaWZpZXMgdGhlIHJlZ2lvbiBvZiB0aGUgYmFzZSB0ZXh0dXJlIHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXMuXG4gICAgICogUGxlYXNlIGNhbGwgYF91cGRhdGVVdnMoKWAgYWZ0ZXIgeW91IGNoYW5nZSBjb29yZGluYXRlcyBvZiBgZnJhbWVgIG1hbnVhbGx5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhUZXh0dXJlLCBbe1xuICAgICAgICBrZXk6ICdmcmFtZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZyYW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmcmFtZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lID0gZnJhbWU7XG5cbiAgICAgICAgICAgIHRoaXMubm9GcmFtZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICB2YXIgeCA9IGZyYW1lLngsXG4gICAgICAgICAgICAgICAgeSA9IGZyYW1lLnksXG4gICAgICAgICAgICAgICAgd2lkdGggPSBmcmFtZS53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBmcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIHZhciB4Tm90Rml0ID0geCArIHdpZHRoID4gdGhpcy5iYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgIHZhciB5Tm90Rml0ID0geSArIGhlaWdodCA+IHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgICAgICBpZiAoeE5vdEZpdCB8fCB5Tm90Rml0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbGF0aW9uc2hpcCA9IHhOb3RGaXQgJiYgeU5vdEZpdCA/ICdhbmQnIDogJ29yJztcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JYID0gJ1g6ICcgKyB4ICsgJyArICcgKyB3aWR0aCArICcgPSAnICsgKHggKyB3aWR0aCkgKyAnID4gJyArIHRoaXMuYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yWSA9ICdZOiAnICsgeSArICcgKyAnICsgaGVpZ2h0ICsgJyA9ICcgKyAoeSArIGhlaWdodCkgKyAnID4gJyArIHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZXh0dXJlIEVycm9yOiBmcmFtZSBkb2VzIG5vdCBmaXQgaW5zaWRlIHRoZSBiYXNlIFRleHR1cmUgZGltZW5zaW9uczogJyArIChlcnJvclggKyAnICcgKyByZWxhdGlvbnNoaXAgKyAnICcgKyBlcnJvclkpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdGhpcy52YWxpZCA9IHdpZHRoICYmIGhlaWdodCAmJiB0aGlzLmJhc2VUZXh0dXJlLnNvdXJjZSAmJiB0aGlzLmJhc2VUZXh0dXJlLmhhc0xvYWRlZDtcbiAgICAgICAgICAgIHRoaXMudmFsaWQgPSB3aWR0aCAmJiBoZWlnaHQgJiYgdGhpcy5iYXNlVGV4dHVyZS5oYXNMb2FkZWQ7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy50cmltICYmICF0aGlzLnJvdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3JpZyA9IGZyYW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy52YWxpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVV2cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSB0ZXh0dXJlIGlzIHJvdGF0ZWQgaW5zaWRlIHRoZSBhdGxhc1xuICAgICAgICAgKiBzZXQgdG8gMiB0byBjb21wZW5zYXRlIGZvciB0ZXh0dXJlIHBhY2tlciByb3RhdGlvblxuICAgICAgICAgKiBzZXQgdG8gNiB0byBjb21wZW5zYXRlIGZvciBzcGluZSBwYWNrZXIgcm90YXRpb25cbiAgICAgICAgICogY2FuIGJlIHVzZWQgdG8gcm90YXRlIG9yIG1pcnJvciBzcHJpdGVzXG4gICAgICAgICAqIFNlZSB7QGxpbmsgUElYSS5Hcm91cEQ4fSBmb3IgZXhwbGFuYXRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncm90YXRlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChyb3RhdGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yb3RhdGUgPSByb3RhdGU7XG4gICAgICAgICAgICBpZiAodGhpcy52YWxpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVV2cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dHVyZSBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcmlnLndpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRleHR1cmUgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRleHR1cmU7XG59KF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0dXJlO1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZVdoaXRlVGV4dHVyZSgpIHtcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICBjYW52YXMud2lkdGggPSAxMDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTA7XG5cbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgMTAsIDEwKTtcblxuICAgIHJldHVybiBuZXcgVGV4dHVyZShuZXcgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0KGNhbnZhcykpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVBbGxIYW5kbGVycyh0ZXgpIHtcbiAgICB0ZXguZGVzdHJveSA9IGZ1bmN0aW9uIF9lbXB0eURlc3Ryb3koKSB7LyogZW1wdHkgKi99O1xuICAgIHRleC5vbiA9IGZ1bmN0aW9uIF9lbXB0eU9uKCkgey8qIGVtcHR5ICovfTtcbiAgICB0ZXgub25jZSA9IGZ1bmN0aW9uIF9lbXB0eU9uY2UoKSB7LyogZW1wdHkgKi99O1xuICAgIHRleC5lbWl0ID0gZnVuY3Rpb24gX2VtcHR5RW1pdCgpIHsvKiBlbXB0eSAqL307XG59XG5cbi8qKlxuICogQW4gZW1wdHkgdGV4dHVyZSwgdXNlZCBvZnRlbiB0byBub3QgaGF2ZSB0byBjcmVhdGUgbXVsdGlwbGUgZW1wdHkgdGV4dHVyZXMuXG4gKiBDYW4gbm90IGJlIGRlc3Ryb3llZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqL1xuVGV4dHVyZS5FTVBUWSA9IG5ldyBUZXh0dXJlKG5ldyBfQmFzZVRleHR1cmUyLmRlZmF1bHQoKSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLkVNUFRZKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuRU1QVFkuYmFzZVRleHR1cmUpO1xuXG4vKipcbiAqIEEgd2hpdGUgdGV4dHVyZSBvZiAxMHgxMCBzaXplLCB1c2VkIGZvciBncmFwaGljcyBhbmQgb3RoZXIgdGhpbmdzXG4gKiBDYW4gbm90IGJlIGRlc3Ryb3llZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqL1xuVGV4dHVyZS5XSElURSA9IGNyZWF0ZVdoaXRlVGV4dHVyZSgpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5XSElURSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLldISVRFLmJhc2VUZXh0dXJlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHR1cmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGV4aXN0cyBPbmx5IGNoZWNrIGlmIHRoZXJlIGFyZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7QXJyYXl8Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50LCBleGlzdHMpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGF2YWlsYWJsZSA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChleGlzdHMpIHJldHVybiAhIWF2YWlsYWJsZTtcbiAgaWYgKCFhdmFpbGFibGUpIHJldHVybiBbXTtcbiAgaWYgKGF2YWlsYWJsZS5mbikgcmV0dXJuIFthdmFpbGFibGUuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXZhaWxhYmxlLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGF2YWlsYWJsZVtpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgdGhpcylcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgdGhpcy5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgdGhpcy5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIXRoaXMuX2V2ZW50c1tldnRdLmZuKSB0aGlzLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSB0aGlzLl9ldmVudHNbZXZ0XSA9IFt0aGlzLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IHRoaXMsIHRydWUpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHRoaXMuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIHRoaXMuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XS5mbikgdGhpcy5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgdGhpcy5fZXZlbnRzW2V2dF0gPSBbdGhpcy5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge01peGVkfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgICAgbGlzdGVuZXJzLmZuID09PSBmblxuICAgICAgJiYgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKVxuICAgICAgJiYgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICAgIGVsc2UgZGVsZXRlIHRoaXMuX2V2ZW50c1tldnRdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuXG4gICAgICAgIHx8IChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSlcbiAgICAgICAgfHwgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIGVsc2UgZGVsZXRlIHRoaXMuX2V2ZW50c1tldnRdO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIHtcbiAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBUaGlzIGZ1bmN0aW9uIGRvZXNuJ3QgYXBwbHkgYW55bW9yZS5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycygpIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxudmFyIF9kZXRlcm1pbmVDcm9zc09yaWdpbiA9IHJlcXVpcmUoJy4uL3V0aWxzL2RldGVybWluZUNyb3NzT3JpZ2luJyk7XG5cbnZhciBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4pO1xuXG52YXIgX2JpdFR3aWRkbGUgPSByZXF1aXJlKCdiaXQtdHdpZGRsZScpO1xuXG52YXIgX2JpdFR3aWRkbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYml0VHdpZGRsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBBIHRleHR1cmUgc3RvcmVzIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgYW4gaW1hZ2UuIEFsbCB0ZXh0dXJlcyBoYXZlIGEgYmFzZSB0ZXh0dXJlLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmFzZVRleHR1cmUgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICAgIF9pbmhlcml0cyhCYXNlVGV4dHVyZSwgX0V2ZW50RW1pdHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IFtzb3VyY2VdIC0gdGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIHRleHR1cmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZVRleHR1cmUoc291cmNlLCBzY2FsZU1vZGUsIHJlc29sdXRpb24pIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhc2VUZXh0dXJlKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRFbWl0dGVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLnVpZCA9ICgwLCBfdXRpbHMudWlkKSgpO1xuXG4gICAgICAgIF90aGlzLnRvdWNoZWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRVNPTFVUSU9OO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGJhc2UgdGV4dHVyZSBzZXQgd2hlbiB0aGUgaW1hZ2UgaGFzIGxvYWRlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud2lkdGggPSAxMDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJhc2UgdGV4dHVyZSBzZXQgd2hlbiB0aGUgaW1hZ2UgaGFzIGxvYWRlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGVpZ2h0ID0gMTAwO1xuXG4gICAgICAgIC8vIFRPRE8gZG9jc1xuICAgICAgICAvLyB1c2VkIHRvIHN0b3JlIHRoZSBhY3R1YWwgZGltZW5zaW9ucyBvZiB0aGUgc291cmNlXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIHN0b3JlIHRoZSBhY3R1YWwgd2lkdGggb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlYWxXaWR0aCA9IDEwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gc3RvcmUgdGhlIGFjdHVhbCBoZWlnaHQgb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlYWxIZWlnaHQgPSAxMDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZSBtb2RlIHRvIGFwcGx5IHdoZW4gc2NhbGluZyB0aGlzIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlNDQUxFX01PREVcbiAgICAgICAgICogQHNlZSBQSVhJLlNDQUxFX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCA/IHNjYWxlTW9kZSA6IF9zZXR0aW5nczIuZGVmYXVsdC5TQ0FMRV9NT0RFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdG8gdHJ1ZSBvbmNlIHRoZSBiYXNlIHRleHR1cmUgaGFzIHN1Y2Nlc3NmdWxseSBsb2FkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgbmV2ZXIgdHJ1ZSBpZiB0aGUgdW5kZXJseWluZyBzb3VyY2UgZmFpbHMgdG8gbG9hZCBvciBoYXMgbm8gdGV4dHVyZSBkYXRhLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhhc0xvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdG8gdHJ1ZSBpZiB0aGUgc291cmNlIGlzIGN1cnJlbnRseSBsb2FkaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiBhbiBJbWFnZSBzb3VyY2UgaXMgbG9hZGluZyB0aGUgJ2xvYWRlZCcgb3IgJ2Vycm9yJyBldmVudCB3aWxsIGJlXG4gICAgICAgICAqIGRpc3BhdGNoZWQgd2hlbiB0aGUgb3BlcmF0aW9uIGVuZHMuIEFuIHVuZGVyeWxpbmcgc291cmNlIHRoYXQgaXNcbiAgICAgICAgICogaW1tZWRpYXRlbHktYXZhaWxhYmxlIGJ5cGFzc2VzIGxvYWRpbmcgZW50aXJlbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbWFnZSBzb3VyY2UgdGhhdCBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgdGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVE9ETzogTWFrZSB0aGlzIGEgc2V0dGVyIHRoYXQgY2FsbHMgbG9hZFNvdXJjZSgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvdXJjZSA9IG51bGw7IC8vIHNldCBpbiBsb2FkU291cmNlLCBpZiBhdCBhbGxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGltYWdlIHNvdXJjZSB0aGF0IGlzIHVzZWQgdG8gY3JlYXRlIHRoZSB0ZXh0dXJlLiBUaGlzIGlzIHVzZWQgdG9cbiAgICAgICAgICogc3RvcmUgdGhlIG9yaWdpbmFsIFN2ZyBzb3VyY2Ugd2hlbiBpdCBpcyByZXBsYWNlZCB3aXRoIGEgY2FudmFzIGVsZW1lbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRPRE86IEN1cnJlbnRseSBub3QgaW4gdXNlIGJ1dCBjb3VsZCBiZSB1c2VkIHdoZW4gcmUtc2NhbGluZyBzdmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtJbWFnZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWdTb3VyY2UgPSBudWxsOyAvLyBzZXQgaW4gbG9hZFN2ZywgaWYgYXQgYWxsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR5cGUgb2YgaW1hZ2UgZGVmaW5lZCBpbiBzb3VyY2UsIGVnLiBgcG5nYCBvciBgc3ZnYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VUeXBlID0gbnVsbDsgLy8gc2V0IGluIHVwZGF0ZUltYWdlVHlwZVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsZSBmb3Igc291cmNlIGltYWdlLiBVc2VkIHdpdGggU3ZnIGltYWdlcyB0byBzY2FsZSB0aGVtIGJlZm9yZSByYXN0ZXJpemF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc291cmNlU2NhbGUgPSAxLjA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnRyb2xzIGlmIFJHQiBjaGFubmVscyBzaG91bGQgYmUgcHJlLW11bHRpcGxpZWQgYnkgQWxwaGEgIChXZWJHTCBvbmx5KVxuICAgICAgICAgKiBBbGwgYmxlbmQgbW9kZXMsIGFuZCBzaGFkZXJzIHdyaXR0ZW4gZm9yIGRlZmF1bHQgdmFsdWUuIENoYW5nZSBpdCBvbiB5b3VyIG93biByaXNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcmVtdWx0aXBsaWVkQWxwaGEgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaW1hZ2UgdXJsIG9mIHRoZSB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlVXJsID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIHRleHR1cmUgaXMgYSBwb3dlciBvZiB0d28sIHRyeSB0byB1c2UgcG93ZXIgb2YgdHdvIHRleHR1cmVzIGFzIG11Y2hcbiAgICAgICAgICogYXMgeW91IGNhblxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNQb3dlck9mVHdvID0gZmFsc2U7XG5cbiAgICAgICAgLy8gdXNlZCBmb3Igd2ViR0xcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogU2V0IHRoaXMgdG8gdHJ1ZSBpZiBhIG1pcG1hcCBvZiB0aGlzIHRleHR1cmUgbmVlZHMgdG8gYmUgZ2VuZXJhdGVkLiBUaGlzIHZhbHVlIG5lZWRzXG4gICAgICAgICAqIHRvIGJlIHNldCBiZWZvcmUgdGhlIHRleHR1cmUgaXMgdXNlZFxuICAgICAgICAgKiBBbHNvIHRoZSB0ZXh0dXJlIG11c3QgYmUgYSBwb3dlciBvZiB0d28gc2l6ZSB0byB3b3JrXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBzZWUgUElYSS5NSVBNQVBfVEVYVFVSRVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1pcG1hcCA9IF9zZXR0aW5nczIuZGVmYXVsdC5NSVBNQVBfVEVYVFVSRVM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIFdlYkdMIFRleHR1cmUgd3JhcCBtb2RlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLldSQVBfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndyYXBNb2RlID0gX3NldHRpbmdzMi5kZWZhdWx0LldSQVBfTU9ERTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgb2YgcmVuZGVyZXIgSURzIHRvIHdlYmdsIHRleHR1cmVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdDxudW1iZXIsIFdlYkdMVGV4dHVyZT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZ2xUZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIF90aGlzLl9lbmFibGVkID0gMDtcbiAgICAgICAgX3RoaXMuX3ZpcnRhbEJvdW5kSWQgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIG9iamVjdCBoYXMgYmVlbiBkZXN0cm95ZWQgdmlhIGRlc3Ryb3koKS4gSWYgdHJ1ZSwgaXQgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGlkcyB1bmRlciB3aGljaCB0aGlzIEJhc2VUZXh0dXJlIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBiYXNlIHRleHR1cmUgY2FjaGUuIFRoaXMgaXNcbiAgICAgICAgICogYXV0b21hdGljYWxseSBzZXQgYXMgbG9uZyBhcyBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlIGlzIHVzZWQsIGJ1dCBtYXkgbm90IGJlIHNldCBpZiBhXG4gICAgICAgICAqIEJhc2VUZXh0dXJlIGlzIGFkZGVkIGRpcmVjdGx5IHRvIHRoZSBCYXNlVGV4dHVyZUNhY2hlIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVDYWNoZUlkcyA9IFtdO1xuXG4gICAgICAgIC8vIGlmIG5vIHNvdXJjZSBwYXNzZWQgZG9uJ3QgdHJ5IHRvIGxvYWRcbiAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgX3RoaXMubG9hZFNvdXJjZShzb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlIHNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2xvYWRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgbG9hZGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZhaWxzIHRvIGxvYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZXJyb3JcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGVycm9yZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjdXBkYXRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBJbnN0YW5jZSBvZiB0ZXh0dXJlIGJlaW5nIHVwZGF0ZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIGRlc3Ryb3llZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBJbnN0YW5jZSBvZiB0ZXh0dXJlIGJlaW5nIGRlc3Ryb3llZC5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0ZXh0dXJlIG9uIGFsbCB0aGUgd2ViZ2wgcmVuZGVyZXJzLCB0aGlzIGFsc28gYXNzdW1lcyB0aGUgc3JjIGhhcyBjaGFuZ2VkLlxuICAgICAqXG4gICAgICogQGZpcmVzIFBJWEkuQmFzZVRleHR1cmUjdXBkYXRlXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIC8vIFN2ZyBzaXplIGlzIGhhbmRsZWQgZHVyaW5nIGxvYWRcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VUeXBlICE9PSAnc3ZnJykge1xuICAgICAgICAgICAgdGhpcy5yZWFsV2lkdGggPSB0aGlzLnNvdXJjZS5uYXR1cmFsV2lkdGggfHwgdGhpcy5zb3VyY2UudmlkZW9XaWR0aCB8fCB0aGlzLnNvdXJjZS53aWR0aDtcbiAgICAgICAgICAgIHRoaXMucmVhbEhlaWdodCA9IHRoaXMuc291cmNlLm5hdHVyYWxIZWlnaHQgfHwgdGhpcy5zb3VyY2UudmlkZW9IZWlnaHQgfHwgdGhpcy5zb3VyY2UuaGVpZ2h0O1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVEaW1lbnNpb25zKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgZGltZW5zaW9ucyBmcm9tIHJlYWwgdmFsdWVzXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fdXBkYXRlRGltZW5zaW9ucyA9IGZ1bmN0aW9uIF91cGRhdGVEaW1lbnNpb25zKCkge1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5yZWFsV2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5yZWFsSGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuaXNQb3dlck9mVHdvID0gX2JpdFR3aWRkbGUyLmRlZmF1bHQuaXNQb3cyKHRoaXMucmVhbFdpZHRoKSAmJiBfYml0VHdpZGRsZTIuZGVmYXVsdC5pc1BvdzIodGhpcy5yZWFsSGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZCBhIHNvdXJjZS5cbiAgICAgKlxuICAgICAqIElmIHRoZSBzb3VyY2UgaXMgbm90LWltbWVkaWF0ZWx5LWF2YWlsYWJsZSwgc3VjaCBhcyBhbiBpbWFnZSB0aGF0IG5lZWRzIHRvIGJlXG4gICAgICogZG93bmxvYWRlZCwgdGhlbiB0aGUgJ2xvYWRlZCcgb3IgJ2Vycm9yJyBldmVudCB3aWxsIGJlIGRpc3BhdGNoZWQgaW4gdGhlIGZ1dHVyZVxuICAgICAqIGFuZCBgaGFzTG9hZGVkYCB3aWxsIHJlbWFpbiBmYWxzZSBhZnRlciB0aGlzIGNhbGwuXG4gICAgICpcbiAgICAgKiBUaGUgbG9naWMgc3RhdGUgYWZ0ZXIgY2FsbGluZyBgbG9hZFNvdXJjZWAgZGlyZWN0bHkgb3IgaW5kaXJlY3RseSAoZWcuIGBmcm9tSW1hZ2VgLCBgbmV3IEJhc2VUZXh0dXJlYCkgaXM6XG4gICAgICpcbiAgICAgKiAgICAgaWYgKHRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICogICAgICAgIC8vIHRleHR1cmUgcmVhZHkgZm9yIHVzZVxuICAgICAqICAgICB9IGVsc2UgaWYgKHRleHR1cmUuaXNMb2FkaW5nKSB7XG4gICAgICogICAgICAgIC8vIGxpc3RlbiB0byAnbG9hZGVkJyBhbmQvb3IgJ2Vycm9yJyBldmVudHMgb24gdGV4dHVyZVxuICAgICAqICAgICB9IGVsc2Uge1xuICAgICAqICAgICAgICAvLyBub3QgbG9hZGluZywgbm90IGdvaW5nIHRvIGxvYWQgVU5MRVNTIHRoZSBzb3VyY2UgaXMgcmVsb2FkZWRcbiAgICAgKiAgICAgICAgLy8gKGl0IG1heSBzdGlsbCBtYWtlIHNlbnNlIHRvIGxpc3RlbiB0byB0aGUgZXZlbnRzKVxuICAgICAqICAgICB9XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBzb3VyY2UgLSB0aGUgc291cmNlIG9iamVjdCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmxvYWRTb3VyY2UgPSBmdW5jdGlvbiBsb2FkU291cmNlKHNvdXJjZSkge1xuICAgICAgICB2YXIgd2FzTG9hZGluZyA9IHRoaXMuaXNMb2FkaW5nO1xuXG4gICAgICAgIHRoaXMuaGFzTG9hZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHdhc0xvYWRpbmcgJiYgdGhpcy5zb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmaXJzdFNvdXJjZUxvYWRlZCA9ICF0aGlzLnNvdXJjZTtcblxuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcblxuICAgICAgICAvLyBBcHBseSBzb3VyY2UgaWYgbG9hZGVkLiBPdGhlcndpc2Ugc2V0dXAgYXBwcm9wcmlhdGUgbG9hZGluZyBtb25pdG9ycy5cbiAgICAgICAgaWYgKChzb3VyY2Uuc3JjICYmIHNvdXJjZS5jb21wbGV0ZSB8fCBzb3VyY2UuZ2V0Q29udGV4dCkgJiYgc291cmNlLndpZHRoICYmIHNvdXJjZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUltYWdlVHlwZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pbWFnZVR5cGUgPT09ICdzdmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFN2Z1NvdXJjZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zb3VyY2VMb2FkZWQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZpcnN0U291cmNlTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gc2VuZCBsb2FkZWQgZXZlbnQgaWYgcHJldmlvdXMgc291cmNlIHdhcyBudWxsIGFuZCB3ZSBoYXZlIGJlZW4gcGFzc2VkIGEgcHJlLWxvYWRlZCBJTUcgZWxlbWVudFxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIXNvdXJjZS5nZXRDb250ZXh0KSB7XG4gICAgICAgICAgICAvLyBJbWFnZSBmYWlsIC8gbm90IHJlYWR5XG4gICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgICAgICAgIHZhciBzY29wZSA9IHRoaXM7XG5cbiAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuX3VwZGF0ZUltYWdlVHlwZSgpO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmICghc2NvcGUuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzY29wZS5fc291cmNlTG9hZGVkKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaW1hZ2VUeXBlID09PSAnc3ZnJykge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5fbG9hZFN2Z1NvdXJjZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS5lbWl0KCdsb2FkZWQnLCBzY29wZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNjb3BlLmlzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2NvcGUuZW1pdCgnZXJyb3InLCBzY29wZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBQZXIgaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDUvZW1iZWRkZWQtY29udGVudC0wLmh0bWwjdGhlLWltZy1lbGVtZW50XG4gICAgICAgICAgICAvLyAgIFwiVGhlIHZhbHVlIG9mIGBjb21wbGV0ZWAgY2FuIHRodXMgY2hhbmdlIHdoaWxlIGEgc2NyaXB0IGlzIGV4ZWN1dGluZy5cIlxuICAgICAgICAgICAgLy8gU28gY29tcGxldGUgbmVlZHMgdG8gYmUgcmUtY2hlY2tlZCBhZnRlciB0aGUgY2FsbGJhY2tzIGhhdmUgYmVlbiBhZGRlZC4uXG4gICAgICAgICAgICAvLyBOT1RFOiBjb21wbGV0ZSB3aWxsIGJlIHRydWUgaWYgdGhlIGltYWdlIGhhcyBubyBzcmMgc28gYmVzdCB0byBjaGVjayBpZiB0aGUgc3JjIGlzIHNldC5cbiAgICAgICAgICAgIGlmIChzb3VyY2UuY29tcGxldGUgJiYgc291cmNlLnNyYykge1xuICAgICAgICAgICAgICAgIC8vIC4uYW5kIGlmIHdlJ3JlIGNvbXBsZXRlIG5vdywgbm8gbmVlZCBmb3IgY2FsbGJhY2tzXG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmltYWdlVHlwZSA9PT0gJ3N2ZycpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuX2xvYWRTdmdTb3VyY2UoKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmIChzb3VyY2Uud2lkdGggJiYgc291cmNlLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zb3VyY2VMb2FkZWQoKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBhbnkgcHJldmlvdXMgc3Vic2NyaWJlcnMgcG9zc2libGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdhc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgYW55IHByZXZpb3VzIHN1YnNjcmliZXJzIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAod2FzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0eXBlIG9mIHRoZSBzb3VyY2UgaW1hZ2UuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fdXBkYXRlSW1hZ2VUeXBlID0gZnVuY3Rpb24gX3VwZGF0ZUltYWdlVHlwZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmltYWdlVXJsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YVVyaSA9ICgwLCBfdXRpbHMuZGVjb21wb3NlRGF0YVVyaSkodGhpcy5pbWFnZVVybCk7XG4gICAgICAgIHZhciBpbWFnZVR5cGUgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKGRhdGFVcmkgJiYgZGF0YVVyaS5tZWRpYVR5cGUgPT09ICdpbWFnZScpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBzdWJUeXBlIHZhbGlkaXR5XG4gICAgICAgICAgICB2YXIgZmlyc3RTdWJUeXBlID0gZGF0YVVyaS5zdWJUeXBlLnNwbGl0KCcrJylbMF07XG5cbiAgICAgICAgICAgIGltYWdlVHlwZSA9ICgwLCBfdXRpbHMuZ2V0VXJsRmlsZUV4dGVuc2lvbikoJy4nICsgZmlyc3RTdWJUeXBlKTtcblxuICAgICAgICAgICAgaWYgKCFpbWFnZVR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW1hZ2UgdHlwZSBpbiBkYXRhIFVSSS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGltYWdlVHlwZSA9ICgwLCBfdXRpbHMuZ2V0VXJsRmlsZUV4dGVuc2lvbikodGhpcy5pbWFnZVVybCk7XG5cbiAgICAgICAgICAgIGlmICghaW1hZ2VUeXBlKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2VUeXBlID0gJ3BuZyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmltYWdlVHlwZSA9IGltYWdlVHlwZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzb3VyY2VgIGlzIGFuIFNWRyBpbWFnZSBhbmQgd2hldGhlciBpdCdzIGxvYWRlZCB2aWEgYSBVUkwgb3IgYSBkYXRhIFVSSS4gVGhlbiBjYWxsc1xuICAgICAqIGBfbG9hZFN2Z1NvdXJjZVVzaW5nRGF0YVVyaWAgb3IgYF9sb2FkU3ZnU291cmNlVXNpbmdYaHJgLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX2xvYWRTdmdTb3VyY2UgPSBmdW5jdGlvbiBfbG9hZFN2Z1NvdXJjZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VUeXBlICE9PSAnc3ZnJykge1xuICAgICAgICAgICAgLy8gRG8gbm90aGluZyBpZiBzb3VyY2UgaXMgbm90IHN2Z1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRhdGFVcmkgPSAoMCwgX3V0aWxzLmRlY29tcG9zZURhdGFVcmkpKHRoaXMuaW1hZ2VVcmwpO1xuXG4gICAgICAgIGlmIChkYXRhVXJpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkU3ZnU291cmNlVXNpbmdEYXRhVXJpKGRhdGFVcmkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gV2UgZ290IGFuIFVSTCwgc28gd2UgbmVlZCB0byBkbyBhbiBYSFIgdG8gY2hlY2sgdGhlIHN2ZyBzaXplXG4gICAgICAgICAgICB0aGlzLl9sb2FkU3ZnU291cmNlVXNpbmdYaHIoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWFkcyBhbiBTVkcgc3RyaW5nIGZyb20gZGF0YSBVUkkgYW5kIHRoZW4gY2FsbHMgYF9sb2FkU3ZnU291cmNlVXNpbmdTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGFVcmkgLSBUaGUgZGF0YSB1cmkgdG8gbG9hZCBmcm9tLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX2xvYWRTdmdTb3VyY2VVc2luZ0RhdGFVcmkgPSBmdW5jdGlvbiBfbG9hZFN2Z1NvdXJjZVVzaW5nRGF0YVVyaShkYXRhVXJpKSB7XG4gICAgICAgIHZhciBzdmdTdHJpbmcgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKGRhdGFVcmkuZW5jb2RpbmcgPT09ICdiYXNlNjQnKSB7XG4gICAgICAgICAgICBpZiAoIWF0b2IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCBiYXNlNjQgY29udmVyc2lvbnMuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdmdTdHJpbmcgPSBhdG9iKGRhdGFVcmkuZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdmdTdHJpbmcgPSBkYXRhVXJpLmRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkU3ZnU291cmNlVXNpbmdTdHJpbmcoc3ZnU3RyaW5nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgYW4gU1ZHIHN0cmluZyBmcm9tIGBpbWFnZVVybGAgdXNpbmcgWEhSIGFuZCB0aGVuIGNhbGxzIGBfbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nYC5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl9sb2FkU3ZnU291cmNlVXNpbmdYaHIgPSBmdW5jdGlvbiBfbG9hZFN2Z1NvdXJjZVVzaW5nWGhyKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgc3ZnWGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgLy8gVGhpcyB0aHJvd3MgZXJyb3Igb24gSUUsIHNvIFNWRyBEb2N1bWVudCBjYW4ndCBiZSB1c2VkXG4gICAgICAgIC8vIHN2Z1hoci5yZXNwb25zZVR5cGUgPSAnZG9jdW1lbnQnO1xuXG4gICAgICAgIC8vIFRoaXMgaXMgbm90IG5lZWRlZCBzaW5jZSB3ZSBsb2FkIHRoZSBzdmcgYXMgc3RyaW5nIChicmVha3MgSUUgdG9vKVxuICAgICAgICAvLyBidXQgb3ZlcnJpZGVNaW1lVHlwZSgpIGNhbiBiZSB1c2VkIHRvIGZvcmNlIHRoZSByZXNwb25zZSB0byBiZSBwYXJzZWQgYXMgWE1MXG4gICAgICAgIC8vIHN2Z1hoci5vdmVycmlkZU1pbWVUeXBlKCdpbWFnZS9zdmcreG1sJyk7XG5cbiAgICAgICAgc3ZnWGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChzdmdYaHIucmVhZHlTdGF0ZSAhPT0gc3ZnWGhyLkRPTkUgfHwgc3ZnWGhyLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBTVkcgdXNpbmcgWEhSLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpczIuX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZyhzdmdYaHIucmVzcG9uc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHN2Z1hoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5lbWl0KCdlcnJvcicsIF90aGlzMik7XG4gICAgICAgIH07XG5cbiAgICAgICAgc3ZnWGhyLm9wZW4oJ0dFVCcsIHRoaXMuaW1hZ2VVcmwsIHRydWUpO1xuICAgICAgICBzdmdYaHIuc2VuZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0ZXh0dXJlIHVzaW5nIGFuIFNWRyBzdHJpbmcuIFRoZSBvcmlnaW5hbCBTVkcgSW1hZ2UgaXMgc3RvcmVkIGFzIGBvcmlnU291cmNlYCBhbmQgdGhlXG4gICAgICogY3JlYXRlZCBjYW52YXMgaXMgdGhlIG5ldyBgc291cmNlYC4gVGhlIFNWRyBpcyBzY2FsZWQgdXNpbmcgYHNvdXJjZVNjYWxlYC4gQ2FsbGVkIGJ5XG4gICAgICogYF9sb2FkU3ZnU291cmNlVXNpbmdYaHJgIG9yIGBfbG9hZFN2Z1NvdXJjZVVzaW5nRGF0YVVyaWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IHN2Z1N0cmluZyBTVkcgc291cmNlIGFzIHN0cmluZ1xuICAgICAqXG4gICAgICogQGZpcmVzIFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nID0gZnVuY3Rpb24gX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZyhzdmdTdHJpbmcpIHtcbiAgICAgICAgdmFyIHN2Z1NpemUgPSAoMCwgX3V0aWxzLmdldFN2Z1NpemUpKHN2Z1N0cmluZyk7XG5cbiAgICAgICAgdmFyIHN2Z1dpZHRoID0gc3ZnU2l6ZS53aWR0aDtcbiAgICAgICAgdmFyIHN2Z0hlaWdodCA9IHN2Z1NpemUuaGVpZ2h0O1xuXG4gICAgICAgIGlmICghc3ZnV2lkdGggfHwgIXN2Z0hlaWdodCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgU1ZHIGltYWdlIG11c3QgaGF2ZSB3aWR0aCBhbmQgaGVpZ2h0IGRlZmluZWQgKGluIHBpeGVscyksIGNhbnZhcyBBUEkgbmVlZHMgdGhlbS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNjYWxlIHJlYWxXaWR0aCBhbmQgcmVhbEhlaWdodFxuICAgICAgICB0aGlzLnJlYWxXaWR0aCA9IE1hdGgucm91bmQoc3ZnV2lkdGggKiB0aGlzLnNvdXJjZVNjYWxlKTtcbiAgICAgICAgdGhpcy5yZWFsSGVpZ2h0ID0gTWF0aC5yb3VuZChzdmdIZWlnaHQgKiB0aGlzLnNvdXJjZVNjYWxlKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVEaW1lbnNpb25zKCk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGEgY2FudmFzIGVsZW1lbnRcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHRoaXMucmVhbFdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdGhpcy5yZWFsSGVpZ2h0O1xuICAgICAgICBjYW52YXMuX3BpeGlJZCA9ICdjYW52YXNfJyArICgwLCBfdXRpbHMudWlkKSgpO1xuXG4gICAgICAgIC8vIERyYXcgdGhlIFN2ZyB0byB0aGUgY2FudmFzXG4gICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmRyYXdJbWFnZSh0aGlzLnNvdXJjZSwgMCwgMCwgc3ZnV2lkdGgsIHN2Z0hlaWdodCwgMCwgMCwgdGhpcy5yZWFsV2lkdGgsIHRoaXMucmVhbEhlaWdodCk7XG5cbiAgICAgICAgLy8gUmVwbGFjZSB0aGUgb3JpZ2luYWwgc291cmNlIGltYWdlIHdpdGggdGhlIGNhbnZhc1xuICAgICAgICB0aGlzLm9yaWdTb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBjYW52YXM7XG5cbiAgICAgICAgLy8gQWRkIGFsc28gdGhlIGNhbnZhcyBpbiBjYWNoZSAoZGVzdHJveSBjbGVhcnMgYnkgYGltYWdlVXJsYCBhbmQgYHNvdXJjZS5fcGl4aUlkYClcbiAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0aGlzLCBjYW52YXMuX3BpeGlJZCk7XG5cbiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc291cmNlTG9hZGVkKCk7XG4gICAgICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgdGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgaW50ZXJuYWxseSB0byB1cGRhdGUgdGhlIHdpZHRoLCBoZWlnaHQsIGFuZCBzb21lIG90aGVyIHRyYWNraW5nIHZhcnMgb25jZVxuICAgICAqIGEgc291cmNlIGhhcyBzdWNjZXNzZnVsbHkgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl9zb3VyY2VMb2FkZWQgPSBmdW5jdGlvbiBfc291cmNlTG9hZGVkKCkge1xuICAgICAgICB0aGlzLmhhc0xvYWRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5pbWFnZVVybCkge1xuICAgICAgICAgICAgZGVsZXRlIF91dGlscy5UZXh0dXJlQ2FjaGVbdGhpcy5pbWFnZVVybF07XG5cbiAgICAgICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoIW5hdmlnYXRvci5pc0NvY29vbkpTKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2Uuc3JjID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG5cbiAgICAgICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRnJlZXMgdGhlIHRleHR1cmUgZnJvbSBXZWJHTCBtZW1vcnkgd2l0aG91dCBkZXN0cm95aW5nIHRoaXMgdGV4dHVyZSBvYmplY3QuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHN0aWxsIHVzZSB0aGUgdGV4dHVyZSBsYXRlciB3aGljaCB3aWxsIHVwbG9hZCBpdCB0byBHUFVcbiAgICAgKiBtZW1vcnkgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdkaXNwb3NlJywgdGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHNvdXJjZSBpbWFnZSBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBUaGUgb3JpZ2luYWwgc291cmNlIG11c3QgYmUgYW4gSW1hZ2UgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdTcmMgLSB0aGUgcGF0aCBvZiB0aGUgaW1hZ2VcbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnVwZGF0ZVNvdXJjZUltYWdlID0gZnVuY3Rpb24gdXBkYXRlU291cmNlSW1hZ2UobmV3U3JjKSB7XG4gICAgICAgIHRoaXMuc291cmNlLnNyYyA9IG5ld1NyYztcblxuICAgICAgICB0aGlzLmxvYWRTb3VyY2UodGhpcy5zb3VyY2UpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYmFzZSB0ZXh0dXJlIGZyb20gdGhlIGdpdmVuIGltYWdlIHVybC5cbiAgICAgKiBJZiB0aGUgaW1hZ2UgaXMgbm90IGluIHRoZSBiYXNlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSBjcmVhdGVkIGFuZCBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGltYWdlVXJsIC0gVGhlIGltYWdlIHVybCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Nyb3Nzb3JpZ2luPShhdXRvKV0gLSBTaG91bGQgdXNlIGFub255bW91cyBDT1JTPyBEZWZhdWx0cyB0byB0cnVlIGlmIHRoZSBVUkwgaXMgbm90IGEgZGF0YS1VUkkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc291cmNlU2NhbGU9KGF1dG8pXSAtIFNjYWxlIGZvciB0aGUgb3JpZ2luYWwgaW1hZ2UsIHVzZWQgd2l0aCBTdmcgaW1hZ2VzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV9IFRoZSBuZXcgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5mcm9tSW1hZ2UgPSBmdW5jdGlvbiBmcm9tSW1hZ2UoaW1hZ2VVcmwsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUsIHNvdXJjZVNjYWxlKSB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW2ltYWdlVXJsXTtcblxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICAvLyBuZXcgSW1hZ2UoKSBicmVha3MgdGV4IGxvYWRpbmcgaW4gc29tZSB2ZXJzaW9ucyBvZiBDaHJvbWUuXG4gICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTIzODA3MVxuICAgICAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7IC8vIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuXG4gICAgICAgICAgICBpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCAmJiBpbWFnZVVybC5pbmRleE9mKCdkYXRhOicpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2UuY3Jvc3NPcmlnaW4gPSAoMCwgX2RldGVybWluZUNyb3NzT3JpZ2luMi5kZWZhdWx0KShpbWFnZVVybCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2UuY3Jvc3NPcmlnaW4gPSB0eXBlb2YgY3Jvc3NvcmlnaW4gPT09ICdzdHJpbmcnID8gY3Jvc3NvcmlnaW4gOiAnYW5vbnltb3VzJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoaW1hZ2UsIHNjYWxlTW9kZSk7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5pbWFnZVVybCA9IGltYWdlVXJsO1xuXG4gICAgICAgICAgICBpZiAoc291cmNlU2NhbGUpIHtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5zb3VyY2VTY2FsZSA9IHNvdXJjZVNjYWxlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiBAMnggYXQgdGhlIGVuZCBvZiB0aGUgdXJsIHdlIGFyZSBnb2luZyB0byBhc3N1bWUgaXRzIGEgaGlnaHJlcyBpbWFnZVxuICAgICAgICAgICAgYmFzZVRleHR1cmUucmVzb2x1dGlvbiA9ICgwLCBfdXRpbHMuZ2V0UmVzb2x1dGlvbk9mVXJsKShpbWFnZVVybCk7XG5cbiAgICAgICAgICAgIGltYWdlLnNyYyA9IGltYWdlVXJsOyAvLyBTZXR0aW5nIHRoaXMgdHJpZ2dlcnMgbG9hZFxuXG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBiYXNlIHRleHR1cmUgZnJvbSB0aGUgZ2l2ZW4gY2FudmFzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gVGhlIGNhbnZhcyBlbGVtZW50IHNvdXJjZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZU1vZGUgLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29yaWdpbj0nY2FudmFzJ10gLSBBIHN0cmluZyBvcmlnaW4gb2Ygd2hvIGNyZWF0ZWQgdGhlIGJhc2UgdGV4dHVyZVxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV9IFRoZSBuZXcgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5mcm9tQ2FudmFzID0gZnVuY3Rpb24gZnJvbUNhbnZhcyhjYW52YXMsIHNjYWxlTW9kZSkge1xuICAgICAgICB2YXIgb3JpZ2luID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnY2FudmFzJztcblxuICAgICAgICBpZiAoIWNhbnZhcy5fcGl4aUlkKSB7XG4gICAgICAgICAgICBjYW52YXMuX3BpeGlJZCA9IG9yaWdpbiArICdfJyArICgwLCBfdXRpbHMudWlkKSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbY2FudmFzLl9waXhpSWRdO1xuXG4gICAgICAgIGlmICghYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKGNhbnZhcywgc2NhbGVNb2RlKTtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGNhbnZhcy5fcGl4aUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGJhc2UgdGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gaW1hZ2UgdXJsLCBpbWFnZSBlbGVtZW50LCBjYW52YXMgZWxlbWVudC4gSWYgdGhlXG4gICAgICogc291cmNlIGlzIGFuIGltYWdlIHVybCBvciBhbiBpbWFnZSBlbGVtZW50IGFuZCBub3QgaW4gdGhlIGJhc2UgdGV4dHVyZVxuICAgICAqIGNhY2hlLCBpdCB3aWxsIGJlIGNyZWF0ZWQgYW5kIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBzb3VyY2UgLSBUaGUgc291cmNlIHRvIGNyZWF0ZSBiYXNlIHRleHR1cmUgZnJvbS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzb3VyY2VTY2FsZT0oYXV0byldIC0gU2NhbGUgZm9yIHRoZSBvcmlnaW5hbCBpbWFnZSwgdXNlZCB3aXRoIFN2ZyBpbWFnZXMuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZX0gVGhlIG5ldyBiYXNlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLmZyb20gPSBmdW5jdGlvbiBmcm9tKHNvdXJjZSwgc2NhbGVNb2RlLCBzb3VyY2VTY2FsZSkge1xuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBCYXNlVGV4dHVyZS5mcm9tSW1hZ2Uoc291cmNlLCB1bmRlZmluZWQsIHNjYWxlTW9kZSwgc291cmNlU2NhbGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZVVybCA9IHNvdXJjZS5zcmM7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtpbWFnZVVybF07XG5cbiAgICAgICAgICAgIGlmICghYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShzb3VyY2UsIHNjYWxlTW9kZSk7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuaW1hZ2VVcmwgPSBpbWFnZVVybDtcblxuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VTY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5zb3VyY2VTY2FsZSA9IHNvdXJjZVNjYWxlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIEAyeCBhdCB0aGUgZW5kIG9mIHRoZSB1cmwgd2UgYXJlIGdvaW5nIHRvIGFzc3VtZSBpdHMgYSBoaWdocmVzIGltYWdlXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUucmVzb2x1dGlvbiA9ICgwLCBfdXRpbHMuZ2V0UmVzb2x1dGlvbk9mVXJsKShpbWFnZVVybCk7XG5cbiAgICAgICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlLmZyb21DYW52YXMoc291cmNlLCBzY2FsZU1vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0cyBhc3N1bWUgaXRzIGEgYmFzZSB0ZXh0dXJlIVxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgQmFzZVRleHR1cmUgdG8gdGhlIGdsb2JhbCBCYXNlVGV4dHVyZUNhY2hlLiBUaGlzIGNhY2hlIGlzIHNoYXJlZCBhY3Jvc3MgdGhlIHdob2xlIFBJWEkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgQmFzZVRleHR1cmUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgdGhhdCB0aGUgQmFzZVRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSA9IGZ1bmN0aW9uIGFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGlkKSB7XG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGlkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEBpZiBERUJVR1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgaWYgKF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW2lkXSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQmFzZVRleHR1cmUgYWRkZWQgdG8gdGhlIGNhY2hlIHdpdGggYW4gaWQgWycgKyBpZCArICddIHRoYXQgYWxyZWFkeSBoYWQgYW4gZW50cnknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgLy8gQGVuZGlmXG5cbiAgICAgICAgICAgIF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW2lkXSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIEJhc2VUZXh0dXJlIGZyb20gdGhlIGdsb2JhbCBCYXNlVGV4dHVyZUNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gaWQgb2YgYSBCYXNlVGV4dHVyZSB0byBiZSByZW1vdmVkLCBvciBhIEJhc2VUZXh0dXJlIGluc3RhbmNlIGl0c2VsZi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfG51bGx9IFRoZSBCYXNlVGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiByZW1vdmVGcm9tQ2FjaGUoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiYXNlVGV4dHVyZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZUZyb21DYWNoZSA9IF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlXTtcblxuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlRnJvbUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gYmFzZVRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVsZXRlIF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlVGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChiYXNlVGV4dHVyZSAmJiBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEJhc2VUZXh0dXJlO1xufShfZXZlbnRlbWl0dGVyMi5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQmFzZVRleHR1cmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlVGV4dHVyZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfVGV4dHVyZSA9IHJlcXVpcmUoJy4uL2NvcmUvdGV4dHVyZXMvVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHRlbXBQb2ludCA9IG5ldyBjb3JlLlBvaW50KCk7XG52YXIgdGVtcFBvbHlnb24gPSBuZXcgY29yZS5Qb2x5Z29uKCk7XG5cbi8qKlxuICogQmFzZSBtZXNoIGNsYXNzXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSS5tZXNoXG4gKi9cblxudmFyIE1lc2ggPSBmdW5jdGlvbiAoX2NvcmUkQ29udGFpbmVyKSB7XG4gIF9pbmhlcml0cyhNZXNoLCBfY29yZSRDb250YWluZXIpO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHVzZVxuICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW3ZlcnRpY2VzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHZlcnRpY2VzXG4gICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbdXZzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHV2c1xuICAgKiBAcGFyYW0ge1VpbnQxNkFycmF5fSBbaW5kaWNlc10gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSBpbmRpY2VzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZHJhd01vZGVdIC0gdGhlIGRyYXdNb2RlLCBjYW4gYmUgYW55IG9mIHRoZSBNZXNoLkRSQVdfTU9ERVMgY29uc3RzXG4gICAqL1xuICBmdW5jdGlvbiBNZXNoKHRleHR1cmUsIHZlcnRpY2VzLCB1dnMsIGluZGljZXMsIGRyYXdNb2RlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1lc2gpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRleHR1cmUgb2YgdGhlIE1lc2hcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlRleHR1cmUuRU1QVFlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJENvbnRhaW5lci5jYWxsKHRoaXMpKTtcblxuICAgIF90aGlzLl90ZXh0dXJlID0gdGV4dHVyZSB8fCBfVGV4dHVyZTIuZGVmYXVsdC5FTVBUWTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBVdnMgb2YgdGhlIE1lc2hcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKi9cbiAgICBfdGhpcy51dnMgPSB1dnMgfHwgbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMSwgMSwgMCwgMV0pO1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgdmVydGljZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKi9cbiAgICBfdGhpcy52ZXJ0aWNlcyA9IHZlcnRpY2VzIHx8IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEwMCwgMCwgMTAwLCAxMDAsIDAsIDEwMF0pO1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgY29udGFpbmluZyB0aGUgaW5kaWNlcyBvZiB0aGUgdmVydGljZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAqL1xuICAgIC8vICBUT0RPIGF1dG8gZ2VuZXJhdGUgdGhpcyBiYXNlZCBvbiBkcmF3IG1vZGUhXG4gICAgX3RoaXMuaW5kaWNlcyA9IGluZGljZXMgfHwgbmV3IFVpbnQxNkFycmF5KFswLCAxLCAzLCAyXSk7XG5cbiAgICAvKipcbiAgICAgKiBWZXJzaW9uIG9mIG1lc2ggdXZzIGFyZSBkaXJ0eSBvciBub3RcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBfdGhpcy5kaXJ0eSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBWZXJzaW9uIG9mIG1lc2ggaW5kaWNlc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIF90aGlzLmluZGV4RGlydHkgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBTZXQgdG8gYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZW1vdmVcbiAgICAgKiBhbnkgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAqL1xuICAgIF90aGlzLmJsZW5kTW9kZSA9IGNvcmUuQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgLyoqXG4gICAgICogVHJpYW5nbGVzIGluIGNhbnZhcyBtb2RlIGFyZSBhdXRvbWF0aWNhbGx5IGFudGlhbGlhc2VkLCB1c2UgdGhpcyB2YWx1ZSB0byBmb3JjZSB0cmlhbmdsZXNcbiAgICAgKiB0byBvdmVybGFwIGEgYml0IHdpdGggZWFjaCBvdGhlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBfdGhpcy5jYW52YXNQYWRkaW5nID0gY29yZS5zZXR0aW5ncy5NRVNIX0NBTlZBU19QQURESU5HO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdheSB0aGUgTWVzaCBzaG91bGQgYmUgZHJhd24sIGNhbiBiZSBhbnkgb2YgdGhlIHtAbGluayBQSVhJLm1lc2guTWVzaC5EUkFXX01PREVTfSBjb25zdHNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAc2VlIFBJWEkubWVzaC5NZXNoLkRSQVdfTU9ERVNcbiAgICAgKi9cbiAgICBfdGhpcy5kcmF3TW9kZSA9IGRyYXdNb2RlIHx8IE1lc2guRFJBV19NT0RFUy5UUklBTkdMRV9NRVNIO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgc2hhZGVyIHRoYXQgaXMgdXNlZCBpZiBhIG1lc2ggZG9lc24ndCBoYXZlIGEgbW9yZSBzcGVjaWZpYyBvbmUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgKi9cbiAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgbWVzaC4gVGhpcyBpcyBhIFtyLGcsYl0gdmFsdWUuIEEgdmFsdWUgb2YgWzEsMSwxXSB3aWxsIHJlbW92ZSBhbnlcbiAgICAgKiB0aW50IGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBfdGhpcy50aW50UmdiID0gbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMV0pO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgcmVuZGVyZXIgSURzIHRvIHdlYmdsIHJlbmRlciBkYXRhXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge29iamVjdDxudW1iZXIsIG9iamVjdD59XG4gICAgICovXG4gICAgX3RoaXMuX2dsRGF0YXMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIHRyYW5zZm9ybSB0aGF0IGlzIGFwcGxpZWQgdG8gVVYgdG8gZ2V0IHRoZSB0ZXh0dXJlIGNvb3Jkc1xuICAgICAqIGl0cyB1cGRhdGVkIGluZGVwZW5kZW50bHkgZnJvbSB0ZXh0dXJlIHV2VHJhbnNmb3JtXG4gICAgICogdXBkYXRlcyBvZiB1dnMgYXJlIHRpZWQgdG8gdGhhdCB0aGluZ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RoaXMuX3V2VHJhbnNmb3JtID0gbmV3IGNvcmUuVGV4dHVyZU1hdHJpeChfdGhpcy5fdGV4dHVyZSk7XG5cbiAgICAvKipcbiAgICAgKiB3aGV0aGVyIG9yIG5vdCB1cGxvYWQgdXZUcmFuc2Zvcm0gdG8gc2hhZGVyXG4gICAgICogaWYgaXRzIGZhbHNlLCB0aGVuIHV2cyBzaG91bGQgYmUgcHJlLW11bHRpcGxpZWRcbiAgICAgKiBpZiB5b3UgY2hhbmdlIGl0IGZvciBnZW5lcmF0ZWQgbWVzaCwgcGxlYXNlIGNhbGwgJ3JlZnJlc2godHJ1ZSknXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIF90aGlzLnVwbG9hZFV2VHJhbnNmb3JtID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBQbHVnaW4gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIHRoaXMgZWxlbWVudC5cbiAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXJXZWJHTCcgJiAnX3JlbmRlckNhbnZhcycgbWV0aG9kcy5cbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQGRlZmF1bHQgJ21lc2gnXG4gICAgICovXG4gICAgX3RoaXMucGx1Z2luTmFtZSA9ICdtZXNoJztcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBhIHJlZmVyZW5jZSB0byB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICovXG5cblxuICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyV2ViR0wgPSBmdW5jdGlvbiBfcmVuZGVyV2ViR0wocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlZnJlc2goKTtcbiAgICByZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyLlxuICAgKi9cblxuXG4gIE1lc2gucHJvdG90eXBlLl9yZW5kZXJDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogV2hlbiB0aGUgdGV4dHVyZSBpcyB1cGRhdGVkLCB0aGlzIGV2ZW50IHdpbGwgZmlyZSB0byB1cGRhdGUgdGhlIHNjYWxlIGFuZCBmcmFtZVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIE1lc2gucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiBfb25UZXh0dXJlVXBkYXRlKCkge1xuICAgIHRoaXMuX3V2VHJhbnNmb3JtLnRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgIHRoaXMucmVmcmVzaCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBtdWx0aXBsaWVzIHV2cyBvbmx5IGlmIHVwbG9hZFV2VHJhbnNmb3JtIGlzIGZhbHNlXG4gICAqIGNhbGwgaXQgYWZ0ZXIgeW91IGNoYW5nZSB1dnMgbWFudWFsbHlcbiAgICogbWFrZSBzdXJlIHRoYXQgdGV4dHVyZSBpcyB2YWxpZFxuICAgKi9cblxuXG4gIE1lc2gucHJvdG90eXBlLm11bHRpcGx5VXZzID0gZnVuY3Rpb24gbXVsdGlwbHlVdnMoKSB7XG4gICAgaWYgKCF0aGlzLnVwbG9hZFV2VHJhbnNmb3JtKSB7XG4gICAgICB0aGlzLl91dlRyYW5zZm9ybS5tdWx0aXBseVV2cyh0aGlzLnV2cyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZWZyZXNoZXMgdXZzIGZvciBnZW5lcmF0ZWQgbWVzaGVzIChyb3BlLCBwbGFuZSlcbiAgICogc29tZXRpbWVzIHJlZnJlc2hlcyB2ZXJ0aWNlcyB0b29cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VVcGRhdGU9ZmFsc2VdIGlmIHRydWUsIG1hdHJpY2VzIHdpbGwgYmUgdXBkYXRlZCBhbnkgY2FzZVxuICAgKi9cblxuXG4gIE1lc2gucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiByZWZyZXNoKGZvcmNlVXBkYXRlKSB7XG4gICAgaWYgKHRoaXMuX3V2VHJhbnNmb3JtLnVwZGF0ZShmb3JjZVVwZGF0ZSkpIHtcbiAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIHJlLWNhbGN1bGF0ZXMgbWVzaCBjb29yZHNcbiAgICogQHByb3RlY3RlZFxuICAgKi9cblxuXG4gIE1lc2gucHJvdG90eXBlLl9yZWZyZXNoID0gZnVuY3Rpb24gX3JlZnJlc2goKSB7fVxuICAvKiBlbXB0eSAqL1xuXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGJvdW5kcyBvZiB0aGUgbWVzaCBhcyBhIHJlY3RhbmdsZS4gVGhlIGJvdW5kcyBjYWxjdWxhdGlvbiB0YWtlcyB0aGUgd29ybGRUcmFuc2Zvcm0gaW50byBhY2NvdW50LlxuICAgKlxuICAgKi9cbiAgO1xuXG4gIE1lc2gucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzKCkge1xuICAgIC8vIFRPRE8gLSB3ZSBjYW4gY2FjaGUgbG9jYWwgYm91bmRzIGFuZCB1c2UgdGhlbSBpZiB0aGV5IGFyZSBkaXJ0eSAobGlrZSBncmFwaGljcylcbiAgICB0aGlzLl9ib3VuZHMuYWRkVmVydGljZXModGhpcy50cmFuc2Zvcm0sIHRoaXMudmVydGljZXMsIDAsIHRoaXMudmVydGljZXMubGVuZ3RoKTtcbiAgfTtcblxuICAvKipcbiAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBtZXNoLiBXb3JrcyBvbmx5IGZvciBUUklBTkdMRV9NRVNIXG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAqL1xuXG5cbiAgTWVzaC5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICBpZiAoIXRoaXMuZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnQueCwgcG9pbnQueSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgdmFyIHBvaW50cyA9IHRlbXBQb2x5Z29uLnBvaW50cztcbiAgICB2YXIgaW5kaWNlcyA9IHRoaXMuaW5kaWNlcztcbiAgICB2YXIgbGVuID0gdGhpcy5pbmRpY2VzLmxlbmd0aDtcbiAgICB2YXIgc3RlcCA9IHRoaXMuZHJhd01vZGUgPT09IE1lc2guRFJBV19NT0RFUy5UUklBTkdMRVMgPyAzIDogMTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpICsgMiA8IGxlbjsgaSArPSBzdGVwKSB7XG4gICAgICB2YXIgaW5kMCA9IGluZGljZXNbaV0gKiAyO1xuICAgICAgdmFyIGluZDEgPSBpbmRpY2VzW2kgKyAxXSAqIDI7XG4gICAgICB2YXIgaW5kMiA9IGluZGljZXNbaSArIDJdICogMjtcblxuICAgICAgcG9pbnRzWzBdID0gdmVydGljZXNbaW5kMF07XG4gICAgICBwb2ludHNbMV0gPSB2ZXJ0aWNlc1tpbmQwICsgMV07XG4gICAgICBwb2ludHNbMl0gPSB2ZXJ0aWNlc1tpbmQxXTtcbiAgICAgIHBvaW50c1szXSA9IHZlcnRpY2VzW2luZDEgKyAxXTtcbiAgICAgIHBvaW50c1s0XSA9IHZlcnRpY2VzW2luZDJdO1xuICAgICAgcG9pbnRzWzVdID0gdmVydGljZXNbaW5kMiArIDFdO1xuXG4gICAgICBpZiAodGVtcFBvbHlnb24uY29udGFpbnModGVtcFBvaW50LngsIHRlbXBQb2ludC55KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIG1lc2ggdXNlcy5cbiAgICpcbiAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhNZXNoLCBbe1xuICAgIGtleTogJ3RleHR1cmUnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgaWYgKHRoaXMuX3RleHR1cmUgPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlO1xuXG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgLy8gd2FpdCBmb3IgdGhlIHRleHR1cmUgdG8gbG9hZFxuICAgICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUub25jZSgndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIG1lc2guIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RpbnQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGNvcmUudXRpbHMucmdiMmhleCh0aGlzLnRpbnRSZ2IpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgIHRoaXMudGludFJnYiA9IGNvcmUudXRpbHMuaGV4MnJnYih2YWx1ZSwgdGhpcy50aW50UmdiKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWVzaDtcbn0oY29yZS5Db250YWluZXIpO1xuXG4vKipcbiAqIERpZmZlcmVudCBkcmF3aW5nIGJ1ZmZlciBtb2RlcyBzdXBwb3J0ZWRcbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfTUVTSFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFU1xuICovXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gTWVzaDtcbk1lc2guRFJBV19NT0RFUyA9IHtcbiAgVFJJQU5HTEVfTUVTSDogMCxcbiAgVFJJQU5HTEVTOiAxXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVzaC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbi8vIGltcG9ydCBMb2FkZXIgZnJvbSAnLi9Mb2FkZXInO1xuLy8gaW1wb3J0IFJlc291cmNlIGZyb20gJy4vUmVzb3VyY2UnO1xuLy8gaW1wb3J0ICogYXMgYXN5bmMgZnJvbSAnLi9hc3luYyc7XG4vLyBpbXBvcnQgKiBhcyBiNjQgZnJvbSAnLi9iNjQnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuXG52YXIgTG9hZGVyID0gcmVxdWlyZSgnLi9Mb2FkZXInKS5kZWZhdWx0O1xudmFyIFJlc291cmNlID0gcmVxdWlyZSgnLi9SZXNvdXJjZScpLmRlZmF1bHQ7XG52YXIgYXN5bmMgPSByZXF1aXJlKCcuL2FzeW5jJyk7XG52YXIgYjY0ID0gcmVxdWlyZSgnLi9iNjQnKTtcblxuTG9hZGVyLlJlc291cmNlID0gUmVzb3VyY2U7XG5Mb2FkZXIuYXN5bmMgPSBhc3luYztcbkxvYWRlci5iYXNlNjQgPSBiNjQ7XG5cbi8vIGV4cG9ydCBtYW51YWxseSwgYW5kIGFsc28gYXMgZGVmYXVsdFxubW9kdWxlLmV4cG9ydHMgPSBMb2FkZXI7XG4vLyBleHBvcnQgZGVmYXVsdCBMb2FkZXI7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gTG9hZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gY2hlY2tQcmVjaXNpb24oc3JjLCBkZWYpIHtcbiAgICBpZiAoc3JjIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgaWYgKHNyY1swXS5zdWJzdHJpbmcoMCwgOSkgIT09ICdwcmVjaXNpb24nKSB7XG4gICAgICAgICAgICB2YXIgY29weSA9IHNyYy5zbGljZSgwKTtcblxuICAgICAgICAgICAgY29weS51bnNoaWZ0KCdwcmVjaXNpb24gJyArIGRlZiArICcgZmxvYXQ7Jyk7XG5cbiAgICAgICAgICAgIHJldHVybiBjb3B5O1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChzcmMudHJpbSgpLnN1YnN0cmluZygwLCA5KSAhPT0gJ3ByZWNpc2lvbicpIHtcbiAgICAgICAgcmV0dXJuICdwcmVjaXNpb24gJyArIGRlZiArICcgZmxvYXQ7XFxuJyArIHNyYztcbiAgICB9XG5cbiAgICByZXR1cm4gc3JjO1xufVxuXG4vKipcbiAqIFdyYXBwZXIgY2xhc3MsIHdlYkdMIFNoYWRlciBmb3IgUGl4aS5cbiAqIEFkZHMgcHJlY2lzaW9uIHN0cmluZyBpZiB2ZXJ0ZXhTcmMgb3IgZnJhZ21lbnRTcmMgaGF2ZSBubyBtZW50aW9uIG9mIGl0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgR0xTaGFkZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIFNoYWRlciA9IGZ1bmN0aW9uIChfR0xTaGFkZXIpIHtcbiAgICBfaW5oZXJpdHMoU2hhZGVyLCBfR0xTaGFkZXIpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSB2ZXJ0ZXhTcmMgLSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gZnJhZ21lbnRTcmMgLSBUaGUgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbYXR0cmlidXRlTG9jYXRpb25zXSAtIEEga2V5IHZhbHVlIHBhaXIgc2hvd2luZyB3aGljaCBsb2NhdGlvbiBlYWN0IGF0dHJpYnV0ZSBzaG91bGQgc2l0LlxuICAgICAgICAgICAgICAgICAgICAgICBlLmcuIHtwb3NpdGlvbjowLCB1dnM6MX0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwcmVjaXNpb25dIC0gVGhlIGZsb2F0IHByZWNpc2lvbiBvZiB0aGUgc2hhZGVyLiBPcHRpb25zIGFyZSAnbG93cCcsICdtZWRpdW1wJyBvciAnaGlnaHAnLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNoYWRlcihnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYywgYXR0cmlidXRlTG9jYXRpb25zLCBwcmVjaXNpb24pIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNoYWRlcik7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9HTFNoYWRlci5jYWxsKHRoaXMsIGdsLCBjaGVja1ByZWNpc2lvbih2ZXJ0ZXhTcmMsIHByZWNpc2lvbiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUFJFQ0lTSU9OX1ZFUlRFWCksIGNoZWNrUHJlY2lzaW9uKGZyYWdtZW50U3JjLCBwcmVjaXNpb24gfHwgX3NldHRpbmdzMi5kZWZhdWx0LlBSRUNJU0lPTl9GUkFHTUVOVCksIHVuZGVmaW5lZCwgYXR0cmlidXRlTG9jYXRpb25zKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFNoYWRlcjtcbn0oX3BpeGlHbENvcmUuR0xTaGFkZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTaGFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaGFkZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFdlYkdMTWFuYWdlciA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgKi9cbiAgZnVuY3Rpb24gV2ViR0xNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMTWFuYWdlcik7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuV2ViR0xSZW5kZXJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICB0aGlzLnJlbmRlcmVyLm9uKCdjb250ZXh0JywgdGhpcy5vbkNvbnRleHRDaGFuZ2UsIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyaWMgbWV0aG9kIGNhbGxlZCB3aGVuIHRoZXJlIGlzIGEgV2ViR0wgY29udGV4dCBjaGFuZ2UuXG4gICAqXG4gICAqL1xuXG5cbiAgV2ViR0xNYW5hZ2VyLnByb3RvdHlwZS5vbkNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiBvbkNvbnRleHRDaGFuZ2UoKSB7fVxuICAvLyBkbyBzb21lIGNvZGVzIGluaXQhXG5cblxuICAvKipcbiAgICogR2VuZXJpYyBkZXN0cm95IG1ldGhvZHMgdG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3NcbiAgICpcbiAgICovXG4gIDtcblxuICBXZWJHTE1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMucmVuZGVyZXIub2ZmKCdjb250ZXh0JywgdGhpcy5vbkNvbnRleHRDaGFuZ2UsIHRoaXMpO1xuXG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIFdlYkdMTWFuYWdlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gV2ViR0xNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2ViR0xNYW5hZ2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9TeXN0ZW1SZW5kZXJlcjIgPSByZXF1aXJlKCcuLi9TeXN0ZW1SZW5kZXJlcicpO1xuXG52YXIgX1N5c3RlbVJlbmRlcmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N5c3RlbVJlbmRlcmVyMik7XG5cbnZhciBfQ2FudmFzTWFza01hbmFnZXIgPSByZXF1aXJlKCcuL3V0aWxzL0NhbnZhc01hc2tNYW5hZ2VyJyk7XG5cbnZhciBfQ2FudmFzTWFza01hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzTWFza01hbmFnZXIpO1xuXG52YXIgX0NhbnZhc1JlbmRlclRhcmdldCA9IHJlcXVpcmUoJy4vdXRpbHMvQ2FudmFzUmVuZGVyVGFyZ2V0Jyk7XG5cbnZhciBfQ2FudmFzUmVuZGVyVGFyZ2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlclRhcmdldCk7XG5cbnZhciBfbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aSA9IHJlcXVpcmUoJy4vdXRpbHMvbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aScpO1xuXG52YXIgX21hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uLy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIENhbnZhc1JlbmRlcmVyIGRyYXdzIHRoZSBzY2VuZSBhbmQgYWxsIGl0cyBjb250ZW50IG9udG8gYSAyZCBjYW52YXMuIFRoaXMgcmVuZGVyZXIgc2hvdWxkXG4gKiBiZSB1c2VkIGZvciBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IFdlYkdMLiBEb24ndCBmb3JnZXQgdG8gYWRkIHRoZSBDYW52YXNSZW5kZXJlci52aWV3IHRvXG4gKiB5b3VyIERPTSBvciB5b3Ugd2lsbCBub3Qgc2VlIGFueXRoaW5nIDopXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1SZW5kZXJlclxuICovXG52YXIgQ2FudmFzUmVuZGVyZXIgPSBmdW5jdGlvbiAoX1N5c3RlbVJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKENhbnZhc1JlbmRlcmVyLCBfU3lzdGVtUmVuZGVyZXIpO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZhbGlkLWpzZG9jXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gdGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUmVzaXplPWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyBhdXRvbWF0aWNhbGx5IHJlc2l6ZWQsIGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhcyAob25seSBhcHBsaWNhYmxlIGluIGNocm9tZSBhdCB0aGUgbW9tZW50KVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLiBUaGVcbiAgICAgKiAgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyZXIgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAgICogIGVuYWJsZSB0aGlzIGlmIHlvdSBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICAgICAqICAgICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yb3VuZFBpeGVscz1mYWxzZV0gLSBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLFxuICAgICAqICBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc1JlbmRlcmVyKG9wdGlvbnMsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc1JlbmRlcmVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfU3lzdGVtUmVuZGVyZXIuY2FsbCh0aGlzLCAnQ2FudmFzJywgb3B0aW9ucywgYXJnMiwgYXJnMykpO1xuXG4gICAgICAgIF90aGlzLnR5cGUgPSBfY29uc3QuUkVOREVSRVJfVFlQRS5DQU5WQVM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb290IGNhbnZhcyAyZCBjb250ZXh0IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB3aXRoLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yb290Q29udGV4dCA9IF90aGlzLnZpZXcuZ2V0Q29udGV4dCgnMmQnLCB7IGFscGhhOiBfdGhpcy50cmFuc3BhcmVudCB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgY2FudmFzIDJkIGNvbnRleHQgKGNvdWxkIGNoYW5nZSB3aXRoIHJlbmRlclRleHR1cmVzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0ID0gX3RoaXMucm9vdENvbnRleHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvb2xlYW4gZmxhZyBjb250cm9sbGluZyBjYW52YXMgcmVmcmVzaC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlZnJlc2ggPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnN0YW5jZSBvZiBhIENhbnZhc01hc2tNYW5hZ2VyLCBoYW5kbGVzIG1hc2tpbmcgd2hlbiB1c2luZyB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNhbnZhc01hc2tNYW5hZ2VyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza01hbmFnZXIgPSBuZXcgX0NhbnZhc01hc2tNYW5hZ2VyMi5kZWZhdWx0KF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyBwcm9wZXJ0eSB1c2VkIHRvIHNldCB0aGUgY2FudmFzIHNtb290aGluZyBwcm9wZXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc21vb3RoUHJvcGVydHkgPSAnaW1hZ2VTbW9vdGhpbmdFbmFibGVkJztcblxuICAgICAgICBpZiAoIV90aGlzLnJvb3RDb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnJvb3RDb250ZXh0LndlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNtb290aFByb3BlcnR5ID0gJ3dlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLnJvb3RDb250ZXh0Lm1vekltYWdlU21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNtb290aFByb3BlcnR5ID0gJ21vekltYWdlU21vb3RoaW5nRW5hYmxlZCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLnJvb3RDb250ZXh0Lm9JbWFnZVNtb290aGluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zbW9vdGhQcm9wZXJ0eSA9ICdvSW1hZ2VTbW9vdGhpbmdFbmFibGVkJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMucm9vdENvbnRleHQubXNJbWFnZVNtb290aGluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zbW9vdGhQcm9wZXJ0eSA9ICdtc0ltYWdlU21vb3RoaW5nRW5hYmxlZCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5pbml0UGx1Z2lucygpO1xuXG4gICAgICAgIF90aGlzLmJsZW5kTW9kZXMgPSAoMCwgX21hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkyLmRlZmF1bHQpKCk7XG4gICAgICAgIF90aGlzLl9hY3RpdmVCbGVuZE1vZGUgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLnJlbmRlcmluZ1RvU2NyZWVuID0gZmFsc2U7XG5cbiAgICAgICAgX3RoaXMucmVzaXplKF90aGlzLm9wdGlvbnMud2lkdGgsIF90aGlzLm9wdGlvbnMuaGVpZ2h0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYWZ0ZXIgcmVuZGVyaW5nIGZpbmlzaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5DYW52YXNSZW5kZXJlciNwb3N0cmVuZGVyXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBiZWZvcmUgcmVuZGVyaW5nIHN0YXJ0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQ2FudmFzUmVuZGVyZXIjcHJlcmVuZGVyXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHRvIHRoaXMgY2FudmFzIHZpZXdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIG9iamVjdCB0byBiZSByZW5kZXJlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBbcmVuZGVyVGV4dHVyZV0gLSBBIHJlbmRlciB0ZXh0dXJlIHRvIGJlIHJlbmRlcmVkIHRvLlxuICAgICAqICBJZiB1bnNldCwgaXQgd2lsbCByZW5kZXIgdG8gdGhlIHJvb3QgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjbGVhcj1mYWxzZV0gLSBXaGV0aGVyIHRvIGNsZWFyIHRoZSBjYW52YXMgYmVmb3JlIGRyYXdpbmdcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSBbdHJhbnNmb3JtXSAtIEEgdHJhbnNmb3JtYXRpb24gdG8gYmUgYXBwbGllZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGVUcmFuc2Zvcm09ZmFsc2VdIC0gV2hldGhlciB0byBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSwgY2xlYXIsIHRyYW5zZm9ybSwgc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICBpZiAoIXRoaXMudmlldykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FuIGJlIGhhbmR5IHRvIGtub3chXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSAhcmVuZGVyVGV4dHVyZTtcblxuICAgICAgICB0aGlzLmVtaXQoJ3ByZXJlbmRlcicpO1xuXG4gICAgICAgIHZhciByb290UmVzb2x1dGlvbiA9IHRoaXMucmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUgfHwgcmVuZGVyVGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQgPSBuZXcgX0NhbnZhc1JlbmRlclRhcmdldDIuZGVmYXVsdChyZW5kZXJUZXh0dXJlLndpZHRoLCByZW5kZXJUZXh0dXJlLmhlaWdodCwgcmVuZGVyVGV4dHVyZS5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlLnNvdXJjZSA9IHJlbmRlclRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5jYW52YXM7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IHJlbmRlclRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5jb250ZXh0O1xuICAgICAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LnJlc29sdXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLnJvb3RDb250ZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHNjZW5lIGdyYXBoXG4gICAgICAgICAgICB2YXIgY2FjaGVQYXJlbnQgPSBkaXNwbGF5T2JqZWN0LnBhcmVudDtcbiAgICAgICAgICAgIHZhciB0ZW1wV3QgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0uY29weSh0ZW1wV3QpO1xuXG4gICAgICAgICAgICAgICAgLy8gbGV0cyBub3QgZm9yZ2V0IHRvIGZsYWcgdGhlIHBhcmVudCB0cmFuc2Zvcm0gYXMgZGlydHkuLi5cbiAgICAgICAgICAgICAgICB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm0uX3dvcmxkSUQgPSAtMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGVtcFd0LmlkZW50aXR5KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnBhcmVudCA9IGNhY2hlUGFyZW50O1xuICAgICAgICAgICAgLy8gZGlzcGxheU9iamVjdC5oaXRBcmVhID0gLy9UT0RPIGFkZCBhIHRlbXAgaGl0IGFyZWFcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IDE7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUJsZW5kTW9kZSA9IF9jb25zdC5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5ibGVuZE1vZGVzW19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxdO1xuXG4gICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUyAmJiB0aGlzLnZpZXcuc2NyZWVuY2FudmFzKSB7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2xlYXIgIT09IHVuZGVmaW5lZCA/IGNsZWFyIDogdGhpcy5jbGVhckJlZm9yZVJlbmRlcikge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyaW5nVG9TY3JlZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc3BhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLy8gZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgYmFja2dyb3VuZCBmb3IgQ2FudmFzUmVuZGVyVGFyZ2V0IG9yIFJlbmRlclRleHR1cmU/XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIFJFTkRFUiBUQVJHRVQgU1RVRkYgSEVSRS4uXG4gICAgICAgIHZhciB0ZW1wQ29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlckNhbnZhcyh0aGlzKTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGVtcENvbnRleHQ7XG5cbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcm9vdFJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb3N0cmVuZGVyJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBjYW52YXMgb2YgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NsZWFyQ29sb3JdIC0gQ2xlYXIgdGhlIGNhbnZhcyB3aXRoIHRoaXMgY29sb3IsIGV4Y2VwdCB0aGUgY2FudmFzIGlzIHRyYW5zcGFyZW50LlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhcihjbGVhckNvbG9yKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICAgIGNsZWFyQ29sb3IgPSBjbGVhckNvbG9yIHx8IHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZztcblxuICAgICAgICBpZiAoIXRoaXMudHJhbnNwYXJlbnQgJiYgY2xlYXJDb2xvcikge1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBjbGVhckNvbG9yO1xuICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmxlbmQgbW9kZSBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmxlbmRNb2RlIC0gU2VlIHtAbGluayBQSVhJLkJMRU5EX01PREVTfSBmb3IgdmFsaWQgdmFsdWVzLlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuc2V0QmxlbmRNb2RlID0gZnVuY3Rpb24gc2V0QmxlbmRNb2RlKGJsZW5kTW9kZSkge1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlQmxlbmRNb2RlID09PSBibGVuZE1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjdGl2ZUJsZW5kTW9kZSA9IGJsZW5kTW9kZTtcbiAgICAgICAgdGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IHRoaXMuYmxlbmRNb2Rlc1tibGVuZE1vZGVdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgYW5kIG9wdGlvbmFsbHkgcmVtb3ZlcyB0aGUgQ2FudmFzIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShyZW1vdmVWaWV3KSB7XG4gICAgICAgIHRoaXMuZGVzdHJveVBsdWdpbnMoKTtcblxuICAgICAgICAvLyBjYWxsIHRoZSBiYXNlIGRlc3Ryb3lcbiAgICAgICAgX1N5c3RlbVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgcmVtb3ZlVmlldyk7XG5cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLnJlZnJlc2ggPSB0cnVlO1xuXG4gICAgICAgIHRoaXMubWFza01hbmFnZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLm1hc2tNYW5hZ2VyID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNtb290aFByb3BlcnR5ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgY2FudmFzIHZpZXcgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQGV4dGVuZHMgUElYSS5TeXN0ZW1SZW5kZXJlciNyZXNpemVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIHRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkge1xuICAgICAgICBfU3lzdGVtUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZS5jYWxsKHRoaXMsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpO1xuXG4gICAgICAgIC8vIHJlc2V0IHRoZSBzY2FsZSBtb2RlLi4gb2RkbHkgdGhpcyBzZWVtcyB0byBiZSByZXNldCB3aGVuIHRoZSBjYW52YXMgaXMgcmVzaXplZC5cbiAgICAgICAgLy8gc3VyZWx5IGEgYnJvd3NlciBidWc/PyBMZXQgUGl4aUpTIGZpeCB0aGF0IGZvciB5b3UuLlxuICAgICAgICBpZiAodGhpcy5zbW9vdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5yb290Q29udGV4dFt0aGlzLnNtb290aFByb3BlcnR5XSA9IF9zZXR0aW5nczIuZGVmYXVsdC5TQ0FMRV9NT0RFID09PSBfY29uc3QuU0NBTEVfTU9ERVMuTElORUFSO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBibGVuZCBtb2RlIGhhcyBjaGFuZ2VkLlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuaW52YWxpZGF0ZUJsZW5kTW9kZSA9IGZ1bmN0aW9uIGludmFsaWRhdGVCbGVuZE1vZGUoKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUJsZW5kTW9kZSA9IHRoaXMuYmxlbmRNb2Rlcy5pbmRleE9mKHRoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24pO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzUmVuZGVyZXI7XG59KF9TeXN0ZW1SZW5kZXJlcjMuZGVmYXVsdCk7XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBpbnN0YWxsZWQgcGx1Z2lucy4gVGhlc2UgYXJlIGluY2x1ZGVkIGJ5IGRlZmF1bHQgaW4gUElYSSwgYnV0IGNhbiBiZSBleGNsdWRlZFxuICogYnkgY3JlYXRpbmcgYSBjdXN0b20gYnVpbGQuIENvbnN1bHQgdGhlIFJFQURNRSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBjcmVhdGluZyBjdXN0b21cbiAqIGJ1aWxkcyBhbmQgZXhjbHVkaW5nIHBsdWdpbnMuXG4gKiBAbmFtZSBQSVhJLkNhbnZhc1JlbmRlcmVyI3BsdWdpbnNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcmVhZG9ubHlcbiAqIEBwcm9wZXJ0eSB7UElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyfSBhY2Nlc3NpYmlsaXR5IFN1cHBvcnQgdGFiYmluZyBpbnRlcmFjdGl2ZSBlbGVtZW50cy5cbiAqIEBwcm9wZXJ0eSB7UElYSS5leHRyYWN0LkNhbnZhc0V4dHJhY3R9IGV4dHJhY3QgRXh0cmFjdCBpbWFnZSBkYXRhIGZyb20gcmVuZGVyZXIuXG4gKiBAcHJvcGVydHkge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfSBpbnRlcmFjdGlvbiBIYW5kbGVzIG1vdXNlLCB0b3VjaCBhbmQgcG9pbnRlciBldmVudHMuXG4gKiBAcHJvcGVydHkge1BJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlfSBwcmVwYXJlIFByZS1yZW5kZXIgZGlzcGxheSBvYmplY3RzLlxuICovXG5cbi8qKlxuICogQWRkcyBhIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIuXG4gKlxuICogQG1ldGhvZCBQSVhJLkNhbnZhc1JlbmRlcmVyI3JlZ2lzdGVyUGx1Z2luXG4gKiBAcGFyYW0ge3N0cmluZ30gcGx1Z2luTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdG9yIC0gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIG9yIGNsYXNzIGZvciB0aGUgcGx1Z2luLlxuICovXG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc1JlbmRlcmVyO1xuX3V0aWxzLnBsdWdpblRhcmdldC5taXhpbihDYW52YXNSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX0Rpc3BsYXlPYmplY3QyID0gcmVxdWlyZSgnLi9EaXNwbGF5T2JqZWN0Jyk7XG5cbnZhciBfRGlzcGxheU9iamVjdDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaXNwbGF5T2JqZWN0Mik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBBIENvbnRhaW5lciByZXByZXNlbnRzIGEgY29sbGVjdGlvbiBvZiBkaXNwbGF5IG9iamVjdHMuXG4gKiBJdCBpcyB0aGUgYmFzZSBjbGFzcyBvZiBhbGwgZGlzcGxheSBvYmplY3RzIHRoYXQgYWN0IGFzIGEgY29udGFpbmVyIGZvciBvdGhlciBvYmplY3RzLlxuICpcbiAqYGBganNcbiAqIGxldCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkRpc3BsYXlPYmplY3RcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDb250YWluZXIgPSBmdW5jdGlvbiAoX0Rpc3BsYXlPYmplY3QpIHtcbiAgICBfaW5oZXJpdHMoQ29udGFpbmVyLCBfRGlzcGxheU9iamVjdCk7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbnRhaW5lcigpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnRhaW5lcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0W119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0Rpc3BsYXlPYmplY3QuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIG1ldGhvZCB0aGF0IGNhbiBiZSB1c2VkIGJ5IENvbnRhaW5lciBzdWJjbGFzc2VzIHdoZW5ldmVyIHRoZSBjaGlsZHJlbiBhcnJheSBpcyBtb2RpZmllZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5vbkNoaWxkcmVuQ2hhbmdlID0gZnVuY3Rpb24gb25DaGlsZHJlbkNoYW5nZSgpIHt9XG4gICAgLyogZW1wdHkgKi9cblxuXG4gICAgLyoqXG4gICAgICogQWRkcyBvbmUgb3IgbW9yZSBjaGlsZHJlbiB0byB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogTXVsdGlwbGUgaXRlbXMgY2FuIGJlIGFkZGVkIGxpa2Ugc286IGBteUNvbnRhaW5lci5hZGRDaGlsZCh0aGluZ09uZSwgdGhpbmdUd28sIHRoaW5nVGhyZWUpYFxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi5QSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIERpc3BsYXlPYmplY3QocykgdG8gYWRkIHRvIHRoZSBjb250YWluZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBmaXJzdCBjaGlsZCB0aGF0IHdhcyBhZGRlZC5cbiAgICAgKi9cbiAgICA7XG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmFkZENoaWxkID0gZnVuY3Rpb24gYWRkQ2hpbGQoY2hpbGQpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50c0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgYXJndW1lbnQgd2UgY2FuIGJ5cGFzcyBsb29waW5nIHRocm91Z2ggdGhlIHRoZW1cbiAgICAgICAgaWYgKGFyZ3VtZW50c0xlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgYXJndW1lbnRzIHByb3BlcnR5IGFuZCBhZGQgYWxsIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyB1c2UgaXQgdGhlIHJpZ2h0IHdheSAoLmxlbmd0aCBhbmQgW2ldKSBzbyB0aGF0IHRoaXMgZnVuY3Rpb24gY2FuIHN0aWxsIGJlIG9wdGltaXNlZCBieSBKUyBydW50aW1lc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBjaGlsZCBoYXMgYSBwYXJlbnQgdGhlbiBsZXRzIHJlbW92ZSBpdCBhcyBQaXhpSlMgb2JqZWN0cyBjYW4gb25seSBleGlzdCBpbiBvbmUgcGxhY2VcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5wYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UodGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGNoaWxkLmVtaXQoJ2FkZGVkJywgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjaGlsZCB0byB0aGUgY29udGFpbmVyIGF0IGEgc3BlY2lmaWVkIGluZGV4LiBJZiB0aGUgaW5kZXggaXMgb3V0IG9mIGJvdW5kcyBhbiBlcnJvciB3aWxsIGJlIHRocm93blxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIHRvIGFkZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBpbmRleCB0byBwbGFjZSB0aGUgY2hpbGQgaW5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB0aGF0IHdhcyBhZGRlZC5cbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5hZGRDaGlsZEF0ID0gZnVuY3Rpb24gYWRkQ2hpbGRBdChjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoY2hpbGQgKyAnYWRkQ2hpbGRBdDogVGhlIGluZGV4ICcgKyBpbmRleCArICcgc3VwcGxpZWQgaXMgb3V0IG9mIGJvdW5kcyAnICsgdGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN3YXBzIHRoZSBwb3NpdGlvbiBvZiAyIERpc3BsYXkgT2JqZWN0cyB3aXRoaW4gdGhpcyBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBGaXJzdCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkMiAtIFNlY29uZCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuc3dhcENoaWxkcmVuID0gZnVuY3Rpb24gc3dhcENoaWxkcmVuKGNoaWxkLCBjaGlsZDIpIHtcbiAgICAgICAgaWYgKGNoaWxkID09PSBjaGlsZDIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmRleDEgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICB2YXIgaW5kZXgyID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkMik7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleDFdID0gY2hpbGQyO1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4Ml0gPSBjaGlsZDtcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4MSA8IGluZGV4MiA/IGluZGV4MSA6IGluZGV4Mik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluZGV4IHBvc2l0aW9uIG9mIGEgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIERpc3BsYXlPYmplY3QgaW5zdGFuY2UgdG8gaWRlbnRpZnlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBwb3NpdGlvbiBvZiB0aGUgY2hpbGQgZGlzcGxheSBvYmplY3QgdG8gaWRlbnRpZnlcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEluZGV4ID0gZnVuY3Rpb24gZ2V0Q2hpbGRJbmRleChjaGlsZCkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHN1cHBsaWVkIERpc3BsYXlPYmplY3QgbXVzdCBiZSBhIGNoaWxkIG9mIHRoZSBjYWxsZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgcG9zaXRpb24gb2YgYW4gZXhpc3RpbmcgY2hpbGQgaW4gdGhlIGRpc3BsYXkgb2JqZWN0IGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIERpc3BsYXlPYmplY3QgaW5zdGFuY2UgZm9yIHdoaWNoIHlvdSB3YW50IHRvIGNoYW5nZSB0aGUgaW5kZXggbnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIHJlc3VsdGluZyBpbmRleCBudW1iZXIgZm9yIHRoZSBjaGlsZCBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnNldENoaWxkSW5kZXggPSBmdW5jdGlvbiBzZXRDaGlsZEluZGV4KGNoaWxkLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBpbmRleCAnICsgaW5kZXggKyAnIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgJyArIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdXJyZW50SW5kZXggPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuXG4gICAgICAgICgwLCBfdXRpbHMucmVtb3ZlSXRlbXMpKHRoaXMuY2hpbGRyZW4sIGN1cnJlbnRJbmRleCwgMSk7IC8vIHJlbW92ZSBmcm9tIG9sZCBwb3NpdGlvblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpOyAvLyBhZGQgYXQgbmV3IHBvc2l0aW9uXG5cbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY2hpbGQgYXQgdGhlIHNwZWNpZmllZCBpbmRleFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgYXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCBhdCB0aGUgZ2l2ZW4gaW5kZXgsIGlmIGFueS5cbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEF0ID0gZnVuY3Rpb24gZ2V0Q2hpbGRBdChpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldENoaWxkQXQ6IEluZGV4ICgnICsgaW5kZXggKyAnKSBkb2VzIG5vdCBleGlzdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2luZGV4XTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBvbmUgb3IgbW9yZSBjaGlsZHJlbiBmcm9tIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byByZW1vdmVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBmaXJzdCBjaGlsZCB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGQoY2hpbGQpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50c0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgYXJndW1lbnQgd2UgY2FuIGJ5cGFzcyBsb29waW5nIHRocm91Z2ggdGhlIHRoZW1cbiAgICAgICAgaWYgKGFyZ3VtZW50c0xlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgYXJndW1lbnRzIHByb3BlcnR5IGFuZCBhZGQgYWxsIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyB1c2UgaXQgdGhlIHJpZ2h0IHdheSAoLmxlbmd0aCBhbmQgW2ldKSBzbyB0aGF0IHRoaXMgZnVuY3Rpb24gY2FuIHN0aWxsIGJlIG9wdGltaXNlZCBieSBKUyBydW50aW1lc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgKDAsIF91dGlscy5yZW1vdmVJdGVtcykodGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY2hpbGQgZnJvbSB0aGUgc3BlY2lmaWVkIGluZGV4IHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGRBdCA9IGZ1bmN0aW9uIHJlbW92ZUNoaWxkQXQoaW5kZXgpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5nZXRDaGlsZEF0KGluZGV4KTtcblxuICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkLi5cbiAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAoMCwgX3V0aWxzLnJlbW92ZUl0ZW1zKSh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgY2hpbGRyZW4gZnJvbSB0aGlzIGNvbnRhaW5lciB0aGF0IGFyZSB3aXRoaW4gdGhlIGJlZ2luIGFuZCBlbmQgaW5kZXhlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYmVnaW5JbmRleD0wXSAtIFRoZSBiZWdpbm5pbmcgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmRJbmRleD10aGlzLmNoaWxkcmVuLmxlbmd0aF0gLSBUaGUgZW5kaW5nIHBvc2l0aW9uLiBEZWZhdWx0IHZhbHVlIGlzIHNpemUgb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgKiBAcmV0dXJucyB7RGlzcGxheU9iamVjdFtdfSBMaXN0IG9mIHJlbW92ZWQgY2hpbGRyZW5cbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZHJlbiA9IGZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuKCkge1xuICAgICAgICB2YXIgYmVnaW5JbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIGVuZEluZGV4ID0gYXJndW1lbnRzWzFdO1xuXG4gICAgICAgIHZhciBiZWdpbiA9IGJlZ2luSW5kZXg7XG4gICAgICAgIHZhciBlbmQgPSB0eXBlb2YgZW5kSW5kZXggPT09ICdudW1iZXInID8gZW5kSW5kZXggOiB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgdmFyIHJhbmdlID0gZW5kIC0gYmVnaW47XG4gICAgICAgIHZhciByZW1vdmVkID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChyYW5nZSA+IDAgJiYgcmFuZ2UgPD0gZW5kKSB7XG4gICAgICAgICAgICByZW1vdmVkID0gdGhpcy5jaGlsZHJlbi5zcGxpY2UoYmVnaW4sIHJhbmdlKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkW2ldLnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShiZWdpbkluZGV4KTtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHJlbW92ZWQubGVuZ3RoOyArK19pKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtfaV0uZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICAgICAgfSBlbHNlIGlmIChyYW5nZSA9PT0gMCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3JlbW92ZUNoaWxkcmVuOiBudW1lcmljIHZhbHVlcyBhcmUgb3V0c2lkZSB0aGUgYWNjZXB0YWJsZSByYW5nZS4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdHJhbnNmb3JtIG9uIGFsbCBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lciBmb3IgcmVuZGVyaW5nXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuXG4gICAgICAgIC8vIFRPRE86IGNoZWNrIHJlbmRlciBmbGFncywgaG93IHRvIHByb2Nlc3Mgc3R1ZmYgaGVyZVxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBjYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcygpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKCFjaGlsZC52aXNpYmxlIHx8ICFjaGlsZC5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLmNhbGN1bGF0ZUJvdW5kcygpO1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBmaWx0ZXIrbWFzaywgbmVlZCB0byBtYXNrIGJvdGggc29tZWhvd1xuICAgICAgICAgICAgaWYgKGNoaWxkLl9tYXNrKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX21hc2suY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kc01hc2soY2hpbGQuX2JvdW5kcywgY2hpbGQuX21hc2suX2JvdW5kcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkLmZpbHRlckFyZWEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzQXJlYShjaGlsZC5fYm91bmRzLCBjaGlsZC5maWx0ZXJBcmVhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kcyhjaGlsZC5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xhc3RCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0LiBPdmVycmlkZSB0aGlzIHRvXG4gICAgICogY2FsY3VsYXRlIHRoZSBib3VuZHMgb2YgdGhlIHNwZWNpZmljIG9iamVjdCAobm90IGluY2x1ZGluZyBjaGlsZHJlbikuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcygpIHt9XG4gICAgLy8gRklMTCBJTi8vXG5cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIDtcblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICAvLyBpZiB0aGUgb2JqZWN0IGlzIG5vdCB2aXNpYmxlIG9yIHRoZSBhbHBoYSBpcyAwIHRoZW4gbm8gbmVlZCB0byByZW5kZXIgdGhpcyBlbGVtZW50XG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvIGEgcXVpY2sgY2hlY2sgdG8gc2VlIGlmIHRoaXMgZWxlbWVudCBoYXMgYSBtYXNrIG9yIGEgZmlsdGVyLlxuICAgICAgICBpZiAodGhpcy5fbWFzayB8fCB0aGlzLl9maWx0ZXJzKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckFkdmFuY2VkV2ViR0wocmVuZGVyZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyV2ViR0wocmVuZGVyZXIpO1xuXG4gICAgICAgICAgICAvLyBzaW1wbGUgcmVuZGVyIGNoaWxkcmVuIVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVuZGVyV2ViR0wocmVuZGVyZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlciBhbmQgYWR2YW5jZWQgZmVhdHVyZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbmRlckFkdmFuY2VkV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJBZHZhbmNlZFdlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIHJlbmRlcmVyLmZsdXNoKCk7XG5cbiAgICAgICAgdmFyIGZpbHRlcnMgPSB0aGlzLl9maWx0ZXJzO1xuICAgICAgICB2YXIgbWFzayA9IHRoaXMuX21hc2s7XG5cbiAgICAgICAgLy8gcHVzaCBmaWx0ZXIgZmlyc3QgYXMgd2UgbmVlZCB0byBlbnN1cmUgdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIGNvcnJlY3QgZm9yIGFueSBtYXNraW5nXG4gICAgICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWRGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbaV0uZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycy5wdXNoKGZpbHRlcnNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmZpbHRlck1hbmFnZXIucHVzaEZpbHRlcih0aGlzLCB0aGlzLl9lbmFibGVkRmlsdGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFza01hbmFnZXIucHVzaE1hc2sodGhpcywgdGhpcy5fbWFzayk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdGhpcyBvYmplY3QgdG8gdGhlIGJhdGNoLCBvbmx5IHJlbmRlcmVkIGlmIGl0IGhhcyBhIHRleHR1cmUuXG4gICAgICAgIHRoaXMuX3JlbmRlcldlYkdMKHJlbmRlcmVyKTtcblxuICAgICAgICAvLyBub3cgbG9vcCB0aHJvdWdoIHRoZSBjaGlsZHJlbiBhbmQgbWFrZSBzdXJlIHRoZXkgZ2V0IHJlbmRlcmVkXG4gICAgICAgIGZvciAodmFyIF9pMiA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgX2kyIDwgajsgX2kyKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5bX2kyXS5yZW5kZXJXZWJHTChyZW5kZXJlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5mbHVzaCgpO1xuXG4gICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrTWFuYWdlci5wb3BNYXNrKHRoaXMsIHRoaXMuX21hc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLnBvcEZpbHRlcigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJXZWJHTChyZW5kZXJlcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHt9XG4gICAgLy8gdGhpcyBpcyB3aGVyZSBjb250ZW50IGl0c2VsZiBnZXRzIHJlbmRlcmVkLi4uXG5cblxuICAgIC8qKlxuICAgICAqIFRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICA7XG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXJDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge31cbiAgICAvLyB0aGlzIGlzIHdoZXJlIGNvbnRlbnQgaXRzZWxmIGdldHMgcmVuZGVyZWQuLi5cblxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICA7XG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIHJlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICAvLyBpZiBub3QgdmlzaWJsZSBvciB0aGUgYWxwaGEgaXMgMCB0aGVuIG5vIG5lZWQgdG8gcmVuZGVyIHRoaXNcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2tNYW5hZ2VyLnB1c2hNYXNrKHRoaXMuX21hc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyQ2FudmFzKHJlbmRlcmVyKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXJDYW52YXMocmVuZGVyZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2tNYW5hZ2VyLnBvcE1hc2socmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGludGVybmFsIHJlZmVyZW5jZXMgYW5kIGxpc3RlbmVycyBhcyB3ZWxsIGFzIHJlbW92ZXMgY2hpbGRyZW4gZnJvbSB0aGUgZGlzcGxheSBsaXN0LlxuICAgICAqIERvIG5vdCB1c2UgYSBDb250YWluZXIgYWZ0ZXIgY2FsbGluZyBgZGVzdHJveWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgX0Rpc3BsYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICB2YXIgZGVzdHJveUNoaWxkcmVuID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuY2hpbGRyZW47XG5cbiAgICAgICAgdmFyIG9sZENoaWxkcmVuID0gdGhpcy5yZW1vdmVDaGlsZHJlbigwLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKGRlc3Ryb3lDaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGRDaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIG9sZENoaWxkcmVuW2ldLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBDb250YWluZXIsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhDb250YWluZXIsIFt7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS54ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS53aWR0aDtcblxuICAgICAgICAgICAgaWYgKHdpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gdmFsdWUgLyB3aWR0aDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBDb250YWluZXIsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUueSAqIHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmIChoZWlnaHQgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSB2YWx1ZSAvIGhlaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ29udGFpbmVyO1xufShfRGlzcGxheU9iamVjdDMuZGVmYXVsdCk7XG5cbi8vIHBlcmZvcm1hbmNlIGluY3JlYXNlIHRvIGF2b2lkIHVzaW5nIGNhbGwuLiAoMTB4IGZhc3RlcilcblxuXG5leHBvcnRzLmRlZmF1bHQgPSBDb250YWluZXI7XG5Db250YWluZXIucHJvdG90eXBlLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSA9IENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udGFpbmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcykge1xuICAgIGlmIChncmFwaGljc0RhdGEubmF0aXZlTGluZXMpIHtcbiAgICAgICAgYnVpbGROYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGJ1aWxkTGluZShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSk7XG4gICAgfVxufTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vLi4vLi4vbWF0aCcpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXcgdXNpbmcgdGhlIHBvbGlnb24gbWV0aG9kLlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICovXG5mdW5jdGlvbiBidWlsZExpbmUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEpIHtcbiAgICAvLyBUT0RPIE9QVElNSVNFIVxuICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBpZiB0aGUgbGluZSB3aWR0aCBpcyBhbiBvZGQgbnVtYmVyIGFkZCAwLjUgdG8gYWxpZ24gdG8gYSB3aG9sZSBwaXhlbFxuICAgIC8vIGNvbW1lbnRpbmcgdGhpcyBvdXQgZml4ZXMgIzcxMSBhbmQgIzE2MjBcbiAgICAvLyBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCUyKVxuICAgIC8vIHtcbiAgICAvLyAgICAgZm9yIChpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKylcbiAgICAvLyAgICAge1xuICAgIC8vICAgICAgICAgcG9pbnRzW2ldICs9IDAuNTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vIGdldCBmaXJzdCBhbmQgbGFzdCBwb2ludC4uIGZpZ3VyZSBvdXQgdGhlIG1pZGRsZSFcbiAgICB2YXIgZmlyc3RQb2ludCA9IG5ldyBfbWF0aC5Qb2ludChwb2ludHNbMF0sIHBvaW50c1sxXSk7XG4gICAgdmFyIGxhc3RQb2ludCA9IG5ldyBfbWF0aC5Qb2ludChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdLCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdKTtcblxuICAgIC8vIGlmIHRoZSBmaXJzdCBwb2ludCBpcyB0aGUgbGFzdCBwb2ludCAtIGdvbm5hIGhhdmUgaXNzdWVzIDopXG4gICAgaWYgKGZpcnN0UG9pbnQueCA9PT0gbGFzdFBvaW50LnggJiYgZmlyc3RQb2ludC55ID09PSBsYXN0UG9pbnQueSkge1xuICAgICAgICAvLyBuZWVkIHRvIGNsb25lIGFzIHdlIGFyZSBnb2luZyB0byBzbGlnaHRseSBtb2RpZnkgdGhlIHNoYXBlLi5cbiAgICAgICAgcG9pbnRzID0gcG9pbnRzLnNsaWNlKCk7XG5cbiAgICAgICAgcG9pbnRzLnBvcCgpO1xuICAgICAgICBwb2ludHMucG9wKCk7XG5cbiAgICAgICAgbGFzdFBvaW50ID0gbmV3IF9tYXRoLlBvaW50KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuXG4gICAgICAgIHZhciBtaWRQb2ludFggPSBsYXN0UG9pbnQueCArIChmaXJzdFBvaW50LnggLSBsYXN0UG9pbnQueCkgKiAwLjU7XG4gICAgICAgIHZhciBtaWRQb2ludFkgPSBsYXN0UG9pbnQueSArIChmaXJzdFBvaW50LnkgLSBsYXN0UG9pbnQueSkgKiAwLjU7XG5cbiAgICAgICAgcG9pbnRzLnVuc2hpZnQobWlkUG9pbnRYLCBtaWRQb2ludFkpO1xuICAgICAgICBwb2ludHMucHVzaChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgfVxuXG4gICAgdmFyIHZlcnRzID0gd2ViR0xEYXRhLnBvaW50cztcbiAgICB2YXIgaW5kaWNlcyA9IHdlYkdMRGF0YS5pbmRpY2VzO1xuICAgIHZhciBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcbiAgICB2YXIgaW5kZXhDb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gICAgdmFyIGluZGV4U3RhcnQgPSB2ZXJ0cy5sZW5ndGggLyA2O1xuXG4gICAgLy8gRFJBVyB0aGUgTGluZVxuICAgIHZhciB3aWR0aCA9IGdyYXBoaWNzRGF0YS5saW5lV2lkdGggLyAyO1xuXG4gICAgLy8gc29ydCBjb2xvclxuICAgIHZhciBjb2xvciA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3NEYXRhLmxpbmVDb2xvcik7XG4gICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmxpbmVBbHBoYTtcbiAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgdmFyIGcgPSBjb2xvclsxXSAqIGFscGhhO1xuICAgIHZhciBiID0gY29sb3JbMl0gKiBhbHBoYTtcblxuICAgIHZhciBwMXggPSBwb2ludHNbMF07XG4gICAgdmFyIHAxeSA9IHBvaW50c1sxXTtcbiAgICB2YXIgcDJ4ID0gcG9pbnRzWzJdO1xuICAgIHZhciBwMnkgPSBwb2ludHNbM107XG4gICAgdmFyIHAzeCA9IDA7XG4gICAgdmFyIHAzeSA9IDA7XG5cbiAgICB2YXIgcGVycHggPSAtKHAxeSAtIHAyeSk7XG4gICAgdmFyIHBlcnB5ID0gcDF4IC0gcDJ4O1xuICAgIHZhciBwZXJwMnggPSAwO1xuICAgIHZhciBwZXJwMnkgPSAwO1xuICAgIHZhciBwZXJwM3ggPSAwO1xuICAgIHZhciBwZXJwM3kgPSAwO1xuXG4gICAgdmFyIGRpc3QgPSBNYXRoLnNxcnQocGVycHggKiBwZXJweCArIHBlcnB5ICogcGVycHkpO1xuXG4gICAgcGVycHggLz0gZGlzdDtcbiAgICBwZXJweSAvPSBkaXN0O1xuICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgIHBlcnB5ICo9IHdpZHRoO1xuXG4gICAgLy8gc3RhcnRcbiAgICB2ZXJ0cy5wdXNoKHAxeCAtIHBlcnB4LCBwMXkgLSBwZXJweSwgciwgZywgYiwgYWxwaGEpO1xuXG4gICAgdmVydHMucHVzaChwMXggKyBwZXJweCwgcDF5ICsgcGVycHksIHIsIGcsIGIsIGFscGhhKTtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgIHAxeCA9IHBvaW50c1soaSAtIDEpICogMl07XG4gICAgICAgIHAxeSA9IHBvaW50c1soaSAtIDEpICogMiArIDFdO1xuXG4gICAgICAgIHAyeCA9IHBvaW50c1tpICogMl07XG4gICAgICAgIHAyeSA9IHBvaW50c1tpICogMiArIDFdO1xuXG4gICAgICAgIHAzeCA9IHBvaW50c1soaSArIDEpICogMl07XG4gICAgICAgIHAzeSA9IHBvaW50c1soaSArIDEpICogMiArIDFdO1xuXG4gICAgICAgIHBlcnB4ID0gLShwMXkgLSBwMnkpO1xuICAgICAgICBwZXJweSA9IHAxeCAtIHAyeDtcblxuICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KHBlcnB4ICogcGVycHggKyBwZXJweSAqIHBlcnB5KTtcbiAgICAgICAgcGVycHggLz0gZGlzdDtcbiAgICAgICAgcGVycHkgLz0gZGlzdDtcbiAgICAgICAgcGVycHggKj0gd2lkdGg7XG4gICAgICAgIHBlcnB5ICo9IHdpZHRoO1xuXG4gICAgICAgIHBlcnAyeCA9IC0ocDJ5IC0gcDN5KTtcbiAgICAgICAgcGVycDJ5ID0gcDJ4IC0gcDN4O1xuXG4gICAgICAgIGRpc3QgPSBNYXRoLnNxcnQocGVycDJ4ICogcGVycDJ4ICsgcGVycDJ5ICogcGVycDJ5KTtcbiAgICAgICAgcGVycDJ4IC89IGRpc3Q7XG4gICAgICAgIHBlcnAyeSAvPSBkaXN0O1xuICAgICAgICBwZXJwMnggKj0gd2lkdGg7XG4gICAgICAgIHBlcnAyeSAqPSB3aWR0aDtcblxuICAgICAgICB2YXIgYTEgPSAtcGVycHkgKyBwMXkgLSAoLXBlcnB5ICsgcDJ5KTtcbiAgICAgICAgdmFyIGIxID0gLXBlcnB4ICsgcDJ4IC0gKC1wZXJweCArIHAxeCk7XG4gICAgICAgIHZhciBjMSA9ICgtcGVycHggKyBwMXgpICogKC1wZXJweSArIHAyeSkgLSAoLXBlcnB4ICsgcDJ4KSAqICgtcGVycHkgKyBwMXkpO1xuICAgICAgICB2YXIgYTIgPSAtcGVycDJ5ICsgcDN5IC0gKC1wZXJwMnkgKyBwMnkpO1xuICAgICAgICB2YXIgYjIgPSAtcGVycDJ4ICsgcDJ4IC0gKC1wZXJwMnggKyBwM3gpO1xuICAgICAgICB2YXIgYzIgPSAoLXBlcnAyeCArIHAzeCkgKiAoLXBlcnAyeSArIHAyeSkgLSAoLXBlcnAyeCArIHAyeCkgKiAoLXBlcnAyeSArIHAzeSk7XG5cbiAgICAgICAgdmFyIGRlbm9tID0gYTEgKiBiMiAtIGEyICogYjE7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKGRlbm9tKSA8IDAuMSkge1xuICAgICAgICAgICAgZGVub20gKz0gMTAuMTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gcGVycHgsIHAyeSAtIHBlcnB5LCByLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4ICsgcGVycHgsIHAyeSArIHBlcnB5LCByLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHB4ID0gKGIxICogYzIgLSBiMiAqIGMxKSAvIGRlbm9tO1xuICAgICAgICB2YXIgcHkgPSAoYTIgKiBjMSAtIGExICogYzIpIC8gZGVub207XG4gICAgICAgIHZhciBwZGlzdCA9IChweCAtIHAyeCkgKiAocHggLSBwMngpICsgKHB5IC0gcDJ5KSAqIChweSAtIHAyeSk7XG5cbiAgICAgICAgaWYgKHBkaXN0ID4gMTk2ICogd2lkdGggKiB3aWR0aCkge1xuICAgICAgICAgICAgcGVycDN4ID0gcGVycHggLSBwZXJwMng7XG4gICAgICAgICAgICBwZXJwM3kgPSBwZXJweSAtIHBlcnAyeTtcblxuICAgICAgICAgICAgZGlzdCA9IE1hdGguc3FydChwZXJwM3ggKiBwZXJwM3ggKyBwZXJwM3kgKiBwZXJwM3kpO1xuICAgICAgICAgICAgcGVycDN4IC89IGRpc3Q7XG4gICAgICAgICAgICBwZXJwM3kgLz0gZGlzdDtcbiAgICAgICAgICAgIHBlcnAzeCAqPSB3aWR0aDtcbiAgICAgICAgICAgIHBlcnAzeSAqPSB3aWR0aDtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggLSBwZXJwM3gsIHAyeSAtIHBlcnAzeSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggKyBwZXJwM3gsIHAyeSArIHBlcnAzeSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggLSBwZXJwM3gsIHAyeSAtIHBlcnAzeSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgaW5kZXhDb3VudCsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmVydHMucHVzaChweCwgcHkpO1xuICAgICAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gKHB4IC0gcDJ4KSwgcDJ5IC0gKHB5IC0gcDJ5KSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHAxeCA9IHBvaW50c1sobGVuZ3RoIC0gMikgKiAyXTtcbiAgICBwMXkgPSBwb2ludHNbKGxlbmd0aCAtIDIpICogMiArIDFdO1xuXG4gICAgcDJ4ID0gcG9pbnRzWyhsZW5ndGggLSAxKSAqIDJdO1xuICAgIHAyeSA9IHBvaW50c1sobGVuZ3RoIC0gMSkgKiAyICsgMV07XG5cbiAgICBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICBwZXJweSA9IHAxeCAtIHAyeDtcblxuICAgIGRpc3QgPSBNYXRoLnNxcnQocGVycHggKiBwZXJweCArIHBlcnB5ICogcGVycHkpO1xuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgIHZlcnRzLnB1c2gocDJ4IC0gcGVycHgsIHAyeSAtIHBlcnB5KTtcbiAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgIHZlcnRzLnB1c2gocDJ4ICsgcGVycHgsIHAyeSArIHBlcnB5KTtcbiAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgIGluZGljZXMucHVzaChpbmRleFN0YXJ0KTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBpbmRleENvdW50OyArK19pKSB7XG4gICAgICAgIGluZGljZXMucHVzaChpbmRleFN0YXJ0KyspO1xuICAgIH1cblxuICAgIGluZGljZXMucHVzaChpbmRleFN0YXJ0IC0gMSk7XG59XG5cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3IHVzaW5nIHRoZSBnbC5kcmF3QXJyYXlzKGdsLkxJTkVTKSBtZXRob2RcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqL1xuXG5cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5mdW5jdGlvbiBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgdmFyIHZlcnRzID0gd2ViR0xEYXRhLnBvaW50cztcbiAgICB2YXIgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICAvLyBzb3J0IGNvbG9yXG4gICAgdmFyIGNvbG9yID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljc0RhdGEubGluZUNvbG9yKTtcbiAgICB2YXIgYWxwaGEgPSBncmFwaGljc0RhdGEubGluZUFscGhhO1xuICAgIHZhciByID0gY29sb3JbMF0gKiBhbHBoYTtcbiAgICB2YXIgZyA9IGNvbG9yWzFdICogYWxwaGE7XG4gICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgZm9yIChpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwMXggPSBwb2ludHNbKGkgLSAxKSAqIDJdO1xuICAgICAgICB2YXIgcDF5ID0gcG9pbnRzWyhpIC0gMSkgKiAyICsgMV07XG5cbiAgICAgICAgdmFyIHAyeCA9IHBvaW50c1tpICogMl07XG4gICAgICAgIHZhciBwMnkgPSBwb2ludHNbaSAqIDIgKyAxXTtcblxuICAgICAgICB2ZXJ0cy5wdXNoKHAxeCwgcDF5KTtcbiAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgdmVydHMucHVzaChwMngsIHAyeSk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkTGluZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uLy4uL21hdGgnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSB0aGUgaG9yaXpvbnRhbCByYW5nZSBvZiB0aGUgZmlsdGVyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gdGhlIHZlcnRpY2FsIHJhbmdlIG9mIHRoZSBmaWx0ZXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgY3VycmVudCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Jvb3Q9ZmFsc2VdIC0gV2hldGhlciB0aGlzIG9iamVjdCBpcyB0aGUgcm9vdCBlbGVtZW50IG9yIG5vdFxuICAgKi9cbiAgZnVuY3Rpb24gUmVuZGVyVGFyZ2V0KGdsLCB3aWR0aCwgaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24sIHJvb3QpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVuZGVyVGFyZ2V0KTtcblxuICAgIC8vIFRPRE8gUmVzb2x1dGlvbiBjb3VsZCBnbyBoZXJlICggZWcgbG93IHJlcyBibHVycyApXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICovXG4gICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgLy8gbmV4dCB0aW1lIHRvIGNyZWF0ZSBhIGZyYW1lIGJ1ZmZlciBhbmQgdGV4dHVyZVxuXG4gICAgLyoqXG4gICAgICogQSBmcmFtZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuZ2xDb3JlLkdMRnJhbWVidWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5mcmFtZUJ1ZmZlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5nbENvcmUuR0xUZXh0dXJlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvdXIgb2YgdGhpcyByZW5kZXIgdGFyZ2V0LCBhcyBhbiBhcnJheSBvZiBbcixnLGIsYV0gdmFsdWVzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKi9cbiAgICB0aGlzLmNsZWFyQ29sb3IgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgb2JqZWN0IGFzIGEgcmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICB0aGlzLnNpemUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpb1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRVNPTFVUSU9OO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLnByb2plY3Rpb25NYXRyaXggPSBuZXcgX21hdGguTWF0cml4KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0J3MgdHJhbnNmb3JtXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdGVuY2lsIGJ1ZmZlciBzdG9yZXMgbWFza2luZyBkYXRhIGZvciB0aGUgcmVuZGVyIHRhcmdldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2xDb3JlLkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGVmYXVsdEZyYW1lID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG51bGw7XG4gICAgdGhpcy5zb3VyY2VGcmFtZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RlbmNpbCBidWZmZXIgc3RvcmVzIG1hc2tpbmcgZGF0YSBmb3IgdGhlIHJlbmRlciB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2dsQ29yZS5HTEJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLnN0ZW5jaWxCdWZmZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRhdGEgc3RydWN0dXJlIGZvciB0aGUgc3RlbmNpbCBtYXNrc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc1tdfVxuICAgICAqL1xuICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjayA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogU3RvcmVzIGZpbHRlciBkYXRhIGZvciB0aGUgcmVuZGVyIHRhcmdldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICovXG4gICAgdGhpcy5maWx0ZXJEYXRhID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY2FsZSBtb2RlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERVxuICAgICAqIEBzZWUgUElYSS5TQ0FMRV9NT0RFU1xuICAgICAqL1xuICAgIHRoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgPyBzY2FsZU1vZGUgOiBfc2V0dGluZ3MyLmRlZmF1bHQuU0NBTEVfTU9ERTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBvYmplY3QgaXMgdGhlIHJvb3QgZWxlbWVudCBvciBub3RcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yb290ID0gcm9vdDtcblxuICAgIGlmICghdGhpcy5yb290KSB7XG4gICAgICB0aGlzLmZyYW1lQnVmZmVyID0gX3BpeGlHbENvcmUuR0xGcmFtZWJ1ZmZlci5jcmVhdGVSR0JBKGdsLCAxMDAsIDEwMCk7XG5cbiAgICAgIGlmICh0aGlzLnNjYWxlTW9kZSA9PT0gX2NvbnN0LlNDQUxFX01PREVTLk5FQVJFU1QpIHtcbiAgICAgICAgdGhpcy5mcmFtZUJ1ZmZlci50ZXh0dXJlLmVuYWJsZU5lYXJlc3RTY2FsaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmZyYW1lQnVmZmVyLnRleHR1cmUuZW5hYmxlTGluZWFyU2NhbGluZygpO1xuICAgICAgfVxuICAgICAgLypcbiAgICAgICAgICBBIGZyYW1lIGJ1ZmZlciBuZWVkcyBhIHRhcmdldCB0byByZW5kZXIgdG8uLlxuICAgICAgICAgIGNyZWF0ZSBhIHRleHR1cmUgYW5kIGJpbmQgaXQgYXR0YWNoIGl0IHRvIHRoZSBmcmFtZWJ1ZmZlci4uXG4gICAgICAgKi9cblxuICAgICAgLy8gdGhpcyBpcyB1c2VkIGJ5IHRoZSBiYXNlIHRleHR1cmVcbiAgICAgIHRoaXMudGV4dHVyZSA9IHRoaXMuZnJhbWVCdWZmZXIudGV4dHVyZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbWFrZSBpdCBhIG51bGwgZnJhbWVidWZmZXIuLlxuICAgICAgdGhpcy5mcmFtZUJ1ZmZlciA9IG5ldyBfcGl4aUdsQ29yZS5HTEZyYW1lYnVmZmVyKGdsLCAxMDAsIDEwMCk7XG4gICAgICB0aGlzLmZyYW1lQnVmZmVyLmZyYW1lYnVmZmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLnNldEZyYW1lKCk7XG5cbiAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIGZpbHRlciB0ZXh0dXJlLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcltdfSBbY2xlYXJDb2xvcj10aGlzLmNsZWFyQ29sb3JdIC0gQXJyYXkgb2YgW3IsZyxiLGFdIHRvIGNsZWFyIHRoZSBmcmFtZWJ1ZmZlclxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhcihjbGVhckNvbG9yKSB7XG4gICAgdmFyIGNjID0gY2xlYXJDb2xvciB8fCB0aGlzLmNsZWFyQ29sb3I7XG5cbiAgICB0aGlzLmZyYW1lQnVmZmVyLmNsZWFyKGNjWzBdLCBjY1sxXSwgY2NbMl0sIGNjWzNdKTsgLy8gcixnLGIsYSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIHRoZSBzdGVuY2lsIGJ1ZmZlci5cbiAgICpcbiAgICovXG5cblxuICBSZW5kZXJUYXJnZXQucHJvdG90eXBlLmF0dGFjaFN0ZW5jaWxCdWZmZXIgPSBmdW5jdGlvbiBhdHRhY2hTdGVuY2lsQnVmZmVyKCkge1xuICAgIC8vIFRPRE8gY2hlY2sgaWYgc3RlbmNpbCBpcyBkb25lP1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGVuY2lsIGJ1ZmZlciBpcyB1c2VkIGZvciBtYXNraW5nIGluIHBpeGlcbiAgICAgKiBsZXRzIGNyZWF0ZSBvbmUgYW5kIHRoZW4gYWRkIGF0dGFjaCBpdCB0byB0aGUgZnJhbWVidWZmZXIuLlxuICAgICAqL1xuICAgIGlmICghdGhpcy5yb290KSB7XG4gICAgICB0aGlzLmZyYW1lQnVmZmVyLmVuYWJsZVN0ZW5jaWwoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGZyYW1lIG9mIHRoZSByZW5kZXIgdGFyZ2V0LlxuICAgKlxuICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIFRoZSBkZXN0aW5hdGlvbiBmcmFtZS5cbiAgICogQHBhcmFtIHtSZWN0YW5nbGV9IHNvdXJjZUZyYW1lIC0gVGhlIHNvdXJjZSBmcmFtZS5cbiAgICovXG5cblxuICBSZW5kZXJUYXJnZXQucHJvdG90eXBlLnNldEZyYW1lID0gZnVuY3Rpb24gc2V0RnJhbWUoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUpIHtcbiAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBkZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlZmF1bHRGcmFtZTtcbiAgICB0aGlzLnNvdXJjZUZyYW1lID0gc291cmNlRnJhbWUgfHwgdGhpcy5zb3VyY2VGcmFtZSB8fCB0aGlzLmRlc3RpbmF0aW9uRnJhbWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIHRoZSBidWZmZXJzIGFuZCBpbml0aWFsaXNlcyB0aGUgdmlld3BvcnQuXG4gICAqXG4gICAqL1xuXG5cbiAgUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgIC8vIFRPT0QgcmVmYWN0b3IgdXNhZ2Ugb2YgZnJhbWUuLlxuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAvLyBtYWtlIHN1cmUgdGhlIHRleHR1cmUgaXMgdW5ib3VuZCFcbiAgICB0aGlzLmZyYW1lQnVmZmVyLmJpbmQoKTtcblxuICAgIHRoaXMuY2FsY3VsYXRlUHJvamVjdGlvbih0aGlzLmRlc3RpbmF0aW9uRnJhbWUsIHRoaXMuc291cmNlRnJhbWUpO1xuXG4gICAgaWYgKHRoaXMudHJhbnNmb3JtKSB7XG4gICAgICB0aGlzLnByb2plY3Rpb25NYXRyaXguYXBwZW5kKHRoaXMudHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPIGFkZCBhIGNoZWNrIGFzIHRoZW0gbWF5IGJlIHRoZSBzYW1lIVxuICAgIGlmICh0aGlzLmRlc3RpbmF0aW9uRnJhbWUgIT09IHRoaXMuc291cmNlRnJhbWUpIHtcbiAgICAgIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgZ2wuc2Npc3Nvcih0aGlzLmRlc3RpbmF0aW9uRnJhbWUueCB8IDAsIHRoaXMuZGVzdGluYXRpb25GcmFtZS55IHwgMCwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLndpZHRoICogdGhpcy5yZXNvbHV0aW9uIHwgMCwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIHRoaXMucmVzb2x1dGlvbiB8IDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgfVxuXG4gICAgLy8gVE9ETyAtIGRvZXMgbm90IG5lZWQgdG8gYmUgdXBkYXRlZCBhbGwgdGhlIHRpbWU/P1xuICAgIGdsLnZpZXdwb3J0KHRoaXMuZGVzdGluYXRpb25GcmFtZS54IHwgMCwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLnkgfCAwLCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiB0aGlzLnJlc29sdXRpb24gfCAwLCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uIHwgMCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHByb2plY3Rpb24gbWF0cml4IGJhc2VkIG9uIGEgcHJvamVjdGlvbiBmcmFtZSAod2hpY2ggaXMgYSByZWN0YW5nbGUpXG4gICAqXG4gICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIGRlc3RpbmF0aW9uIGZyYW1lLlxuICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gc291cmNlRnJhbWUgLSBUaGUgc291cmNlIGZyYW1lLlxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUuY2FsY3VsYXRlUHJvamVjdGlvbiA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVByb2plY3Rpb24oZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUpIHtcbiAgICB2YXIgcG0gPSB0aGlzLnByb2plY3Rpb25NYXRyaXg7XG5cbiAgICBzb3VyY2VGcmFtZSA9IHNvdXJjZUZyYW1lIHx8IGRlc3RpbmF0aW9uRnJhbWU7XG5cbiAgICBwbS5pZGVudGl0eSgpO1xuXG4gICAgLy8gVE9ETzogbWFrZSBkZXN0IHNjYWxlIHNvdXJjZVxuICAgIGlmICghdGhpcy5yb290KSB7XG4gICAgICBwbS5hID0gMSAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiAyO1xuICAgICAgcG0uZCA9IDEgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIDI7XG5cbiAgICAgIHBtLnR4ID0gLTEgLSBzb3VyY2VGcmFtZS54ICogcG0uYTtcbiAgICAgIHBtLnR5ID0gLTEgLSBzb3VyY2VGcmFtZS55ICogcG0uZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcG0uYSA9IDEgLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogMjtcbiAgICAgIHBtLmQgPSAtMSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogMjtcblxuICAgICAgcG0udHggPSAtMSAtIHNvdXJjZUZyYW1lLnggKiBwbS5hO1xuICAgICAgcG0udHkgPSAxIC0gc291cmNlRnJhbWUueSAqIHBtLmQ7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNpemVzIHRoZSB0ZXh0dXJlIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgbmV3IHdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB3aWR0aCA9IHdpZHRoIHwgMDtcbiAgICBoZWlnaHQgPSBoZWlnaHQgfCAwO1xuXG4gICAgaWYgKHRoaXMuc2l6ZS53aWR0aCA9PT0gd2lkdGggJiYgdGhpcy5zaXplLmhlaWdodCA9PT0gaGVpZ2h0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zaXplLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5zaXplLmhlaWdodCA9IGhlaWdodDtcblxuICAgIHRoaXMuZGVmYXVsdEZyYW1lLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5kZWZhdWx0RnJhbWUuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5mcmFtZUJ1ZmZlci5yZXNpemUod2lkdGggKiB0aGlzLnJlc29sdXRpb24sIGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbik7XG5cbiAgICB2YXIgcHJvamVjdGlvbkZyYW1lID0gdGhpcy5mcmFtZSB8fCB0aGlzLnNpemU7XG5cbiAgICB0aGlzLmNhbGN1bGF0ZVByb2plY3Rpb24ocHJvamVjdGlvbkZyYW1lKTtcbiAgfTtcblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIHJlbmRlciB0YXJnZXQuXG4gICAqXG4gICAqL1xuXG5cbiAgUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLmZyYW1lQnVmZmVyLmRlc3Ryb3koKTtcblxuICAgIHRoaXMuZnJhbWVCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIFJlbmRlclRhcmdldDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUmVuZGVyVGFyZ2V0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyVGFyZ2V0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9TeXN0ZW1SZW5kZXJlcjIgPSByZXF1aXJlKCcuLi9TeXN0ZW1SZW5kZXJlcicpO1xuXG52YXIgX1N5c3RlbVJlbmRlcmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N5c3RlbVJlbmRlcmVyMik7XG5cbnZhciBfTWFza01hbmFnZXIgPSByZXF1aXJlKCcuL21hbmFnZXJzL01hc2tNYW5hZ2VyJyk7XG5cbnZhciBfTWFza01hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWFza01hbmFnZXIpO1xuXG52YXIgX1N0ZW5jaWxNYW5hZ2VyID0gcmVxdWlyZSgnLi9tYW5hZ2Vycy9TdGVuY2lsTWFuYWdlcicpO1xuXG52YXIgX1N0ZW5jaWxNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N0ZW5jaWxNYW5hZ2VyKTtcblxudmFyIF9GaWx0ZXJNYW5hZ2VyID0gcmVxdWlyZSgnLi9tYW5hZ2Vycy9GaWx0ZXJNYW5hZ2VyJyk7XG5cbnZhciBfRmlsdGVyTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaWx0ZXJNYW5hZ2VyKTtcblxudmFyIF9SZW5kZXJUYXJnZXQgPSByZXF1aXJlKCcuL3V0aWxzL1JlbmRlclRhcmdldCcpO1xuXG52YXIgX1JlbmRlclRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUYXJnZXQpO1xuXG52YXIgX09iamVjdFJlbmRlcmVyID0gcmVxdWlyZSgnLi91dGlscy9PYmplY3RSZW5kZXJlcicpO1xuXG52YXIgX09iamVjdFJlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09iamVjdFJlbmRlcmVyKTtcblxudmFyIF9UZXh0dXJlTWFuYWdlciA9IHJlcXVpcmUoJy4vVGV4dHVyZU1hbmFnZXInKTtcblxudmFyIF9UZXh0dXJlTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlTWFuYWdlcik7XG5cbnZhciBfQmFzZVRleHR1cmUgPSByZXF1aXJlKCcuLi8uLi90ZXh0dXJlcy9CYXNlVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VUZXh0dXJlKTtcblxudmFyIF9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvciA9IHJlcXVpcmUoJy4vVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3InKTtcblxudmFyIF9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlR2FyYmFnZUNvbGxlY3Rvcik7XG5cbnZhciBfV2ViR0xTdGF0ZSA9IHJlcXVpcmUoJy4vV2ViR0xTdGF0ZScpO1xuXG52YXIgX1dlYkdMU3RhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xTdGF0ZSk7XG5cbnZhciBfbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkgPSByZXF1aXJlKCcuL3V0aWxzL21hcFdlYkdMRHJhd01vZGVzVG9QaXhpJyk7XG5cbnZhciBfbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkpO1xuXG52YXIgX3ZhbGlkYXRlQ29udGV4dCA9IHJlcXVpcmUoJy4vdXRpbHMvdmFsaWRhdGVDb250ZXh0Jyk7XG5cbnZhciBfdmFsaWRhdGVDb250ZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZhbGlkYXRlQ29udGV4dCk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgQ09OVEVYVF9VSUQgPSAwO1xuXG4vKipcbiAqIFRoZSBXZWJHTFJlbmRlcmVyIGRyYXdzIHRoZSBzY2VuZSBhbmQgYWxsIGl0cyBjb250ZW50IG9udG8gYSB3ZWJHTCBlbmFibGVkIGNhbnZhcy4gVGhpcyByZW5kZXJlclxuICogc2hvdWxkIGJlIHVzZWQgZm9yIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCB3ZWJHTC4gVGhpcyBSZW5kZXIgd29ya3MgYnkgYXV0b21hdGljYWxseSBtYW5hZ2luZyB3ZWJHTEJhdGNocy5cbiAqIFNvIG5vIG5lZWQgZm9yIFNwcml0ZSBCYXRjaGVzIG9yIFNwcml0ZSBDbG91ZHMuXG4gKiBEb24ndCBmb3JnZXQgdG8gYWRkIHRoZSB2aWV3IHRvIHlvdXIgRE9NIG9yIHlvdSB3aWxsIG5vdCBzZWUgYW55dGhpbmcgOilcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVJlbmRlcmVyXG4gKi9cblxudmFyIFdlYkdMUmVuZGVyZXIgPSBmdW5jdGlvbiAoX1N5c3RlbVJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKFdlYkdMUmVuZGVyZXIsIF9TeXN0ZW1SZW5kZXJlcik7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2NcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudCwgZGVmYXVsdCBmYWxzZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1Jlc2l6ZT1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgYXV0b21hdGljYWxseSByZXNpemVkLCBkZWZhdWx0IGZhbHNlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gc2V0cyBhbnRpYWxpYXMuIElmIG5vdCBhdmFpbGFibGUgbmF0aXZlbHkgdGhlbiBGWEFBXG4gICAgICogIGFudGlhbGlhc2luZyBpcyB1c2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUZYQUE9ZmFsc2VdIC0gZm9yY2VzIEZYQUEgYW50aWFsaWFzaW5nIHRvIGJlIHVzZWQgb3ZlciBuYXRpdmUuXG4gICAgICogIEZYQUEgaXMgZmFzdGVyLCBidXQgbWF5IG5vdCBhbHdheXMgbG9vayBhcyBncmVhdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqICBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyZXIgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhclxuICAgICAqICB0aGUgY2FudmFzIG9yIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy4gSWYgeW91IHdpc2ggdG8gc2V0IHRoaXMgdG8gZmFsc2UsIHlvdSAqbXVzdCogc2V0XG4gICAgICogIHByZXNlcnZlRHJhd2luZ0J1ZmZlciB0byBgdHJ1ZWAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAgICogIGVuYWJsZSB0aGlzIGlmIHlvdSBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucm91bmRQaXhlbHM9ZmFsc2VdIC0gSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuXG4gICAgICogIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVnYWN5PWZhbHNlXSAtIElmIHRydWUgUGl4aUpTIHdpbGwgYWltIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5XG4gICAgICogIHdpdGggb2xkZXIgLyBsZXNzIGFkdmFuY2VkIGRldmljZXMuIElmIHlvdSBleHBlcmlhbmNlIHVuZXhwbGFpbmVkIGZsaWNrZXJpbmcgdHJ5IHNldHRpbmcgdGhpcyB0byB0cnVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byB3ZWJnbCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAgICAgKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBXZWJHTFJlbmRlcmVyKG9wdGlvbnMsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMUmVuZGVyZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9TeXN0ZW1SZW5kZXJlci5jYWxsKHRoaXMsICdXZWJHTCcsIG9wdGlvbnMsIGFyZzIsIGFyZzMpKTtcblxuICAgICAgICBfdGhpcy5sZWdhY3kgPSBfdGhpcy5vcHRpb25zLmxlZ2FjeTtcblxuICAgICAgICBpZiAoX3RoaXMubGVnYWN5KSB7XG4gICAgICAgICAgICBfcGl4aUdsQ29yZTIuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdC5GT1JDRV9OQVRJVkUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoaXMgcmVuZGVyZXIgYXMgYSBzdGFuZGFyZGlzZWQgY29uc3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuUkVOREVSRVJfVFlQRVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHlwZSA9IF9jb25zdC5SRU5ERVJFUl9UWVBFLldFQkdMO1xuXG4gICAgICAgIF90aGlzLmhhbmRsZUNvbnRleHRMb3N0ID0gX3RoaXMuaGFuZGxlQ29udGV4dExvc3QuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IF90aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZC5iaW5kKF90aGlzKTtcblxuICAgICAgICBfdGhpcy52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCBfdGhpcy5oYW5kbGVDb250ZXh0TG9zdCwgZmFsc2UpO1xuICAgICAgICBfdGhpcy52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgX3RoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLCBmYWxzZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcHRpb25zIHBhc3NlZCBpbiB0byBjcmVhdGUgYSBuZXcgd2ViZ2wgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2NvbnRleHRPcHRpb25zID0ge1xuICAgICAgICAgICAgYWxwaGE6IF90aGlzLnRyYW5zcGFyZW50LFxuICAgICAgICAgICAgYW50aWFsaWFzOiBfdGhpcy5vcHRpb25zLmFudGlhbGlhcyxcbiAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogX3RoaXMudHJhbnNwYXJlbnQgJiYgX3RoaXMudHJhbnNwYXJlbnQgIT09ICdub3RNdWx0aXBsaWVkJyxcbiAgICAgICAgICAgIHN0ZW5jaWw6IHRydWUsXG4gICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IF90aGlzLm9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyLFxuICAgICAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiBfdGhpcy5vcHRpb25zLnBvd2VyUHJlZmVyZW5jZVxuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhWzNdID0gX3RoaXMudHJhbnNwYXJlbnQgPyAwIDogMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgbWFza3MgdXNpbmcgdGhlIHN0ZW5jaWwgYnVmZmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hc2tNYW5hZ2VyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza01hbmFnZXIgPSBuZXcgX01hc2tNYW5hZ2VyMi5kZWZhdWx0KF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgc3RlbmNpbCBidWZmZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RlbmNpbE1hbmFnZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGVuY2lsTWFuYWdlciA9IG5ldyBfU3RlbmNpbE1hbmFnZXIyLmRlZmF1bHQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBlbXB0eSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYmplY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVtcHR5UmVuZGVyZXIgPSBuZXcgX09iamVjdFJlbmRlcmVyMi5kZWZhdWx0KF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgT2JqZWN0UmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JqZWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50UmVuZGVyZXIgPSBfdGhpcy5lbXB0eVJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYW5hZ2VzIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hbmFnZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlTWFuYWdlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIGZpbHRlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyTWFuYWdlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZpbHRlck1hbmFnZXIgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLmluaXRQbHVnaW5zKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0LCBpdCBpcyBjcmVhdGVkIGhlcmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgY29udGV4dCBzbyBpdCBpcyByZWFkeSBmb3IgdGhlIG1hbmFnZXJzLlxuICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5jb250ZXh0KSB7XG4gICAgICAgICAgICAvLyBjaGVja3MgdG8gc2VlIGlmIGEgY29udGV4dCBpcyB2YWxpZC4uXG4gICAgICAgICAgICAoMCwgX3ZhbGlkYXRlQ29udGV4dDIuZGVmYXVsdCkoX3RoaXMub3B0aW9ucy5jb250ZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmdsID0gX3RoaXMub3B0aW9ucy5jb250ZXh0IHx8IF9waXhpR2xDb3JlMi5kZWZhdWx0LmNyZWF0ZUNvbnRleHQoX3RoaXMudmlldywgX3RoaXMuX2NvbnRleHRPcHRpb25zKTtcblxuICAgICAgICBfdGhpcy5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEKys7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIE9iamVjdFJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLldlYkdMU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IG5ldyBfV2ViR0xTdGF0ZTIuZGVmYXVsdChfdGhpcy5nbCk7XG5cbiAgICAgICAgX3RoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb2xkcyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0ZXh0dXJlcyBib3VuZCB0byB0aGUgR1BVLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZFRleHR1cmVzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG9sZHMgdGhlIGN1cnJlbnQgc2hhZGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FjdGl2ZVNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuX2FjdGl2ZVZhbyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvbGRzIHRoZSBjdXJyZW50IHJlbmRlciB0YXJnZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJUYXJnZXR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5faW5pdENvbnRleHQoKTtcblxuICAgICAgICAvLyBtYXAgc29tZSB3ZWJHTCBibGVuZCBhbmQgZHJhd21vZGVzLi5cbiAgICAgICAgX3RoaXMuZHJhd01vZGVzID0gKDAsIF9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aTIuZGVmYXVsdCkoX3RoaXMuZ2wpO1xuXG4gICAgICAgIF90aGlzLl9uZXh0VGV4dHVyZUxvY2F0aW9uID0gMDtcblxuICAgICAgICBfdGhpcy5zZXRCbGVuZE1vZGUoMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGFmdGVyIHJlbmRlcmluZyBmaW5pc2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuV2ViR0xSZW5kZXJlciNwb3N0cmVuZGVyXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBiZWZvcmUgcmVuZGVyaW5nIHN0YXJ0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuV2ViR0xSZW5kZXJlciNwcmVyZW5kZXJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIFdlYkdMIGNvbnRleHQgaXMgc2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5XZWJHTFJlbmRlcmVyI2NvbnRleHRcbiAgICAgICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gV2ViR0wgY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBXZWJHTCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5faW5pdENvbnRleHQgPSBmdW5jdGlvbiBfaW5pdENvbnRleHQoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgLy8gcmVzdG9yZSBhIGNvbnRleHQgaWYgaXQgd2FzIHByZXZpb3VzbHkgbG9zdFxuICAgICAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpICYmIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykpIHtcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykucmVzdG9yZUNvbnRleHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtYXhUZXh0dXJlcyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyk7XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZlVmFvID0gbnVsbDtcblxuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMgPSBuZXcgQXJyYXkobWF4VGV4dHVyZXMpO1xuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXMgPSBuZXcgQXJyYXkobWF4VGV4dHVyZXMpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBhIHRleHR1cmUgbWFuYWdlci4uLlxuICAgICAgICB0aGlzLnRleHR1cmVNYW5hZ2VyID0gbmV3IF9UZXh0dXJlTWFuYWdlcjIuZGVmYXVsdCh0aGlzKTtcbiAgICAgICAgdGhpcy5maWx0ZXJNYW5hZ2VyID0gbmV3IF9GaWx0ZXJNYW5hZ2VyMi5kZWZhdWx0KHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVHQyA9IG5ldyBfVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IyLmRlZmF1bHQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZS5yZXNldFRvRGVmYXVsdCgpO1xuXG4gICAgICAgIHRoaXMucm9vdFJlbmRlclRhcmdldCA9IG5ldyBfUmVuZGVyVGFyZ2V0Mi5kZWZhdWx0KGdsLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgbnVsbCwgdGhpcy5yZXNvbHV0aW9uLCB0cnVlKTtcbiAgICAgICAgdGhpcy5yb290UmVuZGVyVGFyZ2V0LmNsZWFyQ29sb3IgPSB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhO1xuXG4gICAgICAgIHRoaXMuYmluZFJlbmRlclRhcmdldCh0aGlzLnJvb3RSZW5kZXJUYXJnZXQpO1xuXG4gICAgICAgIC8vIG5vdyBsZXRzIGZpbGwgdXAgdGhlIHRleHR1cmVzIHdpdGggZW1wdHkgb25lcyFcbiAgICAgICAgdmFyIGVtcHR5R0xUZXh0dXJlID0gbmV3IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMVGV4dHVyZS5mcm9tRGF0YShnbCwgbnVsbCwgMSwgMSk7XG5cbiAgICAgICAgdmFyIHRlbXBPYmogPSB7IF9nbFRleHR1cmVzOiB7fSB9O1xuXG4gICAgICAgIHRlbXBPYmouX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlbXB0eSA9IG5ldyBfQmFzZVRleHR1cmUyLmRlZmF1bHQoKTtcblxuICAgICAgICAgICAgZW1wdHkuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSBlbXB0eUdMVGV4dHVyZTtcblxuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gdGVtcE9iajtcbiAgICAgICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlc1tpXSA9IGVtcHR5O1xuICAgICAgICAgICAgdGhpcy5iaW5kVGV4dHVyZShudWxsLCBpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW1pdCgnY29udGV4dCcsIGdsKTtcblxuICAgICAgICAvLyBzZXR1cCB0aGUgd2lkdGgvaGVpZ2h0IHByb3BlcnRpZXMgYW5kIGdsIHZpZXdwb3J0XG4gICAgICAgIHRoaXMucmVzaXplKHRoaXMuc2NyZWVuLndpZHRoLCB0aGlzLnNjcmVlbi5oZWlnaHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdG8gaXRzIHdlYkdMIHZpZXdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gdGhlIG9iamVjdCB0byBiZSByZW5kZXJlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlciB0ZXh0dXJlIHRvIHJlbmRlciB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjbGVhcl0gLSBTaG91bGQgdGhlIGNhbnZhcyBiZSBjbGVhcmVkIGJlZm9yZSB0aGUgbmV3IHJlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IFt0cmFuc2Zvcm1dIC0gQSB0cmFuc2Zvcm0gdG8gYXBwbHkgdG8gdGhlIHJlbmRlciB0ZXh0dXJlIGJlZm9yZSByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZVRyYW5zZm9ybV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybSBwYXNzP1xuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSwgY2xlYXIsIHRyYW5zZm9ybSwgc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICAvLyBjYW4gYmUgaGFuZHkgdG8ga25vdyFcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9ICFyZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncHJlcmVuZGVyJyk7XG5cbiAgICAgICAgLy8gbm8gcG9pbnQgcmVuZGVyaW5nIGlmIG91ciBjb250ZXh0IGhhcyBiZWVuIGJsb3duIHVwIVxuICAgICAgICBpZiAoIXRoaXMuZ2wgfHwgdGhpcy5nbC5pc0NvbnRleHRMb3N0KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX25leHRUZXh0dXJlTG9jYXRpb24gPSAwO1xuXG4gICAgICAgIGlmICghcmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBzY2VuZSBncmFwaFxuICAgICAgICAgICAgdmFyIGNhY2hlUGFyZW50ID0gZGlzcGxheU9iamVjdC5wYXJlbnQ7XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5wYXJlbnQgPSBjYWNoZVBhcmVudDtcbiAgICAgICAgICAgIC8vIGRpc3BsYXlPYmplY3QuaGl0QXJlYSA9IC8vVE9ETyBhZGQgYSB0ZW1wIGhpdCBhcmVhXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJpbmRSZW5kZXJUZXh0dXJlKHJlbmRlclRleHR1cmUsIHRyYW5zZm9ybSk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RhcnQoKTtcblxuICAgICAgICBpZiAoY2xlYXIgIT09IHVuZGVmaW5lZCA/IGNsZWFyIDogdGhpcy5jbGVhckJlZm9yZVJlbmRlcikge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LmNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcldlYkdMKHRoaXMpO1xuXG4gICAgICAgIC8vIGFwcGx5IHRyYW5zZm9ybS4uXG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLmZsdXNoKCk7XG5cbiAgICAgICAgLy8gdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMudGV4dHVyZUdDLnVwZGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncG9zdHJlbmRlcicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHJlbmRlcmVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuT2JqZWN0UmVuZGVyZXJ9IG9iamVjdFJlbmRlcmVyIC0gVGhlIG9iamVjdCByZW5kZXJlciB0byB1c2UuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnNldE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gc2V0T2JqZWN0UmVuZGVyZXIob2JqZWN0UmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFJlbmRlcmVyID09PSBvYmplY3RSZW5kZXJlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IG9iamVjdFJlbmRlcmVyO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgaWYgeW91IHdpc2ggdG8gZG8gc29tZSBjdXN0b20gcmVuZGVyaW5nXG4gICAgICogSXQgd2lsbCBiYXNpY2FsbHkgcmVuZGVyIGFueXRoaW5nIHRoYXQgbWF5IGJlIGJhdGNoZWQgdXAgc3VjaCBhcyBzcHJpdGVzXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSB3ZWJHTCB2aWV3IHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIHRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZShzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XG4gICAgICAgIC8vICBpZih3aWR0aCAqIHRoaXMucmVzb2x1dGlvbiA9PT0gdGhpcy53aWR0aCAmJiBoZWlnaHQgKiB0aGlzLnJlc29sdXRpb24gPT09IHRoaXMuaGVpZ2h0KXJldHVybjtcblxuICAgICAgICBfU3lzdGVtUmVuZGVyZXIzLmRlZmF1bHQucHJvdG90eXBlLnJlc2l6ZS5jYWxsKHRoaXMsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpO1xuXG4gICAgICAgIHRoaXMucm9vdFJlbmRlclRhcmdldC5yZXNpemUoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldCA9PT0gdGhpcy5yb290UmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLnJvb3RSZW5kZXJUYXJnZXQuYWN0aXZhdGUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVNoYWRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVNoYWRlci51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4ID0gdGhpcy5yb290UmVuZGVyVGFyZ2V0LnByb2plY3Rpb25NYXRyaXgudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSB3ZWJHTCB2aWV3IHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBibGVuZE1vZGUgLSB0aGUgZGVzaXJlZCBibGVuZCBtb2RlXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnNldEJsZW5kTW9kZSA9IGZ1bmN0aW9uIHNldEJsZW5kTW9kZShibGVuZE1vZGUpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5zZXRCbGVuZE1vZGUoYmxlbmRNb2RlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXJhc2VzIHRoZSBhY3RpdmUgcmVuZGVyIHRhcmdldCBhbmQgZmlsbHMgdGhlIGRyYXdpbmcgYXJlYSB3aXRoIGEgY29sb3VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NsZWFyQ29sb3JdIC0gVGhlIGNvbG91clxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKGNsZWFyQ29sb3IpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LmNsZWFyKGNsZWFyQ29sb3IpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGFjdGl2ZSByZW5kZXIgdGFyZ2V0IHRvIHRoZSBnaXZlbiBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gc2V0VHJhbnNmb3JtKG1hdHJpeCkge1xuICAgICAgICB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQudHJhbnNmb3JtID0gbWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFcmFzZXMgdGhlIHJlbmRlciB0ZXh0dXJlIGFuZCBmaWxscyB0aGUgZHJhd2luZyBhcmVhIHdpdGggYSBjb2xvdXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlciB0ZXh0dXJlIHRvIGNsZWFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjbGVhckNvbG9yXSAtIFRoZSBjb2xvdXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5jbGVhclJlbmRlclRleHR1cmUgPSBmdW5jdGlvbiBjbGVhclJlbmRlclRleHR1cmUocmVuZGVyVGV4dHVyZSwgY2xlYXJDb2xvcikge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gYmFzZVRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAocmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICByZW5kZXJUYXJnZXQuY2xlYXIoY2xlYXJDb2xvcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgYSByZW5kZXIgdGV4dHVyZSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXIgdGV4dHVyZSB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuYmluZFJlbmRlclRleHR1cmUgPSBmdW5jdGlvbiBiaW5kUmVuZGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlLCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IHZvaWQgMDtcblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKCFiYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICAgICAgLy8gYmluZCB0aGUgY3VycmVudCB0ZXh0dXJlXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlci51cGRhdGVUZXh0dXJlKGJhc2VUZXh0dXJlLCAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51bmJpbmRUZXh0dXJlKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0ID0gYmFzZVRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIHJlbmRlclRhcmdldC5zZXRGcmFtZShyZW5kZXJUZXh0dXJlLmZyYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlclRhcmdldCA9IHRoaXMucm9vdFJlbmRlclRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlclRhcmdldC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIHRoaXMuYmluZFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHJlbmRlciB0YXJnZXQgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IHJlbmRlclRhcmdldCAtIHRoZSBuZXcgcmVuZGVyIHRhcmdldFxuICAgICAqIEByZXR1cm4ge1BJWEkuV2ViR0xSZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmJpbmRSZW5kZXJUYXJnZXQgPSBmdW5jdGlvbiBiaW5kUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCkge1xuICAgICAgICBpZiAocmVuZGVyVGFyZ2V0ICE9PSB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldCA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgICAgIHJlbmRlclRhcmdldC5hY3RpdmF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZlU2hhZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXggPSByZW5kZXJUYXJnZXQucHJvamVjdGlvbk1hdHJpeC50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnN0ZW5jaWxNYW5hZ2VyLnNldE1hc2tTdGFjayhyZW5kZXJUYXJnZXQuc3RlbmNpbE1hc2tTdGFjayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgY3VycmVudCBzaGFkZXIgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IHNoYWRlciAtIHRoZSBuZXcgc2hhZGVyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1Byb2plY3Q9dHJ1ZV0gLSBXaGV0aGVyIGF1dG9tYXRpY2FsbHkgc2V0IHRoZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAqIEByZXR1cm4ge1BJWEkuV2ViR0xSZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmJpbmRTaGFkZXIgPSBmdW5jdGlvbiBiaW5kU2hhZGVyKHNoYWRlciwgYXV0b1Byb2plY3QpIHtcbiAgICAgICAgLy8gVE9ETyBjYWNoZVxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlU2hhZGVyICE9PSBzaGFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVNoYWRlciA9IHNoYWRlcjtcbiAgICAgICAgICAgIHNoYWRlci5iaW5kKCk7XG5cbiAgICAgICAgICAgIC8vIGBhdXRvUHJvamVjdGAgbm9ybWFsbHkgd291bGQgYmUgYSBkZWZhdWx0IHBhcmFtZXRlciBzZXQgdG8gdHJ1ZVxuICAgICAgICAgICAgLy8gYnV0IGJlY2F1c2Ugb2YgaG93IEJhYmVsIHRyYW5zcGlsZXMgZGVmYXVsdCBwYXJhbWV0ZXJzXG4gICAgICAgICAgICAvLyBpdCBoaW5kZXJzIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGlzIG1ldGhvZC5cbiAgICAgICAgICAgIGlmIChhdXRvUHJvamVjdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IHNldCB0aGUgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldC5wcm9qZWN0aW9uTWF0cml4LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgdGhlIHRleHR1cmUuIFRoaXMgd2lsbCByZXR1cm4gdGhlIGxvY2F0aW9uIG9mIHRoZSBib3VuZCB0ZXh0dXJlLlxuICAgICAqIEl0IG1heSBub3QgYmUgdGhlIHNhbWUgYXMgdGhlIG9uZSB5b3UgcGFzcyBpbi4gVGhpcyBpcyBkdWUgdG8gb3B0aW1pc2F0aW9uIHRoYXQgcHJldmVudHNcbiAgICAgKiBuZWVkbGVzcyBiaW5kaW5nIG9mIHRleHR1cmVzLiBGb3IgZXhhbXBsZSBpZiB0aGUgdGV4dHVyZSBpcyBhbHJlYWR5IGJvdW5kIGl0IHdpbGwgcmV0dXJuIHRoZVxuICAgICAqIGN1cnJlbnQgbG9jYXRpb24gb2YgdGhlIHRleHR1cmUgaW5zdGVhZCBvZiB0aGUgb25lIHByb3ZpZGVkLiBUbyBieXBhc3MgdGhpcyB1c2UgZm9yY2UgbG9jYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIG5ldyB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxvY2F0aW9uIC0gdGhlIHN1Z2dlc3RlZCB0ZXh0dXJlIGxvY2F0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBmb3JjZUxvY2F0aW9uIC0gZm9yY2UgdGhlIGxvY2F0aW9uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBib3VuZCB0ZXh0dXJlIGxvY2F0aW9uXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmJpbmRUZXh0dXJlID0gZnVuY3Rpb24gYmluZFRleHR1cmUodGV4dHVyZSwgbG9jYXRpb24sIGZvcmNlTG9jYXRpb24pIHtcbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUgfHwgdGhpcy5lbXB0eVRleHR1cmVzW2xvY2F0aW9uXTtcbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcbiAgICAgICAgdGV4dHVyZS50b3VjaGVkID0gdGhpcy50ZXh0dXJlR0MuY291bnQ7XG5cbiAgICAgICAgaWYgKCFmb3JjZUxvY2F0aW9uKSB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gbWF5YmUgbG9vayBpbnRvIGFkZGluZyBib3VuZElkcy4uIHNhdmUgdXMgdGhlIGxvb3A/XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobG9jYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX25leHRUZXh0dXJlTG9jYXRpb24rKztcbiAgICAgICAgICAgICAgICB0aGlzLl9uZXh0VGV4dHVyZUxvY2F0aW9uICU9IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbG9jYXRpb24gPSB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoIC0gdGhpcy5fbmV4dFRleHR1cmVMb2NhdGlvbiAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2NhdGlvbiA9IGxvY2F0aW9uIHx8IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIWdsVGV4dHVyZSkge1xuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGFsc28gYmluZCB0aGUgdGV4dHVyZS4uXG4gICAgICAgICAgICB0aGlzLnRleHR1cmVNYW5hZ2VyLnVwZGF0ZVRleHR1cmUodGV4dHVyZSwgbG9jYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gYmluZCB0aGUgY3VycmVudCB0ZXh0dXJlXG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gdGV4dHVyZTtcbiAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBsb2NhdGlvbik7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBnbFRleHR1cmUudGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbG9jYXRpb247XG4gICAgfTtcblxuICAgIC8qKlxuICAgICogdW5iaW5kcyB0aGUgdGV4dHVyZSAuLi5cbiAgICAqXG4gICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHVuYmluZFxuICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS51bmJpbmRUZXh0dXJlID0gZnVuY3Rpb24gdW5iaW5kVGV4dHVyZSh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IHRoaXMuZW1wdHlUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBpKTtcbiAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLmVtcHR5VGV4dHVyZXNbaV0uX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBWQU8gZnJvbSB0aGlzIHJlbmRlcmVyJ3MgY29udGV4dCBhbmQgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWZXJ0ZXhBcnJheU9iamVjdH0gVGhlIG5ldyBWQU8uXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVZhbyA9IGZ1bmN0aW9uIGNyZWF0ZVZhbygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfcGl4aUdsQ29yZTIuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdCh0aGlzLmdsLCB0aGlzLnN0YXRlLmF0dHJpYlN0YXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgY3VycmVudCBWYW8gdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5WZXJ0ZXhBcnJheU9iamVjdH0gdmFvIC0gdGhlIG5ldyBWYW9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5iaW5kVmFvID0gZnVuY3Rpb24gYmluZFZhbyh2YW8pIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyA9PT0gdmFvKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YW8pIHtcbiAgICAgICAgICAgIHZhby5iaW5kKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYWN0aXZlVmFvKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHRoaXMgc2hvdWxkIGFsd2F5cyBiZSB0cnVlIGkgdGhpbms/XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVWYW8udW5iaW5kKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgV2ViR0wgc3RhdGUgc28geW91IGNhbiByZW5kZXIgdGhpbmdzIGhvd2V2ZXIgeW91IGZhbmN5IVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMuYmluZFZhbyhudWxsKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0ID0gdGhpcy5yb290UmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSB0aGlzLmVtcHR5VGV4dHVyZXNbaV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiaW5kIHRoZSBtYWluIGZyYW1lIGJ1ZmZlciAodGhlIHNjcmVlbik7XG4gICAgICAgIHRoaXMucm9vdFJlbmRlclRhcmdldC5hY3RpdmF0ZSgpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUucmVzZXRUb0RlZmF1bHQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGxvc3Qgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1dlYkdMQ29udGV4dEV2ZW50fSBldmVudCAtIFRoZSBjb250ZXh0IGxvc3QgZXZlbnQuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZUNvbnRleHRMb3N0ID0gZnVuY3Rpb24gaGFuZGxlQ29udGV4dExvc3QoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIHJlc3RvcmVkIHdlYmdsIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IGZ1bmN0aW9uIGhhbmRsZUNvbnRleHRSZXN0b3JlZCgpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlci5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5maWx0ZXJNYW5hZ2VyLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIHRoaXMuX2luaXRDb250ZXh0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciAoZXZlbnQgbGlzdGVuZXJzLCBzcHJpdGViYXRjaCwgZXRjLi4uKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICogIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy8yMjMzXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZVZpZXcpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95UGx1Z2lucygpO1xuXG4gICAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy52aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmhhbmRsZUNvbnRleHRMb3N0KTtcbiAgICAgICAgdGhpcy52aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQpO1xuXG4gICAgICAgIHRoaXMudGV4dHVyZU1hbmFnZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIC8vIGNhbGwgYmFzZSBkZXN0cm95XG4gICAgICAgIF9TeXN0ZW1SZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHJlbW92ZVZpZXcpO1xuXG4gICAgICAgIHRoaXMudWlkID0gMDtcblxuICAgICAgICAvLyBkZXN0cm95IHRoZSBtYW5hZ2Vyc1xuICAgICAgICB0aGlzLm1hc2tNYW5hZ2VyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5zdGVuY2lsTWFuYWdlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZmlsdGVyTWFuYWdlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5tYXNrTWFuYWdlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVyTWFuYWdlciA9IG51bGw7XG4gICAgICAgIHRoaXMudGV4dHVyZU1hbmFnZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5oYW5kbGVDb250ZXh0TG9zdCA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9jb250ZXh0T3B0aW9ucyA9IG51bGw7XG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShudWxsKTtcblxuICAgICAgICBpZiAodGhpcy5nbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpKSB7XG4gICAgICAgICAgICB0aGlzLmdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykubG9zZUNvbnRleHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuXG4gICAgICAgIC8vIHRoaXMgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gV2ViR0xSZW5kZXJlcjtcbn0oX1N5c3RlbVJlbmRlcmVyMy5kZWZhdWx0KTtcblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCBwbHVnaW5zLiBUaGVzZSBhcmUgaW5jbHVkZWQgYnkgZGVmYXVsdCBpbiBQSVhJLCBidXQgY2FuIGJlIGV4Y2x1ZGVkXG4gKiBieSBjcmVhdGluZyBhIGN1c3RvbSBidWlsZC4gQ29uc3VsdCB0aGUgUkVBRE1FIGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGNyZWF0aW5nIGN1c3RvbVxuICogYnVpbGRzIGFuZCBleGNsdWRpbmcgcGx1Z2lucy5cbiAqIEBuYW1lIFBJWEkuV2ViR0xSZW5kZXJlciNwbHVnaW5zXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHJlYWRvbmx5XG4gKiBAcHJvcGVydHkge1BJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlcn0gYWNjZXNzaWJpbGl0eSBTdXBwb3J0IHRhYmJpbmcgaW50ZXJhY3RpdmUgZWxlbWVudHMuXG4gKiBAcHJvcGVydHkge1BJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3R9IGV4dHJhY3QgRXh0cmFjdCBpbWFnZSBkYXRhIGZyb20gcmVuZGVyZXIuXG4gKiBAcHJvcGVydHkge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfSBpbnRlcmFjdGlvbiBIYW5kbGVzIG1vdXNlLCB0b3VjaCBhbmQgcG9pbnRlciBldmVudHMuXG4gKiBAcHJvcGVydHkge1BJWEkucHJlcGFyZS5XZWJHTFByZXBhcmV9IHByZXBhcmUgUHJlLXJlbmRlciBkaXNwbGF5IG9iamVjdHMuXG4gKi9cblxuLyoqXG4gKiBBZGRzIGEgcGx1Z2luIHRvIHRoZSByZW5kZXJlci5cbiAqXG4gKiBAbWV0aG9kIFBJWEkuV2ViR0xSZW5kZXJlciNyZWdpc3RlclBsdWdpblxuICogQHBhcmFtIHtzdHJpbmd9IHBsdWdpbk5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcGx1Z2luLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3RvciAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBvciBjbGFzcyBmb3IgdGhlIHBsdWdpbi5cbiAqL1xuXG5leHBvcnRzLmRlZmF1bHQgPSBXZWJHTFJlbmRlcmVyO1xuX3V0aWxzLnBsdWdpblRhcmdldC5taXhpbihXZWJHTFJlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlYkdMUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1dlYkdMTWFuYWdlcjIgPSByZXF1aXJlKCcuLi9tYW5hZ2Vycy9XZWJHTE1hbmFnZXInKTtcblxudmFyIF9XZWJHTE1hbmFnZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xNYW5hZ2VyMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBCYXNlIGZvciBhIGNvbW1vbiBvYmplY3QgcmVuZGVyZXIgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHN5c3RlbSByZW5kZXJlciBwbHVnaW4uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLldlYkdMTWFuYWdlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gKF9XZWJHTE1hbmFnZXIpIHtcbiAgX2luaGVyaXRzKE9iamVjdFJlbmRlcmVyLCBfV2ViR0xNYW5hZ2VyKTtcblxuICBmdW5jdGlvbiBPYmplY3RSZW5kZXJlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT2JqZWN0UmVuZGVyZXIpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9XZWJHTE1hbmFnZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSByZW5kZXJlciBhbmQgc2V0cyB0aGUgc2hhZGVyXG4gICAqXG4gICAqL1xuICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCgpIHt9XG4gIC8vIHNldCB0aGUgc2hhZGVyLi5cblxuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgcmVuZGVyZXJcbiAgICpcbiAgICovXG4gIDtcblxuICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgdGhpcy5mbHVzaCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdHViIG1ldGhvZCBmb3IgcmVuZGVyaW5nIGNvbnRlbnQgYW5kIGVtcHR5aW5nIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgKlxuICAgKi9cblxuXG4gIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoKCkge31cbiAgLy8gZmx1c2ghXG5cblxuICAvKipcbiAgICogUmVuZGVycyBhbiBvYmplY3RcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICAgKi9cbiAgO1xuXG4gIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIob2JqZWN0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHtcbiAgICAvLyByZW5kZXIgdGhlIG9iamVjdFxuICB9O1xuXG4gIHJldHVybiBPYmplY3RSZW5kZXJlcjtcbn0oX1dlYkdMTWFuYWdlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE9iamVjdFJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0UmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0NvdW50TGltaXRlciA9IHJlcXVpcmUoJy4vbGltaXRlcnMvQ291bnRMaW1pdGVyJyk7XG5cbnZhciBfQ291bnRMaW1pdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvdW50TGltaXRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBTaGFyZWRUaWNrZXIgPSBjb3JlLnRpY2tlci5zaGFyZWQ7XG5cbi8qKlxuICogRGVmYXVsdCBudW1iZXIgb2YgdXBsb2FkcyBwZXIgZnJhbWUgdXNpbmcgcHJlcGFyZSBwbHVnaW4uXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEBuYW1lIFVQTE9BRFNfUEVSX0ZSQU1FXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgNFxuICovXG5jb3JlLnNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FID0gNDtcblxuLyoqXG4gKiBUaGUgcHJlcGFyZSBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBsb2FkIGNvbnRlbnQgdG8gdGhlIEdQVS4gQmFzZVByZXBhcmUgaGFuZGxlc1xuICogYmFzaWMgcXVldWluZyBmdW5jdGlvbmFsaXR5IGFuZCBpcyBleHRlbmRlZCBieSB7QGxpbmsgUElYSS5wcmVwYXJlLldlYkdMUHJlcGFyZX0gYW5kIHtAbGluayBQSVhJLnByZXBhcmUuQ2FudmFzUHJlcGFyZX1cbiAqIHRvIHByb3ZpZGUgcHJlcGFyYXRpb24gY2FwYWJpbGl0aWVzIHNwZWNpZmljIHRvIHRoZWlyIHJlc3BlY3RpdmUgcmVuZGVyZXJzLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBzcHJpdGVcbiAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZS5mcm9tSW1hZ2UoJ3NvbWV0aGluZy5wbmcnKTtcbiAqXG4gKiAvLyBMb2FkIG9iamVjdCBpbnRvIEdQVVxuICogYXBwLnJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS51cGxvYWQoc3ByaXRlLCAoKSA9PiB7XG4gKlxuICogICAgIC8vVGV4dHVyZShzKSBoYXMgYmVlbiB1cGxvYWRlZCB0byBHUFVcbiAqICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqXG4gKiB9KVxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cblxudmFyIEJhc2VQcmVwYXJlID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TeXN0ZW1SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VQcmVwYXJlKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhc2VQcmVwYXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpbWl0ZXIgdG8gYmUgdXNlZCB0byBjb250cm9sIGhvdyBxdWlja2x5IGl0ZW1zIGFyZSBwcmVwYXJlZC5cbiAgICAgICAgICogQHR5cGUge1BJWEkucHJlcGFyZS5Db3VudExpbWl0ZXJ8UElYSS5wcmVwYXJlLlRpbWVMaW1pdGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW1pdGVyID0gbmV3IF9Db3VudExpbWl0ZXIyLmRlZmF1bHQoY29yZS5zZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlN5c3RlbVJlbmRlcmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvbmx5IHJlYWwgZGlmZmVyZW5jZSBiZXR3ZWVuIENhbnZhc1ByZXBhcmUgYW5kIFdlYkdMUHJlcGFyZSBpcyB3aGF0IHRoZXkgcGFzc1xuICAgICAgICAgKiB0byB1cGxvYWQgaG9va3MuIFRoYXQgZGlmZmVyZW50IHBhcmFtZXRlciBpcyBzdG9yZWQgaGVyZS5cbiAgICAgICAgICogQHR5cGUge1BJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlfFBJWEkuV2ViR0xSZW5kZXJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRzIGF0IG9uY2UuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBmaW5kaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBwcm9jZXNzaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBsb2FkSG9va3MgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgdG8gY2FsbCBhZnRlciBjb21wbGV0ZWQuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBsZXRlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBwcmVwYXJlIGlzIHRpY2tpbmcgKHJ1bm5pbmcpLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiAnYm91bmQnIGNhbGwgZm9yIHByZXBhcmVJdGVtcygpLlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbGF5ZWRUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gdW5saWtlbHksIGJ1dCBpbiBjYXNlIHdlIHdlcmUgZGVzdHJveWVkIGJldHdlZW4gdGljaygpIGFuZCBkZWxheWVkVGljaygpXG4gICAgICAgICAgICBpZiAoIV90aGlzLnF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMucHJlcGFyZUl0ZW1zKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gaG9va3MgdG8gZmluZCB0aGUgY29ycmVjdCB0ZXh0dXJlXG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dFN0eWxlKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kQmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHR1cmUpO1xuXG4gICAgICAgIC8vIHVwbG9hZCBob29rc1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayhkcmF3VGV4dCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKGNhbGN1bGF0ZVRleHRTdHlsZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIGFsbCB0aGUgdGV4dHVyZXMgYW5kIGdyYXBoaWNzIHRvIHRoZSBHUFUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufFBJWEkuRGlzcGxheU9iamVjdHxQSVhJLkNvbnRhaW5lcnxQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZXxQSVhJLkdyYXBoaWNzfFBJWEkuVGV4dH0gaXRlbSAtXG4gICAgICogICAgICAgIEVpdGhlciB0aGUgY29udGFpbmVyIG9yIGRpc3BsYXkgb2JqZWN0IHRvIHNlYXJjaCBmb3IgaXRlbXMgdG8gdXBsb2FkLCB0aGUgaXRlbXMgdG8gdXBsb2FkIHRoZW1zZWx2ZXMsXG4gICAgICogICAgICAgIG9yIHRoZSBjYWxsYmFjayBmdW5jdGlvbiwgaWYgaXRlbXMgaGF2ZSBiZWVuIGFkZGVkIHVzaW5nIGBwcmVwYXJlLmFkZGAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2RvbmVdIC0gT3B0aW9uYWwgY2FsbGJhY2sgd2hlbiBhbGwgcXVldWVkIHVwbG9hZHMgaGF2ZSBjb21wbGV0ZWRcbiAgICAgKi9cblxuXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZChpdGVtLCBkb25lKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZG9uZSA9IGl0ZW07XG4gICAgICAgICAgICBpdGVtID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGEgZGlzcGxheSBvYmplY3QsIHNlYXJjaCBmb3IgaXRlbXNcbiAgICAgICAgLy8gdGhhdCB3ZSBjb3VsZCB1cGxvYWRcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IHRoZSBpdGVtcyBmb3IgdXBsb2FkIGZyb20gdGhlIGRpc3BsYXlcbiAgICAgICAgaWYgKHRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVzLnB1c2goZG9uZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGhpcy50aWNraW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aWNraW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBTaGFyZWRUaWNrZXIuYWRkT25jZSh0aGlzLnRpY2ssIHRoaXMsIGNvcmUuVVBEQVRFX1BSSU9SSVRZLlVUSUxJVFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGljayB1cGRhdGVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gdGljaygpIHtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLmRlbGF5ZWRUaWNrLCAwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWN0dWFsbHkgcHJlcGFyZSBpdGVtcy4gVGhpcyBpcyBoYW5kbGVkIG91dHNpZGUgb2YgdGhlIHRpY2sgYmVjYXVzZSBpdCB3aWxsIHRha2UgYSB3aGlsZVxuICAgICAqIGFuZCB3ZSBkbyBOT1Qgd2FudCB0byBibG9jayB0aGUgY3VycmVudCBhbmltYXRpb24gZnJhbWUgZnJvbSByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucHJlcGFyZUl0ZW1zID0gZnVuY3Rpb24gcHJlcGFyZUl0ZW1zKCkge1xuICAgICAgICB0aGlzLmxpbWl0ZXIuYmVnaW5GcmFtZSgpO1xuICAgICAgICAvLyBVcGxvYWQgdGhlIGdyYXBoaWNzXG4gICAgICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCAmJiB0aGlzLmxpbWl0ZXIuYWxsb3dlZFRvVXBsb2FkKCkpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5xdWV1ZVswXTtcbiAgICAgICAgICAgIHZhciB1cGxvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoaXRlbSAmJiAhaXRlbS5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMudXBsb2FkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXBsb2FkSG9va3NbaV0odGhpcy51cGxvYWRIb29rSGVscGVyLCBpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdXBsb2FkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSdyZSBmaW5pc2hlZFxuICAgICAgICBpZiAoIXRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgdmFyIGNvbXBsZXRlcyA9IHRoaXMuY29tcGxldGVzLnNsaWNlKDApO1xuXG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9sZW4gPSBjb21wbGV0ZXMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZXNbX2ldKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGZpbmlzaGVkLCBvbiB0aGUgbmV4dCByQUYgZG8gdGhpcyBhZ2FpblxuICAgICAgICAgICAgU2hhcmVkVGlja2VyLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBjb3JlLlVQREFURV9QUklPUklUWS5VVElMSVRZKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGhvb2tzIGZvciBmaW5kaW5nIGl0ZW1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWRkSG9vayAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYGl0ZW06KiwgcXVldWU6QXJyYXlgXG4gICAgICogICAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGFkZCBpdGVtIHRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJGaW5kSG9vayA9IGZ1bmN0aW9uIHJlZ2lzdGVyRmluZEhvb2soYWRkSG9vaykge1xuICAgICAgICBpZiAoYWRkSG9vaykge1xuICAgICAgICAgICAgdGhpcy5hZGRIb29rcy5wdXNoKGFkZEhvb2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgaG9va3MgZm9yIHVwbG9hZGluZyBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwbG9hZEhvb2sgLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBwcmVwYXJlOkNhbnZhc1ByZXBhcmUsIGl0ZW06KmAgYW5kXG4gICAgICogICAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGhhbmRsZSB1cGxvYWQgb2YgaXRlbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJVcGxvYWRIb29rID0gZnVuY3Rpb24gcmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEhvb2spIHtcbiAgICAgICAgaWYgKHVwbG9hZEhvb2spIHtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkSG9va3MucHVzaCh1cGxvYWRIb29rKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNYW51YWxseSBhZGQgYW4gaXRlbSB0byB0aGUgdXBsb2FkaW5nIHF1ZXVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5Db250YWluZXJ8UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV8UElYSS5HcmFwaGljc3xQSVhJLlRleHR8Kn0gaXRlbSAtIE9iamVjdCB0b1xuICAgICAqICAgICAgICBhZGQgdG8gdGhlIHF1ZXVlXG4gICAgICogQHJldHVybiB7UElYSS5DYW52YXNQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKGl0ZW0pIHtcbiAgICAgICAgLy8gQWRkIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgZWxlbWVudHMgb24gc3BlY2lhbFxuICAgICAgICAvLyB0eXBlcyBvZiBvYmplY3RzIHRoYXRcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuYWRkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFkZEhvb2tzW2ldKGl0ZW0sIHRoaXMucXVldWUpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgY2hpbGRlbiByZWN1cnNpdmVseVxuICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaTIgPSBpdGVtLmNoaWxkcmVuLmxlbmd0aCAtIDE7IF9pMiA+PSAwOyBfaTItLSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0uY2hpbGRyZW5bX2kyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbiwgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy50aWNraW5nKSB7XG4gICAgICAgICAgICBTaGFyZWRUaWNrZXIucmVtb3ZlKHRoaXMudGljaywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBudWxsO1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHRoaXMuY29tcGxldGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGltaXRlciA9IG51bGw7XG4gICAgICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBCYXNlUHJlcGFyZTtcbn0oKTtcblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgbXVsdGlwbGUgdGV4dHVyZXMgZnJvbSBvYmplY3RzIGxpa2UgQW5pbWF0ZWRTcHJpdGVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gQmFzZVByZXBhcmU7XG5mdW5jdGlvbiBmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMoaXRlbSwgcXVldWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAvLyBPYmplY3RzIHdpdGggbXV0bGlwbGUgdGV4dHVyZXNcbiAgICBpZiAoaXRlbSAmJiBpdGVtLl90ZXh0dXJlcyAmJiBpdGVtLl90ZXh0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLl90ZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGl0ZW0uX3RleHR1cmVzW2ldIGluc3RhbmNlb2YgY29yZS5UZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gaXRlbS5fdGV4dHVyZXNbaV0uYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBpZiAocXVldWUuaW5kZXhPZihiYXNlVGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIEJhc2VUZXh0dXJlcyBmcm9tIFNwcml0ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRCYXNlVGV4dHVyZShpdGVtLCBxdWV1ZSkge1xuICAgIC8vIE9iamVjdHMgd2l0aCB0ZXh0dXJlcywgbGlrZSBTcHJpdGVzL1RleHRcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuQmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCB0ZXh0dXJlcyBmcm9tIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0dXJlKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0uX3RleHR1cmUgJiYgaXRlbS5fdGV4dHVyZSBpbnN0YW5jZW9mIGNvcmUuVGV4dHVyZSkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZHJhdyBQSVhJLlRleHQgdG8gaXRzIHRleHR1cmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfFBJWEkuQ2FudmFzUHJlcGFyZX0gaGVscGVyIC0gTm90IHVzZWQgYnkgdGhpcyB1cGxvYWQgaGFuZGxlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gZHJhd1RleHQoaGVscGVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLlRleHQpIHtcbiAgICAgICAgLy8gdXBkYXRpbmcgdGV4dCB3aWxsIHJldHVybiBlYXJseSBpZiBpdCBpcyBub3QgZGlydHlcbiAgICAgICAgaXRlbS51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGNhbGN1bGF0ZSBhIHRleHQgc3R5bGUgZm9yIGEgUElYSS5UZXh0IG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ8UElYSS5DYW52YXNQcmVwYXJlfSBoZWxwZXIgLSBOb3QgdXNlZCBieSB0aGlzIHVwbG9hZCBoYW5kbGVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVUZXh0U3R5bGUoaGVscGVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLlRleHRTdHlsZSkge1xuICAgICAgICB2YXIgZm9udCA9IGl0ZW0udG9Gb250U3RyaW5nKCk7XG5cbiAgICAgICAgY29yZS5UZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIFRleHQgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHQgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHQoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuVGV4dCkge1xuICAgICAgICAvLyBwdXNoIHRoZSB0ZXh0IHN0eWxlIHRvIHByZXBhcmUgaXQgLSB0aGlzIGNhbiBiZSByZWFsbHkgZXhwZW5zaXZlXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0uc3R5bGUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtLnN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIHRleHQgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIHJlbmRlciBpdCAodG8gY2FudmFzL3RleHR1cmUpIGlmIG5lZWRlZFxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBwdXNoIHRoZSBUZXh0J3MgdGV4dHVyZSBmb3IgdXBsb2FkIHRvIEdQVVxuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0U3R5bGUgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dFN0eWxlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0U3R5bGUoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuVGV4dFN0eWxlKSB7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VQcmVwYXJlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9wYXJzZVVyaSA9IHJlcXVpcmUoJ3BhcnNlLXVyaScpO1xuXG52YXIgX3BhcnNlVXJpMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcnNlVXJpKTtcblxudmFyIF9taW5pU2lnbmFscyA9IHJlcXVpcmUoJ21pbmktc2lnbmFscycpO1xuXG52YXIgX21pbmlTaWduYWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21pbmlTaWduYWxzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLy8gdGVzdHMgaXMgQ09SUyBpcyBzdXBwb3J0ZWQgaW4gWEhSLCBpZiBub3Qgd2UgbmVlZCB0byB1c2UgWERSXG52YXIgdXNlWGRyID0gISEod2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCkpKTtcbnZhciB0ZW1wQW5jaG9yID0gbnVsbDtcblxuLy8gc29tZSBzdGF0dXMgY29uc3RhbnRzXG52YXIgU1RBVFVTX05PTkUgPSAwO1xudmFyIFNUQVRVU19PSyA9IDIwMDtcbnZhciBTVEFUVVNfRU1QVFkgPSAyMDQ7XG52YXIgU1RBVFVTX0lFX0JVR19FTVBUWSA9IDEyMjM7XG52YXIgU1RBVFVTX1RZUEVfT0sgPSAyO1xuXG4vLyBub29wXG5mdW5jdGlvbiBfbm9vcCgpIHt9IC8qIGVtcHR5ICovXG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgYSByZXNvdXJjZSBhbmQgYWxsIGNoaWxkIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG52YXIgUmVzb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBsb2FkVHlwZSAtIFRoZSBsb2FkIHR5cGUgdG8gc2V0IGl0IHRvLlxuICAgICAqL1xuICAgIFJlc291cmNlLnNldEV4dGVuc2lvbkxvYWRUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uTG9hZFR5cGUoZXh0bmFtZSwgbG9hZFR5cGUpIHtcbiAgICAgICAgc2V0RXh0TWFwKFJlc291cmNlLl9sb2FkVHlwZU1hcCwgZXh0bmFtZSwgbG9hZFR5cGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsb2FkIHR5cGUgdG8gYmUgdXNlZCBmb3IgYSBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIHRvIHNldCB0aGUgdHlwZSBmb3IsIGUuZy4gXCJwbmdcIiBvciBcImZudFwiXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0geGhyVHlwZSAtIFRoZSB4aHIgdHlwZSB0byBzZXQgaXQgdG8uXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnNldEV4dGVuc2lvblhoclR5cGUgPSBmdW5jdGlvbiBzZXRFeHRlbnNpb25YaHJUeXBlKGV4dG5hbWUsIHhoclR5cGUpIHtcbiAgICAgICAgc2V0RXh0TWFwKFJlc291cmNlLl94aHJUeXBlTWFwLCBleHRuYW1lLCB4aHJUeXBlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgZm9yIGF1ZGlvL3ZpZGVvIGxvYWRzIHlvdSBjYW4gcGFzc1xuICAgICAqICAgICAgYW4gYXJyYXkgb2Ygc291cmNlcy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IFtvcHRpb25zLmNyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG9cbiAgICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBbb3B0aW9ucy5sb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgICAqICAgICAgYmUgbG9hZGVkP1xuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFtvcHRpb25zLnhoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3dcbiAgICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLm1ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxBdWRpb0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW29wdGlvbnMubWV0YWRhdGEubG9hZEVsZW1lbnQ9bnVsbF0gLSBUaGVcbiAgICAgKiAgICAgIGVsZW1lbnQgdG8gdXNlIGZvciBsb2FkaW5nLCBpbnN0ZWFkIG9mIGNyZWF0aW5nIG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm1ldGFkYXRhLnNraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAgICogICAgICBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAgdGhhdCB5b3UgYWxyZWFkeSBhZGRlZCBsb2FkIHNvdXJjZXMgdG8uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFtvcHRpb25zLm1ldGFkYXRhLm1pbWVUeXBlXSAtIFRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgc291cmNlIGVsZW1lbnQgb2YgYSB2aWRlby9hdWRpb1xuICAgICAqICAgICAgZWxtZW50LiBJZiB0aGUgdXJscyBhcmUgYW4gYXJyYXksIHlvdSBjYW4gcGFzcyB0aGlzIGFzIGFuIGFycmF5IGFzIHdlbGwgd2hlcmUgZWFjaCBpbmRleCBpcyB0aGUgbWltZSB0eXBlIHRvXG4gICAgICogICAgICB1c2UgZm9yIHRoZSBjb3JyZXNwb25kaW5nIHVybCBpbmRleC5cbiAgICAgKi9cblxuXG4gICAgZnVuY3Rpb24gUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZXNvdXJjZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIG5hbWUgYW5kIHVybCBhcmUgcmVxdWlyZWQgZm9yIGNvbnN0cnVjdGluZyBhIHJlc291cmNlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGF0ZSBmbGFncyBvZiB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mbGFncyA9IDA7XG5cbiAgICAgICAgLy8gc2V0IGRhdGEgdXJsIGZsYWcsIG5lZWRzIHRvIGJlIHNldCBlYXJseSBmb3Igc29tZSBfZGV0ZXJtaW5lWCBjaGVja3MgdG8gd29yay5cbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwsIHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB1cmwgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGV4dGVuc2lvbiB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uID0gdGhpcy5fZ2V0RXh0ZW5zaW9uKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHRoYXQgd2FzIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2FueX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSBvcHRpb25zLmNyb3NzT3JpZ2luID09PSB0cnVlID8gJ2Fub255bW91cycgOiBvcHRpb25zLmNyb3NzT3JpZ2luO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWV0aG9kIG9mIGxvYWRpbmcgdG8gdXNlIGZvciB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5MT0FEX1RZUEV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvYWRUeXBlID0gb3B0aW9ucy5sb2FkVHlwZSB8fCB0aGlzLl9kZXRlcm1pbmVMb2FkVHlwZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSB1c2VkIHRvIGxvYWQgdGhlIHJlc291cmNlIHZpYSBYSFIuIElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueGhyVHlwZSA9IG9wdGlvbnMueGhyVHlwZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXh0cmEgaW5mbyBmb3IgbWlkZGxld2FyZSwgYW5kIGNvbnRyb2xsaW5nIHNwZWNpZmljcyBhYm91dCBob3cgdGhlIHJlc291cmNlIGxvYWRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlIHRoYXQgaWYgeW91IHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgLCB0aGUgUmVzb3VyY2UgY2xhc3MgdGFrZXMgb3duZXJzaGlwIG9mIGl0LlxuICAgICAgICAgKiBNZWFuaW5nIGl0IHdpbGwgbW9kaWZ5IGl0IGFzIGl0IHNlZXMgZml0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQXVkaW9FbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtsb2FkRWxlbWVudD1udWxsXSAtIFRoZVxuICAgICAgICAgKiAgZWxlbWVudCB0byB1c2UgZm9yIGxvYWRpbmcsIGluc3RlYWQgb2YgY3JlYXRpbmcgb25lLlxuICAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtza2lwU291cmNlPWZhbHNlXSAtIFNraXBzIGFkZGluZyBzb3VyY2UocykgdG8gdGhlIGxvYWQgZWxlbWVudC4gVGhpc1xuICAgICAgICAgKiAgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgIHRoYXQgeW91IGFscmVhZHkgYWRkZWQgbG9hZCBzb3VyY2VzXG4gICAgICAgICAqICB0by5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBvcHRpb25zLm1ldGFkYXRhIHx8IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXJyb3IgdGhhdCBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIChpZiBhbnkpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtFcnJvcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVycm9yID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFhIUiBvYmplY3QgdGhhdCB3YXMgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuIFRoaXMgaXMgb25seSBzZXRcbiAgICAgICAgICogd2hlbiBgbG9hZFR5cGVgIGlzIGBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7WE1MSHR0cFJlcXVlc3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54aHIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2hpbGQgcmVzb3VyY2VzIHRoaXMgcmVzb3VyY2Ugb3ducy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvdXJjZSB0eXBlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5UWVBFfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVU5LTk9XTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByb2dyZXNzIGNodW5rIG93bmVkIGJ5IHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyZXNzQ2h1bmsgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYGRlcXVldWVgIG1ldGhvZCB0aGF0IHdpbGwgYmUgdXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBhc3luYyBxdWV1ZSBkZXF1ZXVlIG1ldGhvZFxuICAgICAgICAgKiB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RlcXVldWUgPSBfbm9vcDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBvbiBsb2FkIGJpbmRpbmcgdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbkxvYWRCaW5kaW5nID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBjb21wbGV0ZWAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRDb21wbGV0ZSA9IHRoaXMuY29tcGxldGUuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBfb25FcnJvcmAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRPbkVycm9yID0gdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9vblByb2dyZXNzYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MgPSB0aGlzLl9vblByb2dyZXNzLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8geGhyIGNhbGxiYWNrc1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uRXJyb3IgPSB0aGlzLl94aHJPbkVycm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25BYm9ydCA9IHRoaXMuX3hock9uQWJvcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPbkxvYWQgPSB0aGlzLl94aHJPbkxvYWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYZHJPblRpbWVvdXQgPSB0aGlzLl94ZHJPblRpbWVvdXQuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSByZXNvdXJjZSBiZWluZ3MgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uU3RhcnRTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uU3RhcnQgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgZWFjaCB0aW1lIHByb2dyZXNzIG9mIHRoaXMgcmVzb3VyY2UgbG9hZCB1cGRhdGVzLlxuICAgICAgICAgKiBOb3QgYWxsIHJlc291cmNlcyB0eXBlcyBhbmQgbG9hZGVyIHN5c3RlbXMgY2FuIHN1cHBvcnQgdGhpcyBldmVudFxuICAgICAgICAgKiBzbyBzb21ldGltZXMgaXQgbWF5IG5vdCBiZSBhdmFpbGFibGUuIElmIHRoZSByZXNvdXJjZVxuICAgICAgICAgKiBpcyBiZWluZyBsb2FkZWQgb24gYSBtb2Rlcm4gYnJvd3NlciwgdXNpbmcgWEhSLCBhbmQgdGhlIHJlbW90ZSBzZXJ2ZXJcbiAgICAgICAgICogcHJvcGVybHkgc2V0cyBDb250ZW50LUxlbmd0aCBoZWFkZXJzLCB0aGVuIHRoaXMgd2lsbCBiZSBhdmFpbGFibGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblByb2dyZXNzID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgdGhpcyByZXNvdXJjZSBoYXMgbG9hZGVkLCBpZiB0aGVyZSB3YXMgYW4gZXJyb3IgaXQgd2lsbFxuICAgICAgICAgKiBiZSBpbiB0aGUgYGVycm9yYCBwcm9wZXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgYWZ0ZXIgdGhpcyByZXNvdXJjZSBoYXMgaGFkIGFsbCB0aGUgKmFmdGVyKiBtaWRkbGV3YXJlIHJ1biBvbiBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQWZ0ZXJNaWRkbGV3YXJlID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSBzdGFydHMgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICAgICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgcmVzb3VyY2UgcmVwb3J0cyBsb2FkaW5nIHByb2dyZXNzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgICAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjZW50YWdlIC0gVGhlIHByb2dyZXNzIG9mIHRoZSBsb2FkIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgICAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICAgICAqL1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3JlcyB3aGV0aGVyIG9yIG5vdCB0aGlzIHVybCBpcyBhIGRhdGEgdXJsLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogTWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLlxuICAgICAqXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIC8vIFRPRE86IENsZWFuIHRoaXMgdXAgaW4gYSB3cmFwcGVyIG9yIHNvbWV0aGluZy4uLmdyb3NzLi4uLlxuICAgICAgICBpZiAodGhpcy5kYXRhICYmIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy54aHIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZFhock9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9udGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25wcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29tcGxldGUgY2FsbGVkIGFnYWluIGZvciBhbiBhbHJlYWR5IGNvbXBsZXRlZCByZXNvdXJjZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFLCB0cnVlKTtcbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWJvcnRzIHRoZSBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UsIHdpdGggYW4gb3B0aW9uYWwgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gdXNlIGZvciB0aGUgZXJyb3JcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24gYWJvcnQobWVzc2FnZSkge1xuICAgICAgICAvLyBhYm9ydCBjYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCBpZ25vcmUgc3Vic2VxdWVudCBjYWxscy5cbiAgICAgICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3JlIGVycm9yXG4gICAgICAgIHRoaXMuZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG5cbiAgICAgICAgLy8gYWJvcnQgdGhlIGFjdHVhbCBsb2FkaW5nXG4gICAgICAgIGlmICh0aGlzLnhocikge1xuICAgICAgICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnhkcikge1xuICAgICAgICAgICAgdGhpcy54ZHIuYWJvcnQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgICAgIC8vIHNpbmdsZSBzb3VyY2VcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuc3JjKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNyYyA9IFJlc291cmNlLkVNUFRZX0dJRjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG11bHRpLXNvdXJjZVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLmRhdGEuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUNoaWxkKHRoaXMuZGF0YS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvbmUgbm93LlxuICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEtpY2tzIG9mZiBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UuIFRoaXMgbWV0aG9kIGlzIGFzeW5jaHJvbm91cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0byBjYWxsIG9uY2UgdGhlIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiBsb2FkKGNiKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKF90aGlzKTtcbiAgICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HLCB0cnVlKTtcblxuICAgICAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7XG5cbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4gPT09IGZhbHNlIHx8IHR5cGVvZiB0aGlzLmNyb3NzT3JpZ2luICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5jcm9zc09yaWdpbiA9IHRoaXMuX2RldGVybWluZUNyb3NzT3JpZ2luKHRoaXMudXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodGhpcy5sb2FkVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0U6XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5JTUFHRTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkRWxlbWVudCgnaW1hZ2UnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU86XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5BVURJTztcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgnYXVkaW8nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU86XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5WSURFTztcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSOlxuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAodXNlWGRyICYmIHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZFhkcigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRYaHIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9oYXNGbGFnID0gZnVuY3Rpb24gX2hhc0ZsYWcoZmxhZykge1xuICAgICAgICByZXR1cm4gISEodGhpcy5fZmxhZ3MgJiBmbGFnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogKFVuKVNldHMgdGhlIGZsYWcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gKHVuKXNldC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gV2hldGhlciB0byBzZXQgb3IgKHVuKXNldCB0aGUgZmxhZy5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9zZXRGbGFnID0gZnVuY3Rpb24gX3NldEZsYWcoZmxhZywgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSB2YWx1ZSA/IHRoaXMuX2ZsYWdzIHwgZmxhZyA6IHRoaXMuX2ZsYWdzICYgfmZsYWc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgYSBzaW5nbGUgc291cmNlLFxuICAgICAqIGxpa2UgYW4gSFRNTEltYWdlRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkRWxlbWVudCA9IGZ1bmN0aW9uIF9sb2FkRWxlbWVudCh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdpbWFnZScgJiYgdHlwZW9mIHdpbmRvdy5JbWFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSB0aGlzLnVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgbXVsdGlwbGUgc291cmNlcyxcbiAgICAgKiBsaWtlIGFuIEhUTUxBdWRpb0VsZW1lbnQgb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkU291cmNlRWxlbWVudCA9IGZ1bmN0aW9uIF9sb2FkU291cmNlRWxlbWVudCh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdhdWRpbycgJiYgdHlwZW9mIHdpbmRvdy5BdWRpbyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBBdWRpbygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoJ1Vuc3VwcG9ydGVkIGVsZW1lbnQ6ICcgKyB0eXBlKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIHN1cHBvcnQgZm9yIENvY29vbkpTIENhbnZhcysgcnVudGltZSwgbGFja3MgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJylcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSBBcnJheS5pc0FycmF5KHRoaXMudXJsKSA/IHRoaXMudXJsWzBdIDogdGhpcy51cmw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGhpcy51cmwpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudXJsLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmxbaV0sIEFycmF5LmlzQXJyYXkobWltZVR5cGVzKSA/IG1pbWVUeXBlc1tpXSA6IG1pbWVUeXBlcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIF9taW1lVHlwZXMgPSB0aGlzLm1ldGFkYXRhLm1pbWVUeXBlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybCwgQXJyYXkuaXNBcnJheShfbWltZVR5cGVzKSA/IF9taW1lVHlwZXNbMF0gOiBfbWltZVR5cGVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5kYXRhLmxvYWQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWE1MSHR0cFJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRYaHIgPSBmdW5jdGlvbiBfbG9hZFhocigpIHtcbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeGhyID0gdGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgICAvLyBzZXQgdGhlIHJlcXVlc3QgdHlwZSBhbmQgdXJsXG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG5cbiAgICAgICAgLy8gbG9hZCBqc29uIGFzIHRleHQgYW5kIHBhcnNlIGl0IG91cnNlbHZlcy4gV2UgZG8gdGhpcyBiZWNhdXNlIHNvbWUgYnJvd3NlcnNcbiAgICAgICAgLy8gKmNvdWdoKiBzYWZhcmkgKmNvdWdoKiBjYW4ndCBkZWFsIHdpdGggaXQuXG4gICAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04gfHwgdGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gdGhpcy54aHJUeXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuXG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIFhEb21haW5SZXF1ZXN0LiBUaGlzIGlzIGhlcmUgYmVjYXVzZSB3ZSBuZWVkIHRvIHN1cHBvcnQgSUU5IChncm9zcykuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRYZHIgPSBmdW5jdGlvbiBfbG9hZFhkcigpIHtcbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeGRyID0gdGhpcy54aHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTtcblxuICAgICAgICAvLyBYRG9tYWluUmVxdWVzdCBoYXMgYSBmZXcgcXVpcmtzLiBPY2Nhc2lvbmFsbHkgaXQgd2lsbCBhYm9ydCByZXF1ZXN0c1xuICAgICAgICAvLyBBIHdheSB0byBhdm9pZCB0aGlzIGlzIHRvIG1ha2Ugc3VyZSBBTEwgY2FsbGJhY2tzIGFyZSBzZXQgZXZlbiBpZiBub3QgdXNlZFxuICAgICAgICAvLyBNb3JlIGluZm8gaGVyZTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNTc4Njk2Ni94ZG9tYWlucmVxdWVzdC1hYm9ydHMtcG9zdC1vbi1pZS05XG4gICAgICAgIHhkci50aW1lb3V0ID0gNTAwMDtcblxuICAgICAgICB4ZHIub25lcnJvciA9IHRoaXMuX2JvdW5kWGhyT25FcnJvcjtcbiAgICAgICAgeGRyLm9udGltZW91dCA9IHRoaXMuX2JvdW5kWGRyT25UaW1lb3V0O1xuICAgICAgICB4ZHIub25wcm9ncmVzcyA9IHRoaXMuX2JvdW5kT25Qcm9ncmVzcztcbiAgICAgICAgeGRyLm9ubG9hZCA9IHRoaXMuX2JvdW5kWGhyT25Mb2FkO1xuXG4gICAgICAgIHhkci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG5cbiAgICAgICAgLy8gTm90ZTogVGhlIHhkci5zZW5kKCkgY2FsbCBpcyB3cmFwcGVkIGluIGEgdGltZW91dCB0byBwcmV2ZW50IGFuXG4gICAgICAgIC8vIGlzc3VlIHdpdGggdGhlIGludGVyZmFjZSB3aGVyZSBzb21lIHJlcXVlc3RzIGFyZSBsb3N0IGlmIG11bHRpcGxlXG4gICAgICAgIC8vIFhEb21haW5SZXF1ZXN0cyBhcmUgYmVpbmcgc2VudCBhdCB0aGUgc2FtZSB0aW1lLlxuICAgICAgICAvLyBTb21lIGluZm8gaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL3Bob3RvbnN0b3JtL3BoYXNlci9pc3N1ZXMvMTI0OFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB4ZHIuc2VuZCgpO1xuICAgICAgICB9LCAxKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNvdXJjZSB1c2VkIGluIGxvYWRpbmcgdmlhIGFuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIGVsZW1lbnQgdHlwZSAodmlkZW8gb3IgYXVkaW8pLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgc291cmNlIFVSTCB0byBsb2FkIGZyb20uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFttaW1lXSAtIFRoZSBtaW1lIHR5cGUgb2YgdGhlIHZpZGVvXG4gICAgICogQHJldHVybiB7SFRNTFNvdXJjZUVsZW1lbnR9IFRoZSBzb3VyY2UgZWxlbWVudC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9jcmVhdGVTb3VyY2UgPSBmdW5jdGlvbiBfY3JlYXRlU291cmNlKHR5cGUsIHVybCwgbWltZSkge1xuICAgICAgICBpZiAoIW1pbWUpIHtcbiAgICAgICAgICAgIG1pbWUgPSB0eXBlICsgJy8nICsgdGhpcy5fZ2V0RXh0ZW5zaW9uKHVybCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG5cbiAgICAgICAgc291cmNlLnNyYyA9IHVybDtcbiAgICAgICAgc291cmNlLnR5cGUgPSBtaW1lO1xuXG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIGxvYWQgZXJyb3JzIG91dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGVycm9yIGV2ZW50IGZyb20gdGhlIGVsZW1lbnQgdGhhdCBlbWl0cyBpdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX29uRXJyb3IgPSBmdW5jdGlvbiBfb25FcnJvcihldmVudCkge1xuICAgICAgICB0aGlzLmFib3J0KCdGYWlsZWQgdG8gbG9hZCBlbGVtZW50IHVzaW5nOiAnICsgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGEgbG9hZCBwcm9ncmVzcyBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdFByb2dyZXNzRXZlbnR8RXZlbnR9IGV2ZW50IC0gUHJvZ3Jlc3MgZXZlbnQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fb25Qcm9ncmVzcyA9IGZ1bmN0aW9uIF9vblByb2dyZXNzKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCAmJiBldmVudC5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MuZGlzcGF0Y2godGhpcywgZXZlbnQubG9hZGVkIC8gZXZlbnQudG90YWwpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdEVycm9yRXZlbnR8RXZlbnR9IGV2ZW50IC0gRXJyb3IgZXZlbnQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5feGhyT25FcnJvciA9IGZ1bmN0aW9uIF94aHJPbkVycm9yKCkge1xuICAgICAgICB2YXIgeGhyID0gdGhpcy54aHI7XG5cbiAgICAgICAgdGhpcy5hYm9ydChyZXFUeXBlKHhocikgKyAnIFJlcXVlc3QgZmFpbGVkLiBTdGF0dXM6ICcgKyB4aHIuc3RhdHVzICsgJywgdGV4dDogXCInICsgeGhyLnN0YXR1c1RleHQgKyAnXCInKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGFuIGFib3J0IGV2ZW50IGZpcmVzIGZvciB4aHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RBYm9ydEV2ZW50fSBldmVudCAtIEFib3J0IEV2ZW50XG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5feGhyT25BYm9ydCA9IGZ1bmN0aW9uIF94aHJPbkFib3J0KCkge1xuICAgICAgICB0aGlzLmFib3J0KHJlcVR5cGUodGhpcy54aHIpICsgJyBSZXF1ZXN0IHdhcyBhYm9ydGVkIGJ5IHRoZSB1c2VyLicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYSB0aW1lb3V0IGV2ZW50IGZpcmVzIGZvciB4ZHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGltZW91dCBldmVudC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl94ZHJPblRpbWVvdXQgPSBmdW5jdGlvbiBfeGRyT25UaW1lb3V0KCkge1xuICAgICAgICB0aGlzLmFib3J0KHJlcVR5cGUodGhpcy54aHIpICsgJyBSZXF1ZXN0IHRpbWVkIG91dC4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gZGF0YSBzdWNjZXNzZnVsbHkgbG9hZHMgZnJvbSBhbiB4aHIveGRyIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RMb2FkRXZlbnR8RXZlbnR9IGV2ZW50IC0gTG9hZCBldmVudFxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX3hock9uTG9hZCA9IGZ1bmN0aW9uIF94aHJPbkxvYWQoKSB7XG4gICAgICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICAgICAgdmFyIHRleHQgPSAnJztcbiAgICAgICAgdmFyIHN0YXR1cyA9IHR5cGVvZiB4aHIuc3RhdHVzID09PSAndW5kZWZpbmVkJyA/IFNUQVRVU19PSyA6IHhoci5zdGF0dXM7IC8vIFhEUiBoYXMgbm8gYC5zdGF0dXNgLCBhc3N1bWUgMjAwLlxuXG4gICAgICAgIC8vIHJlc3BvbnNlVGV4dCBpcyBhY2Nlc3NpYmxlIG9ubHkgaWYgcmVzcG9uc2VUeXBlIGlzICcnIG9yICd0ZXh0JyBhbmQgb24gb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaWYgKHhoci5yZXNwb25zZVR5cGUgPT09ICcnIHx8IHhoci5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyB8fCB0eXBlb2YgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRleHQgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RhdHVzIGNhbiBiZSAwIHdoZW4gdXNpbmcgdGhlIGBmaWxlOi8vYCBwcm90b2NvbCBzbyB3ZSBhbHNvIGNoZWNrIGlmIGEgcmVzcG9uc2UgaXMgc2V0LlxuICAgICAgICAvLyBJZiBpdCBoYXMgYSByZXNwb25zZSwgd2UgYXNzdW1lIDIwMDsgb3RoZXJ3aXNlIGEgMCBzdGF0dXMgY29kZSB3aXRoIG5vIGNvbnRlbnRzIGlzIGFuIGFib3J0ZWQgcmVxdWVzdC5cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX05PTkUgJiYgKHRleHQubGVuZ3RoID4gMCB8fCB4aHIucmVzcG9uc2VUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIpKSB7XG4gICAgICAgICAgICBzdGF0dXMgPSBTVEFUVVNfT0s7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIElFOSBidWc6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAwNDY5NzIvbXNpZS1yZXR1cm5zLXN0YXR1cy1jb2RlLW9mLTEyMjMtZm9yLWFqYXgtcmVxdWVzdFxuICAgICAgICBlbHNlIGlmIChzdGF0dXMgPT09IFNUQVRVU19JRV9CVUdfRU1QVFkpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMgPSBTVEFUVVNfRU1QVFk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXR1c1R5cGUgPSBzdGF0dXMgLyAxMDAgfCAwO1xuXG4gICAgICAgIGlmIChzdGF0dXNUeXBlID09PSBTVEFUVVNfVFlQRV9PSykge1xuICAgICAgICAgICAgLy8gaWYgdGV4dCwganVzdCByZXR1cm4gaXRcbiAgICAgICAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVEVYVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGpzb24sIHBhcnNlIGludG8ganNvbiBvYmplY3RcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTikge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSlNPTjtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hYm9ydCgnRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGxvYWRlZCBqc29uOiAnICsgZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiB4bWwsIHBhcnNlIGludG8gYW4geG1sIGRvY3VtZW50IG9yIGRpdiBlbGVtZW50XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LkRPTVBhcnNlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9tcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRvbXBhcnNlci5wYXJzZUZyb21TdHJpbmcodGV4dCwgJ3RleHQveG1sJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSB0ZXh0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRpdjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlhNTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFib3J0KCdFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIHhtbDogJyArIGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIG90aGVyIHR5cGVzIGp1c3QgcmV0dXJuIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB4aHIucmVzcG9uc2UgfHwgdGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoJ1snICsgeGhyLnN0YXR1cyArICddICcgKyB4aHIuc3RhdHVzVGV4dCArICc6ICcgKyB4aHIucmVzcG9uc2VVUkwpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICAgICAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICAgICAqIGZ1bmN0aW9uIGRvZXMgbm90aGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gdGVzdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2RldGVybWluZUNyb3NzT3JpZ2luID0gZnVuY3Rpb24gX2RldGVybWluZUNyb3NzT3JpZ2luKHVybCwgbG9jKSB7XG4gICAgICAgIC8vIGRhdGE6IGFuZCBqYXZhc2NyaXB0OiB1cmxzIGFyZSBjb25zaWRlcmVkIHNhbWUtb3JpZ2luXG4gICAgICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cbiAgICAgICAgbG9jID0gbG9jIHx8IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgICAgICBpZiAoIXRlbXBBbmNob3IpIHtcbiAgICAgICAgICAgIHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgICAgICAvLyBwYXJzZSB3aXRoIHRoZSBub2RlIHVybCBsaWIsIHdlIGNhbid0IHVzZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgYW5jaG9yIGVsZW1lbnRcbiAgICAgICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG4gICAgICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICAgICAgdXJsID0gKDAsIF9wYXJzZVVyaTIuZGVmYXVsdCkodGVtcEFuY2hvci5ocmVmLCB7IHN0cmljdE1vZGU6IHRydWUgfSk7XG5cbiAgICAgICAgdmFyIHNhbWVQb3J0ID0gIXVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSAnJyB8fCB1cmwucG9ydCA9PT0gbG9jLnBvcnQ7XG4gICAgICAgIHZhciBwcm90b2NvbCA9IHVybC5wcm90b2NvbCA/IHVybC5wcm90b2NvbCArICc6JyA6ICcnO1xuXG4gICAgICAgIC8vIGlmIGNyb3NzIG9yaWdpblxuICAgICAgICBpZiAodXJsLmhvc3QgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgcHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbCkge1xuICAgICAgICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSByZXNwb25zZVR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBUaGUgcmVzcG9uc2VUeXBlIHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9kZXRlcm1pbmVYaHJUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZVhoclR5cGUoKSB7XG4gICAgICAgIHJldHVybiBSZXNvdXJjZS5feGhyVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgbG9hZFR5cGUgb2YgYSByZXNvdXJjZSBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uIG9mIHRoZVxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7UmVzb3VyY2UuTE9BRF9UWVBFfSBUaGUgbG9hZFR5cGUgdG8gdXNlLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2RldGVybWluZUxvYWRUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZUxvYWRUeXBlKCkge1xuICAgICAgICByZXR1cm4gUmVzb3VyY2UuX2xvYWRUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgZXh0ZW5zaW9uIChzYW5zICcuJykgb2YgdGhlIGZpbGUgYmVpbmcgbG9hZGVkIGJ5IHRoZSByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgZXh0ZW5zaW9uLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2dldEV4dGVuc2lvbiA9IGZ1bmN0aW9uIF9nZXRFeHRlbnNpb24oKSB7XG4gICAgICAgIHZhciB1cmwgPSB0aGlzLnVybDtcbiAgICAgICAgdmFyIGV4dCA9ICcnO1xuXG4gICAgICAgIGlmICh0aGlzLmlzRGF0YVVybCkge1xuICAgICAgICAgICAgdmFyIHNsYXNoSW5kZXggPSB1cmwuaW5kZXhPZignLycpO1xuXG4gICAgICAgICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHNsYXNoSW5kZXggKyAxLCB1cmwuaW5kZXhPZignOycsIHNsYXNoSW5kZXgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBxdWVyeVN0YXJ0ID0gdXJsLmluZGV4T2YoJz8nKTtcbiAgICAgICAgICAgIHZhciBoYXNoU3RhcnQgPSB1cmwuaW5kZXhPZignIycpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gTWF0aC5taW4ocXVlcnlTdGFydCA+IC0xID8gcXVlcnlTdGFydCA6IHVybC5sZW5ndGgsIGhhc2hTdGFydCA+IC0xID8gaGFzaFN0YXJ0IDogdXJsLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIHVybCA9IHVybC5zdWJzdHJpbmcoMCwgaW5kZXgpO1xuICAgICAgICAgICAgZXh0ID0gdXJsLnN1YnN0cmluZyh1cmwubGFzdEluZGV4T2YoJy4nKSArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBtaW1lIHR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIHJlc3BvbnNlVHlwZSBvZlxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gdHlwZSAtIFRoZSB0eXBlIHRvIGdldCBhIG1pbWUgdHlwZSBmb3IuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgbWltZSB0eXBlIHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9nZXRNaW1lRnJvbVhoclR5cGUgPSBmdW5jdGlvbiBfZ2V0TWltZUZyb21YaHJUeXBlKHR5cGUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL29jdGV0LWJpbmFyeSc7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2Jsb2InO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24veG1sJztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVDpcbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDpcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0ZXh0L3BsYWluJztcblxuICAgICAgICB9XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhSZXNvdXJjZSwgW3tcbiAgICAgICAga2V5OiAnaXNEYXRhVXJsJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGhhcyBmaW5pc2hlZCBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIGhhcyBjb21wbGV0ZWx5XG4gICAgICAgICAqIGxvYWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdpc0NvbXBsZXRlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGlzIGN1cnJlbnRseSBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyBsb2FkaW5nLFxuICAgICAgICAgKiBhbmQgaXMgZmFsc2UgYWdhaW4gd2hlbiBjb21wbGV0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdpc0xvYWRpbmcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBSZXNvdXJjZTtcbn0oKTtcblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgcmVzb3VyY2VzIGEgcmVzb3VyY2UgY291bGQgcmVwcmVzZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJlc291cmNlO1xuUmVzb3VyY2UuU1RBVFVTX0ZMQUdTID0ge1xuICAgIE5PTkU6IDAsXG4gICAgREFUQV9VUkw6IDEgPDwgMCxcbiAgICBDT01QTEVURTogMSA8PCAxLFxuICAgIExPQURJTkc6IDEgPDwgMlxufTtcblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgcmVzb3VyY2VzIGEgcmVzb3VyY2UgY291bGQgcmVwcmVzZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuUmVzb3VyY2UuVFlQRSA9IHtcbiAgICBVTktOT1dOOiAwLFxuICAgIEpTT046IDEsXG4gICAgWE1MOiAyLFxuICAgIElNQUdFOiAzLFxuICAgIEFVRElPOiA0LFxuICAgIFZJREVPOiA1LFxuICAgIFRFWFQ6IDZcbn07XG5cbi8qKlxuICogVGhlIHR5cGVzIG9mIGxvYWRpbmcgYSByZXNvdXJjZSBjYW4gdXNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuUmVzb3VyY2UuTE9BRF9UWVBFID0ge1xuICAgIC8qKiBVc2VzIFhNTEh0dHBSZXF1ZXN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIFhIUjogMSxcbiAgICAvKiogVXNlcyBhbiBgSW1hZ2VgIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBJTUFHRTogMixcbiAgICAvKiogVXNlcyBhbiBgQXVkaW9gIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBBVURJTzogMyxcbiAgICAvKiogVXNlcyBhIGBWaWRlb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIFZJREVPOiA0XG59O1xuXG4vKipcbiAqIFRoZSBYSFIgcmVhZHkgc3RhdGVzLCB1c2VkIGludGVybmFsbHkuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRSA9IHtcbiAgICAvKiogc3RyaW5nICovXG4gICAgREVGQVVMVDogJ3RleHQnLFxuICAgIC8qKiBBcnJheUJ1ZmZlciAqL1xuICAgIEJVRkZFUjogJ2FycmF5YnVmZmVyJyxcbiAgICAvKiogQmxvYiAqL1xuICAgIEJMT0I6ICdibG9iJyxcbiAgICAvKiogRG9jdW1lbnQgKi9cbiAgICBET0NVTUVOVDogJ2RvY3VtZW50JyxcbiAgICAvKiogT2JqZWN0ICovXG4gICAgSlNPTjogJ2pzb24nLFxuICAgIC8qKiBTdHJpbmcgKi9cbiAgICBURVhUOiAndGV4dCdcbn07XG5cblJlc291cmNlLl9sb2FkVHlwZU1hcCA9IHtcbiAgICAvLyBpbWFnZXNcbiAgICBnaWY6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBwbmc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBibXA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBqcGc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBqcGVnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGlmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGlmZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHdlYnA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICB0Z2E6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBzdmc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAnc3ZnK3htbCc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSwgLy8gZm9yIFNWRyBkYXRhIHVybHNcblxuICAgIC8vIGF1ZGlvXG4gICAgbXAzOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gICAgb2dnOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gICAgd2F2OiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG5cbiAgICAvLyB2aWRlb3NcbiAgICBtcDQ6IFJlc291cmNlLkxPQURfVFlQRS5WSURFTyxcbiAgICB3ZWJtOiBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU9cbn07XG5cblJlc291cmNlLl94aHJUeXBlTWFwID0ge1xuICAgIC8vIHhtbFxuICAgIHhodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBodG06IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgIHhtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgdG14OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBzdmc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuXG4gICAgLy8gVGhpcyB3YXMgYWRkZWQgdG8gaGFuZGxlIFRpbGVkIFRpbGVzZXQgWE1MLCBidXQgLnRzeCBpcyBhbHNvIGEgVHlwZVNjcmlwdCBSZWFjdCBDb21wb25lbnQuXG4gICAgLy8gU2luY2UgaXQgaXMgd2F5IGxlc3MgbGlrZWx5IGZvciBwZW9wbGUgdG8gYmUgbG9hZGluZyBUeXBlU2NyaXB0IGZpbGVzIGluc3RlYWQgb2YgVGlsZWQgZmlsZXMsXG4gICAgLy8gdGhpcyBzaG91bGQgcHJvYmFibHkgYmUgZmluZS5cbiAgICB0c3g6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuXG4gICAgLy8gaW1hZ2VzXG4gICAgZ2lmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHBuZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBibXA6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAganBnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIGpwZWc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgdGlmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHRpZmY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgd2VicDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICB0Z2E6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG5cbiAgICAvLyBqc29uXG4gICAganNvbjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTixcblxuICAgIC8vIHRleHRcbiAgICB0ZXh0OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuICAgIHR4dDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCxcblxuICAgIC8vIGZvbnRzXG4gICAgdHRmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIsXG4gICAgb3RmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVJcbn07XG5cbi8vIFdlIGNhbid0IHNldCB0aGUgYHNyY2AgYXR0cmlidXRlIHRvIGVtcHR5IHN0cmluZywgc28gb24gYWJvcnQgd2Ugc2V0IGl0IHRvIHRoaXMgMXB4IHRyYW5zcGFyZW50IGdpZlxuUmVzb3VyY2UuRU1QVFlfR0lGID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQVAvLy93QUFBQ0g1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlDUkFFQU93PT0nO1xuXG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBzZXQgYSB2YWx1ZSBvbiBvbmUgb2YgdGhlIGV4dGVuc2lvbiBtYXBzLiBFbnN1cmVzIHRoZXJlIGlzIG5vXG4gKiBkb3QgYXQgdGhlIHN0YXJ0IG9mIHRoZSBleHRlbnNpb24uXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtvYmplY3R9IG1hcCAtIFRoZSBtYXAgdG8gc2V0IG9uLlxuICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIChvciBrZXkpIHRvIHNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgLSBUaGUgdmFsdWUgdG8gc2V0LlxuICovXG5mdW5jdGlvbiBzZXRFeHRNYXAobWFwLCBleHRuYW1lLCB2YWwpIHtcbiAgICBpZiAoZXh0bmFtZSAmJiBleHRuYW1lLmluZGV4T2YoJy4nKSA9PT0gMCkge1xuICAgICAgICBleHRuYW1lID0gZXh0bmFtZS5zdWJzdHJpbmcoMSk7XG4gICAgfVxuXG4gICAgaWYgKCFleHRuYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBtYXBbZXh0bmFtZV0gPSB2YWw7XG59XG5cbi8qKlxuICogUXVpY2sgaGVscGVyIHRvIGdldCBzdHJpbmcgeGhyIHR5cGUuXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdHxYRG9tYWluUmVxdWVzdH0geGhyIC0gVGhlIHJlcXVlc3QgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0eXBlLlxuICovXG5mdW5jdGlvbiByZXFUeXBlKHhocikge1xuICAgIHJldHVybiB4aHIudG9TdHJpbmcoKS5yZXBsYWNlKCdvYmplY3QgJywgJycpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVzb3VyY2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVJbmRpY2VzRm9yUXVhZHM7XG4vKipcbiAqIEdlbmVyaWMgTWFzayBTdGFjayBkYXRhIHN0cnVjdHVyZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBOdW1iZXIgb2YgcXVhZHNcbiAqIEByZXR1cm4ge1VpbnQxNkFycmF5fSBpbmRpY2VzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkcyhzaXplKSB7XG4gICAgLy8gdGhlIHRvdGFsIG51bWJlciBvZiBpbmRpY2VzIGluIG91ciBhcnJheSwgdGhlcmUgYXJlIDYgcG9pbnRzIHBlciBxdWFkLlxuXG4gICAgdmFyIHRvdGFsSW5kaWNlcyA9IHNpemUgKiA2O1xuXG4gICAgdmFyIGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkodG90YWxJbmRpY2VzKTtcblxuICAgIC8vIGZpbGwgdGhlIGluZGljZXMgd2l0aCB0aGUgcXVhZHMgdG8gZHJhd1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsSW5kaWNlczsgaSArPSA2LCBqICs9IDQpIHtcbiAgICAgICAgaW5kaWNlc1tpICsgMF0gPSBqICsgMDtcbiAgICAgICAgaW5kaWNlc1tpICsgMV0gPSBqICsgMTtcbiAgICAgICAgaW5kaWNlc1tpICsgMl0gPSBqICsgMjtcbiAgICAgICAgaW5kaWNlc1tpICsgM10gPSBqICsgMDtcbiAgICAgICAgaW5kaWNlc1tpICsgNF0gPSBqICsgMjtcbiAgICAgICAgaW5kaWNlc1tpICsgNV0gPSBqICsgMztcbiAgICB9XG5cbiAgICByZXR1cm4gaW5kaWNlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUluZGljZXNGb3JRdWFkcy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMnKTtcblxudmFyIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIFV0aWxpdHkgbWV0aG9kcyBmb3IgU3ByaXRlL1RleHR1cmUgdGludGluZy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDYW52YXNUaW50ZXIgPSB7XG4gICAgLyoqXG4gICAgICogQmFzaWNhbGx5IHRoaXMgbWV0aG9kIGp1c3QgbmVlZHMgYSBzcHJpdGUgYW5kIGEgY29sb3IgYW5kIHRpbnRzIHRoZSBzcHJpdGUgd2l0aCB0aGUgZ2l2ZW4gY29sb3IuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgc3ByaXRlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IFRoZSB0aW50ZWQgY2FudmFzXG4gICAgICovXG4gICAgZ2V0VGludGVkVGV4dHVyZTogZnVuY3Rpb24gZ2V0VGludGVkVGV4dHVyZShzcHJpdGUsIGNvbG9yKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuXG4gICAgICAgIGNvbG9yID0gQ2FudmFzVGludGVyLnJvdW5kQ29sb3IoY29sb3IpO1xuXG4gICAgICAgIHZhciBzdHJpbmdDb2xvciA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuXG4gICAgICAgIHRleHR1cmUudGludENhY2hlID0gdGV4dHVyZS50aW50Q2FjaGUgfHwge307XG5cbiAgICAgICAgdmFyIGNhY2hlZFRleHR1cmUgPSB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl07XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IHZvaWQgMDtcblxuICAgICAgICBpZiAoY2FjaGVkVGV4dHVyZSkge1xuICAgICAgICAgICAgaWYgKGNhY2hlZFRleHR1cmUudGludElkID09PSB0ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbnZhcyA9IHRleHR1cmUudGludENhY2hlW3N0cmluZ0NvbG9yXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbnZhcyA9IENhbnZhc1RpbnRlci5jYW52YXMgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIH1cblxuICAgICAgICBDYW52YXNUaW50ZXIudGludE1ldGhvZCh0ZXh0dXJlLCBjb2xvciwgY2FudmFzKTtcblxuICAgICAgICBjYW52YXMudGludElkID0gdGV4dHVyZS5fdXBkYXRlSUQ7XG5cbiAgICAgICAgaWYgKENhbnZhc1RpbnRlci5jb252ZXJ0VGludFRvSW1hZ2UpIHtcbiAgICAgICAgICAgIC8vIGlzIHRoaXMgYmV0dGVyP1xuICAgICAgICAgICAgdmFyIHRpbnRJbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgICAgICB0aW50SW1hZ2Uuc3JjID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl0gPSB0aW50SW1hZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl0gPSBjYW52YXM7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGNvbnZlcnRpbmcgdGhlIHRleHR1cmUgdG8gYW4gaW1hZ2UgdGhlbiB3ZSBuZWVkIHRvIGxvc2UgdGhlIHJlZmVyZW5jZSB0byB0aGUgY2FudmFzXG4gICAgICAgICAgICBDYW52YXNUaW50ZXIuY2FudmFzID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRpbnQgYSB0ZXh0dXJlIHVzaW5nIHRoZSAnbXVsdGlwbHknIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gdGludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xvciAtIHRoZSBjb2xvciB0byB1c2UgdG8gdGludCB0aGUgc3ByaXRlIHdpdGhcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY3VycmVudCBjYW52YXNcbiAgICAgKi9cbiAgICB0aW50V2l0aE11bHRpcGx5OiBmdW5jdGlvbiB0aW50V2l0aE11bHRpcGx5KHRleHR1cmUsIGNvbG9yLCBjYW52YXMpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdmFyIGNyb3AgPSB0ZXh0dXJlLl9mcmFtZS5jbG9uZSgpO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICBjcm9wLnggKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC55ICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3Aud2lkdGggKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC5oZWlnaHQgKj0gcmVzb2x1dGlvbjtcblxuICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmNlaWwoY3JvcC53aWR0aCk7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuXG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ211bHRpcGx5JztcblxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZSwgY3JvcC54LCBjcm9wLnksIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0LCAwLCAwLCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24tYXRvcCc7XG5cbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIGNyb3AueCwgY3JvcC55LCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCwgMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGludCBhIHRleHR1cmUgdXNpbmcgdGhlICdvdmVybGF5JyBvcGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGN1cnJlbnQgY2FudmFzXG4gICAgICovXG4gICAgdGludFdpdGhPdmVybGF5OiBmdW5jdGlvbiB0aW50V2l0aE92ZXJsYXkodGV4dHVyZSwgY29sb3IsIGNhbnZhcykge1xuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB2YXIgY3JvcCA9IHRleHR1cmUuX2ZyYW1lLmNsb25lKCk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGNyb3AueCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLnkgKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC53aWR0aCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLmhlaWdodCAqPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguY2VpbChjcm9wLndpZHRoKTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbChjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2NvcHknO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1hdG9wJztcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIGNyb3AueCwgY3JvcC55LCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCwgMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIC8vIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2NvcHknO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBUaW50IGEgdGV4dHVyZSBwaXhlbCBwZXIgcGl4ZWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGN1cnJlbnQgY2FudmFzXG4gICAgICovXG4gICAgdGludFdpdGhQZXJQaXhlbDogZnVuY3Rpb24gdGludFdpdGhQZXJQaXhlbCh0ZXh0dXJlLCBjb2xvciwgY2FudmFzKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHZhciBjcm9wID0gdGV4dHVyZS5fZnJhbWUuY2xvbmUoKTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG5cbiAgICAgICAgY3JvcC54ICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3AueSAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLndpZHRoICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3AuaGVpZ2h0ICo9IHJlc29sdXRpb247XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKGNyb3Aud2lkdGgpO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGNyb3AuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnY29weSc7XG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRleHR1cmUuYmFzZVRleHR1cmUuc291cmNlLCBjcm9wLngsIGNyb3AueSwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQsIDAsIDAsIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAgICAgdmFyIHJnYlZhbHVlcyA9ICgwLCBfdXRpbHMuaGV4MnJnYikoY29sb3IpO1xuICAgICAgICB2YXIgciA9IHJnYlZhbHVlc1swXTtcbiAgICAgICAgdmFyIGcgPSByZ2JWYWx1ZXNbMV07XG4gICAgICAgIHZhciBiID0gcmdiVmFsdWVzWzJdO1xuXG4gICAgICAgIHZhciBwaXhlbERhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgdmFyIHBpeGVscyA9IHBpeGVsRGF0YS5kYXRhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGl4ZWxzLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDBdICo9IHI7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDFdICo9IGc7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDJdICo9IGI7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnB1dEltYWdlRGF0YShwaXhlbERhdGEsIDAsIDApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3VuZHMgdGhlIHNwZWNpZmllZCBjb2xvciBhY2NvcmRpbmcgdG8gdGhlIENhbnZhc1RpbnRlci5jYWNoZVN0ZXBzUGVyQ29sb3JDaGFubmVsLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbG9yIC0gdGhlIGNvbG9yIHRvIHJvdW5kLCBzaG91bGQgYmUgYSBoZXggY29sb3JcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByb3VuZGVkIGNvbG9yLlxuICAgICAqL1xuICAgIHJvdW5kQ29sb3I6IGZ1bmN0aW9uIHJvdW5kQ29sb3IoY29sb3IpIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBDYW52YXNUaW50ZXIuY2FjaGVTdGVwc1BlckNvbG9yQ2hhbm5lbDtcblxuICAgICAgICB2YXIgcmdiVmFsdWVzID0gKDAsIF91dGlscy5oZXgycmdiKShjb2xvcik7XG5cbiAgICAgICAgcmdiVmFsdWVzWzBdID0gTWF0aC5taW4oMjU1LCByZ2JWYWx1ZXNbMF0gLyBzdGVwICogc3RlcCk7XG4gICAgICAgIHJnYlZhbHVlc1sxXSA9IE1hdGgubWluKDI1NSwgcmdiVmFsdWVzWzFdIC8gc3RlcCAqIHN0ZXApO1xuICAgICAgICByZ2JWYWx1ZXNbMl0gPSBNYXRoLm1pbigyNTUsIHJnYlZhbHVlc1syXSAvIHN0ZXAgKiBzdGVwKTtcblxuICAgICAgICByZXR1cm4gKDAsIF91dGlscy5yZ2IyaGV4KShyZ2JWYWx1ZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2Ygc3RlcHMgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGEgY2FwIHdoZW4gcm91bmRpbmcgY29sb3JzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBjYWNoZVN0ZXBzUGVyQ29sb3JDaGFubmVsOiA4LFxuXG4gICAgLyoqXG4gICAgICogVGludCBjYWNoZSBib29sZWFuIGZsYWcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjb252ZXJ0VGludFRvSW1hZ2U6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdGhlIENhbnZhcyBCbGVuZE1vZGVzIGFyZSBzdXBwb3J0ZWQsIGNvbnNlcXVlbnRseSB0aGUgYWJpbGl0eSB0byB0aW50IHVzaW5nIHRoZSBtdWx0aXBseSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjYW5Vc2VNdWx0aXBseTogKDAsIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMi5kZWZhdWx0KSgpLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnRpbmcgbWV0aG9kIHRoYXQgd2lsbCBiZSB1c2VkLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHR5cGUge3RpbnRNZXRob2RGdW5jdGlvblR5cGV9XG4gICAgICovXG4gICAgdGludE1ldGhvZDogMFxufTtcblxuQ2FudmFzVGludGVyLnRpbnRNZXRob2QgPSBDYW52YXNUaW50ZXIuY2FuVXNlTXVsdGlwbHkgPyBDYW52YXNUaW50ZXIudGludFdpdGhNdWx0aXBseSA6IENhbnZhc1RpbnRlci50aW50V2l0aFBlclBpeGVsO1xuXG4vKipcbiAqIFRoZSB0aW50TWV0aG9kIHR5cGUuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gKiBAY2FsbGJhY2sgdGludE1ldGhvZEZ1bmN0aW9uVHlwZVxuICogQHBhcmFtIHRleHR1cmUge1BJWEkuVGV4dHVyZX0gdGhlIHRleHR1cmUgdG8gdGludFxuICogQHBhcmFtIGNvbG9yIHtudW1iZXJ9IHRoZSBjb2xvciB0byB1c2UgdG8gdGludCB0aGUgc3ByaXRlIHdpdGhcbiAqIEBwYXJhbSBjYW52YXMge0hUTUxDYW52YXNFbGVtZW50fSB0aGUgY3VycmVudCBjYW52YXNcbiAqL1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNUaW50ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNUaW50ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0Jhc2VSZW5kZXJUZXh0dXJlID0gcmVxdWlyZSgnLi9CYXNlUmVuZGVyVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VSZW5kZXJUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VSZW5kZXJUZXh0dXJlKTtcblxudmFyIF9UZXh0dXJlMiA9IHJlcXVpcmUoJy4vVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSBSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIFJlbmRlclRleHR1cmUgc2hvdWxkIGJlIHByZWxvYWRlZFxuICogb3RoZXJ3aXNlIGJsYWNrIHJlY3RhbmdsZXMgd2lsbCBiZSBkcmF3biBpbnN0ZWFkLlxuICpcbiAqIEEgUmVuZGVyVGV4dHVyZSB0YWtlcyBhIHNuYXBzaG90IG9mIGFueSBEaXNwbGF5IE9iamVjdCBnaXZlbiB0byBpdHMgcmVuZGVyIG1ldGhvZC4gRm9yIGV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGxldCByZW5kZXJlciA9IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKDEwMjQsIDEwMjQsIHsgdmlldzogY2FudmFzLCByYXRpbzogMSB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSg4MDAsIDYwMCk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbUltYWdlKFwic3Bpbk9ial8wMS5wbmdcIik7XG4gKlxuICogc3ByaXRlLnBvc2l0aW9uLnggPSA4MDAvMjtcbiAqIHNwcml0ZS5wb3NpdGlvbi55ID0gNjAwLzI7XG4gKiBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XG4gKiBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSgxMDAsIDEwMCk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlbmRlclRleHR1cmUgPSBmdW5jdGlvbiAoX1RleHR1cmUpIHtcbiAgICBfaW5oZXJpdHMoUmVuZGVyVGV4dHVyZSwgX1RleHR1cmUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VSZW5kZXJUZXh0dXJlfSBiYXNlUmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJlciB1c2VkIGZvciB0aGlzIFJlbmRlclRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gVGhlIHJlY3RhbmdsZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzaG93XG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbmRlclRleHR1cmUpO1xuXG4gICAgICAgIC8vIHN1cHBvcnQgZm9yIGxlZ2FjeS4uXG4gICAgICAgIHZhciBfbGVnYWN5UmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAgIGlmICghKGJhc2VSZW5kZXJUZXh0dXJlIGluc3RhbmNlb2YgX0Jhc2VSZW5kZXJUZXh0dXJlMi5kZWZhdWx0KSkge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1szXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzRdO1xuXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGFuIG9sZCByZW5kZXIgdGV4dHVyZS4uXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BsZWFzZSB1c2UgUmVuZGVyVGV4dHVyZS5jcmVhdGUoJyArIHdpZHRoICsgJywgJyArIGhlaWdodCArICcpIGluc3RlYWQgb2YgdGhlIGN0b3IgZGlyZWN0bHkuJyk7XG4gICAgICAgICAgICBfbGVnYWN5UmVuZGVyZXIgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcywgbm8tY29uc29sZSAqL1xuXG4gICAgICAgICAgICBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBfQmFzZVJlbmRlclRleHR1cmUyLmRlZmF1bHQod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB0ZXh0dXJlIG9iamVjdCB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Jhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfVGV4dHVyZS5jYWxsKHRoaXMsIGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSkpO1xuXG4gICAgICAgIF90aGlzLmxlZ2FjeVJlbmRlcmVyID0gX2xlZ2FjeVJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZhbGlkID0gdHJ1ZTtcblxuICAgICAgICBfdGhpcy5fdXBkYXRlVXZzKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBSZW5kZXJUZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBkb05vdFJlc2l6ZUJhc2VUZXh0dXJlIC0gU2hvdWxkIHRoZSBiYXNlVGV4dHVyZS53aWR0aCBhbmQgaGVpZ2h0IHZhbHVlcyBiZSByZXNpemVkIGFzIHdlbGw/XG4gICAgICovXG5cblxuICAgIFJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0LCBkb05vdFJlc2l6ZUJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICAgICAgLy8gVE9ETyAtIGNvdWxkIGJlIG5vdCByZXF1aXJlZC4uXG4gICAgICAgIHRoaXMudmFsaWQgPSB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMDtcblxuICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IHRoaXMub3JpZy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSB0aGlzLm9yaWcuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIGlmICghZG9Ob3RSZXNpemVCYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGVVdnMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0xMDBdIC0gVGhlIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgUmVuZGVyVGV4dHVyZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVuZGVyVGV4dHVyZShuZXcgX0Jhc2VSZW5kZXJUZXh0dXJlMi5kZWZhdWx0KHdpZHRoLCBoZWlnaHQsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbikpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUmVuZGVyVGV4dHVyZTtcbn0oX1RleHR1cmUzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZW5kZXJUZXh0dXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyVGV4dHVyZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLlRpY2tlciA9IGV4cG9ydHMuc2hhcmVkID0gdW5kZWZpbmVkO1xuXG52YXIgX1RpY2tlciA9IHJlcXVpcmUoJy4vVGlja2VyJyk7XG5cbnZhciBfVGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpY2tlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogVGhlIHNoYXJlZCB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGV9LlxuICogYW5kIGJ5IHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcn0uXG4gKiBUaGUgcHJvcGVydHkge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNhdXRvU3RhcnR9IGlzIHNldCB0byBgdHJ1ZWBcbiAqIGZvciB0aGlzIGluc3RhbmNlLiBQbGVhc2UgZm9sbG93IHRoZSBleGFtcGxlcyBmb3IgdXNhZ2UsIGluY2x1ZGluZ1xuICogaG93IHRvIG9wdC1vdXQgb2YgYXV0by1zdGFydGluZyB0aGUgc2hhcmVkIHRpY2tlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogbGV0IHRpY2tlciA9IFBJWEkudGlja2VyLnNoYXJlZDtcbiAqIC8vIFNldCB0aGlzIHRvIHByZXZlbnQgc3RhcnRpbmcgdGhpcyB0aWNrZXIgd2hlbiBsaXN0ZW5lcnMgYXJlIGFkZGVkLlxuICogLy8gQnkgZGVmYXVsdCB0aGlzIGlzIHRydWUgb25seSBmb3IgdGhlIFBJWEkudGlja2VyLnNoYXJlZCBpbnN0YW5jZS5cbiAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAqIC8vIEZZSSwgY2FsbCB0aGlzIHRvIGVuc3VyZSB0aGUgdGlja2VyIGlzIHN0b3BwZWQuIEl0IHNob3VsZCBiZSBzdG9wcGVkXG4gKiAvLyBpZiB5b3UgaGF2ZSBub3QgYXR0ZW1wdGVkIHRvIHJlbmRlciBhbnl0aGluZyB5ZXQuXG4gKiB0aWNrZXIuc3RvcCgpO1xuICogLy8gQ2FsbCB0aGlzIHdoZW4geW91IGFyZSByZWFkeSBmb3IgYSBydW5uaW5nIHNoYXJlZCB0aWNrZXIuXG4gKiB0aWNrZXIuc3RhcnQoKTtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gWW91IG1heSB1c2UgdGhlIHNoYXJlZCB0aWNrZXIgdG8gcmVuZGVyLi4uXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcig4MDAsIDYwMCk7XG4gKiBsZXQgc3RhZ2UgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGxldCBpbnRlcmFjdGlvbk1hbmFnZXIgPSBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcihyZW5kZXJlcik7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlbmRlcmVyLnZpZXcpO1xuICogdGlja2VyLmFkZChmdW5jdGlvbiAodGltZSkge1xuICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gT3IgeW91IGNhbiBqdXN0IHVwZGF0ZSBpdCBtYW51YWxseS5cbiAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAqIHRpY2tlci5zdG9wKCk7XG4gKiBmdW5jdGlvbiBhbmltYXRlKHRpbWUpIHtcbiAqICAgICB0aWNrZXIudXBkYXRlKHRpbWUpO1xuICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gKiAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICogfVxuICogYW5pbWF0ZShwZXJmb3JtYW5jZS5ub3coKSk7XG4gKlxuICogQHR5cGUge1BJWEkudGlja2VyLlRpY2tlcn1cbiAqIEBtZW1iZXJvZiBQSVhJLnRpY2tlclxuICovXG52YXIgc2hhcmVkID0gbmV3IF9UaWNrZXIyLmRlZmF1bHQoKTtcblxuc2hhcmVkLmF1dG9TdGFydCA9IHRydWU7XG5zaGFyZWQuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gcHJvdGVjdCBkZXN0cm95aW5nIHNoYXJlZCB0aWNrZXJcbiAgLy8gdGhpcyBpcyB1c2VkIGJ5IG90aGVyIGludGVybmFsIHN5c3RlbXNcbiAgLy8gbGlrZSBBbmltYXRlZFNwcml0ZSBhbmQgSW50ZXJhY3Rpb25NYW5hZ2VyXG59O1xuXG4vKipcbiAqIFRoaXMgbmFtZXNwYWNlIGNvbnRhaW5zIGFuIEFQSSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCBQSVhJJ3MgaW50ZXJuYWwgZ2xvYmFsIHVwZGF0ZSBsb29wLlxuICpcbiAqIFRoaXMgdGlja2VyIGlzIHVzZWQgZm9yIHJlbmRlcmluZywge0BsaW5rIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlIEFuaW1hdGVkU3ByaXRlfSxcbiAqIHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciBJbnRlcmFjdGlvbk1hbmFnZXJ9IGFuZCBtYW55IG90aGVyIHRpbWUtYmFzZWQgUElYSSBzeXN0ZW1zLlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHRpY2tlciA9IG5ldyBQSVhJLnRpY2tlci5UaWNrZXIoKTtcbiAqIHRpY2tlci5zdG9wKCk7XG4gKiB0aWNrZXIuYWRkKChkZWx0YVRpbWUpID0+IHtcbiAqICAgLy8gZG8gc29tZXRoaW5nIGV2ZXJ5IGZyYW1lXG4gKiB9KTtcbiAqIHRpY2tlci5zdGFydCgpO1xuICogQG5hbWVzcGFjZSBQSVhJLnRpY2tlclxuICovXG5leHBvcnRzLnNoYXJlZCA9IHNoYXJlZDtcbmV4cG9ydHMuVGlja2VyID0gX1RpY2tlcjIuZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8qKlxuICogQml0IHR3aWRkbGluZyBoYWNrcyBmb3IgSmF2YVNjcmlwdC5cbiAqXG4gKiBBdXRob3I6IE1pa29sYSBMeXNlbmtvXG4gKlxuICogUG9ydGVkIGZyb20gU3RhbmZvcmQgYml0IHR3aWRkbGluZyBoYWNrIGxpYnJhcnk6XG4gKiAgICBodHRwOi8vZ3JhcGhpY3Muc3RhbmZvcmQuZWR1L35zZWFuZGVyL2JpdGhhY2tzLmh0bWxcbiAqL1xuXG5cInVzZSBzdHJpY3RcIjsgXCJ1c2UgcmVzdHJpY3RcIjtcblxuLy9OdW1iZXIgb2YgYml0cyBpbiBhbiBpbnRlZ2VyXG52YXIgSU5UX0JJVFMgPSAzMjtcblxuLy9Db25zdGFudHNcbmV4cG9ydHMuSU5UX0JJVFMgID0gSU5UX0JJVFM7XG5leHBvcnRzLklOVF9NQVggICA9ICAweDdmZmZmZmZmO1xuZXhwb3J0cy5JTlRfTUlOICAgPSAtMTw8KElOVF9CSVRTLTEpO1xuXG4vL1JldHVybnMgLTEsIDAsICsxIGRlcGVuZGluZyBvbiBzaWduIG9mIHhcbmV4cG9ydHMuc2lnbiA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuICh2ID4gMCkgLSAodiA8IDApO1xufVxuXG4vL0NvbXB1dGVzIGFic29sdXRlIHZhbHVlIG9mIGludGVnZXJcbmV4cG9ydHMuYWJzID0gZnVuY3Rpb24odikge1xuICB2YXIgbWFzayA9IHYgPj4gKElOVF9CSVRTLTEpO1xuICByZXR1cm4gKHYgXiBtYXNrKSAtIG1hc2s7XG59XG5cbi8vQ29tcHV0ZXMgbWluaW11bSBvZiBpbnRlZ2VycyB4IGFuZCB5XG5leHBvcnRzLm1pbiA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgcmV0dXJuIHkgXiAoKHggXiB5KSAmIC0oeCA8IHkpKTtcbn1cblxuLy9Db21wdXRlcyBtYXhpbXVtIG9mIGludGVnZXJzIHggYW5kIHlcbmV4cG9ydHMubWF4ID0gZnVuY3Rpb24oeCwgeSkge1xuICByZXR1cm4geCBeICgoeCBeIHkpICYgLSh4IDwgeSkpO1xufVxuXG4vL0NoZWNrcyBpZiBhIG51bWJlciBpcyBhIHBvd2VyIG9mIHR3b1xuZXhwb3J0cy5pc1BvdzIgPSBmdW5jdGlvbih2KSB7XG4gIHJldHVybiAhKHYgJiAodi0xKSkgJiYgKCEhdik7XG59XG5cbi8vQ29tcHV0ZXMgbG9nIGJhc2UgMiBvZiB2XG5leHBvcnRzLmxvZzIgPSBmdW5jdGlvbih2KSB7XG4gIHZhciByLCBzaGlmdDtcbiAgciA9ICAgICAodiA+IDB4RkZGRikgPDwgNDsgdiA+Pj49IHI7XG4gIHNoaWZ0ID0gKHYgPiAweEZGICApIDw8IDM7IHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcbiAgc2hpZnQgPSAodiA+IDB4RiAgICkgPDwgMjsgdiA+Pj49IHNoaWZ0OyByIHw9IHNoaWZ0O1xuICBzaGlmdCA9ICh2ID4gMHgzICAgKSA8PCAxOyB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG4gIHJldHVybiByIHwgKHYgPj4gMSk7XG59XG5cbi8vQ29tcHV0ZXMgbG9nIGJhc2UgMTAgb2YgdlxuZXhwb3J0cy5sb2cxMCA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuICAodiA+PSAxMDAwMDAwMDAwKSA/IDkgOiAodiA+PSAxMDAwMDAwMDApID8gOCA6ICh2ID49IDEwMDAwMDAwKSA/IDcgOlxuICAgICAgICAgICh2ID49IDEwMDAwMDApID8gNiA6ICh2ID49IDEwMDAwMCkgPyA1IDogKHYgPj0gMTAwMDApID8gNCA6XG4gICAgICAgICAgKHYgPj0gMTAwMCkgPyAzIDogKHYgPj0gMTAwKSA/IDIgOiAodiA+PSAxMCkgPyAxIDogMDtcbn1cblxuLy9Db3VudHMgbnVtYmVyIG9mIGJpdHNcbmV4cG9ydHMucG9wQ291bnQgPSBmdW5jdGlvbih2KSB7XG4gIHYgPSB2IC0gKCh2ID4+PiAxKSAmIDB4NTU1NTU1NTUpO1xuICB2ID0gKHYgJiAweDMzMzMzMzMzKSArICgodiA+Pj4gMikgJiAweDMzMzMzMzMzKTtcbiAgcmV0dXJuICgodiArICh2ID4+PiA0KSAmIDB4RjBGMEYwRikgKiAweDEwMTAxMDEpID4+PiAyNDtcbn1cblxuLy9Db3VudHMgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zXG5mdW5jdGlvbiBjb3VudFRyYWlsaW5nWmVyb3Modikge1xuICB2YXIgYyA9IDMyO1xuICB2ICY9IC12O1xuICBpZiAodikgYy0tO1xuICBpZiAodiAmIDB4MDAwMEZGRkYpIGMgLT0gMTY7XG4gIGlmICh2ICYgMHgwMEZGMDBGRikgYyAtPSA4O1xuICBpZiAodiAmIDB4MEYwRjBGMEYpIGMgLT0gNDtcbiAgaWYgKHYgJiAweDMzMzMzMzMzKSBjIC09IDI7XG4gIGlmICh2ICYgMHg1NTU1NTU1NSkgYyAtPSAxO1xuICByZXR1cm4gYztcbn1cbmV4cG9ydHMuY291bnRUcmFpbGluZ1plcm9zID0gY291bnRUcmFpbGluZ1plcm9zO1xuXG4vL1JvdW5kcyB0byBuZXh0IHBvd2VyIG9mIDJcbmV4cG9ydHMubmV4dFBvdzIgPSBmdW5jdGlvbih2KSB7XG4gIHYgKz0gdiA9PT0gMDtcbiAgLS12O1xuICB2IHw9IHYgPj4+IDE7XG4gIHYgfD0gdiA+Pj4gMjtcbiAgdiB8PSB2ID4+PiA0O1xuICB2IHw9IHYgPj4+IDg7XG4gIHYgfD0gdiA+Pj4gMTY7XG4gIHJldHVybiB2ICsgMTtcbn1cblxuLy9Sb3VuZHMgZG93biB0byBwcmV2aW91cyBwb3dlciBvZiAyXG5leHBvcnRzLnByZXZQb3cyID0gZnVuY3Rpb24odikge1xuICB2IHw9IHYgPj4+IDE7XG4gIHYgfD0gdiA+Pj4gMjtcbiAgdiB8PSB2ID4+PiA0O1xuICB2IHw9IHYgPj4+IDg7XG4gIHYgfD0gdiA+Pj4gMTY7XG4gIHJldHVybiB2IC0gKHY+Pj4xKTtcbn1cblxuLy9Db21wdXRlcyBwYXJpdHkgb2Ygd29yZFxuZXhwb3J0cy5wYXJpdHkgPSBmdW5jdGlvbih2KSB7XG4gIHYgXj0gdiA+Pj4gMTY7XG4gIHYgXj0gdiA+Pj4gODtcbiAgdiBePSB2ID4+PiA0O1xuICB2ICY9IDB4ZjtcbiAgcmV0dXJuICgweDY5OTYgPj4+IHYpICYgMTtcbn1cblxudmFyIFJFVkVSU0VfVEFCTEUgPSBuZXcgQXJyYXkoMjU2KTtcblxuKGZ1bmN0aW9uKHRhYikge1xuICBmb3IodmFyIGk9MDsgaTwyNTY7ICsraSkge1xuICAgIHZhciB2ID0gaSwgciA9IGksIHMgPSA3O1xuICAgIGZvciAodiA+Pj49IDE7IHY7IHYgPj4+PSAxKSB7XG4gICAgICByIDw8PSAxO1xuICAgICAgciB8PSB2ICYgMTtcbiAgICAgIC0tcztcbiAgICB9XG4gICAgdGFiW2ldID0gKHIgPDwgcykgJiAweGZmO1xuICB9XG59KShSRVZFUlNFX1RBQkxFKTtcblxuLy9SZXZlcnNlIGJpdHMgaW4gYSAzMiBiaXQgd29yZFxuZXhwb3J0cy5yZXZlcnNlID0gZnVuY3Rpb24odikge1xuICByZXR1cm4gIChSRVZFUlNFX1RBQkxFWyB2ICAgICAgICAgJiAweGZmXSA8PCAyNCkgfFxuICAgICAgICAgIChSRVZFUlNFX1RBQkxFWyh2ID4+PiA4KSAgJiAweGZmXSA8PCAxNikgfFxuICAgICAgICAgIChSRVZFUlNFX1RBQkxFWyh2ID4+PiAxNikgJiAweGZmXSA8PCA4KSAgfFxuICAgICAgICAgICBSRVZFUlNFX1RBQkxFWyh2ID4+PiAyNCkgJiAweGZmXTtcbn1cblxuLy9JbnRlcmxlYXZlIGJpdHMgb2YgMiBjb29yZGluYXRlcyB3aXRoIDE2IGJpdHMuICBVc2VmdWwgZm9yIGZhc3QgcXVhZHRyZWUgY29kZXNcbmV4cG9ydHMuaW50ZXJsZWF2ZTIgPSBmdW5jdGlvbih4LCB5KSB7XG4gIHggJj0gMHhGRkZGO1xuICB4ID0gKHggfCAoeCA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICB4ID0gKHggfCAoeCA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICB4ID0gKHggfCAoeCA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gIHkgJj0gMHhGRkZGO1xuICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICB5ID0gKHkgfCAoeSA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICB5ID0gKHkgfCAoeSA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gIHJldHVybiB4IHwgKHkgPDwgMSk7XG59XG5cbi8vRXh0cmFjdHMgdGhlIG50aCBpbnRlcmxlYXZlZCBjb21wb25lbnRcbmV4cG9ydHMuZGVpbnRlcmxlYXZlMiA9IGZ1bmN0aW9uKHYsIG4pIHtcbiAgdiA9ICh2ID4+PiBuKSAmIDB4NTU1NTU1NTU7XG4gIHYgPSAodiB8ICh2ID4+PiAxKSkgICYgMHgzMzMzMzMzMztcbiAgdiA9ICh2IHwgKHYgPj4+IDIpKSAgJiAweDBGMEYwRjBGO1xuICB2ID0gKHYgfCAodiA+Pj4gNCkpICAmIDB4MDBGRjAwRkY7XG4gIHYgPSAodiB8ICh2ID4+PiAxNikpICYgMHgwMDBGRkZGO1xuICByZXR1cm4gKHYgPDwgMTYpID4+IDE2O1xufVxuXG5cbi8vSW50ZXJsZWF2ZSBiaXRzIG9mIDMgY29vcmRpbmF0ZXMsIGVhY2ggd2l0aCAxMCBiaXRzLiAgVXNlZnVsIGZvciBmYXN0IG9jdHJlZSBjb2Rlc1xuZXhwb3J0cy5pbnRlcmxlYXZlMyA9IGZ1bmN0aW9uKHgsIHksIHopIHtcbiAgeCAmPSAweDNGRjtcbiAgeCAgPSAoeCB8ICh4PDwxNikpICYgNDI3ODE5MDMzNTtcbiAgeCAgPSAoeCB8ICh4PDw4KSkgICYgMjUxNzE5Njk1O1xuICB4ICA9ICh4IHwgKHg8PDQpKSAgJiAzMjcyMzU2MDM1O1xuICB4ICA9ICh4IHwgKHg8PDIpKSAgJiAxMjI3MTMzNTEzO1xuXG4gIHkgJj0gMHgzRkY7XG4gIHkgID0gKHkgfCAoeTw8MTYpKSAmIDQyNzgxOTAzMzU7XG4gIHkgID0gKHkgfCAoeTw8OCkpICAmIDI1MTcxOTY5NTtcbiAgeSAgPSAoeSB8ICh5PDw0KSkgICYgMzI3MjM1NjAzNTtcbiAgeSAgPSAoeSB8ICh5PDwyKSkgICYgMTIyNzEzMzUxMztcbiAgeCB8PSAoeSA8PCAxKTtcbiAgXG4gIHogJj0gMHgzRkY7XG4gIHogID0gKHogfCAoejw8MTYpKSAmIDQyNzgxOTAzMzU7XG4gIHogID0gKHogfCAoejw8OCkpICAmIDI1MTcxOTY5NTtcbiAgeiAgPSAoeiB8ICh6PDw0KSkgICYgMzI3MjM1NjAzNTtcbiAgeiAgPSAoeiB8ICh6PDwyKSkgICYgMTIyNzEzMzUxMztcbiAgXG4gIHJldHVybiB4IHwgKHogPDwgMik7XG59XG5cbi8vRXh0cmFjdHMgbnRoIGludGVybGVhdmVkIGNvbXBvbmVudCBvZiBhIDMtdHVwbGVcbmV4cG9ydHMuZGVpbnRlcmxlYXZlMyA9IGZ1bmN0aW9uKHYsIG4pIHtcbiAgdiA9ICh2ID4+PiBuKSAgICAgICAmIDEyMjcxMzM1MTM7XG4gIHYgPSAodiB8ICh2Pj4+MikpICAgJiAzMjcyMzU2MDM1O1xuICB2ID0gKHYgfCAodj4+PjQpKSAgICYgMjUxNzE5Njk1O1xuICB2ID0gKHYgfCAodj4+PjgpKSAgICYgNDI3ODE5MDMzNTtcbiAgdiA9ICh2IHwgKHY+Pj4xNikpICAmIDB4M0ZGO1xuICByZXR1cm4gKHY8PDIyKT4+MjI7XG59XG5cbi8vQ29tcHV0ZXMgbmV4dCBjb21iaW5hdGlvbiBpbiBjb2xleGljb2dyYXBoaWMgb3JkZXIgKHRoaXMgaXMgbWlzdGFrZW5seSBjYWxsZWQgbmV4dFBlcm11dGF0aW9uIG9uIHRoZSBiaXQgdHdpZGRsaW5nIGhhY2tzIHBhZ2UpXG5leHBvcnRzLm5leHRDb21iaW5hdGlvbiA9IGZ1bmN0aW9uKHYpIHtcbiAgdmFyIHQgPSB2IHwgKHYgLSAxKTtcbiAgcmV0dXJuICh0ICsgMSkgfCAoKCh+dCAmIC1+dCkgLSAxKSA+Pj4gKGNvdW50VHJhaWxpbmdaZXJvcyh2KSArIDEpKTtcbn1cblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9UZXh0dXJlID0gcmVxdWlyZSgnLi4vdGV4dHVyZXMvVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSk7XG5cbnZhciBfQ29udGFpbmVyMiA9IHJlcXVpcmUoJy4uL2Rpc3BsYXkvQ29udGFpbmVyJyk7XG5cbnZhciBfQ29udGFpbmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhaW5lcjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgX21hdGguUG9pbnQoKTtcblxuLyoqXG4gKiBUaGUgU3ByaXRlIG9iamVjdCBpcyB0aGUgYmFzZSBmb3IgYWxsIHRleHR1cmVkIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgdG8gdGhlIHNjcmVlblxuICpcbiAqIEEgc3ByaXRlIGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYW4gaW1hZ2UgbGlrZSB0aGlzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlLmZyb21JbWFnZSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgU3ByaXRlID0gZnVuY3Rpb24gKF9Db250YWluZXIpIHtcbiAgICBfaW5oZXJpdHMoU3ByaXRlLCBfQ29udGFpbmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgZm9yIHRoaXMgc3ByaXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlKHRleHR1cmUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNwcml0ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNob3Igc2V0cyB0aGUgb3JpZ2luIHBvaW50IG9mIHRoZSB0ZXh0dXJlLlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyAwLDAgdGhpcyBtZWFucyB0aGUgdGV4dHVyZSdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDAuNSwwLjUgbWVhbnMgdGhlIHRleHR1cmUncyBvcmlnaW4gaXMgY2VudGVyZWRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDEsMSB3b3VsZCBtZWFuIHRoZSB0ZXh0dXJlJ3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29udGFpbmVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLl9hbmNob3IgPSBuZXcgX21hdGguT2JzZXJ2YWJsZVBvaW50KF90aGlzLl9vbkFuY2hvclVwZGF0ZSwgX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBzcHJpdGUgaXMgdXNpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fd2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBzcHJpdGUgKHRoaXMgaXMgaW5pdGlhbGx5IHNldCBieSB0aGUgdGV4dHVyZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3RpbnRSR0IgPSBudWxsO1xuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNoYWRlciB0aGF0IHdpbGwgYmUgdXNlZCB0byByZW5kZXIgdGhlIHNwcml0ZS4gU2V0IHRvIG51bGwgdG8gcmVtb3ZlIGEgY3VycmVudCBzaGFkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyfFBJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gaW50ZXJuYWwgY2FjaGVkIHZhbHVlIG9mIHRoZSB0aW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLy8gY2FsbCB0ZXh0dXJlIHNldHRlclxuICAgICAgICBfdGhpcy50ZXh0dXJlID0gdGV4dHVyZSB8fCBfVGV4dHVyZTIuZGVmYXVsdC5FTVBUWTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBpcyB1c2VkIHRvIHN0b3JlIHRoZSB2ZXJ0ZXggZGF0YSBvZiB0aGUgc3ByaXRlIChiYXNpY2FsbHkgYSBxdWFkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QgSUYgaXQgaXMgYSB0cmltbWVkIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIF90aGlzLl90ZXh0dXJlSUQgPSAtMTtcblxuICAgICAgICBfdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gLTE7XG4gICAgICAgIF90aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXJXZWJHTCcgJiAnX3JlbmRlckNhbnZhcycgbWV0aG9kcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnc3ByaXRlJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9ICdzcHJpdGUnO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgdGV4dHVyZSBpcyB1cGRhdGVkLCB0aGlzIGV2ZW50IHdpbGwgZmlyZSB0byB1cGRhdGUgdGhlIHNjYWxlIGFuZCBmcmFtZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gX29uVGV4dHVyZVVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLy8gc28gaWYgX3dpZHRoIGlzIDAgdGhlbiB3aWR0aCB3YXMgbm90IHNldC4uXG4gICAgICAgIGlmICh0aGlzLl93aWR0aCkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gKDAsIF91dGlscy5zaWduKSh0aGlzLnNjYWxlLngpICogdGhpcy5fd2lkdGggLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSAoMCwgX3V0aWxzLnNpZ24pKHRoaXMuc2NhbGUueSkgKiB0aGlzLl9oZWlnaHQgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBhbmNob3IgcG9zaXRpb24gdXBkYXRlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuX29uQW5jaG9yVXBkYXRlID0gZnVuY3Rpb24gX29uQW5jaG9yVXBkYXRlKCkge1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzLCBzdG9yZSBpdCBpbiB2ZXJ0ZXhEYXRhXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVWZXJ0aWNlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlSUQgPT09IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRDtcblxuICAgICAgICAvLyBzZXQgdGhlIHZlcnRleCBkYXRhXG5cbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG5cbiAgICAgICAgdmFyIHcwID0gMDtcbiAgICAgICAgdmFyIHcxID0gMDtcbiAgICAgICAgdmFyIGgwID0gMDtcbiAgICAgICAgdmFyIGgxID0gMDtcblxuICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkIGFuZCBpcyBub3QgYSB0aWxpbmdzcHJpdGUgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGUgZXh0cmFcbiAgICAgICAgICAgIC8vIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuXG4gICAgICAgICAgICB3MSA9IHRyaW0ueCAtIGFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgICAgICB3MCA9IHcxICsgdHJpbS53aWR0aDtcblxuICAgICAgICAgICAgaDEgPSB0cmltLnkgLSBhbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHcxID0gLWFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgICAgICB3MCA9IHcxICsgb3JpZy53aWR0aDtcblxuICAgICAgICAgICAgaDEgPSAtYW5jaG9yLl95ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICBoMCA9IGgxICsgb3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gYSAqIHcxICsgYyAqIGgxICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbMV0gPSBkICogaDEgKyBiICogdzEgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gYSAqIHcwICsgYyAqIGgxICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSBkICogaDEgKyBiICogdzAgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gYSAqIHcwICsgYyAqIGgwICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSBkICogaDAgKyBiICogdzAgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gYSAqIHcxICsgYyAqIGgwICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbN10gPSBkICogaDAgKyBiICogdzEgKyB0eTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzIGZvciBhIG5vbiB0ZXh0dXJlIHdpdGggYSB0cmltLiBzdG9yZSBpdCBpbiB2ZXJ0ZXhUcmltbWVkRGF0YVxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCB0aGUgdHJ1ZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIGEgdHJpbW1lZCB0ZXh0dXJlIGlzIHJlc3BlY3RlZFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLmNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZlcnRleFRyaW1tZWREYXRhKSB7XG4gICAgICAgICAgICB0aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEICYmIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPT09IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEO1xuXG4gICAgICAgIC8vIGxldHMgZG8gc29tZSBzcGVjaWFsIHRyaW0gY29kZSFcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4VHJpbW1lZERhdGE7XG4gICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuXG4gICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIHRoZSBuZXcgdW50cmltbWVkIGJvdW5kcy4uXG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcblxuICAgICAgICB2YXIgdzEgPSAtYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgdmFyIHcwID0gdzEgKyBvcmlnLndpZHRoO1xuXG4gICAgICAgIHZhciBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgdmFyIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gYSAqIHcxICsgYyAqIGgxICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbMV0gPSBkICogaDEgKyBiICogdzEgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gYSAqIHcwICsgYyAqIGgxICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSBkICogaDEgKyBiICogdzAgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gYSAqIHcwICsgYyAqIGgwICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSBkICogaDAgKyBiICogdzAgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gYSAqIHcxICsgYyAqIGgwICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbN10gPSBkICogaDAgKyBiICogdzEgKyB0eTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgKlxuICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICpcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgd2ViZ2wgcmVuZGVyZXIgdG8gdXNlLlxuICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcblxuICAgICAgICByZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgKlxuICAgICogQHByaXZhdGVcbiAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcygpIHtcbiAgICAgICAgdmFyIHRyaW0gPSB0aGlzLl90ZXh0dXJlLnRyaW07XG4gICAgICAgIHZhciBvcmlnID0gdGhpcy5fdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgIC8vIEZpcnN0IGxldHMgY2hlY2sgdG8gc2VlIGlmIHRoZSBjdXJyZW50IHRleHR1cmUgaGFzIGEgdHJpbS4uXG4gICAgICAgIGlmICghdHJpbSB8fCB0cmltLndpZHRoID09PSBvcmlnLndpZHRoICYmIHRyaW0uaGVpZ2h0ID09PSBvcmlnLmhlaWdodCkge1xuICAgICAgICAgICAgLy8gbm8gdHJpbSEgbGV0cyB1c2UgdGhlIHVzdWFsIGNhbGN1bGF0aW9ucy4uXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbGV0cyBjYWxjdWxhdGUgYSBzcGVjaWFsIHRyaW1tZWQgYm91bmRzLi4uXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gZ2V0TG9jYWxCb3VuZHMocmVjdCkge1xuICAgICAgICAvLyB3ZSBjYW4gZG8gYSBmYXN0IGxvY2FsIGJvdW5kcyBpZiB0aGUgc3ByaXRlIGhhcyBubyBjaGlsZHJlbiFcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG5cbiAgICAgICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfQ29udGFpbmVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIHNwcml0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgIHZhciB5MSA9IDA7XG5cbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aCkge1xuICAgICAgICAgICAgeTEgPSAtaGVpZ2h0ICogdGhpcy5hbmNob3IueTtcblxuICAgICAgICAgICAgaWYgKHRlbXBQb2ludC55ID49IHkxICYmIHRlbXBQb2ludC55IDwgeTEgKyBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBzcHJpdGUgYW5kIG9wdGlvbmFsbHkgaXRzIHRleHR1cmUgYW5kIGNoaWxkcmVuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShvcHRpb25zKSB7XG4gICAgICAgIF9Db250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9hbmNob3IgPSBudWxsO1xuXG4gICAgICAgIHZhciBkZXN0cm95VGV4dHVyZSA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLnRleHR1cmU7XG5cbiAgICAgICAgaWYgKGRlc3Ryb3lUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgZGVzdHJveUJhc2VUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUuZGVzdHJveSghIWRlc3Ryb3lCYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBzb21lIGhlbHBlciBmdW5jdGlvbnMuLlxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBzcHJpdGUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ3xQSVhJLkJhc2VUZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBUaGUgbmV3bHkgY3JlYXRlZCBzcHJpdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLmZyb20gPSBmdW5jdGlvbiBmcm9tKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZShfVGV4dHVyZTIuZGVmYXVsdC5mcm9tKHNvdXJjZSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgc3ByaXRlIHRoYXQgd2lsbCBjb250YWluIGEgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlQ2FjaGUgYmFzZWQgb24gdGhlIGZyYW1lSWRcbiAgICAgKiBUaGUgZnJhbWUgaWRzIGFyZSBjcmVhdGVkIHdoZW4gYSBUZXh0dXJlIHBhY2tlciBmaWxlIGhhcyBiZWVuIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFtZUlkIC0gVGhlIGZyYW1lIElkIG9mIHRoZSB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBBIG5ldyBTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGZyYW1lSWRcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLmZyb21GcmFtZSA9IGZ1bmN0aW9uIGZyb21GcmFtZShmcmFtZUlkKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gX3V0aWxzLlRleHR1cmVDYWNoZVtmcmFtZUlkXTtcblxuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGZyYW1lSWQgXCInICsgZnJhbWVJZCArICdcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGUgdGV4dHVyZSBjYWNoZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGJhc2VkIG9uIGFuIGltYWdlIHVybFxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VJZCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjcm9zc29yaWdpbj0oYXV0byldIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgY3Jvc3Mtb3JpZ2luIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSBzY2FsZSBtb2RlLFxuICAgICAqICBzZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX0gQSBuZXcgU3ByaXRlIHVzaW5nIGEgdGV4dHVyZSBmcm9tIHRoZSB0ZXh0dXJlIGNhY2hlIG1hdGNoaW5nIHRoZSBpbWFnZSBpZFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlKGltYWdlSWQsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUoX1RleHR1cmUyLmRlZmF1bHQuZnJvbUltYWdlKGltYWdlSWQsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhTcHJpdGUsIFt7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcyA9ICgwLCBfdXRpbHMuc2lnbikodGhpcy5zY2FsZS54KSB8fCAxO1xuXG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS55KSAqIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHMgPSAoMCwgX3V0aWxzLnNpZ24pKHRoaXMuc2NhbGUueSkgfHwgMTtcblxuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNob3Igc2V0cyB0aGUgb3JpZ2luIHBvaW50IG9mIHRoZSB0ZXh0dXJlLlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyAwLDAgdGhpcyBtZWFucyB0aGUgdGV4dHVyZSdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDAuNSwwLjUgbWVhbnMgdGhlIHRleHR1cmUncyBvcmlnaW4gaXMgY2VudGVyZWRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDEsMSB3b3VsZCBtZWFuIHRoZSB0ZXh0dXJlJ3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhbmNob3InLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHkodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgICAgICogQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RpbnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbnRSR0IgPSAodmFsdWUgPj4gMTYpICsgKHZhbHVlICYgMHhmZjAwKSArICgodmFsdWUgJiAweGZmKSA8PCAxNik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RleHR1cmUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0dXJlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciB0aGUgdGV4dHVyZSB0byBsb2FkXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5vbmNlKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTcHJpdGU7XG59KF9Db250YWluZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTcHJpdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVhcmN1dDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBlYXJjdXQ7XG5cbmZ1bmN0aW9uIGVhcmN1dChkYXRhLCBob2xlSW5kaWNlcywgZGltKSB7XG5cbiAgICBkaW0gPSBkaW0gfHwgMjtcblxuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGgsXG4gICAgICAgIG91dGVyTm9kZSA9IGxpbmtlZExpc3QoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSwgdHJ1ZSksXG4gICAgICAgIHRyaWFuZ2xlcyA9IFtdO1xuXG4gICAgaWYgKCFvdXRlck5vZGUpIHJldHVybiB0cmlhbmdsZXM7XG5cbiAgICB2YXIgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgeCwgeSwgaW52U2l6ZTtcblxuICAgIGlmIChoYXNIb2xlcykgb3V0ZXJOb2RlID0gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKTtcblxuICAgIC8vIGlmIHRoZSBzaGFwZSBpcyBub3QgdG9vIHNpbXBsZSwgd2UnbGwgdXNlIHotb3JkZXIgY3VydmUgaGFzaCBsYXRlcjsgY2FsY3VsYXRlIHBvbHlnb24gYmJveFxuICAgIGlmIChkYXRhLmxlbmd0aCA+IDgwICogZGltKSB7XG4gICAgICAgIG1pblggPSBtYXhYID0gZGF0YVswXTtcbiAgICAgICAgbWluWSA9IG1heFkgPSBkYXRhWzFdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBkaW07IGkgPCBvdXRlckxlbjsgaSArPSBkaW0pIHtcbiAgICAgICAgICAgIHggPSBkYXRhW2ldO1xuICAgICAgICAgICAgeSA9IGRhdGFbaSArIDFdO1xuICAgICAgICAgICAgaWYgKHggPCBtaW5YKSBtaW5YID0geDtcbiAgICAgICAgICAgIGlmICh5IDwgbWluWSkgbWluWSA9IHk7XG4gICAgICAgICAgICBpZiAoeCA+IG1heFgpIG1heFggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPiBtYXhZKSBtYXhZID0geTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1pblgsIG1pblkgYW5kIGludlNpemUgYXJlIGxhdGVyIHVzZWQgdG8gdHJhbnNmb3JtIGNvb3JkcyBpbnRvIGludGVnZXJzIGZvciB6LW9yZGVyIGNhbGN1bGF0aW9uXG4gICAgICAgIGludlNpemUgPSBNYXRoLm1heChtYXhYIC0gbWluWCwgbWF4WSAtIG1pblkpO1xuICAgICAgICBpbnZTaXplID0gaW52U2l6ZSAhPT0gMCA/IDEgLyBpbnZTaXplIDogMDtcbiAgICB9XG5cbiAgICBlYXJjdXRMaW5rZWQob3V0ZXJOb2RlLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICByZXR1cm4gdHJpYW5nbGVzO1xufVxuXG4vLyBjcmVhdGUgYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QgZnJvbSBwb2x5Z29uIHBvaW50cyBpbiB0aGUgc3BlY2lmaWVkIHdpbmRpbmcgb3JkZXJcbmZ1bmN0aW9uIGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBjbG9ja3dpc2UpIHtcbiAgICB2YXIgaSwgbGFzdDtcblxuICAgIGlmIChjbG9ja3dpc2UgPT09IChzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkgPiAwKSkge1xuICAgICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgPSBlbmQgLSBkaW07IGkgPj0gc3RhcnQ7IGkgLT0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfVxuXG4gICAgaWYgKGxhc3QgJiYgZXF1YWxzKGxhc3QsIGxhc3QubmV4dCkpIHtcbiAgICAgICAgcmVtb3ZlTm9kZShsYXN0KTtcbiAgICAgICAgbGFzdCA9IGxhc3QubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gbGFzdDtcbn1cblxuLy8gZWxpbWluYXRlIGNvbGluZWFyIG9yIGR1cGxpY2F0ZSBwb2ludHNcbmZ1bmN0aW9uIGZpbHRlclBvaW50cyhzdGFydCwgZW5kKSB7XG4gICAgaWYgKCFzdGFydCkgcmV0dXJuIHN0YXJ0O1xuICAgIGlmICghZW5kKSBlbmQgPSBzdGFydDtcblxuICAgIHZhciBwID0gc3RhcnQsXG4gICAgICAgIGFnYWluO1xuICAgIGRvIHtcbiAgICAgICAgYWdhaW4gPSBmYWxzZTtcblxuICAgICAgICBpZiAoIXAuc3RlaW5lciAmJiAoZXF1YWxzKHAsIHAubmV4dCkgfHwgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPT09IDApKSB7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcCA9IGVuZCA9IHAucHJldjtcbiAgICAgICAgICAgIGlmIChwID09PSBwLm5leHQpIGJyZWFrO1xuICAgICAgICAgICAgYWdhaW4gPSB0cnVlO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwID0gcC5uZXh0O1xuICAgICAgICB9XG4gICAgfSB3aGlsZSAoYWdhaW4gfHwgcCAhPT0gZW5kKTtcblxuICAgIHJldHVybiBlbmQ7XG59XG5cbi8vIG1haW4gZWFyIHNsaWNpbmcgbG9vcCB3aGljaCB0cmlhbmd1bGF0ZXMgYSBwb2x5Z29uIChnaXZlbiBhcyBhIGxpbmtlZCBsaXN0KVxuZnVuY3Rpb24gZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIHBhc3MpIHtcbiAgICBpZiAoIWVhcikgcmV0dXJuO1xuXG4gICAgLy8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlclxuICAgIGlmICghcGFzcyAmJiBpbnZTaXplKSBpbmRleEN1cnZlKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgc3RvcCA9IGVhcixcbiAgICAgICAgcHJldiwgbmV4dDtcblxuICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCBlYXJzLCBzbGljaW5nIHRoZW0gb25lIGJ5IG9uZVxuICAgIHdoaWxlIChlYXIucHJldiAhPT0gZWFyLm5leHQpIHtcbiAgICAgICAgcHJldiA9IGVhci5wcmV2O1xuICAgICAgICBuZXh0ID0gZWFyLm5leHQ7XG5cbiAgICAgICAgaWYgKGludlNpemUgPyBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIDogaXNFYXIoZWFyKSkge1xuICAgICAgICAgICAgLy8gY3V0IG9mZiB0aGUgdHJpYW5nbGVcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHByZXYuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChlYXIuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChuZXh0LmkgLyBkaW0pO1xuXG4gICAgICAgICAgICByZW1vdmVOb2RlKGVhcik7XG5cbiAgICAgICAgICAgIC8vIHNraXBwaW5nIHRoZSBuZXh0IHZlcnRpY2UgbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzXG4gICAgICAgICAgICBlYXIgPSBuZXh0Lm5leHQ7XG4gICAgICAgICAgICBzdG9wID0gbmV4dC5uZXh0O1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVhciA9IG5leHQ7XG5cbiAgICAgICAgLy8gaWYgd2UgbG9vcGVkIHRocm91Z2ggdGhlIHdob2xlIHJlbWFpbmluZyBwb2x5Z29uIGFuZCBjYW4ndCBmaW5kIGFueSBtb3JlIGVhcnNcbiAgICAgICAgaWYgKGVhciA9PT0gc3RvcCkge1xuICAgICAgICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cbiAgICAgICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDEpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZWFyID0gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhlYXIsIHRyaWFuZ2xlcywgZGltKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMik7XG5cbiAgICAgICAgICAgIC8vIGFzIGEgbGFzdCByZXNvcnQsIHRyeSBzcGxpdHRpbmcgdGhlIHJlbWFpbmluZyBwb2x5Z29uIGludG8gdHdvXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBzcGxpdEVhcmN1dChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIGNoZWNrIHdoZXRoZXIgYSBwb2x5Z29uIG5vZGUgZm9ybXMgYSB2YWxpZCBlYXIgd2l0aCBhZGphY2VudCBub2Rlc1xuZnVuY3Rpb24gaXNFYXIoZWFyKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gbm93IG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIG90aGVyIHBvaW50cyBpbnNpZGUgdGhlIHBvdGVudGlhbCBlYXJcbiAgICB2YXIgcCA9IGVhci5uZXh0Lm5leHQ7XG5cbiAgICB3aGlsZSAocCAhPT0gZWFyLnByZXYpIHtcbiAgICAgICAgaWYgKHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcbiAgICB2YXIgbWluVFggPSBhLnggPCBiLnggPyAoYS54IDwgYy54ID8gYS54IDogYy54KSA6IChiLnggPCBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtaW5UWSA9IGEueSA8IGIueSA/IChhLnkgPCBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA8IGMueSA/IGIueSA6IGMueSksXG4gICAgICAgIG1heFRYID0gYS54ID4gYi54ID8gKGEueCA+IGMueCA/IGEueCA6IGMueCkgOiAoYi54ID4gYy54ID8gYi54IDogYy54KSxcbiAgICAgICAgbWF4VFkgPSBhLnkgPiBiLnkgPyAoYS55ID4gYy55ID8gYS55IDogYy55KSA6IChiLnkgPiBjLnkgPyBiLnkgOiBjLnkpO1xuXG4gICAgLy8gei1vcmRlciByYW5nZSBmb3IgdGhlIGN1cnJlbnQgdHJpYW5nbGUgYmJveDtcbiAgICB2YXIgbWluWiA9IHpPcmRlcihtaW5UWCwgbWluVFksIG1pblgsIG1pblksIGludlNpemUpLFxuICAgICAgICBtYXhaID0gek9yZGVyKG1heFRYLCBtYXhUWSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgcCA9IGVhci5wcmV2WixcbiAgICAgICAgbiA9IGVhci5uZXh0WjtcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIGluIGJvdGggZGlyZWN0aW9uc1xuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aICYmIG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuXG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGRlY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aKSB7XG4gICAgICAgIGlmIChwICE9PSBlYXIucHJldiAmJiBwICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5wcmV2WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGluY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gZ28gdGhyb3VnaCBhbGwgcG9seWdvbiBub2RlcyBhbmQgY3VyZSBzbWFsbCBsb2NhbCBzZWxmLWludGVyc2VjdGlvbnNcbmZ1bmN0aW9uIGN1cmVMb2NhbEludGVyc2VjdGlvbnMoc3RhcnQsIHRyaWFuZ2xlcywgZGltKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBhID0gcC5wcmV2LFxuICAgICAgICAgICAgYiA9IHAubmV4dC5uZXh0O1xuXG4gICAgICAgIGlmICghZXF1YWxzKGEsIGIpICYmIGludGVyc2VjdHMoYSwgcCwgcC5uZXh0LCBiKSAmJiBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkpIHtcblxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYS5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHAuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChiLmkgLyBkaW0pO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgdHdvIG5vZGVzIGludm9sdmVkXG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwLm5leHQpO1xuXG4gICAgICAgICAgICBwID0gc3RhcnQgPSBiO1xuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIHA7XG59XG5cbi8vIHRyeSBzcGxpdHRpbmcgcG9seWdvbiBpbnRvIHR3byBhbmQgdHJpYW5ndWxhdGUgdGhlbSBpbmRlcGVuZGVudGx5XG5mdW5jdGlvbiBzcGxpdEVhcmN1dChzdGFydCwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBsb29rIGZvciBhIHZhbGlkIGRpYWdvbmFsIHRoYXQgZGl2aWRlcyB0aGUgcG9seWdvbiBpbnRvIHR3b1xuICAgIHZhciBhID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICB2YXIgYiA9IGEubmV4dC5uZXh0O1xuICAgICAgICB3aGlsZSAoYiAhPT0gYS5wcmV2KSB7XG4gICAgICAgICAgICBpZiAoYS5pICE9PSBiLmkgJiYgaXNWYWxpZERpYWdvbmFsKGEsIGIpKSB7XG4gICAgICAgICAgICAgICAgLy8gc3BsaXQgdGhlIHBvbHlnb24gaW4gdHdvIGJ5IHRoZSBkaWFnb25hbFxuICAgICAgICAgICAgICAgIHZhciBjID0gc3BsaXRQb2x5Z29uKGEsIGIpO1xuXG4gICAgICAgICAgICAgICAgLy8gZmlsdGVyIGNvbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcbiAgICAgICAgICAgICAgICBhID0gZmlsdGVyUG9pbnRzKGEsIGEubmV4dCk7XG4gICAgICAgICAgICAgICAgYyA9IGZpbHRlclBvaW50cyhjLCBjLm5leHQpO1xuXG4gICAgICAgICAgICAgICAgLy8gcnVuIGVhcmN1dCBvbiBlYWNoIGhhbGZcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChjLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYiA9IGIubmV4dDtcbiAgICAgICAgfVxuICAgICAgICBhID0gYS5uZXh0O1xuICAgIH0gd2hpbGUgKGEgIT09IHN0YXJ0KTtcbn1cblxuLy8gbGluayBldmVyeSBob2xlIGludG8gdGhlIG91dGVyIGxvb3AsIHByb2R1Y2luZyBhIHNpbmdsZS1yaW5nIHBvbHlnb24gd2l0aG91dCBob2xlc1xuZnVuY3Rpb24gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKSB7XG4gICAgdmFyIHF1ZXVlID0gW10sXG4gICAgICAgIGksIGxlbiwgc3RhcnQsIGVuZCwgbGlzdDtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XG4gICAgICAgIGxpc3QgPSBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgZmFsc2UpO1xuICAgICAgICBpZiAobGlzdCA9PT0gbGlzdC5uZXh0KSBsaXN0LnN0ZWluZXIgPSB0cnVlO1xuICAgICAgICBxdWV1ZS5wdXNoKGdldExlZnRtb3N0KGxpc3QpKTtcbiAgICB9XG5cbiAgICBxdWV1ZS5zb3J0KGNvbXBhcmVYKTtcblxuICAgIC8vIHByb2Nlc3MgaG9sZXMgZnJvbSBsZWZ0IHRvIHJpZ2h0XG4gICAgZm9yIChpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsaW1pbmF0ZUhvbGUocXVldWVbaV0sIG91dGVyTm9kZSk7XG4gICAgICAgIG91dGVyTm9kZSA9IGZpbHRlclBvaW50cyhvdXRlck5vZGUsIG91dGVyTm9kZS5uZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0ZXJOb2RlO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlWChhLCBiKSB7XG4gICAgcmV0dXJuIGEueCAtIGIueDtcbn1cblxuLy8gZmluZCBhIGJyaWRnZSBiZXR3ZWVuIHZlcnRpY2VzIHRoYXQgY29ubmVjdHMgaG9sZSB3aXRoIGFuIG91dGVyIHJpbmcgYW5kIGFuZCBsaW5rIGl0XG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIG91dGVyTm9kZSA9IGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSk7XG4gICAgaWYgKG91dGVyTm9kZSkge1xuICAgICAgICB2YXIgYiA9IHNwbGl0UG9seWdvbihvdXRlck5vZGUsIGhvbGUpO1xuICAgICAgICBmaWx0ZXJQb2ludHMoYiwgYi5uZXh0KTtcbiAgICB9XG59XG5cbi8vIERhdmlkIEViZXJseSdzIGFsZ29yaXRobSBmb3IgZmluZGluZyBhIGJyaWRnZSBiZXR3ZWVuIGhvbGUgYW5kIG91dGVyIHBvbHlnb25cbmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIHZhciBwID0gb3V0ZXJOb2RlLFxuICAgICAgICBoeCA9IGhvbGUueCxcbiAgICAgICAgaHkgPSBob2xlLnksXG4gICAgICAgIHF4ID0gLUluZmluaXR5LFxuICAgICAgICBtO1xuXG4gICAgLy8gZmluZCBhIHNlZ21lbnQgaW50ZXJzZWN0ZWQgYnkgYSByYXkgZnJvbSB0aGUgaG9sZSdzIGxlZnRtb3N0IHBvaW50IHRvIHRoZSBsZWZ0O1xuICAgIC8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRcbiAgICBkbyB7XG4gICAgICAgIGlmIChoeSA8PSBwLnkgJiYgaHkgPj0gcC5uZXh0LnkgJiYgcC5uZXh0LnkgIT09IHAueSkge1xuICAgICAgICAgICAgdmFyIHggPSBwLnggKyAoaHkgLSBwLnkpICogKHAubmV4dC54IC0gcC54KSAvIChwLm5leHQueSAtIHAueSk7XG4gICAgICAgICAgICBpZiAoeCA8PSBoeCAmJiB4ID4gcXgpIHtcbiAgICAgICAgICAgICAgICBxeCA9IHg7XG4gICAgICAgICAgICAgICAgaWYgKHggPT09IGh4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeSA9PT0gcC55KSByZXR1cm4gcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLm5leHQueSkgcmV0dXJuIHAubmV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbSA9IHAueCA8IHAubmV4dC54ID8gcCA6IHAubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IG91dGVyTm9kZSk7XG5cbiAgICBpZiAoIW0pIHJldHVybiBudWxsO1xuXG4gICAgaWYgKGh4ID09PSBxeCkgcmV0dXJuIG0ucHJldjsgLy8gaG9sZSB0b3VjaGVzIG91dGVyIHNlZ21lbnQ7IHBpY2sgbG93ZXIgZW5kcG9pbnRcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIG9mIGhvbGUgcG9pbnQsIHNlZ21lbnQgaW50ZXJzZWN0aW9uIGFuZCBlbmRwb2ludDtcbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gcG9pbnRzIGZvdW5kLCB3ZSBoYXZlIGEgdmFsaWQgY29ubmVjdGlvbjtcbiAgICAvLyBvdGhlcndpc2UgY2hvb3NlIHRoZSBwb2ludCBvZiB0aGUgbWluaW11bSBhbmdsZSB3aXRoIHRoZSByYXkgYXMgY29ubmVjdGlvbiBwb2ludFxuXG4gICAgdmFyIHN0b3AgPSBtLFxuICAgICAgICBteCA9IG0ueCxcbiAgICAgICAgbXkgPSBtLnksXG4gICAgICAgIHRhbk1pbiA9IEluZmluaXR5LFxuICAgICAgICB0YW47XG5cbiAgICBwID0gbS5uZXh0O1xuXG4gICAgd2hpbGUgKHAgIT09IHN0b3ApIHtcbiAgICAgICAgaWYgKGh4ID49IHAueCAmJiBwLnggPj0gbXggJiYgaHggIT09IHAueCAmJlxuICAgICAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShoeSA8IG15ID8gaHggOiBxeCwgaHksIG14LCBteSwgaHkgPCBteSA/IHF4IDogaHgsIGh5LCBwLngsIHAueSkpIHtcblxuICAgICAgICAgICAgdGFuID0gTWF0aC5hYnMoaHkgLSBwLnkpIC8gKGh4IC0gcC54KTsgLy8gdGFuZ2VudGlhbFxuXG4gICAgICAgICAgICBpZiAoKHRhbiA8IHRhbk1pbiB8fCAodGFuID09PSB0YW5NaW4gJiYgcC54ID4gbS54KSkgJiYgbG9jYWxseUluc2lkZShwLCBob2xlKSkge1xuICAgICAgICAgICAgICAgIG0gPSBwO1xuICAgICAgICAgICAgICAgIHRhbk1pbiA9IHRhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueiA9PT0gbnVsbCkgcC56ID0gek9yZGVyKHAueCwgcC55LCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgcC5wcmV2WiA9IHAucHJldjtcbiAgICAgICAgcC5uZXh0WiA9IHAubmV4dDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICBwLnByZXZaLm5leHRaID0gbnVsbDtcbiAgICBwLnByZXZaID0gbnVsbDtcblxuICAgIHNvcnRMaW5rZWQocCk7XG59XG5cbi8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtXG4vLyBodHRwOi8vd3d3LmNoaWFyay5ncmVlbmVuZC5vcmcudWsvfnNndGF0aGFtL2FsZ29yaXRobXMvbGlzdHNvcnQuaHRtbFxuZnVuY3Rpb24gc29ydExpbmtlZChsaXN0KSB7XG4gICAgdmFyIGksIHAsIHEsIGUsIHRhaWwsIG51bU1lcmdlcywgcFNpemUsIHFTaXplLFxuICAgICAgICBpblNpemUgPSAxO1xuXG4gICAgZG8ge1xuICAgICAgICBwID0gbGlzdDtcbiAgICAgICAgbGlzdCA9IG51bGw7XG4gICAgICAgIHRhaWwgPSBudWxsO1xuICAgICAgICBudW1NZXJnZXMgPSAwO1xuXG4gICAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgICAgICBudW1NZXJnZXMrKztcbiAgICAgICAgICAgIHEgPSBwO1xuICAgICAgICAgICAgcFNpemUgPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGluU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcFNpemUrKztcbiAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICBpZiAoIXEpIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcVNpemUgPSBpblNpemU7XG5cbiAgICAgICAgICAgIHdoaWxlIChwU2l6ZSA+IDAgfHwgKHFTaXplID4gMCAmJiBxKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHBTaXplICE9PSAwICYmIChxU2l6ZSA9PT0gMCB8fCAhcSB8fCBwLnogPD0gcS56KSkge1xuICAgICAgICAgICAgICAgICAgICBlID0gcDtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHBTaXplLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHE7XG4gICAgICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBxU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0YWlsKSB0YWlsLm5leHRaID0gZTtcbiAgICAgICAgICAgICAgICBlbHNlIGxpc3QgPSBlO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2WiA9IHRhaWw7XG4gICAgICAgICAgICAgICAgdGFpbCA9IGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHAgPSBxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFpbC5uZXh0WiA9IG51bGw7XG4gICAgICAgIGluU2l6ZSAqPSAyO1xuXG4gICAgfSB3aGlsZSAobnVtTWVyZ2VzID4gMSk7XG5cbiAgICByZXR1cm4gbGlzdDtcbn1cblxuLy8gei1vcmRlciBvZiBhIHBvaW50IGdpdmVuIGNvb3JkcyBhbmQgaW52ZXJzZSBvZiB0aGUgbG9uZ2VyIHNpZGUgb2YgZGF0YSBiYm94XG5mdW5jdGlvbiB6T3JkZXIoeCwgeSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGNvb3JkcyBhcmUgdHJhbnNmb3JtZWQgaW50byBub24tbmVnYXRpdmUgMTUtYml0IGludGVnZXIgcmFuZ2VcbiAgICB4ID0gMzI3NjcgKiAoeCAtIG1pblgpICogaW52U2l6ZTtcbiAgICB5ID0gMzI3NjcgKiAoeSAtIG1pblkpICogaW52U2l6ZTtcblxuICAgIHggPSAoeCB8ICh4IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeCA9ICh4IHwgKHggPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHggPSAoeCB8ICh4IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeSA9ICh5IHwgKHkgPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgcmV0dXJuIHggfCAoeSA8PCAxKTtcbn1cblxuLy8gZmluZCB0aGUgbGVmdG1vc3Qgbm9kZSBvZiBhIHBvbHlnb24gcmluZ1xuZnVuY3Rpb24gZ2V0TGVmdG1vc3Qoc3RhcnQpIHtcbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBsZWZ0bW9zdCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueCA8IGxlZnRtb3N0LngpIGxlZnRtb3N0ID0gcDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gbGVmdG1vc3Q7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcbiAgICByZXR1cm4gKGN4IC0gcHgpICogKGF5IC0gcHkpIC0gKGF4IC0gcHgpICogKGN5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGF4IC0gcHgpICogKGJ5IC0gcHkpIC0gKGJ4IC0gcHgpICogKGF5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGJ4IC0gcHgpICogKGN5IC0gcHkpIC0gKGN4IC0gcHgpICogKGJ5IC0gcHkpID49IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKVxuZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsIGIpIHtcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJlxuICAgICAgICAgICBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkgJiYgbWlkZGxlSW5zaWRlKGEsIGIpO1xufVxuXG4vLyBzaWduZWQgYXJlYSBvZiBhIHRyaWFuZ2xlXG5mdW5jdGlvbiBhcmVhKHAsIHEsIHIpIHtcbiAgICByZXR1cm4gKHEueSAtIHAueSkgKiAoci54IC0gcS54KSAtIChxLnggLSBwLngpICogKHIueSAtIHEueSk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBwb2ludHMgYXJlIGVxdWFsXG5mdW5jdGlvbiBlcXVhbHMocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnggPT09IHAyLnggJiYgcDEueSA9PT0gcDIueTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHNlZ21lbnRzIGludGVyc2VjdFxuZnVuY3Rpb24gaW50ZXJzZWN0cyhwMSwgcTEsIHAyLCBxMikge1xuICAgIGlmICgoZXF1YWxzKHAxLCBxMSkgJiYgZXF1YWxzKHAyLCBxMikpIHx8XG4gICAgICAgIChlcXVhbHMocDEsIHEyKSAmJiBlcXVhbHMocDIsIHExKSkpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBhcmVhKHAxLCBxMSwgcDIpID4gMCAhPT0gYXJlYShwMSwgcTEsIHEyKSA+IDAgJiZcbiAgICAgICAgICAgYXJlYShwMiwgcTIsIHAxKSA+IDAgIT09IGFyZWEocDIsIHEyLCBxMSkgPiAwO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSwgYikge1xuICAgIHZhciBwID0gYTtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKHAsIHAubmV4dCwgYSwgYikpIHJldHVybiB0cnVlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSwgYikge1xuICAgIHJldHVybiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA8IDAgP1xuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XG4gICAgICAgIGFyZWEoYSwgYiwgYS5wcmV2KSA8IDAgfHwgYXJlYShhLCBhLm5leHQsIGIpIDwgMDtcbn1cblxuLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBtaWRkbGVJbnNpZGUoYSwgYikge1xuICAgIHZhciBwID0gYSxcbiAgICAgICAgaW5zaWRlID0gZmFsc2UsXG4gICAgICAgIHB4ID0gKGEueCArIGIueCkgLyAyLFxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcbiAgICBkbyB7XG4gICAgICAgIGlmICgoKHAueSA+IHB5KSAhPT0gKHAubmV4dC55ID4gcHkpKSAmJiBwLm5leHQueSAhPT0gcC55ICYmXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG4vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7XG4gICAgdmFyIGEyID0gbmV3IE5vZGUoYS5pLCBhLngsIGEueSksXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXG4gICAgICAgIGFuID0gYS5uZXh0LFxuICAgICAgICBicCA9IGIucHJldjtcblxuICAgIGEubmV4dCA9IGI7XG4gICAgYi5wcmV2ID0gYTtcblxuICAgIGEyLm5leHQgPSBhbjtcbiAgICBhbi5wcmV2ID0gYTI7XG5cbiAgICBiMi5uZXh0ID0gYTI7XG4gICAgYTIucHJldiA9IGIyO1xuXG4gICAgYnAubmV4dCA9IGIyO1xuICAgIGIyLnByZXYgPSBicDtcblxuICAgIHJldHVybiBiMjtcbn1cblxuLy8gY3JlYXRlIGEgbm9kZSBhbmQgb3B0aW9uYWxseSBsaW5rIGl0IHdpdGggcHJldmlvdXMgb25lIChpbiBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkge1xuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XG5cbiAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgcC5wcmV2ID0gcDtcbiAgICAgICAgcC5uZXh0ID0gcDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHAubmV4dCA9IGxhc3QubmV4dDtcbiAgICAgICAgcC5wcmV2ID0gbGFzdDtcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xuICAgICAgICBsYXN0Lm5leHQgPSBwO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XG4gICAgcC5uZXh0LnByZXYgPSBwLnByZXY7XG4gICAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7XG5cbiAgICBpZiAocC5wcmV2WikgcC5wcmV2Wi5uZXh0WiA9IHAubmV4dFo7XG4gICAgaWYgKHAubmV4dFopIHAubmV4dFoucHJldlogPSBwLnByZXZaO1xufVxuXG5mdW5jdGlvbiBOb2RlKGksIHgsIHkpIHtcbiAgICAvLyB2ZXJ0aWNlIGluZGV4IGluIGNvb3JkaW5hdGVzIGFycmF5XG4gICAgdGhpcy5pID0gaTtcblxuICAgIC8vIHZlcnRleCBjb29yZGluYXRlc1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IHZlcnRpY2Ugbm9kZXMgaW4gYSBwb2x5Z29uIHJpbmdcbiAgICB0aGlzLnByZXYgPSBudWxsO1xuICAgIHRoaXMubmV4dCA9IG51bGw7XG5cbiAgICAvLyB6LW9yZGVyIGN1cnZlIHZhbHVlXG4gICAgdGhpcy56ID0gbnVsbDtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IG5vZGVzIGluIHotb3JkZXJcbiAgICB0aGlzLnByZXZaID0gbnVsbDtcbiAgICB0aGlzLm5leHRaID0gbnVsbDtcblxuICAgIC8vIGluZGljYXRlcyB3aGV0aGVyIHRoaXMgaXMgYSBzdGVpbmVyIHBvaW50XG4gICAgdGhpcy5zdGVpbmVyID0gZmFsc2U7XG59XG5cbi8vIHJldHVybiBhIHBlcmNlbnRhZ2UgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBwb2x5Z29uIGFyZWEgYW5kIGl0cyB0cmlhbmd1bGF0aW9uIGFyZWE7XG4vLyB1c2VkIHRvIHZlcmlmeSBjb3JyZWN0bmVzcyBvZiB0cmlhbmd1bGF0aW9uXG5lYXJjdXQuZGV2aWF0aW9uID0gZnVuY3Rpb24gKGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0sIHRyaWFuZ2xlcykge1xuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aDtcbiAgICB2YXIgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGg7XG5cbiAgICB2YXIgcG9seWdvbkFyZWEgPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIDAsIG91dGVyTGVuLCBkaW0pKTtcbiAgICBpZiAoaGFzSG9sZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgICAgIHZhciBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgcG9seWdvbkFyZWEgLT0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0cmlhbmdsZXNBcmVhID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIHZhciBhID0gdHJpYW5nbGVzW2ldICogZGltO1xuICAgICAgICB2YXIgYiA9IHRyaWFuZ2xlc1tpICsgMV0gKiBkaW07XG4gICAgICAgIHZhciBjID0gdHJpYW5nbGVzW2kgKyAyXSAqIGRpbTtcbiAgICAgICAgdHJpYW5nbGVzQXJlYSArPSBNYXRoLmFicyhcbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtjXSkgKiAoZGF0YVtiICsgMV0gLSBkYXRhW2EgKyAxXSkgLVxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2JdKSAqIChkYXRhW2MgKyAxXSAtIGRhdGFbYSArIDFdKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvbHlnb25BcmVhID09PSAwICYmIHRyaWFuZ2xlc0FyZWEgPT09IDAgPyAwIDpcbiAgICAgICAgTWF0aC5hYnMoKHRyaWFuZ2xlc0FyZWEgLSBwb2x5Z29uQXJlYSkgLyBwb2x5Z29uQXJlYSk7XG59O1xuXG5mdW5jdGlvbiBzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkge1xuICAgIHZhciBzdW0gPSAwO1xuICAgIGZvciAodmFyIGkgPSBzdGFydCwgaiA9IGVuZCAtIGRpbTsgaSA8IGVuZDsgaSArPSBkaW0pIHtcbiAgICAgICAgc3VtICs9IChkYXRhW2pdIC0gZGF0YVtpXSkgKiAoZGF0YVtpICsgMV0gKyBkYXRhW2ogKyAxXSk7XG4gICAgICAgIGogPSBpO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuXG4vLyB0dXJuIGEgcG9seWdvbiBpbiBhIG11bHRpLWRpbWVuc2lvbmFsIGFycmF5IGZvcm0gKGUuZy4gYXMgaW4gR2VvSlNPTikgaW50byBhIGZvcm0gRWFyY3V0IGFjY2VwdHNcbmVhcmN1dC5mbGF0dGVuID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgZGltID0gZGF0YVswXVswXS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IHt2ZXJ0aWNlczogW10sIGhvbGVzOiBbXSwgZGltZW5zaW9uczogZGltfSxcbiAgICAgICAgaG9sZUluZGV4ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgZGltOyBkKyspIHJlc3VsdC52ZXJ0aWNlcy5wdXNoKGRhdGFbaV1bal1bZF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgaG9sZUluZGV4ICs9IGRhdGFbaSAtIDFdLmxlbmd0aDtcbiAgICAgICAgICAgIHJlc3VsdC5ob2xlcy5wdXNoKGhvbGVJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBHZW5lcmljIGNsYXNzIHRvIGRlYWwgd2l0aCB0cmFkaXRpb25hbCAyRCBtYXRyaXggdHJhbnNmb3Jtc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRyYW5zZm9ybUJhc2UgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gVHJhbnNmb3JtQmFzZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhbnNmb3JtQmFzZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZ2xvYmFsIG1hdHJpeCB0cmFuc2Zvcm0uIEl0IGNhbiBiZSBzd2FwcGVkIHRlbXBvcmFyaWx5IGJ5IHNvbWUgZnVuY3Rpb25zIGxpa2UgZ2V0TG9jYWxCb3VuZHMoKVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICovXG4gICAgdGhpcy53b3JsZFRyYW5zZm9ybSA9IG5ldyBfbWF0aC5NYXRyaXgoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBsb2NhbCBtYXRyaXggdHJhbnNmb3JtXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLmxvY2FsVHJhbnNmb3JtID0gbmV3IF9tYXRoLk1hdHJpeCgpO1xuXG4gICAgdGhpcy5fd29ybGRJRCA9IDA7XG4gICAgdGhpcy5fcGFyZW50SUQgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybUJhc2UgZG9lcyBub3QgaGF2ZSBkZWNvbXBvc2l0aW9uLCBzbyB0aGlzIGZ1bmN0aW9uIHdvbnQgZG8gYW55dGhpbmdcbiAgICovXG5cblxuICBUcmFuc2Zvcm1CYXNlLnByb3RvdHlwZS51cGRhdGVMb2NhbFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZUxvY2FsVHJhbnNmb3JtKCkge31cbiAgLy8gZW1wdHlcblxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB2YWx1ZXMgb2YgdGhlIG9iamVjdCBhbmQgYXBwbGllcyB0aGUgcGFyZW50J3MgdHJhbnNmb3JtLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtQmFzZX0gcGFyZW50VHJhbnNmb3JtIC0gVGhlIHRyYW5zZm9ybSBvZiB0aGUgcGFyZW50IG9mIHRoaXMgb2JqZWN0XG4gICAqL1xuICA7XG5cbiAgVHJhbnNmb3JtQmFzZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKHBhcmVudFRyYW5zZm9ybSkge1xuICAgIHZhciBwdCA9IHBhcmVudFRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICB2YXIgd3QgPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICAvLyBjb25jYXQgdGhlIHBhcmVudCBtYXRyaXggd2l0aCB0aGUgb2JqZWN0cyB0cmFuc2Zvcm0uXG4gICAgd3QuYSA9IGx0LmEgKiBwdC5hICsgbHQuYiAqIHB0LmM7XG4gICAgd3QuYiA9IGx0LmEgKiBwdC5iICsgbHQuYiAqIHB0LmQ7XG4gICAgd3QuYyA9IGx0LmMgKiBwdC5hICsgbHQuZCAqIHB0LmM7XG4gICAgd3QuZCA9IGx0LmMgKiBwdC5iICsgbHQuZCAqIHB0LmQ7XG4gICAgd3QudHggPSBsdC50eCAqIHB0LmEgKyBsdC50eSAqIHB0LmMgKyBwdC50eDtcbiAgICB3dC50eSA9IGx0LnR4ICogcHQuYiArIGx0LnR5ICogcHQuZCArIHB0LnR5O1xuXG4gICAgdGhpcy5fd29ybGRJRCsrO1xuICB9O1xuXG4gIHJldHVybiBUcmFuc2Zvcm1CYXNlO1xufSgpO1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHZhbHVlcyBvZiB0aGUgb2JqZWN0IGFuZCBhcHBsaWVzIHRoZSBwYXJlbnQncyB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0gIHBhcmVudFRyYW5zZm9ybSB7UElYSS5UcmFuc2Zvcm19IFRoZSB0cmFuc2Zvcm0gb2YgdGhlIHBhcmVudCBvZiB0aGlzIG9iamVjdFxuICpcbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRyYW5zZm9ybUJhc2U7XG5UcmFuc2Zvcm1CYXNlLnByb3RvdHlwZS51cGRhdGVXb3JsZFRyYW5zZm9ybSA9IFRyYW5zZm9ybUJhc2UucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybTtcblxuVHJhbnNmb3JtQmFzZS5JREVOVElUWSA9IG5ldyBUcmFuc2Zvcm1CYXNlKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc2Zvcm1CYXNlLmpzLm1hcCIsIi8qKlxuICogaXNNb2JpbGUuanMgdjAuNC4xXG4gKlxuICogQSBzaW1wbGUgbGlicmFyeSB0byBkZXRlY3QgQXBwbGUgcGhvbmVzIGFuZCB0YWJsZXRzLFxuICogQW5kcm9pZCBwaG9uZXMgYW5kIHRhYmxldHMsIG90aGVyIG1vYmlsZSBkZXZpY2VzIChsaWtlIGJsYWNrYmVycnksIG1pbmktb3BlcmEgYW5kIHdpbmRvd3MgcGhvbmUpLFxuICogYW5kIGFueSBraW5kIG9mIHNldmVuIGluY2ggZGV2aWNlLCB2aWEgdXNlciBhZ2VudCBzbmlmZmluZy5cbiAqXG4gKiBAYXV0aG9yOiBLYWkgTWFsbGVhIChrbWFsbGVhQGdtYWlsLmNvbSlcbiAqXG4gKiBAbGljZW5zZTogaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvcHVibGljZG9tYWluL3plcm8vMS4wL1xuICovXG4oZnVuY3Rpb24gKGdsb2JhbCkge1xuXG4gICAgdmFyIGFwcGxlX3Bob25lICAgICAgICAgPSAvaVBob25lL2ksXG4gICAgICAgIGFwcGxlX2lwb2QgICAgICAgICAgPSAvaVBvZC9pLFxuICAgICAgICBhcHBsZV90YWJsZXQgICAgICAgID0gL2lQYWQvaSxcbiAgICAgICAgYW5kcm9pZF9waG9uZSAgICAgICA9IC8oPz0uKlxcYkFuZHJvaWRcXGIpKD89LipcXGJNb2JpbGVcXGIpL2ksIC8vIE1hdGNoICdBbmRyb2lkJyBBTkQgJ01vYmlsZSdcbiAgICAgICAgYW5kcm9pZF90YWJsZXQgICAgICA9IC9BbmRyb2lkL2ksXG4gICAgICAgIGFtYXpvbl9waG9uZSAgICAgICAgPSAvKD89LipcXGJBbmRyb2lkXFxiKSg/PS4qXFxiU0Q0OTMwVVJcXGIpL2ksXG4gICAgICAgIGFtYXpvbl90YWJsZXQgICAgICAgPSAvKD89LipcXGJBbmRyb2lkXFxiKSg/PS4qXFxiKD86S0ZPVHxLRlRUfEtGSldJfEtGSldBfEtGU09XSXxLRlRIV0l8S0ZUSFdBfEtGQVBXSXxLRkFQV0F8S0ZBUldJfEtGQVNXSXxLRlNBV0l8S0ZTQVdBKVxcYikvaSxcbiAgICAgICAgd2luZG93c19waG9uZSAgICAgICA9IC9XaW5kb3dzIFBob25lL2ksXG4gICAgICAgIHdpbmRvd3NfdGFibGV0ICAgICAgPSAvKD89LipcXGJXaW5kb3dzXFxiKSg/PS4qXFxiQVJNXFxiKS9pLCAvLyBNYXRjaCAnV2luZG93cycgQU5EICdBUk0nXG4gICAgICAgIG90aGVyX2JsYWNrYmVycnkgICAgPSAvQmxhY2tCZXJyeS9pLFxuICAgICAgICBvdGhlcl9ibGFja2JlcnJ5XzEwID0gL0JCMTAvaSxcbiAgICAgICAgb3RoZXJfb3BlcmEgICAgICAgICA9IC9PcGVyYSBNaW5pL2ksXG4gICAgICAgIG90aGVyX2Nocm9tZSAgICAgICAgPSAvKENyaU9TfENocm9tZSkoPz0uKlxcYk1vYmlsZVxcYikvaSxcbiAgICAgICAgb3RoZXJfZmlyZWZveCAgICAgICA9IC8oPz0uKlxcYkZpcmVmb3hcXGIpKD89LipcXGJNb2JpbGVcXGIpL2ksIC8vIE1hdGNoICdGaXJlZm94JyBBTkQgJ01vYmlsZSdcbiAgICAgICAgc2V2ZW5faW5jaCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAnKD86JyArICAgICAgICAgLy8gTm9uLWNhcHR1cmluZyBncm91cFxuXG4gICAgICAgICAgICAnTmV4dXMgNycgKyAgICAgLy8gTmV4dXMgN1xuXG4gICAgICAgICAgICAnfCcgKyAgICAgICAgICAgLy8gT1JcblxuICAgICAgICAgICAgJ0JOVFYyNTAnICsgICAgIC8vIEImTiBOb29rIFRhYmxldCA3IGluY2hcblxuICAgICAgICAgICAgJ3wnICsgICAgICAgICAgIC8vIE9SXG5cbiAgICAgICAgICAgICdLaW5kbGUgRmlyZScgKyAvLyBLaW5kbGUgRmlyZVxuXG4gICAgICAgICAgICAnfCcgKyAgICAgICAgICAgLy8gT1JcblxuICAgICAgICAgICAgJ1NpbGsnICsgICAgICAgIC8vIEtpbmRsZSBGaXJlLCBTaWxrIEFjY2VsZXJhdGVkXG5cbiAgICAgICAgICAgICd8JyArICAgICAgICAgICAvLyBPUlxuXG4gICAgICAgICAgICAnR1QtUDEwMDAnICsgICAgLy8gR2FsYXh5IFRhYiA3IGluY2hcblxuICAgICAgICAgICAgJyknLCAgICAgICAgICAgIC8vIEVuZCBub24tY2FwdHVyaW5nIGdyb3VwXG5cbiAgICAgICAgICAgICdpJyk7ICAgICAgICAgICAvLyBDYXNlLWluc2Vuc2l0aXZlIG1hdGNoaW5nXG5cbiAgICB2YXIgbWF0Y2ggPSBmdW5jdGlvbihyZWdleCwgdXNlckFnZW50KSB7XG4gICAgICAgIHJldHVybiByZWdleC50ZXN0KHVzZXJBZ2VudCk7XG4gICAgfTtcblxuICAgIHZhciBJc01vYmlsZUNsYXNzID0gZnVuY3Rpb24odXNlckFnZW50KSB7XG4gICAgICAgIHZhciB1YSA9IHVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gICAgICAgIC8vIEZhY2Vib29rIG1vYmlsZSBhcHAncyBpbnRlZ3JhdGVkIGJyb3dzZXIgYWRkcyBhIGJ1bmNoIG9mIHN0cmluZ3MgdGhhdFxuICAgICAgICAvLyBtYXRjaCBldmVyeXRoaW5nLiBTdHJpcCBpdCBvdXQgaWYgaXQgZXhpc3RzLlxuICAgICAgICB2YXIgdG1wID0gdWEuc3BsaXQoJ1tGQkFOJyk7XG4gICAgICAgIGlmICh0eXBlb2YgdG1wWzFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdWEgPSB0bXBbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUd2l0dGVyIG1vYmlsZSBhcHAncyBpbnRlZ3JhdGVkIGJyb3dzZXIgb24gaVBhZCBhZGRzIGEgXCJUd2l0dGVyIGZvclxuICAgICAgICAvLyBpUGhvbmVcIiBzdHJpbmcuIFNhbWUgcHJvYmFibGUgaGFwcGVucyBvbiBvdGhlciB0YWJsZXQgcGxhdGZvcm1zLlxuICAgICAgICAvLyBUaGlzIHdpbGwgY29uZnVzZSBkZXRlY3Rpb24gc28gc3RyaXAgaXQgb3V0IGlmIGl0IGV4aXN0cy5cbiAgICAgICAgdG1wID0gdWEuc3BsaXQoJ1R3aXR0ZXInKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0bXBbMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB1YSA9IHRtcFswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXBwbGUgPSB7XG4gICAgICAgICAgICBwaG9uZTogIG1hdGNoKGFwcGxlX3Bob25lLCB1YSksXG4gICAgICAgICAgICBpcG9kOiAgIG1hdGNoKGFwcGxlX2lwb2QsIHVhKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFwcGxlX3Bob25lLCB1YSkgJiYgbWF0Y2goYXBwbGVfdGFibGV0LCB1YSksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKGFwcGxlX3Bob25lLCB1YSkgfHwgbWF0Y2goYXBwbGVfaXBvZCwgdWEpIHx8IG1hdGNoKGFwcGxlX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYW1hem9uID0ge1xuICAgICAgICAgICAgcGhvbmU6ICBtYXRjaChhbWF6b25fcGhvbmUsIHVhKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFtYXpvbl9waG9uZSwgdWEpICYmIG1hdGNoKGFtYXpvbl90YWJsZXQsIHVhKSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgfHwgbWF0Y2goYW1hem9uX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYW5kcm9pZCA9IHtcbiAgICAgICAgICAgIHBob25lOiAgbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgfHwgbWF0Y2goYW5kcm9pZF9waG9uZSwgdWEpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgJiYgIW1hdGNoKGFuZHJvaWRfcGhvbmUsIHVhKSAmJiAobWF0Y2goYW1hem9uX3RhYmxldCwgdWEpIHx8IG1hdGNoKGFuZHJvaWRfdGFibGV0LCB1YSkpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaChhbWF6b25fcGhvbmUsIHVhKSB8fCBtYXRjaChhbWF6b25fdGFibGV0LCB1YSkgfHwgbWF0Y2goYW5kcm9pZF9waG9uZSwgdWEpIHx8IG1hdGNoKGFuZHJvaWRfdGFibGV0LCB1YSlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53aW5kb3dzID0ge1xuICAgICAgICAgICAgcGhvbmU6ICBtYXRjaCh3aW5kb3dzX3Bob25lLCB1YSksXG4gICAgICAgICAgICB0YWJsZXQ6IG1hdGNoKHdpbmRvd3NfdGFibGV0LCB1YSksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKHdpbmRvd3NfcGhvbmUsIHVhKSB8fCBtYXRjaCh3aW5kb3dzX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub3RoZXIgPSB7XG4gICAgICAgICAgICBibGFja2JlcnJ5OiAgIG1hdGNoKG90aGVyX2JsYWNrYmVycnksIHVhKSxcbiAgICAgICAgICAgIGJsYWNrYmVycnkxMDogbWF0Y2gob3RoZXJfYmxhY2tiZXJyeV8xMCwgdWEpLFxuICAgICAgICAgICAgb3BlcmE6ICAgICAgICBtYXRjaChvdGhlcl9vcGVyYSwgdWEpLFxuICAgICAgICAgICAgZmlyZWZveDogICAgICBtYXRjaChvdGhlcl9maXJlZm94LCB1YSksXG4gICAgICAgICAgICBjaHJvbWU6ICAgICAgIG1hdGNoKG90aGVyX2Nocm9tZSwgdWEpLFxuICAgICAgICAgICAgZGV2aWNlOiAgICAgICBtYXRjaChvdGhlcl9ibGFja2JlcnJ5LCB1YSkgfHwgbWF0Y2gob3RoZXJfYmxhY2tiZXJyeV8xMCwgdWEpIHx8IG1hdGNoKG90aGVyX29wZXJhLCB1YSkgfHwgbWF0Y2gob3RoZXJfZmlyZWZveCwgdWEpIHx8IG1hdGNoKG90aGVyX2Nocm9tZSwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V2ZW5faW5jaCA9IG1hdGNoKHNldmVuX2luY2gsIHVhKTtcbiAgICAgICAgdGhpcy5hbnkgPSB0aGlzLmFwcGxlLmRldmljZSB8fCB0aGlzLmFuZHJvaWQuZGV2aWNlIHx8IHRoaXMud2luZG93cy5kZXZpY2UgfHwgdGhpcy5vdGhlci5kZXZpY2UgfHwgdGhpcy5zZXZlbl9pbmNoO1xuXG4gICAgICAgIC8vIGV4Y2x1ZGVzICdvdGhlcicgZGV2aWNlcyBhbmQgaXBvZHMsIHRhcmdldGluZyB0b3VjaHNjcmVlbiBwaG9uZXNcbiAgICAgICAgdGhpcy5waG9uZSA9IHRoaXMuYXBwbGUucGhvbmUgfHwgdGhpcy5hbmRyb2lkLnBob25lIHx8IHRoaXMud2luZG93cy5waG9uZTtcblxuICAgICAgICAvLyBleGNsdWRlcyA3IGluY2ggZGV2aWNlcywgY2xhc3NpZnlpbmcgYXMgcGhvbmUgb3IgdGFibGV0IGlzIGxlZnQgdG8gdGhlIHVzZXJcbiAgICAgICAgdGhpcy50YWJsZXQgPSB0aGlzLmFwcGxlLnRhYmxldCB8fCB0aGlzLmFuZHJvaWQudGFibGV0IHx8IHRoaXMud2luZG93cy50YWJsZXQ7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgaW5zdGFudGlhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIElNID0gbmV3IElzTW9iaWxlQ2xhc3MoKTtcbiAgICAgICAgSU0uQ2xhc3MgPSBJc01vYmlsZUNsYXNzO1xuICAgICAgICByZXR1cm4gSU07XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cyAmJiB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvL25vZGVcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBJc01vYmlsZUNsYXNzO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy9icm93c2VyaWZ5XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gaW5zdGFudGlhdGUoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvL0FNRFxuICAgICAgICBkZWZpbmUoJ2lzTW9iaWxlJywgW10sIGdsb2JhbC5pc01vYmlsZSA9IGluc3RhbnRpYXRlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdsb2JhbC5pc01vYmlsZSA9IGluc3RhbnRpYXRlKCk7XG4gICAgfVxuXG59KSh0aGlzKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqICdCdWlsZGVyJyBwYXR0ZXJuIGZvciBib3VuZHMgcmVjdGFuZ2xlc1xuICogQXhpcy1BbGlnbmVkIEJvdW5kaW5nIEJveFxuICogSXQgaXMgbm90IGEgc2hhcGUhIEl0cyBtdXRhYmxlIHRoaW5nLCBubyAnRU1QVFknIG9yIHRoYXQga2luZCBvZiBwcm9ibGVtc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJvdW5kcygpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJvdW5kcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcblxuICAgICAgICB0aGlzLnJlY3QgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBib3VuZHMgYXJlIGVtcHR5LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBlbXB0eS5cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgYm91bmRzIGFuZCByZXNldHMuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZUlEKys7XG5cbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FuIHJldHVybiBSZWN0YW5nbGUuRU1QVFkgY29uc3RhbnQsIGVpdGhlciBjb25zdHJ1Y3QgbmV3IHJlY3RhbmdsZSwgZWl0aGVyIHVzZSB5b3VyIHJlY3RhbmdsZVxuICAgICAqIEl0IGlzIG5vdCBndWFyYW50ZWVkIHRoYXQgaXQgd2lsbCByZXR1cm4gdGVtcFJlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSB0ZW1wb3Jhcnkgb2JqZWN0IHdpbGwgYmUgdXNlZCBpZiBBQUJCIGlzIG5vdCBlbXB0eVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlJlY3RhbmdsZX0gQSByZWN0YW5nbGUgb2YgdGhlIGJvdW5kc1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmdldFJlY3RhbmdsZSA9IGZ1bmN0aW9uIGdldFJlY3RhbmdsZShyZWN0KSB7XG4gICAgICAgIGlmICh0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZKSB7XG4gICAgICAgICAgICByZXR1cm4gX21hdGguUmVjdGFuZ2xlLkVNUFRZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVjdCA9IHJlY3QgfHwgbmV3IF9tYXRoLlJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcblxuICAgICAgICByZWN0LnggPSB0aGlzLm1pblg7XG4gICAgICAgIHJlY3QueSA9IHRoaXMubWluWTtcbiAgICAgICAgcmVjdC53aWR0aCA9IHRoaXMubWF4WCAtIHRoaXMubWluWDtcbiAgICAgICAgcmVjdC5oZWlnaHQgPSB0aGlzLm1heFkgLSB0aGlzLm1pblk7XG5cbiAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGlubGluZWQgd2hlbiBpdHMgcG9zc2libGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gVGhlIHBvaW50IHRvIGFkZC5cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRQb2ludCA9IGZ1bmN0aW9uIGFkZFBvaW50KHBvaW50KSB7XG4gICAgICAgIHRoaXMubWluWCA9IE1hdGgubWluKHRoaXMubWluWCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgcG9pbnQueSk7XG4gICAgICAgIHRoaXMubWF4WSA9IE1hdGgubWF4KHRoaXMubWF4WSwgcG9pbnQueSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBxdWFkLCBub3QgdHJhbnNmb3JtZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIFRoZSB2ZXJ0cyB0byBhZGQuXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkUXVhZCA9IGZ1bmN0aW9uIGFkZFF1YWQodmVydGljZXMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdmFyIHggPSB2ZXJ0aWNlc1swXTtcbiAgICAgICAgdmFyIHkgPSB2ZXJ0aWNlc1sxXTtcblxuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gdmVydGljZXNbMl07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1szXTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IHZlcnRpY2VzWzRdO1xuICAgICAgICB5ID0gdmVydGljZXNbNV07XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSB2ZXJ0aWNlc1s2XTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzddO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHNwcml0ZSBmcmFtZSwgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtQmFzZX0gdHJhbnNmb3JtIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTAgLSBUT0RPXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIFRPRE9cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRGcmFtZSA9IGZ1bmN0aW9uIGFkZEZyYW1lKHRyYW5zZm9ybSwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSBtYXRyaXguYTtcbiAgICAgICAgdmFyIGIgPSBtYXRyaXguYjtcbiAgICAgICAgdmFyIGMgPSBtYXRyaXguYztcbiAgICAgICAgdmFyIGQgPSBtYXRyaXguZDtcbiAgICAgICAgdmFyIHR4ID0gbWF0cml4LnR4O1xuICAgICAgICB2YXIgdHkgPSBtYXRyaXgudHk7XG5cbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdmFyIHggPSBhICogeDAgKyBjICogeTAgKyB0eDtcbiAgICAgICAgdmFyIHkgPSBiICogeDAgKyBkICogeTAgKyB0eTtcblxuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gYSAqIHgxICsgYyAqIHkwICsgdHg7XG4gICAgICAgIHkgPSBiICogeDEgKyBkICogeTAgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IGEgKiB4MCArIGMgKiB5MSArIHR4O1xuICAgICAgICB5ID0gYiAqIHgwICsgZCAqIHkxICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSBhICogeDEgKyBjICogeTEgKyB0eDtcbiAgICAgICAgeSA9IGIgKiB4MSArIGQgKiB5MSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYXJyYXkgb2YgdmVydGljZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm1CYXNlfSB0cmFuc2Zvcm0gLSBUT0RPXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kT2Zmc2V0IC0gVE9ET1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFZlcnRpY2VzID0gZnVuY3Rpb24gYWRkVmVydGljZXModHJhbnNmb3JtLCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCkge1xuICAgICAgICB2YXIgbWF0cml4ID0gdHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IG1hdHJpeC5hO1xuICAgICAgICB2YXIgYiA9IG1hdHJpeC5iO1xuICAgICAgICB2YXIgYyA9IG1hdHJpeC5jO1xuICAgICAgICB2YXIgZCA9IG1hdHJpeC5kO1xuICAgICAgICB2YXIgdHggPSBtYXRyaXgudHg7XG4gICAgICAgIHZhciB0eSA9IG1hdHJpeC50eTtcblxuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICBmb3IgKHZhciBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHJhd1ggPSB2ZXJ0aWNlc1tpXTtcbiAgICAgICAgICAgIHZhciByYXdZID0gdmVydGljZXNbaSArIDFdO1xuICAgICAgICAgICAgdmFyIHggPSBhICogcmF3WCArIGMgKiByYXdZICsgdHg7XG4gICAgICAgICAgICB2YXIgeSA9IGQgKiByYXdZICsgYiAqIHJhd1ggKyB0eTtcblxuICAgICAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kcyA9IGZ1bmN0aW9uIGFkZEJvdW5kcyhib3VuZHMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdGhpcy5taW5YID0gYm91bmRzLm1pblggPCBtaW5YID8gYm91bmRzLm1pblggOiBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBib3VuZHMubWluWSA8IG1pblkgPyBib3VuZHMubWluWSA6IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IGJvdW5kcy5tYXhYID4gbWF4WCA/IGJvdW5kcy5tYXhYIDogbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gYm91bmRzLm1heFkgPiBtYXhZID8gYm91bmRzLm1heFkgOiBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggQm91bmRzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gbWFzayAtIFRPRE9cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNNYXNrID0gZnVuY3Rpb24gYWRkQm91bmRzTWFzayhib3VuZHMsIG1hc2spIHtcbiAgICAgICAgdmFyIF9taW5YID0gYm91bmRzLm1pblggPiBtYXNrLm1pblggPyBib3VuZHMubWluWCA6IG1hc2subWluWDtcbiAgICAgICAgdmFyIF9taW5ZID0gYm91bmRzLm1pblkgPiBtYXNrLm1pblkgPyBib3VuZHMubWluWSA6IG1hc2subWluWTtcbiAgICAgICAgdmFyIF9tYXhYID0gYm91bmRzLm1heFggPCBtYXNrLm1heFggPyBib3VuZHMubWF4WCA6IG1hc2subWF4WDtcbiAgICAgICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBtYXNrLm1heFkgPyBib3VuZHMubWF4WSA6IG1hc2subWF4WTtcblxuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpIHtcbiAgICAgICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgICAgICB0aGlzLm1pblggPSBfbWluWCA8IG1pblggPyBfbWluWCA6IG1pblg7XG4gICAgICAgICAgICB0aGlzLm1pblkgPSBfbWluWSA8IG1pblkgPyBfbWluWSA6IG1pblk7XG4gICAgICAgICAgICB0aGlzLm1heFggPSBfbWF4WCA+IG1heFggPyBfbWF4WCA6IG1heFg7XG4gICAgICAgICAgICB0aGlzLm1heFkgPSBfbWF4WSA+IG1heFkgPyBfbWF4WSA6IG1heFk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMsIG1hc2tlZCB3aXRoIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGFyZWEgLSBUT0RPXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzQXJlYSA9IGZ1bmN0aW9uIGFkZEJvdW5kc0FyZWEoYm91bmRzLCBhcmVhKSB7XG4gICAgICAgIHZhciBfbWluWCA9IGJvdW5kcy5taW5YID4gYXJlYS54ID8gYm91bmRzLm1pblggOiBhcmVhLng7XG4gICAgICAgIHZhciBfbWluWSA9IGJvdW5kcy5taW5ZID4gYXJlYS55ID8gYm91bmRzLm1pblkgOiBhcmVhLnk7XG4gICAgICAgIHZhciBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgYXJlYS54ICsgYXJlYS53aWR0aCA/IGJvdW5kcy5tYXhYIDogYXJlYS54ICsgYXJlYS53aWR0aDtcbiAgICAgICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBhcmVhLnkgKyBhcmVhLmhlaWdodCA/IGJvdW5kcy5tYXhZIDogYXJlYS55ICsgYXJlYS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKSB7XG4gICAgICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBCb3VuZHM7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJvdW5kcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJvdW5kcy5qcy5tYXAiLCJcblxudmFyIG1hcFR5cGUgPSBmdW5jdGlvbihnbCwgdHlwZSkgXG57XG4gICAgaWYoIUdMX1RBQkxFKSBcbiAgICB7XG4gICAgICAgIHZhciB0eXBlTmFtZXMgPSBPYmplY3Qua2V5cyhHTF9UT19HTFNMX1RZUEVTKTtcblxuICAgICAgICBHTF9UQUJMRSA9IHt9O1xuXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0eXBlTmFtZXMubGVuZ3RoOyArK2kpIFxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdG4gPSB0eXBlTmFtZXNbaV07XG4gICAgICAgICAgICBHTF9UQUJMRVsgZ2xbdG5dIF0gPSBHTF9UT19HTFNMX1RZUEVTW3RuXTtcbiAgICAgICAgfVxuICAgIH1cblxuICByZXR1cm4gR0xfVEFCTEVbdHlwZV07XG59O1xuXG52YXIgR0xfVEFCTEUgPSBudWxsO1xuXG52YXIgR0xfVE9fR0xTTF9UWVBFUyA9IHtcbiAgJ0ZMT0FUJzogICAgICAgJ2Zsb2F0JyxcbiAgJ0ZMT0FUX1ZFQzInOiAgJ3ZlYzInLFxuICAnRkxPQVRfVkVDMyc6ICAndmVjMycsXG4gICdGTE9BVF9WRUM0JzogICd2ZWM0JyxcblxuICAnSU5UJzogICAgICAgICAnaW50JyxcbiAgJ0lOVF9WRUMyJzogICAgJ2l2ZWMyJyxcbiAgJ0lOVF9WRUMzJzogICAgJ2l2ZWMzJyxcbiAgJ0lOVF9WRUM0JzogICAgJ2l2ZWM0JyxcbiAgXG4gICdCT09MJzogICAgICAgICdib29sJyxcbiAgJ0JPT0xfVkVDMic6ICAgJ2J2ZWMyJyxcbiAgJ0JPT0xfVkVDMyc6ICAgJ2J2ZWMzJyxcbiAgJ0JPT0xfVkVDNCc6ICAgJ2J2ZWM0JyxcbiAgXG4gICdGTE9BVF9NQVQyJzogICdtYXQyJyxcbiAgJ0ZMT0FUX01BVDMnOiAgJ21hdDMnLFxuICAnRkxPQVRfTUFUNCc6ICAnbWF0NCcsXG4gIFxuICAnU0FNUExFUl8yRCc6ICAnc2FtcGxlcjJEJyAgXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcFR5cGU7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSBkZWZpbmVkIGJ5IGl0cyBwb3NpdGlvbiwgYXMgaW5kaWNhdGVkIGJ5IGl0cyB0b3AtbGVmdCBjb3JuZXJcbiAqIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBUaGUgb3ZlcmFsbCB3aWR0aCBvZiB0aGlzIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gVGhlIG92ZXJhbGwgaGVpZ2h0IG9mIHRoaXMgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVjdGFuZ2xlKCkge1xuICAgICAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgICAgIHZhciB3aWR0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVjdGFuZ2xlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSBOdW1iZXIoeCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0gTnVtYmVyKHkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSBOdW1iZXIod2lkdGgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTnVtYmVyKGhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUkVDVFxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBfY29uc3QuU0hBUEVTLlJFQ1Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgbGVmdCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvcGllcyBhbm90aGVyIHJlY3RhbmdsZSB0byB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gY29weS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocmVjdGFuZ2xlKSB7XG4gICAgICAgIHRoaXMueCA9IHJlY3RhbmdsZS54O1xuICAgICAgICB0aGlzLnkgPSByZWN0YW5nbGUueTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHJlY3RhbmdsZS53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSByZWN0YW5nbGUuaGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKi9cblxuXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8IHRoaXMueCArIHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDwgdGhpcy55ICsgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFkcyB0aGUgcmVjdGFuZ2xlIG1ha2luZyBpdCBncm93IGluIGFsbCBkaXJlY3Rpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZGRpbmdYIC0gVGhlIGhvcml6b250YWwgcGFkZGluZyBhbW91bnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRkaW5nWV0gLSBUaGUgdmVydGljYWwgcGFkZGluZyBhbW91bnQuXG4gICAgICovXG5cblxuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gcGFkKHBhZGRpbmdYLCBwYWRkaW5nWSkge1xuICAgICAgICBwYWRkaW5nWCA9IHBhZGRpbmdYIHx8IDA7XG4gICAgICAgIHBhZGRpbmdZID0gcGFkZGluZ1kgfHwgKHBhZGRpbmdZICE9PSAwID8gcGFkZGluZ1ggOiAwKTtcblxuICAgICAgICB0aGlzLnggLT0gcGFkZGluZ1g7XG4gICAgICAgIHRoaXMueSAtPSBwYWRkaW5nWTtcblxuICAgICAgICB0aGlzLndpZHRoICs9IHBhZGRpbmdYICogMjtcbiAgICAgICAgdGhpcy5oZWlnaHQgKz0gcGFkZGluZ1kgKiAyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaXRzIHRoaXMgcmVjdGFuZ2xlIGFyb3VuZCB0aGUgcGFzc2VkIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gZml0LlxuICAgICAqL1xuXG5cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmZpdCA9IGZ1bmN0aW9uIGZpdChyZWN0YW5nbGUpIHtcbiAgICAgICAgaWYgKHRoaXMueCA8IHJlY3RhbmdsZS54KSB7XG4gICAgICAgICAgICB0aGlzLndpZHRoICs9IHRoaXMueDtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnggPSByZWN0YW5nbGUueDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnkgPCByZWN0YW5nbGUueSkge1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgKz0gdGhpcy55O1xuICAgICAgICAgICAgaWYgKHRoaXMuaGVpZ2h0IDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMueSA9IHJlY3RhbmdsZS55O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMueCArIHRoaXMud2lkdGggPiByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCkge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHJlY3RhbmdsZS53aWR0aCAtIHRoaXMueDtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMueSArIHRoaXMuaGVpZ2h0ID4gcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHJlY3RhbmdsZS5oZWlnaHQgLSB0aGlzLnk7XG4gICAgICAgICAgICBpZiAodGhpcy5oZWlnaHQgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVubGFyZ2VzIHRoaXMgcmVjdGFuZ2xlIHRvIGluY2x1ZGUgdGhlIHBhc3NlZCByZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGluY2x1ZGUuXG4gICAgICovXG5cblxuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuZW5sYXJnZSA9IGZ1bmN0aW9uIGVubGFyZ2UocmVjdGFuZ2xlKSB7XG4gICAgICAgIHZhciB4MSA9IE1hdGgubWluKHRoaXMueCwgcmVjdGFuZ2xlLngpO1xuICAgICAgICB2YXIgeDIgPSBNYXRoLm1heCh0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgICAgIHZhciB5MSA9IE1hdGgubWluKHRoaXMueSwgcmVjdGFuZ2xlLnkpO1xuICAgICAgICB2YXIgeTIgPSBNYXRoLm1heCh0aGlzLnkgKyB0aGlzLmhlaWdodCwgcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnggPSB4MTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHgyIC0geDE7XG4gICAgICAgIHRoaXMueSA9IHkxO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHkyIC0geTE7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhSZWN0YW5nbGUsIFt7XG4gICAgICAgIGtleTogJ2xlZnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgcmlnaHQgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSB0b3AgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RvcCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSBib3R0b20gZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JvdHRvbScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY29uc3RhbnQgZW1wdHkgcmVjdGFuZ2xlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cblxuICAgIH1dLCBbe1xuICAgICAgICBrZXk6ICdFTVBUWScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUoMCwgMCwgMCwgMCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUmVjdGFuZ2xlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZWN0YW5nbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWN0YW5nbGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX1BvaW50ID0gcmVxdWlyZSgnLi9Qb2ludCcpO1xuXG52YXIgX1BvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvaW50KTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIFBpeGlKUyBNYXRyaXggY2xhc3MgYXMgYW4gb2JqZWN0LCB3aGljaCBtYWtlcyBpdCBhIGxvdCBmYXN0ZXIsXG4gKiBoZXJlIGlzIGEgcmVwcmVzZW50YXRpb24gb2YgaXQgOlxuICogfCBhIHwgYyB8IHR4fFxuICogfCBiIHwgZCB8IHR5fFxuICogfCAwIHwgMCB8IDEgfFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1hdHJpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2E9MV0gLSB4IHNjYWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiPTBdIC0geCBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjPTBdIC0geSBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkPTFdIC0geSBzY2FsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdHg9MF0gLSB4IHRyYW5zbGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0eT0wXSAtIHkgdHJhbnNsYXRpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXRyaXgoKSB7XG4gICAgICAgIHZhciBhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxO1xuICAgICAgICB2YXIgYiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciBkID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAxO1xuICAgICAgICB2YXIgdHggPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDA7XG4gICAgICAgIHZhciB0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWF0cml4KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmEgPSBhO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYiA9IGI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jID0gYztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmQgPSBkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHggPSB0eDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5ID0gdHk7XG5cbiAgICAgICAgdGhpcy5hcnJheSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIE1hdHJpeCBvYmplY3QgYmFzZWQgb24gdGhlIGdpdmVuIGFycmF5LiBUaGUgRWxlbWVudCB0byBNYXRyaXggbWFwcGluZyBvcmRlciBpcyBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogYSA9IGFycmF5WzBdXG4gICAgICogYiA9IGFycmF5WzFdXG4gICAgICogYyA9IGFycmF5WzNdXG4gICAgICogZCA9IGFycmF5WzRdXG4gICAgICogdHggPSBhcnJheVsyXVxuICAgICAqIHR5ID0gYXJyYXlbNV1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIGFycmF5IHRoYXQgdGhlIG1hdHJpeCB3aWxsIGJlIHBvcHVsYXRlZCBmcm9tLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmZyb21BcnJheSA9IGZ1bmN0aW9uIGZyb21BcnJheShhcnJheSkge1xuICAgICAgICB0aGlzLmEgPSBhcnJheVswXTtcbiAgICAgICAgdGhpcy5iID0gYXJyYXlbMV07XG4gICAgICAgIHRoaXMuYyA9IGFycmF5WzNdO1xuICAgICAgICB0aGlzLmQgPSBhcnJheVs0XTtcbiAgICAgICAgdGhpcy50eCA9IGFycmF5WzJdO1xuICAgICAgICB0aGlzLnR5ID0gYXJyYXlbNV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHNldHMgdGhlIG1hdHJpeCBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYSAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYiAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYyAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZCAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHggLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5IC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0KGEsIGIsIGMsIGQsIHR4LCB0eSkge1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgICAgICB0aGlzLmQgPSBkO1xuICAgICAgICB0aGlzLnR4ID0gdHg7XG4gICAgICAgIHRoaXMudHkgPSB0eTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBmcm9tIHRoZSBjdXJyZW50IE1hdHJpeCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRyYW5zcG9zZSAtIFdoZXRoZXIgd2UgbmVlZCB0byB0cmFuc3Bvc2UgdGhlIG1hdHJpeCBvciBub3RcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dD1uZXcgRmxvYXQzMkFycmF5KDkpXSAtIElmIHByb3ZpZGVkIHRoZSBhcnJheSB3aWxsIGJlIGFzc2lnbmVkIHRvIG91dFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSB0aGUgbmV3bHkgY3JlYXRlZCBhcnJheSB3aGljaCBjb250YWlucyB0aGUgbWF0cml4XG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uIHRvQXJyYXkodHJhbnNwb3NlLCBvdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLmFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSg5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhcnJheSA9IG91dCB8fCB0aGlzLmFycmF5O1xuXG4gICAgICAgIGlmICh0cmFuc3Bvc2UpIHtcbiAgICAgICAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgICAgICAgYXJyYXlbMV0gPSB0aGlzLmI7XG4gICAgICAgICAgICBhcnJheVsyXSA9IDA7XG4gICAgICAgICAgICBhcnJheVszXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgICAgICAgYXJyYXlbNV0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbNl0gPSB0aGlzLnR4O1xuICAgICAgICAgICAgYXJyYXlbN10gPSB0aGlzLnR5O1xuICAgICAgICAgICAgYXJyYXlbOF0gPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgICAgICBhcnJheVsxXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzJdID0gdGhpcy50eDtcbiAgICAgICAgICAgIGFycmF5WzNdID0gdGhpcy5iO1xuICAgICAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgICAgICBhcnJheVs1XSA9IHRoaXMudHk7XG4gICAgICAgICAgICBhcnJheVs2XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs3XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZSB0byB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gcmVuZGVyaW5nKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb3MgLSBUaGUgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbbmV3UG9zXSAtIFRoZSBwb2ludCB0aGF0IHRoZSBuZXcgcG9zaXRpb24gaXMgYXNzaWduZWQgdG8gKGFsbG93ZWQgdG8gYmUgc2FtZSBhcyBpbnB1dClcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgbmV3IHBvaW50LCB0cmFuc2Zvcm1lZCB0aHJvdWdoIHRoaXMgbWF0cml4XG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShwb3MsIG5ld1Bvcykge1xuICAgICAgICBuZXdQb3MgPSBuZXdQb3MgfHwgbmV3IF9Qb2ludDIuZGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciB4ID0gcG9zLng7XG4gICAgICAgIHZhciB5ID0gcG9zLnk7XG5cbiAgICAgICAgbmV3UG9zLnggPSB0aGlzLmEgKiB4ICsgdGhpcy5jICogeSArIHRoaXMudHg7XG4gICAgICAgIG5ld1Bvcy55ID0gdGhpcy5iICogeCArIHRoaXMuZCAqIHkgKyB0aGlzLnR5O1xuXG4gICAgICAgIHJldHVybiBuZXdQb3M7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBpbnZlcnNlIG9mIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZSB0byBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gaW5wdXQpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvcyAtIFRoZSBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtuZXdQb3NdIC0gVGhlIHBvaW50IHRoYXQgdGhlIG5ldyBwb3NpdGlvbiBpcyBhc3NpZ25lZCB0byAoYWxsb3dlZCB0byBiZSBzYW1lIGFzIGlucHV0KVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIGludmVyc2UtdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmFwcGx5SW52ZXJzZSA9IGZ1bmN0aW9uIGFwcGx5SW52ZXJzZShwb3MsIG5ld1Bvcykge1xuICAgICAgICBuZXdQb3MgPSBuZXdQb3MgfHwgbmV3IF9Qb2ludDIuZGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciBpZCA9IDEgLyAodGhpcy5hICogdGhpcy5kICsgdGhpcy5jICogLXRoaXMuYik7XG5cbiAgICAgICAgdmFyIHggPSBwb3MueDtcbiAgICAgICAgdmFyIHkgPSBwb3MueTtcblxuICAgICAgICBuZXdQb3MueCA9IHRoaXMuZCAqIGlkICogeCArIC10aGlzLmMgKiBpZCAqIHkgKyAodGhpcy50eSAqIHRoaXMuYyAtIHRoaXMudHggKiB0aGlzLmQpICogaWQ7XG4gICAgICAgIG5ld1Bvcy55ID0gdGhpcy5hICogaWQgKiB5ICsgLXRoaXMuYiAqIGlkICogeCArICgtdGhpcy50eSAqIHRoaXMuYSArIHRoaXMudHggKiB0aGlzLmIpICogaWQ7XG5cbiAgICAgICAgcmV0dXJuIG5ld1BvcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGUgbWF0cml4IG9uIHRoZSB4IGFuZCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggSG93IG11Y2ggdG8gdHJhbnNsYXRlIHggYnlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeSBieVxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uIHRyYW5zbGF0ZSh4LCB5KSB7XG4gICAgICAgIHRoaXMudHggKz0geDtcbiAgICAgICAgdGhpcy50eSArPSB5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgc2NhbGUgdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRoZSBhbW91bnQgdG8gc2NhbGUgaG9yaXpvbnRhbGx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGhlIGFtb3VudCB0byBzY2FsZSB2ZXJ0aWNhbGx5XG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiBzY2FsZSh4LCB5KSB7XG4gICAgICAgIHRoaXMuYSAqPSB4O1xuICAgICAgICB0aGlzLmQgKj0geTtcbiAgICAgICAgdGhpcy5jICo9IHg7XG4gICAgICAgIHRoaXMuYiAqPSB5O1xuICAgICAgICB0aGlzLnR4ICo9IHg7XG4gICAgICAgIHRoaXMudHkgKj0geTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHJvdGF0aW9uIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgLSBUaGUgYW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5yb3RhdGUgPSBmdW5jdGlvbiByb3RhdGUoYW5nbGUpIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgdmFyIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcblxuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG5cbiAgICAgICAgdGhpcy5hID0gYTEgKiBjb3MgLSB0aGlzLmIgKiBzaW47XG4gICAgICAgIHRoaXMuYiA9IGExICogc2luICsgdGhpcy5iICogY29zO1xuICAgICAgICB0aGlzLmMgPSBjMSAqIGNvcyAtIHRoaXMuZCAqIHNpbjtcbiAgICAgICAgdGhpcy5kID0gYzEgKiBzaW4gKyB0aGlzLmQgKiBjb3M7XG4gICAgICAgIHRoaXMudHggPSB0eDEgKiBjb3MgLSB0aGlzLnR5ICogc2luO1xuICAgICAgICB0aGlzLnR5ID0gdHgxICogc2luICsgdGhpcy50eSAqIGNvcztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBhcHBlbmQuXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gYXBwZW5kKG1hdHJpeCkge1xuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBiMSA9IHRoaXMuYjtcbiAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICB2YXIgZDEgPSB0aGlzLmQ7XG5cbiAgICAgICAgdGhpcy5hID0gbWF0cml4LmEgKiBhMSArIG1hdHJpeC5iICogYzE7XG4gICAgICAgIHRoaXMuYiA9IG1hdHJpeC5hICogYjEgKyBtYXRyaXguYiAqIGQxO1xuICAgICAgICB0aGlzLmMgPSBtYXRyaXguYyAqIGExICsgbWF0cml4LmQgKiBjMTtcbiAgICAgICAgdGhpcy5kID0gbWF0cml4LmMgKiBiMSArIG1hdHJpeC5kICogZDE7XG5cbiAgICAgICAgdGhpcy50eCA9IG1hdHJpeC50eCAqIGExICsgbWF0cml4LnR5ICogYzEgKyB0aGlzLnR4O1xuICAgICAgICB0aGlzLnR5ID0gbWF0cml4LnR4ICogYjEgKyBtYXRyaXgudHkgKiBkMSArIHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hdHJpeCBiYXNlZCBvbiBhbGwgdGhlIGF2YWlsYWJsZSBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFBvc2l0aW9uIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFBvc2l0aW9uIG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl2b3RYIC0gUGl2b3Qgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFkgLSBQaXZvdCBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWCAtIFNjYWxlIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVZIC0gU2NhbGUgb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFJvdGF0aW9uIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2tld1ggLSBTa2V3IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2tld1kgLSBTa2V3IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0oeCwgeSwgcGl2b3RYLCBwaXZvdFksIHNjYWxlWCwgc2NhbGVZLCByb3RhdGlvbiwgc2tld1gsIHNrZXdZKSB7XG4gICAgICAgIHRoaXMuYSA9IE1hdGguY29zKHJvdGF0aW9uICsgc2tld1kpICogc2NhbGVYO1xuICAgICAgICB0aGlzLmIgPSBNYXRoLnNpbihyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICAgICAgdGhpcy5jID0gLU1hdGguc2luKHJvdGF0aW9uIC0gc2tld1gpICogc2NhbGVZO1xuICAgICAgICB0aGlzLmQgPSBNYXRoLmNvcyhyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcblxuICAgICAgICB0aGlzLnR4ID0geCAtIChwaXZvdFggKiB0aGlzLmEgKyBwaXZvdFkgKiB0aGlzLmMpO1xuICAgICAgICB0aGlzLnR5ID0geSAtIChwaXZvdFggKiB0aGlzLmIgKyBwaXZvdFkgKiB0aGlzLmQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcmVwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBwcmVwZW5kXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uIHByZXBlbmQobWF0cml4KSB7XG4gICAgICAgIHZhciB0eDEgPSB0aGlzLnR4O1xuXG4gICAgICAgIGlmIChtYXRyaXguYSAhPT0gMSB8fCBtYXRyaXguYiAhPT0gMCB8fCBtYXRyaXguYyAhPT0gMCB8fCBtYXRyaXguZCAhPT0gMSkge1xuICAgICAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuXG4gICAgICAgICAgICB0aGlzLmEgPSBhMSAqIG1hdHJpeC5hICsgdGhpcy5iICogbWF0cml4LmM7XG4gICAgICAgICAgICB0aGlzLmIgPSBhMSAqIG1hdHJpeC5iICsgdGhpcy5iICogbWF0cml4LmQ7XG4gICAgICAgICAgICB0aGlzLmMgPSBjMSAqIG1hdHJpeC5hICsgdGhpcy5kICogbWF0cml4LmM7XG4gICAgICAgICAgICB0aGlzLmQgPSBjMSAqIG1hdHJpeC5iICsgdGhpcy5kICogbWF0cml4LmQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnR4ID0gdHgxICogbWF0cml4LmEgKyB0aGlzLnR5ICogbWF0cml4LmMgKyBtYXRyaXgudHg7XG4gICAgICAgIHRoaXMudHkgPSB0eDEgKiBtYXRyaXguYiArIHRoaXMudHkgKiBtYXRyaXguZCArIG1hdHJpeC50eTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVjb21wb3NlcyB0aGUgbWF0cml4ICh4LCB5LCBzY2FsZVgsIHNjYWxlWSwgYW5kIHJvdGF0aW9uKSBhbmQgc2V0cyB0aGUgcHJvcGVydGllcyBvbiB0byBhIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm18UElYSS5UcmFuc2Zvcm1TdGF0aWN9IHRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gdG8gYXBwbHkgdGhlIHByb3BlcnRpZXMgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5UcmFuc2Zvcm18UElYSS5UcmFuc2Zvcm1TdGF0aWN9IFRoZSB0cmFuc2Zvcm0gd2l0aCB0aGUgbmV3bHkgYXBwbGllZCBwcm9wZXJ0aWVzXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuZGVjb21wb3NlID0gZnVuY3Rpb24gZGVjb21wb3NlKHRyYW5zZm9ybSkge1xuICAgICAgICAvLyBzb3J0IG91dCByb3RhdGlvbiAvIHNrZXcuLlxuICAgICAgICB2YXIgYSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGIgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjID0gdGhpcy5jO1xuICAgICAgICB2YXIgZCA9IHRoaXMuZDtcblxuICAgICAgICB2YXIgc2tld1ggPSAtTWF0aC5hdGFuMigtYywgZCk7XG4gICAgICAgIHZhciBza2V3WSA9IE1hdGguYXRhbjIoYiwgYSk7XG5cbiAgICAgICAgdmFyIGRlbHRhID0gTWF0aC5hYnMoc2tld1ggKyBza2V3WSk7XG5cbiAgICAgICAgaWYgKGRlbHRhIDwgMC4wMDAwMSB8fCBNYXRoLmFicyhfY29uc3QuUElfMiAtIGRlbHRhKSA8IDAuMDAwMDEpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IHNrZXdZO1xuXG4gICAgICAgICAgICBpZiAoYSA8IDAgJiYgZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uICs9IHRyYW5zZm9ybS5yb3RhdGlvbiA8PSAwID8gTWF0aC5QSSA6IC1NYXRoLlBJO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gdHJhbnNmb3JtLnNrZXcueSA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSAwO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbmV4dCBzZXQgc2NhbGVcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnggPSBNYXRoLnNxcnQoYSAqIGEgKyBiICogYik7XG4gICAgICAgIHRyYW5zZm9ybS5zY2FsZS55ID0gTWF0aC5zcXJ0KGMgKiBjICsgZCAqIGQpO1xuXG4gICAgICAgIC8vIG5leHQgc2V0IHBvc2l0aW9uXG4gICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdGhpcy50eDtcbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB0aGlzLnR5O1xuXG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEludmVydHMgdGhpcyBtYXRyaXhcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uIGludmVydCgpIHtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYjEgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQxID0gdGhpcy5kO1xuICAgICAgICB2YXIgdHgxID0gdGhpcy50eDtcbiAgICAgICAgdmFyIG4gPSBhMSAqIGQxIC0gYjEgKiBjMTtcblxuICAgICAgICB0aGlzLmEgPSBkMSAvIG47XG4gICAgICAgIHRoaXMuYiA9IC1iMSAvIG47XG4gICAgICAgIHRoaXMuYyA9IC1jMSAvIG47XG4gICAgICAgIHRoaXMuZCA9IGExIC8gbjtcbiAgICAgICAgdGhpcy50eCA9IChjMSAqIHRoaXMudHkgLSBkMSAqIHR4MSkgLyBuO1xuICAgICAgICB0aGlzLnR5ID0gLShhMSAqIHRoaXMudHkgLSBiMSAqIHR4MSkgLyBuO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhpcyBNYXRpeCB0byBhbiBpZGVudGl0eSAoZGVmYXVsdCkgbWF0cml4LlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuaWRlbnRpdHkgPSBmdW5jdGlvbiBpZGVudGl0eSgpIHtcbiAgICAgICAgdGhpcy5hID0gMTtcbiAgICAgICAgdGhpcy5iID0gMDtcbiAgICAgICAgdGhpcy5jID0gMDtcbiAgICAgICAgdGhpcy5kID0gMTtcbiAgICAgICAgdGhpcy50eCA9IDA7XG4gICAgICAgIHRoaXMudHkgPSAwO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IE1hdHJpeCBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gQSBjb3B5IG9mIHRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIGdpdmVuIG1hdHJpeCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgb25lcyBpbiB0aGlzIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXRyaXggZ2l2ZW4gaW4gcGFyYW1ldGVyIHdpdGggaXRzIHZhbHVlcyB1cGRhdGVkLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KG1hdHJpeCkge1xuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIGRlZmF1bHQgKGlkZW50aXR5KSBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKE1hdHJpeCwgbnVsbCwgW3tcbiAgICAgICAga2V5OiAnSURFTlRJVFknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSB0ZW1wIG1hdHJpeFxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnVEVNUF9NQVRSSVgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTWF0cml4O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBNYXRyaXg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXRyaXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIFBvaW50IG9iamVjdCByZXByZXNlbnRzIGEgbG9jYXRpb24gaW4gYSB0d28tZGltZW5zaW9uYWwgY29vcmRpbmF0ZSBzeXN0ZW0sIHdoZXJlIHggcmVwcmVzZW50c1xuICogdGhlIGhvcml6b250YWwgYXhpcyBhbmQgeSByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBheGlzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBvaW50ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICovXG4gIGZ1bmN0aW9uIFBvaW50KCkge1xuICAgIHZhciB4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvaW50KTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy54ID0geDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy55ID0geTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2ludFxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBhIGNvcHkgb2YgdGhlIHBvaW50XG4gICAqL1xuXG5cbiAgUG9pbnQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvcGllcyB4IGFuZCB5IGZyb20gdGhlIGdpdmVuIHBvaW50XG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICAgKi9cblxuXG4gIFBvaW50LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKSB7XG4gICAgdGhpcy5zZXQocC54LCBwLnkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAqL1xuXG5cbiAgUG9pbnQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhwKSB7XG4gICAgcmV0dXJuIHAueCA9PT0gdGhpcy54ICYmIHAueSA9PT0gdGhpcy55O1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBwb2ludCB0byBhIG5ldyB4IGFuZCB5IHBvc2l0aW9uLlxuICAgKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgKi9cblxuXG4gIFBvaW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQoeCwgeSkge1xuICAgIHRoaXMueCA9IHggfHwgMDtcbiAgICB0aGlzLnkgPSB5IHx8ICh5ICE9PSAwID8gdGhpcy54IDogMCk7XG4gIH07XG5cbiAgcmV0dXJuIFBvaW50O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQb2ludDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvaW50LmpzLm1hcCIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLCBldmFsKShcInRoaXNcIik7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gXCJwaXhpLmpzXCI7XHJcbmltcG9ydCBUaWxlIGZyb20gXCIuL1dvcmxkL1RpbGVcIjtcclxuaW1wb3J0IENyZWF0ZVdvcmxkIGZyb20gXCIuL1dvcmxkL0NyZWF0ZVdvcmxkXCI7XHJcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vQ2hhcmFjdGVycy9QbGF5ZXJcIlxyXG5pbXBvcnQgRW5lbXkgZnJvbSBcIi4vQ2hhcmFjdGVycy9FbmVteVwiO1xyXG5pbXBvcnQgQ2hhcmFjdGVycyBmcm9tIFwiLi9DaGFyYWN0ZXJzL0NoYXJhY3RlcnNcIjtcclxuaW1wb3J0IFJvY2sgZnJvbSBcIi4vUm9ja1wiO1xyXG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi9HYW1lT2JqZWN0L0dhbWVPYmplY3RcIjtcclxuaW1wb3J0IFJhbmdlUGlja1VwIGZyb20gXCIuL0dhbWVPYmplY3QvUmFuZ2VQaWNrVXBcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWUge1xyXG5cclxuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogR2FtZTtcclxuICBwdWJsaWMgcGl4aTogUElYSS5BcHBsaWNhdGlvbjtcclxuICBwdWJsaWMgbGVuZ3RoOm51bWJlcjtcclxuICBwdWJsaWMgdGlsZSE6Q3JlYXRlV29ybGQ7XHJcbiAgcHVibGljIHBsYXllciE6IFBsYXllcjtcclxuICBwdWJsaWMga2V5U3RhdGU6YW55W10gPSBbXVxyXG4gIHB1YmxpYyBlbmVteSE6RW5lbXlcclxuICBwdWJsaWMgY2hhcmFjdGVyc0FycmF5OkNoYXJhY3RlcnNbXSA9IFtdXHJcbiAgcHVibGljIHJvY2tzOkFycmF5PFJvY2s+ID0gbmV3IEFycmF5PFJvY2s+KClcclxuICBwdWJsaWMgZ2FtZU9iamVjdHM6R2FtZU9iamVjdFtdID0gW11cclxuICBwdWJsaWMgaGVpZ3RoOm51bWJlclxyXG4gIHB1YmxpYyByYW5nZVBpY2t1cCE6UmFuZ2VQaWNrVXA7XHJcbiAgcHVibGljIHBsYXllckNvbnRhaW5lcjogUElYSS5Db250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKVxyXG4gIHB1YmxpYyBjaGFyYWN0ZXJDb250YWluZXI6IFBJWEkuQ29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKClcclxuICBwdWJsaWMgd29ybGRDb250YWluZXI6IFBJWEkuQ29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKClcclxuICBwdWJsaWMgZ2FtZU9iamVjdENvbnRhaW5lcjogUElYSS5Db250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKVxyXG5cclxuICAvL3NpbmdsZXRvbiBmdW5jdGlvbiBcclxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogR2FtZSB7XHJcbiAgICBpZiAoIUdhbWUuaW5zdGFuY2UpIHsgXHJcbiAgICAgIEdhbWUuaW5zdGFuY2UgPSBuZXcgR2FtZSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEdhbWUuaW5zdGFuY2U7XHJcbiAgfVxyXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XHJcbiAgICAvL2xlbmd0aCBvZiB0aGUgbWFwICYgaGVpZ3RoXHJcbiAgICB0aGlzLmxlbmd0aCA9IDMwMDA7XHJcbiAgICB0aGlzLmhlaWd0aCA9IDQ7XHJcbiAgXHJcbiAgICAvL21ha2luZyB0aGUgY2FudmFzIGJsYWNrIGFuZCBzZXR0aW5nIHRoZSBjYW52YXMgZnVsbCBzY3JlZW5cclxuICAgIHRoaXMucGl4aSA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKHRoaXMubGVuZ3RoLCBpbm5lckhlaWdodCwge1xyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IDB4MDAwMDAwLFxyXG4gICAgICByZXNvbHV0aW9uOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxcclxuICAgICAgYXV0b1Jlc2l6ZTogdHJ1ZSxcclxuICAgICAgZm9yY2VDYW52YXM6IHRydWVcclxuICAgIH0pO1xyXG4gICAgdGhpcy5waXhpLnJlbmRlcmVyLnZpZXcuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgICB0aGlzLnBpeGkucmVuZGVyZXIudmlldy5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgdGhpcy5waXhpLnJlbmRlcmVyLmF1dG9SZXNpemUgPSB0cnVlO1xyXG4gICAgdGhpcy5waXhpLnJlbmRlcmVyLnJlc2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcclxuICAgIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERSA9IFBJWEkuU0NBTEVfTU9ERVMuTkVBUkVTVDtcclxuXHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucGl4aS52aWV3KTtcclxuXHJcbiAgICAvL3NldHVwIGNhbWVyYVxyXG4gICAgdGhpcy5waXhpLnN0YWdlLmFkZENoaWxkKHRoaXMud29ybGRDb250YWluZXIpXHJcbiAgICB0aGlzLnBpeGkuc3RhZ2UuYWRkQ2hpbGQodGhpcy5jaGFyYWN0ZXJDb250YWluZXIpXHJcbiAgICB0aGlzLnBpeGkuc3RhZ2UuYWRkQ2hpbGQodGhpcy5nYW1lT2JqZWN0Q29udGFpbmVyKVxyXG5cclxuXHJcbiAgICB0aGlzLmNoYXJhY3RlckNvbnRhaW5lci5wb3NpdGlvbi5zZXQodGhpcy5waXhpLnNjcmVlbi53aWR0aCAvIDIgLCB0aGlzLnBpeGkuc2NyZWVuLmhlaWdodCAvIDIpXHJcbiAgICB0aGlzLndvcmxkQ29udGFpbmVyLnBvc2l0aW9uLnNldCh0aGlzLnBpeGkuc2NyZWVuLndpZHRoIC8gMiAsIHRoaXMucGl4aS5zY3JlZW4uaGVpZ2h0IC8gMilcclxuICAgIHRoaXMuZ2FtZU9iamVjdENvbnRhaW5lci5wb3NpdGlvbi5zZXQodGhpcy5waXhpLnNjcmVlbi53aWR0aCAvIDIgLCB0aGlzLnBpeGkuc2NyZWVuLmhlaWdodCAvIDIpXHJcblxyXG5cclxuICAgIC8vbG9hZGluZyBhc3NldHNcclxuICAgIFBJWEkubG9hZGVyXHJcbiAgICAgIC5hZGQoJ3RpbGVzZXQnICwncmVzL2ltYWdlcy90aWxlc2V0Lmpzb24nKVxyXG4gICAgICAuYWRkKCdwbGF5ZXJfbW92ZXMnICAsIFwicmVzL2ltYWdlcy9tb3Zlc19wbGF5ZXIuanNvblwiIClcclxuICAgICAgLmFkZCgncGxheWVyX2F0dGFjaycgLCBcInJlcy9pbWFnZXMvcGxheWVyX2F0dGFjay5qc29uXCIpXHJcbiAgICAgIC5hZGQoJ2VuZW15JyAsIFwicmVzL2ltYWdlcy9lbmVteV9UaGluZy5qc29uXCIpXHJcbiAgICAgIC5hZGQoJ3BpY2t1cHMnICwgJ3Jlcy9pbWFnZXMvcGlja3VwLmpzb24nKVxyXG4gICAgICAubG9hZCgpICBcclxuICAgICAgUElYSS5sb2FkZXIub25Db21wbGV0ZS5hZGQoKCkgPT4ge3RoaXMuc2V0dXAoKX0pO1xyXG4gIH1cclxuICBhZGRSb2NrKHI6Um9jayl7XHJcbiAgICB0aGlzLnJvY2tzLnB1c2gocilcclxuICB9XHJcbiAgcHJpdmF0ZSBzZXR1cCgpIHtcclxuICAgIC8vZ2VuZXJhdGUgdGhlIHdvcmxkIGZvciB0aGUgY2hhcmFjdGVyXHJcbiAgICB0aGlzLnRpbGUgPSBuZXcgQ3JlYXRlV29ybGQodGhpcy5sZW5ndGgvNjQsIHRoaXMuaGVpZ3RoICwgXCJmaWxsLnBuZ1wiKVxyXG5cclxuICAgIC8vbWFrZSBwbGF5ZXJzXHJcbiAgICB0aGlzLmVuZW15ID0gbmV3IEVuZW15KDUwMCw2MCAsIHRoaXMpOyAgXHJcbiAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIoMCwwICwgdGhpcy5lbmVteSAsIHRoaXMpXHJcblxyXG4gICAgdGhpcy5jaGFyYWN0ZXJzQXJyYXkucHVzaCh0aGlzLnBsYXllciAsIHRoaXMuZW5lbXkpXHJcblxyXG4gICAgLy9zZXR1cCBwaWNrdXBcclxuICAgIHRoaXMucmFuZ2VQaWNrdXAgPSBuZXcgUmFuZ2VQaWNrVXAoMjUwICwgdGhpcylcclxuICAgIFxyXG4gICAgdGhpcy5nYW1lT2JqZWN0cy5wdXNoKHRoaXMucmFuZ2VQaWNrdXApXHJcblxyXG4gICAgLy9wbGF5ZXIgbW92ZW1lbnQgbGlzdGVuZXJzXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICBHYW1lLmdldEluc3RhbmNlKCkua2V5U3RhdGVbZS5rZXlDb2RlIHx8IGUud2hpY2hdID0gdHJ1ZTtcclxuICAgIH0sIHRydWUpXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbihlKXtcclxuICAgICAgR2FtZS5nZXRJbnN0YW5jZSgpLmtleVN0YXRlW2Uua2V5Q29kZSB8fCBlLndoaWNoXSA9IGZhbHNlO1xyXG4gICAgfSwgdHJ1ZSlcclxuICBcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLmdhbWVMb29wKCkpO1xyXG4gIH1cclxuICBwcml2YXRlIGdhbWVMb29wKCk6dm9pZHsgICAgXHJcbiAgICAvL2xldHRpbmcgYWxsIHRoZSBwbGF5ZXJzIG1vdmVcclxuICAgIGZvcihsZXQgYyBvZiB0aGlzLmNoYXJhY3RlcnNBcnJheSl7XHJcbiAgICAgICAgaWYoYyBpbnN0YW5jZW9mIFBsYXllcil7XHJcbiAgICAgICAgICBjLmtleVByZXNzZWQodGhpcy5rZXlTdGF0ZSlcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoYyBpbnN0YW5jZW9mIEVuZW15KXtcclxuICAgICAgICAgIGMuZW5lbXlNb3ZlKClcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9ncmF2aXR5IGtpbmRhXHJcbiAgICAgICAgYy5tb3ZlKDAsNSlcclxuICAgICAgICBjLnVwZGF0ZSgpXHJcbiAgICAgICAgZm9yKGxldCByIG9mIHRoaXMucm9ja3Mpe1xyXG4gICAgICAgICAgci5tb3ZlKClcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yKGxldCBnTyBvZiB0aGlzLmdhbWVPYmplY3RzKXtcclxuICAgICAgICAgIGdPLmNoZWNrQ29sbGlzaW9uKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL3VwZGF0aW5nIGNhbWVyYVxyXG4gICAgdGhpcy5jaGFyYWN0ZXJDb250YWluZXIucGl2b3QuY29weSh0aGlzLnBsYXllci5zcHJpdGUucG9zaXRpb24pXHJcbiAgICB0aGlzLndvcmxkQ29udGFpbmVyLnBpdm90LmNvcHkodGhpcy5wbGF5ZXIuc3ByaXRlLnBvc2l0aW9uKVxyXG4gICAgdGhpcy5nYW1lT2JqZWN0Q29udGFpbmVyLnBpdm90LmNvcHkodGhpcy5wbGF5ZXIuc3ByaXRlLnBvc2l0aW9uKVxyXG5cclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLmdhbWVMb29wKCkpO1xyXG4gIH1cclxufVxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xyXG4gIEdhbWUuZ2V0SW5zdGFuY2UoKTtcclxufSkiLCJpbXBvcnQgR2FtZSBmcm9tICcuLi9HYW1lJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhcmFjdGVyc3tcclxuICAgIHByb3RlY3RlZCB4ID0gMFxyXG4gICAgcHJvdGVjdGVkIHkgPSAwXHJcbiAgICBwcm90ZWN0ZWQgdnggPSAwXHJcbiAgICBwcm90ZWN0ZWQgdnkgPSAtNVxyXG4gICAgcHJvdGVjdGVkIHNwZWVkID0gNFxyXG4gICAgcHJvdGVjdGVkIGlkOmFueVxyXG4gICAgcHVibGljIHNwcml0ZTogUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGVcclxuICAgIC8vZnJhbWVzIGZvciBtb3ZlbWVuXHJcbiAgICBwdWJsaWMgaGVhbHRoOm51bWJlcjtcclxuICAgIHByb3RlY3RlZCBUZW1wX0ZyYW1lc2V0OiBhbnkgPSBbXVxyXG4gICAgcHJvdGVjdGVkIGp1bXBGcmFtZXM6YW55ID0gW11cclxuICAgIHByb3RlY3RlZCBsZWZ0RnJhbWVzOmFueSA9IFtdXHJcbiAgICBwcm90ZWN0ZWQgcmlnaHRGcmFtZXM6YW55ID0gW11cclxuICAgIHByb3RlY3RlZCBob2xkRnJhbWU6YW55ID0gW11cclxuICAgIHByb3RlY3RlZCBBbmltYXRpb25wbGF5aW5nITpzdHJpbmdcclxuICAgIHByb3RlY3RlZCBhdHRhY2tCZWhhdmlvciAhOiBBdHRhY2tCZWhhdmlvcjtcclxuICAgIHByb3RlY3RlZCBoZWFsdGhiYXI6YW55XHJcblxyXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIHRpbGVzZXQ6IHN0cmluZyAsIHNwcml0ZU5hbWU6c3RyaW5nICwgaGVhbHRoOm51bWJlcil7XHJcbiAgICAgICAgdGhpcy5pZCA9IFBJWEkubG9hZGVyLnJlc291cmNlc1t0aWxlc2V0XS50ZXh0dXJlc1xyXG5cclxuICAgICAgICAvL2dpdmluZyBldmVyeSBjaGFyYWN0ZXIgaGlzIG9uZSBoZWFsdGggdmFsdWVcclxuICAgICAgICB0aGlzLmhlYWx0aCA9IGhlYWx0aFxyXG5cclxuICAgICAgICAvL3N0YW5kYXJkIGhvbGRpbmcgZnJhbWVcclxuICAgICAgICB2YXIgdGVtcEZyYW1lID0ge1xyXG4gICAgICAgICAgICB0ZXh0dXJlOiBQSVhJLmxvYWRlci5yZXNvdXJjZXNbdGlsZXNldF0udGV4dHVyZXMhWydob2xkLnBuZyddLFxyXG4gICAgICAgICAgICB0aW1lOiAyMDBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuVGVtcF9GcmFtZXNldC5wdXNoKHRlbXBGcmFtZSlcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IG5ldyBQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZSAoXHJcbiAgICAgICAgICAgIHRoaXMuVGVtcF9GcmFtZXNldFxyXG4gICAgICAgIClcclxuICAgICAgICB0aGlzLnNwcml0ZS54ID0geCBcclxuICAgICAgICB0aGlzLnNwcml0ZS55ID0geVxyXG4gICAgICAgIFxyXG4gICAgICAgLy9jaGFyYWN0ZXJzIGluIGNhbnZhc1xyXG4gICAgICAgIEdhbWUuZ2V0SW5zdGFuY2UoKS5jaGFyYWN0ZXJDb250YWluZXIuYWRkQ2hpbGQodGhpcy5zcHJpdGUpXHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3ByaXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvL21ha2UgdGhlIGNoYXJhY3RlciBtb3ZlXHJcbiAgICB1cGRhdGUgKCkge1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnggPSB0aGlzLnhcclxuICAgICAgICB0aGlzLnNwcml0ZS55ID0gdGhpcy55XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZSh2eDogbnVtYmVyLCB2eTpudW1iZXIpIHsgICAgICAgIFxyXG4gICAgICAgIC8vR2V0IGFsbCBjb2xsaWRlcnMgZnJvbSBtYXBcclxuICAgICAgICBsZXQgdGlsZXMgPSBHYW1lLmdldEluc3RhbmNlKCkudGlsZS50aWxlc1xyXG4gICAgICAgIGxldCB3aWxsQ29sbGlkZSA9IGZhbHNlICAgICAgICBcclxuXHJcbiAgICAgICAgLy9DaGVjayBmb3IgY29sbGlzaW9ucyBiZXR3ZWVuIHBsYXllciBhbmQgdGlsZXNcclxuICAgICAgICBmb3IoY29uc3QgdGlsZSBvZiB0aWxlcykge1xyXG4gICAgICAgICAgICBpZiAodGlsZS5pc0NvbGxpZGluZyh0aGlzLnNwcml0ZS54ICsgdngsIHRoaXMuc3ByaXRlLnkgKyB2eSAsIHRoaXMuc3ByaXRlLmhlaWdodCAsIHRoaXMuc3ByaXRlLndpZHRoKSkge1xyXG4gICAgICAgICAgICAgICAgd2lsbENvbGxpZGUgPSB0cnVlICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy9JZiB0aGVyZSBpcyBubyBjb2xsaXNpb24sIG1vdmUhXHJcbiAgICAgICAgaWYgKCF3aWxsQ29sbGlkZSkge1xyXG4gICAgICAgICAgICB0aGlzLnggKz0gdnhcclxuICAgICAgICAgICAgdGhpcy55ICs9IHZ5XHJcbiAgICAgICAgfSAgXHJcbiAgICB9XHJcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDb3VudExpbWl0ZXIgbGltaXRzIHRoZSBudW1iZXIgb2YgaXRlbXMgaGFuZGxlZCBieSBhIHtAbGluayBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmV9IHRvIGEgc3BlY2lmaWVkXG4gKiBudW1iZXIgb2YgaXRlbXMgcGVyIGZyYW1lLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENvdW50TGltaXRlciA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhJdGVtc1BlckZyYW1lIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAqL1xuICBmdW5jdGlvbiBDb3VudExpbWl0ZXIobWF4SXRlbXNQZXJGcmFtZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb3VudExpbWl0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1heEl0ZW1zUGVyRnJhbWUgPSBtYXhJdGVtc1BlckZyYW1lO1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgaW4gdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuaXRlbXNMZWZ0ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgYW55IGNvdW50aW5nIHByb3BlcnRpZXMgdG8gc3RhcnQgZnJlc2ggb24gYSBuZXcgZnJhbWUuXG4gICAqL1xuXG5cbiAgQ291bnRMaW1pdGVyLnByb3RvdHlwZS5iZWdpbkZyYW1lID0gZnVuY3Rpb24gYmVnaW5GcmFtZSgpIHtcbiAgICB0aGlzLml0ZW1zTGVmdCA9IHRoaXMubWF4SXRlbXNQZXJGcmFtZTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICAgKi9cblxuXG4gIENvdW50TGltaXRlci5wcm90b3R5cGUuYWxsb3dlZFRvVXBsb2FkID0gZnVuY3Rpb24gYWxsb3dlZFRvVXBsb2FkKCkge1xuICAgIHJldHVybiB0aGlzLml0ZW1zTGVmdC0tID4gMDtcbiAgfTtcblxuICByZXR1cm4gQ291bnRMaW1pdGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDb3VudExpbWl0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db3VudExpbWl0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX01lc2gyID0gcmVxdWlyZSgnLi9NZXNoJyk7XG5cbnZhciBfTWVzaDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgUGxhbmUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW0gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgUGxhbmUgPSBuZXcgUElYSS5QbGFuZShQSVhJLlRleHR1cmUuZnJvbUltYWdlKFwic25ha2UucG5nXCIpLCBwb2ludHMpO1xuICogIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5tZXNoLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJLm1lc2hcbiAqXG4gKi9cbnZhciBQbGFuZSA9IGZ1bmN0aW9uIChfTWVzaCkge1xuICAgIF9pbmhlcml0cyhQbGFuZSwgX01lc2gpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIFBsYW5lLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2ZXJ0aWNlc1ggLSBUaGUgbnVtYmVyIG9mIHZlcnRpY2VzIGluIHRoZSB4LWF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmVydGljZXNZIC0gVGhlIG51bWJlciBvZiB2ZXJ0aWNlcyBpbiB0aGUgeS1heGlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGxhbmUodGV4dHVyZSwgdmVydGljZXNYLCB2ZXJ0aWNlc1kpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBsYW5lKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tlciBmb3IgaWYgdGhlIFBsYW5lIGlzIHJlYWR5IHRvIGJlIGRyYXduLiBOZWVkZWQgYmVjYXVzZSBNZXNoIGN0b3IgY2FuXG4gICAgICAgICAqIGNhbGwgX29uVGV4dHVyZVVwZGF0ZWQgd2hpY2ggY291bGQgY2FsbCByZWZyZXNoIHRvbyBlYXJseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9NZXNoLmNhbGwodGhpcywgdGV4dHVyZSkpO1xuXG4gICAgICAgIF90aGlzLl9yZWFkeSA9IHRydWU7XG5cbiAgICAgICAgX3RoaXMudmVydGljZXNYID0gdmVydGljZXNYIHx8IDEwO1xuICAgICAgICBfdGhpcy52ZXJ0aWNlc1kgPSB2ZXJ0aWNlc1kgfHwgMTA7XG5cbiAgICAgICAgX3RoaXMuZHJhd01vZGUgPSBfTWVzaDMuZGVmYXVsdC5EUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICAgICAgX3RoaXMucmVmcmVzaCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIHBsYW5lIGNvb3JkaW5hdGVzXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgUGxhbmUucHJvdG90eXBlLl9yZWZyZXNoID0gZnVuY3Rpb24gX3JlZnJlc2goKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy52ZXJ0aWNlc1ggKiB0aGlzLnZlcnRpY2VzWTtcbiAgICAgICAgdmFyIHZlcnRzID0gW107XG4gICAgICAgIHZhciBjb2xvcnMgPSBbXTtcbiAgICAgICAgdmFyIHV2cyA9IFtdO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IFtdO1xuXG4gICAgICAgIHZhciBzZWdtZW50c1ggPSB0aGlzLnZlcnRpY2VzWCAtIDE7XG4gICAgICAgIHZhciBzZWdtZW50c1kgPSB0aGlzLnZlcnRpY2VzWSAtIDE7XG5cbiAgICAgICAgdmFyIHNpemVYID0gdGV4dHVyZS53aWR0aCAvIHNlZ21lbnRzWDtcbiAgICAgICAgdmFyIHNpemVZID0gdGV4dHVyZS5oZWlnaHQgLyBzZWdtZW50c1k7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgeCA9IGkgJSB0aGlzLnZlcnRpY2VzWDtcbiAgICAgICAgICAgIHZhciB5ID0gaSAvIHRoaXMudmVydGljZXNYIHwgMDtcblxuICAgICAgICAgICAgdmVydHMucHVzaCh4ICogc2l6ZVgsIHkgKiBzaXplWSk7XG5cbiAgICAgICAgICAgIHV2cy5wdXNoKHggLyBzZWdtZW50c1gsIHkgLyBzZWdtZW50c1kpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gIGNvbnNcblxuICAgICAgICB2YXIgdG90YWxTdWIgPSBzZWdtZW50c1ggKiBzZWdtZW50c1k7XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRvdGFsU3ViOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgeHBvcyA9IF9pICUgc2VnbWVudHNYO1xuICAgICAgICAgICAgdmFyIHlwb3MgPSBfaSAvIHNlZ21lbnRzWCB8IDA7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHlwb3MgKiB0aGlzLnZlcnRpY2VzWCArIHhwb3M7XG4gICAgICAgICAgICB2YXIgdmFsdWUyID0geXBvcyAqIHRoaXMudmVydGljZXNYICsgeHBvcyArIDE7XG4gICAgICAgICAgICB2YXIgdmFsdWUzID0gKHlwb3MgKyAxKSAqIHRoaXMudmVydGljZXNYICsgeHBvcztcbiAgICAgICAgICAgIHZhciB2YWx1ZTQgPSAoeXBvcyArIDEpICogdGhpcy52ZXJ0aWNlc1ggKyB4cG9zICsgMTtcblxuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZhbHVlLCB2YWx1ZTIsIHZhbHVlMyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godmFsdWUyLCB2YWx1ZTQsIHZhbHVlMyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhpbmRpY2VzKVxuICAgICAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0cyk7XG4gICAgICAgIHRoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheSh1dnMpO1xuICAgICAgICB0aGlzLmNvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkoY29sb3JzKTtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KGluZGljZXMpO1xuXG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgdGhpcy5pbmRleERpcnR5Kys7XG5cbiAgICAgICAgdGhpcy5tdWx0aXBseVV2cygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0ZXh0dXJlIFVWcyB3aGVuIG5ldyB0ZXh0dXJlIGlzIHNldFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUGxhbmUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiBfb25UZXh0dXJlVXBkYXRlKCkge1xuICAgICAgICBfTWVzaDMuZGVmYXVsdC5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8vIHdhaXQgZm9yIHRoZSBQbGFuZSBjdG9yIHRvIGZpbmlzaCBiZWZvcmUgY2FsbGluZyByZWZyZXNoXG4gICAgICAgIGlmICh0aGlzLl9yZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIFBsYW5lO1xufShfTWVzaDMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBsYW5lO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGxhbmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHRleHR1cmVQYXJzZXIocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgLy8gY3JlYXRlIGEgbmV3IHRleHR1cmUgaWYgdGhlIGRhdGEgaXMgYW4gSW1hZ2Ugb2JqZWN0XG4gICAgICAgIGlmIChyZXNvdXJjZS5kYXRhICYmIHJlc291cmNlLnR5cGUgPT09IF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZS5UWVBFLklNQUdFKSB7XG4gICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlID0gX1RleHR1cmUyLmRlZmF1bHQuZnJvbUxvYWRlcihyZXNvdXJjZS5kYXRhLCByZXNvdXJjZS51cmwsIHJlc291cmNlLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIG5leHQoKTtcbiAgICB9O1xufTtcblxudmFyIF9yZXNvdXJjZUxvYWRlciA9IHJlcXVpcmUoJ3Jlc291cmNlLWxvYWRlcicpO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuLi9jb3JlL3RleHR1cmVzL1RleHR1cmUnKTtcblxudmFyIF9UZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dHVyZVBhcnNlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gc3ByaXRlc2hlZXRQYXJzZXIocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgdmFyIGltYWdlUmVzb3VyY2VOYW1lID0gcmVzb3VyY2UubmFtZSArICdfaW1hZ2UnO1xuXG4gICAgICAgIC8vIHNraXAgaWYgbm8gZGF0YSwgaXRzIG5vdCBqc29uLCBpdCBpc24ndCBzcHJpdGVzaGVldCBkYXRhLCBvciB0aGUgaW1hZ2UgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgaWYgKCFyZXNvdXJjZS5kYXRhIHx8IHJlc291cmNlLnR5cGUgIT09IF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZS5UWVBFLkpTT04gfHwgIXJlc291cmNlLmRhdGEuZnJhbWVzIHx8IHRoaXMucmVzb3VyY2VzW2ltYWdlUmVzb3VyY2VOYW1lXSkge1xuICAgICAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbG9hZE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICBtZXRhZGF0YTogcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSxcbiAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciByZXNvdXJjZVBhdGggPSBnZXRSZXNvdXJjZVBhdGgocmVzb3VyY2UsIHRoaXMuYmFzZVVybCk7XG5cbiAgICAgICAgLy8gbG9hZCB0aGUgaW1hZ2UgZm9yIHRoaXMgc2hlZXRcbiAgICAgICAgdGhpcy5hZGQoaW1hZ2VSZXNvdXJjZU5hbWUsIHJlc291cmNlUGF0aCwgbG9hZE9wdGlvbnMsIGZ1bmN0aW9uIG9uSW1hZ2VMb2FkKHJlcykge1xuICAgICAgICAgICAgaWYgKHJlcy5lcnJvcikge1xuICAgICAgICAgICAgICAgIG5leHQocmVzLmVycm9yKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHNwcml0ZXNoZWV0ID0gbmV3IF9jb3JlLlNwcml0ZXNoZWV0KHJlcy50ZXh0dXJlLmJhc2VUZXh0dXJlLCByZXNvdXJjZS5kYXRhLCByZXNvdXJjZS51cmwpO1xuXG4gICAgICAgICAgICBzcHJpdGVzaGVldC5wYXJzZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2Uuc3ByaXRlc2hlZXQgPSBzcHJpdGVzaGVldDtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlcyA9IHNwcml0ZXNoZWV0LnRleHR1cmVzO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xufTtcblxuZXhwb3J0cy5nZXRSZXNvdXJjZVBhdGggPSBnZXRSZXNvdXJjZVBhdGg7XG5cbnZhciBfcmVzb3VyY2VMb2FkZXIgPSByZXF1aXJlKCdyZXNvdXJjZS1sb2FkZXInKTtcblxudmFyIF91cmwgPSByZXF1aXJlKCd1cmwnKTtcblxudmFyIF91cmwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXJsKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRSZXNvdXJjZVBhdGgocmVzb3VyY2UsIGJhc2VVcmwpIHtcbiAgICAvLyBQcmVwZW5kIHVybCBwYXRoIHVubGVzcyB0aGUgcmVzb3VyY2UgaW1hZ2UgaXMgYSBkYXRhIHVybFxuICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpIHtcbiAgICAgICAgcmV0dXJuIHJlc291cmNlLmRhdGEubWV0YS5pbWFnZTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3VybDIuZGVmYXVsdC5yZXNvbHZlKHJlc291cmNlLnVybC5yZXBsYWNlKGJhc2VVcmwsICcnKSwgcmVzb3VyY2UuZGF0YS5tZXRhLmltYWdlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZXNoZWV0UGFyc2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZW5jb2RlQmluYXJ5ID0gZW5jb2RlQmluYXJ5O1xudmFyIF9rZXlTdHIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuXG5mdW5jdGlvbiBlbmNvZGVCaW5hcnkoaW5wdXQpIHtcbiAgICB2YXIgb3V0cHV0ID0gJyc7XG4gICAgdmFyIGlueCA9IDA7XG5cbiAgICB3aGlsZSAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIC8vIEZpbGwgYnl0ZSBidWZmZXIgYXJyYXlcbiAgICAgICAgdmFyIGJ5dGVidWZmZXIgPSBbMCwgMCwgMF07XG4gICAgICAgIHZhciBlbmNvZGVkQ2hhckluZGV4ZXMgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAgICAgZm9yICh2YXIgam54ID0gMDsgam54IDwgYnl0ZWJ1ZmZlci5sZW5ndGg7ICsram54KSB7XG4gICAgICAgICAgICBpZiAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhyb3cgYXdheSBoaWdoLW9yZGVyIGJ5dGUsIGFzIGRvY3VtZW50ZWQgYXQ6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvRW4vVXNpbmdfWE1MSHR0cFJlcXVlc3QjSGFuZGxpbmdfYmluYXJ5X2RhdGFcbiAgICAgICAgICAgICAgICBieXRlYnVmZmVyW2pueF0gPSBpbnB1dC5jaGFyQ29kZUF0KGlueCsrKSAmIDB4ZmY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ5dGVidWZmZXJbam54XSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgZWFjaCBlbmNvZGVkIGNoYXJhY3RlciwgNiBiaXRzIGF0IGEgdGltZVxuICAgICAgICAvLyBpbmRleCAxOiBmaXJzdCA2IGJpdHNcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzBdID0gYnl0ZWJ1ZmZlclswXSA+PiAyO1xuXG4gICAgICAgIC8vIGluZGV4IDI6IHNlY29uZCA2IGJpdHMgKDIgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMSArIDQgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAyKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMV0gPSAoYnl0ZWJ1ZmZlclswXSAmIDB4MykgPDwgNCB8IGJ5dGVidWZmZXJbMV0gPj4gNDtcblxuICAgICAgICAvLyBpbmRleCAzOiB0aGlyZCA2IGJpdHMgKDQgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMiArIDIgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAzKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSAoYnl0ZWJ1ZmZlclsxXSAmIDB4MGYpIDw8IDIgfCBieXRlYnVmZmVyWzJdID4+IDY7XG5cbiAgICAgICAgLy8gaW5kZXggMzogZm9ydGggNiBiaXRzICg2IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDMpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IGJ5dGVidWZmZXJbMl0gJiAweDNmO1xuXG4gICAgICAgIC8vIERldGVybWluZSB3aGV0aGVyIHBhZGRpbmcgaGFwcGVuZWQsIGFuZCBhZGp1c3QgYWNjb3JkaW5nbHlcbiAgICAgICAgdmFyIHBhZGRpbmdCeXRlcyA9IGlueCAtIChpbnB1dC5sZW5ndGggLSAxKTtcblxuICAgICAgICBzd2l0Y2ggKHBhZGRpbmdCeXRlcykge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IDIgY2hhcmFjdGVycyB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IGNoYXJhY3RlciB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhazsgLy8gTm8gcGFkZGluZyAtIHByb2NlZWRcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdyB3ZSB3aWxsIGdyYWIgZWFjaCBhcHByb3ByaWF0ZSBjaGFyYWN0ZXIgb3V0IG9mIG91ciBrZXlzdHJpbmdcbiAgICAgICAgLy8gYmFzZWQgb24gb3VyIGluZGV4IGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gdGhlIG91dHB1dCBzdHJpbmdcbiAgICAgICAgZm9yICh2YXIgX2pueCA9IDA7IF9qbnggPCBlbmNvZGVkQ2hhckluZGV4ZXMubGVuZ3RoOyArK19qbngpIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBfa2V5U3RyLmNoYXJBdChlbmNvZGVkQ2hhckluZGV4ZXNbX2pueF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWI2NC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmVhY2hTZXJpZXMgPSBlYWNoU2VyaWVzO1xuZXhwb3J0cy5xdWV1ZSA9IHF1ZXVlO1xuLyoqXG4gKiBTbWFsbGVyIHZlcnNpb24gb2YgdGhlIGFzeW5jIGxpYnJhcnkgY29uc3RydWN0cy5cbiAqXG4gKi9cbmZ1bmN0aW9uIF9ub29wKCkge30gLyogZW1wdHkgKi9cblxuLyoqXG4gKiBJdGVyYXRlcyBhbiBhcnJheSBpbiBzZXJpZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheS48Kj59IGFycmF5IC0gQXJyYXkgdG8gaXRlcmF0ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGl0ZXJhdG9yIC0gRnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBlbGVtZW50LlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gZG9uZSwgb3Igb24gZXJyb3IuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtkZWZlck5leHQ9ZmFsc2VdIC0gQnJlYWsgc3luY2hyb25vdXMgZWFjaCBsb29wIGJ5IGNhbGxpbmcgbmV4dCB3aXRoIGEgc2V0VGltZW91dCBvZiAxLlxuICovXG5mdW5jdGlvbiBlYWNoU2VyaWVzKGFycmF5LCBpdGVyYXRvciwgY2FsbGJhY2ssIGRlZmVyTmV4dCkge1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgbGVuID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgKGZ1bmN0aW9uIG5leHQoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgfHwgaSA9PT0gbGVuKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVmZXJOZXh0KSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvcihhcnJheVtpKytdLCBuZXh0KTtcbiAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgICAgIH1cbiAgICB9KSgpO1xufVxuXG4vKipcbiAqIEVuc3VyZXMgYSBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZCBvbmNlLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIHdyYXBwaW5nIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvbmx5T25jZShmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgICAgICAgaWYgKGZuID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIHdhcyBhbHJlYWR5IGNhbGxlZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjYWxsRm4gPSBmbjtcblxuICAgICAgICBmbiA9IG51bGw7XG4gICAgICAgIGNhbGxGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogQXN5bmMgcXVldWUgaW1wbGVtZW50YXRpb24sXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gd29ya2VyIC0gVGhlIHdvcmtlciBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHRhc2suXG4gKiBAcGFyYW0ge251bWJlcn0gY29uY3VycmVuY3kgLSBIb3cgbWFueSB3b3JrZXJzIHRvIHJ1biBpbiBwYXJyYWxsZWwuXG4gKiBAcmV0dXJuIHsqfSBUaGUgYXN5bmMgcXVldWUgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBxdWV1ZSh3b3JrZXIsIGNvbmN1cnJlbmN5KSB7XG4gICAgaWYgKGNvbmN1cnJlbmN5ID09IG51bGwpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICBjb25jdXJyZW5jeSA9IDE7XG4gICAgfSBlbHNlIGlmIChjb25jdXJyZW5jeSA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbmN1cnJlbmN5IG11c3Qgbm90IGJlIHplcm8nKTtcbiAgICB9XG5cbiAgICB2YXIgd29ya2VycyA9IDA7XG4gICAgdmFyIHEgPSB7XG4gICAgICAgIF90YXNrczogW10sXG4gICAgICAgIGNvbmN1cnJlbmN5OiBjb25jdXJyZW5jeSxcbiAgICAgICAgc2F0dXJhdGVkOiBfbm9vcCxcbiAgICAgICAgdW5zYXR1cmF0ZWQ6IF9ub29wLFxuICAgICAgICBidWZmZXI6IGNvbmN1cnJlbmN5IC8gNCxcbiAgICAgICAgZW1wdHk6IF9ub29wLFxuICAgICAgICBkcmFpbjogX25vb3AsXG4gICAgICAgIGVycm9yOiBfbm9vcCxcbiAgICAgICAgc3RhcnRlZDogZmFsc2UsXG4gICAgICAgIHBhdXNlZDogZmFsc2UsXG4gICAgICAgIHB1c2g6IGZ1bmN0aW9uIHB1c2goZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIF9pbnNlcnQoZGF0YSwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAga2lsbDogZnVuY3Rpb24ga2lsbCgpIHtcbiAgICAgICAgICAgIHdvcmtlcnMgPSAwO1xuICAgICAgICAgICAgcS5kcmFpbiA9IF9ub29wO1xuICAgICAgICAgICAgcS5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICBxLl90YXNrcyA9IFtdO1xuICAgICAgICB9LFxuICAgICAgICB1bnNoaWZ0OiBmdW5jdGlvbiB1bnNoaWZ0KGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBfaW5zZXJ0KGRhdGEsIHRydWUsIGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJvY2VzczogZnVuY3Rpb24gcHJvY2VzcygpIHtcbiAgICAgICAgICAgIHdoaWxlICghcS5wYXVzZWQgJiYgd29ya2VycyA8IHEuY29uY3VycmVuY3kgJiYgcS5fdGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhc2sgPSBxLl90YXNrcy5zaGlmdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHEuX3Rhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBxLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd29ya2VycyArPSAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKHdvcmtlcnMgPT09IHEuY29uY3VycmVuY3kpIHtcbiAgICAgICAgICAgICAgICAgICAgcS5zYXR1cmF0ZWQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3b3JrZXIodGFzay5kYXRhLCBvbmx5T25jZShfbmV4dCh0YXNrKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBsZW5ndGg6IGZ1bmN0aW9uIGxlbmd0aCgpIHtcbiAgICAgICAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIHJ1bm5pbmc6IGZ1bmN0aW9uIHJ1bm5pbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gd29ya2VycztcbiAgICAgICAgfSxcbiAgICAgICAgaWRsZTogZnVuY3Rpb24gaWRsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGggKyB3b3JrZXJzID09PSAwO1xuICAgICAgICB9LFxuICAgICAgICBwYXVzZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICAgICAgICBpZiAocS5wYXVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHEucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzdW1lOiBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgICAgICAgICBpZiAocS5wYXVzZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBxLnBhdXNlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBOZWVkIHRvIGNhbGwgcS5wcm9jZXNzIG9uY2UgcGVyIGNvbmN1cnJlbnRcbiAgICAgICAgICAgIC8vIHdvcmtlciB0byBwcmVzZXJ2ZSBmdWxsIGNvbmN1cnJlbmN5IGFmdGVyIHBhdXNlXG4gICAgICAgICAgICBmb3IgKHZhciB3ID0gMTsgdyA8PSBxLmNvbmN1cnJlbmN5OyB3KyspIHtcbiAgICAgICAgICAgICAgICBxLnByb2Nlc3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfaW5zZXJ0KGRhdGEsIGluc2VydEF0RnJvbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsICYmIHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0YXNrIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcS5zdGFydGVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAoZGF0YSA9PSBudWxsICYmIHEuaWRsZSgpKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgICAgICAvLyBjYWxsIGRyYWluIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBubyB0YXNrc1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHEuZHJhaW4oKTtcbiAgICAgICAgICAgIH0sIDEpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBjYWxsYmFjazogdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nID8gY2FsbGJhY2sgOiBfbm9vcFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpbnNlcnRBdEZyb250KSB7XG4gICAgICAgICAgICBxLl90YXNrcy51bnNoaWZ0KGl0ZW0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcS5fdGFza3MucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHEucHJvY2VzcygpO1xuICAgICAgICB9LCAxKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfbmV4dCh0YXNrKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgd29ya2VycyAtPSAxO1xuXG4gICAgICAgICAgICB0YXNrLmNhbGxiYWNrLmFwcGx5KHRhc2ssIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgIGlmIChhcmd1bWVudHNbMF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgICAgICAgICBxLmVycm9yKGFyZ3VtZW50c1swXSwgdGFzay5kYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdvcmtlcnMgPD0gcS5jb25jdXJyZW5jeSAtIHEuYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgcS51bnNhdHVyYXRlZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocS5pZGxlKCkpIHtcbiAgICAgICAgICAgICAgICBxLmRyYWluKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHEucHJvY2VzcygpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBxO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmMuanMubWFwIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VVUkkgKHN0ciwgb3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fVxuXG4gIHZhciBvID0ge1xuICAgIGtleTogWydzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ10sXG4gICAgcToge1xuICAgICAgbmFtZTogJ3F1ZXJ5S2V5JyxcbiAgICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nXG4gICAgfSxcbiAgICBwYXJzZXI6IHtcbiAgICAgIHN0cmljdDogL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPygoKCg/OltePyNcXC9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxcbiAgICAgIGxvb3NlOiAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS9cbiAgICB9XG4gIH1cblxuICB2YXIgbSA9IG8ucGFyc2VyW29wdHMuc3RyaWN0TW9kZSA/ICdzdHJpY3QnIDogJ2xvb3NlJ10uZXhlYyhzdHIpXG4gIHZhciB1cmkgPSB7fVxuICB2YXIgaSA9IDE0XG5cbiAgd2hpbGUgKGktLSkgdXJpW28ua2V5W2ldXSA9IG1baV0gfHwgJydcblxuICB1cmlbby5xLm5hbWVdID0ge31cbiAgdXJpW28ua2V5WzEyXV0ucmVwbGFjZShvLnEucGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgIGlmICgkMSkgdXJpW28ucS5uYW1lXVskMV0gPSAkMlxuICB9KVxuXG4gIHJldHVybiB1cmlcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgTWluaVNpZ25hbEJpbmRpbmcgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsQmluZGluZyhmbiwgb25jZSwgdGhpc0FyZykge1xuICAgIGlmIChvbmNlID09PSB1bmRlZmluZWQpIG9uY2UgPSBmYWxzZTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsQmluZGluZyk7XG5cbiAgICB0aGlzLl9mbiA9IGZuO1xuICAgIHRoaXMuX29uY2UgPSBvbmNlO1xuICAgIHRoaXMuX3RoaXNBcmcgPSB0aGlzQXJnO1xuICAgIHRoaXMuX25leHQgPSB0aGlzLl9wcmV2ID0gdGhpcy5fb3duZXIgPSBudWxsO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWxCaW5kaW5nLCBbe1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaCgpIHtcbiAgICAgIGlmICh0aGlzLl9vd25lciA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgdGhpcy5fb3duZXIuZGV0YWNoKHRoaXMpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1pbmlTaWduYWxCaW5kaW5nO1xufSkoKTtcblxuZnVuY3Rpb24gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHNlbGYsIG5vZGUpIHtcbiAgaWYgKCFzZWxmLl9oZWFkKSB7XG4gICAgc2VsZi5faGVhZCA9IG5vZGU7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5fdGFpbC5fbmV4dCA9IG5vZGU7XG4gICAgbm9kZS5fcHJldiA9IHNlbGYuX3RhaWw7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH1cblxuICBub2RlLl9vd25lciA9IHNlbGY7XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbnZhciBNaW5pU2lnbmFsID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWluaVNpZ25hbCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWluaVNpZ25hbCk7XG5cbiAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNaW5pU2lnbmFsLCBbe1xuICAgIGtleTogJ2hhbmRsZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlcnMoKSB7XG4gICAgICB2YXIgZXhpc3RzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMF07XG5cbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKGV4aXN0cykgcmV0dXJuICEhbm9kZTtcblxuICAgICAgdmFyIGVlID0gW107XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGVlLnB1c2gobm9kZSk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2hhcygpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vZGUuX293bmVyID09PSB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc3BhdGNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5fb25jZSkgdGhpcy5kZXRhY2gobm9kZSk7XG4gICAgICAgIG5vZGUuX2ZuLmFwcGx5KG5vZGUuX3RoaXNBcmcsIGFyZ3VtZW50cyk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoZm4pIHtcbiAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjYWRkKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgZmFsc2UsIHRoaXNBcmcpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbmNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25jZShmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNvbmNlKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgdHJ1ZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG4gICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTWluaVNpZ25hbEJpbmRpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNkZXRhY2goKTogRmlyc3QgYXJnIG11c3QgYmUgYSBNaW5pU2lnbmFsQmluZGluZyBvYmplY3QuJyk7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5fb3duZXIgIT09IHRoaXMpIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobm9kZS5fcHJldikgbm9kZS5fcHJldi5fbmV4dCA9IG5vZGUuX25leHQ7XG4gICAgICBpZiAobm9kZS5fbmV4dCkgbm9kZS5fbmV4dC5fcHJldiA9IG5vZGUuX3ByZXY7XG5cbiAgICAgIGlmIChub2RlID09PSB0aGlzLl9oZWFkKSB7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBub2RlLl9uZXh0O1xuICAgICAgICBpZiAobm9kZS5fbmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuX3RhaWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUgPT09IHRoaXMuX3RhaWwpIHtcbiAgICAgICAgdGhpcy5fdGFpbCA9IG5vZGUuX3ByZXY7XG4gICAgICAgIHRoaXMuX3RhaWwuX25leHQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBub2RlLl9vd25lciA9IG51bGw7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXRhY2hBbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2hBbGwoKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG4gICAgICBpZiAoIW5vZGUpIHJldHVybiB0aGlzO1xuXG4gICAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IG51bGw7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbDtcbn0pKCk7XG5cbk1pbmlTaWduYWwuTWluaVNpZ25hbEJpbmRpbmcgPSBNaW5pU2lnbmFsQmluZGluZztcblxuZXhwb3J0c1snZGVmYXVsdCddID0gTWluaVNpZ25hbDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5wYXJzZSA9IHBhcnNlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGJpdG1hcEZvbnRQYXJzZXIocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgLy8gc2tpcCBpZiBubyBkYXRhIG9yIG5vdCB4bWwgZGF0YVxuICAgICAgICBpZiAoIXJlc291cmNlLmRhdGEgfHwgcmVzb3VyY2UudHlwZSAhPT0gX3Jlc291cmNlTG9hZGVyLlJlc291cmNlLlRZUEUuWE1MKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNraXAgaWYgbm90IGJpdG1hcCBmb250IGRhdGEsIHVzaW5nIHNvbWUgc2lsbHkgZHVjay10eXBpbmdcbiAgICAgICAgaWYgKHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKS5sZW5ndGggPT09IDAgfHwgcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpLmxlbmd0aCA9PT0gMCB8fCByZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJylbMF0uZ2V0QXR0cmlidXRlKCdmYWNlJykgPT09IG51bGwpIHtcbiAgICAgICAgICAgIG5leHQoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHhtbFVybCA9ICFyZXNvdXJjZS5pc0RhdGFVcmwgPyBwYXRoLmRpcm5hbWUocmVzb3VyY2UudXJsKSA6ICcnO1xuXG4gICAgICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpIHtcbiAgICAgICAgICAgIGlmICh4bWxVcmwgPT09ICcuJykge1xuICAgICAgICAgICAgICAgIHhtbFVybCA9ICcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5iYXNlVXJsICYmIHhtbFVybCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGJhc2V1cmwgaGFzIGEgdHJhaWxpbmcgc2xhc2ggdGhlbiBhZGQgb25lIHRvIHhtbFVybCBzbyB0aGUgcmVwbGFjZSB3b3JrcyBiZWxvd1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhc2VVcmwuY2hhckF0KHRoaXMuYmFzZVVybC5sZW5ndGggLSAxKSA9PT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgICAgIHhtbFVybCArPSAnLyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGJhc2VVcmwgZnJvbSB4bWxVcmxcbiAgICAgICAgeG1sVXJsID0geG1sVXJsLnJlcGxhY2UodGhpcy5iYXNlVXJsLCAnJyk7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW4geG1sVXJsIG5vdywgaXQgbmVlZHMgYSB0cmFpbGluZyBzbGFzaC4gRW5zdXJlIHRoYXQgaXQgZG9lcyBpZiB0aGUgc3RyaW5nIGlzbid0IGVtcHR5LlxuICAgICAgICBpZiAoeG1sVXJsICYmIHhtbFVybC5jaGFyQXQoeG1sVXJsLmxlbmd0aCAtIDEpICE9PSAnLycpIHtcbiAgICAgICAgICAgIHhtbFVybCArPSAnLyc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGV4dHVyZVVybCA9IHhtbFVybCArIHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKVswXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKTtcblxuICAgICAgICBpZiAoX2NvcmUudXRpbHMuVGV4dHVyZUNhY2hlW3RleHR1cmVVcmxdKSB7XG4gICAgICAgICAgICAvLyByZXVzZSBleGlzdGluZyB0ZXh0dXJlXG4gICAgICAgICAgICBwYXJzZShyZXNvdXJjZSwgX2NvcmUudXRpbHMuVGV4dHVyZUNhY2hlW3RleHR1cmVVcmxdKTtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBsb2FkT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICAgICAgbG9hZFR5cGU6IF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBsb2FkIHRoZSB0ZXh0dXJlIGZvciB0aGUgZm9udFxuICAgICAgICAgICAgdGhpcy5hZGQocmVzb3VyY2UubmFtZSArICdfaW1hZ2UnLCB0ZXh0dXJlVXJsLCBsb2FkT3B0aW9ucywgZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgIHBhcnNlKHJlc291cmNlLCByZXMudGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG52YXIgcGF0aCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9wYXRoKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgX3Jlc291cmNlTG9hZGVyID0gcmVxdWlyZSgncmVzb3VyY2UtbG9hZGVyJyk7XG5cbnZhciBfZXh0cmFzID0gcmVxdWlyZSgnLi4vZXh0cmFzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBCaXRtYXBUZXh0IGZvbnQgZnJvbSBsb2FkZXIgcmVzb3VyY2UuXG4gKlxuICogQGZ1bmN0aW9uIHBhcnNlQml0bWFwRm9udERhdGFcbiAqIEBtZW1iZXJvZiBQSVhJLmxvYWRlcnNcbiAqIEBwYXJhbSB7UElYSS5sb2FkZXJzLlJlc291cmNlfSByZXNvdXJjZSAtIExvYWRlciByZXNvdXJjZS5cbiAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gUmVmZXJlbmNlIHRvIHRleHR1cmUuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlKHJlc291cmNlLCB0ZXh0dXJlKSB7XG4gICAgcmVzb3VyY2UuYml0bWFwRm9udCA9IF9leHRyYXMuQml0bWFwVGV4dC5yZWdpc3RlckZvbnQocmVzb3VyY2UuZGF0YSwgdGV4dHVyZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaXRtYXBGb250UGFyc2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICogVXNlZCBieSB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IHRvIGF1dG9tYXRpY2FsbHkgZ2l2ZSBhbGwgRGlzcGxheU9iamVjdHMgdGhlc2UgcHJvcGVydGllc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBpbnRlcmFjdGl2ZVRhcmdldFxuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIE9iamVjdC5hc3NpZ24oXG4gKiAgICAgICAgICBjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLFxuICogICAgICAgICAgUElYSS5pbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldFxuICogICAgICApO1xuICovXG5leHBvcnRzLmRlZmF1bHQgPSB7XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBpbnRlcmFjdGlvbiBldmVudHMgZm9yIHRoZSBEaXNwbGF5T2JqZWN0LiBUb3VjaCwgcG9pbnRlciBhbmQgbW91c2VcbiAgICogZXZlbnRzIHdpbGwgbm90IGJlIGVtaXR0ZWQgdW5sZXNzIGBpbnRlcmFjdGl2ZWAgaXMgc2V0IHRvIGB0cnVlYC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgKiBzcHJpdGUub24oJ3RhcCcsIChldmVudCkgPT4ge1xuICAgKiAgICAvL2hhbmRsZSBldmVudFxuICAgKiB9KTtcbiAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICovXG4gIGludGVyYWN0aXZlOiBmYWxzZSxcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY2hpbGRyZW4gdG8gdGhlIGRpc3BsYXlPYmplY3QgY2FuIGJlIGNsaWNrZWQvdG91Y2hlZFxuICAgKiBTZXR0aW5nIHRoaXMgdG8gZmFsc2UgYWxsb3dzIFBpeGlKUyB0byBieXBhc3MgYSByZWN1cnNpdmUgYGhpdFRlc3RgIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAgICovXG4gIGludGVyYWN0aXZlQ2hpbGRyZW46IHRydWUsXG5cbiAgLyoqXG4gICAqIEludGVyYWN0aW9uIHNoYXBlLiBDaGlsZHJlbiB3aWxsIGJlIGhpdCBmaXJzdCwgdGhlbiB0aGlzIHNoYXBlIHdpbGwgYmUgY2hlY2tlZC5cbiAgICogU2V0dGluZyB0aGlzIHdpbGwgY2F1c2UgdGhpcyBzaGFwZSB0byBiZSBjaGVja2VkIGluIGhpdCB0ZXN0cyByYXRoZXIgdGhhbiB0aGUgZGlzcGxheU9iamVjdCdzIGJvdW5kcy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgKiBzcHJpdGUuaGl0QXJlYSA9IG5ldyBQSVhJLlJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMCk7XG4gICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfFBJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfVxuICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgKi9cbiAgaGl0QXJlYTogbnVsbCxcblxuICAvKipcbiAgICogSWYgZW5hYmxlZCwgdGhlIG1vdXNlIGN1cnNvciB1c2UgdGhlIHBvaW50ZXIgYmVoYXZpb3Igd2hlbiBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QgaWYgaXQgaXMgaW50ZXJhY3RpdmVcbiAgICogU2V0dGluZyB0aGlzIGNoYW5nZXMgdGhlICdjdXJzb3InIHByb3BlcnR5IHRvIGAncG9pbnRlcidgLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAqIHNwcml0ZS5idXR0b25Nb2RlID0gdHJ1ZTtcbiAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICovXG4gIGdldCBidXR0b25Nb2RlKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInO1xuICB9LFxuICBzZXQgYnV0dG9uTW9kZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgfSBlbHNlIGlmICh0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInKSB7XG4gICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBUaGlzIGRlZmluZXMgd2hhdCBjdXJzb3IgbW9kZSBpcyB1c2VkIHdoZW4gdGhlIG1vdXNlIGN1cnNvclxuICAgKiBpcyBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICogc3ByaXRlLmN1cnNvciA9ICd3YWl0JztcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9DU1MvY3Vyc29yXG4gICAqXG4gICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICovXG4gIGN1cnNvcjogbnVsbCxcblxuICAvKipcbiAgICogSW50ZXJuYWwgc2V0IG9mIGFsbCBhY3RpdmUgcG9pbnRlcnMsIGJ5IGlkZW50aWZpZXJcbiAgICpcbiAgICogQG1lbWJlciB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0IHRyYWNrZWRQb2ludGVycygpIHtcbiAgICBpZiAodGhpcy5fdHJhY2tlZFBvaW50ZXJzID09PSB1bmRlZmluZWQpIHRoaXMuX3RyYWNrZWRQb2ludGVycyA9IHt9O1xuXG4gICAgcmV0dXJuIHRoaXMuX3RyYWNrZWRQb2ludGVycztcbiAgfSxcblxuICAvKipcbiAgICogTWFwIG9mIGFsbCB0cmFja2VkIHBvaW50ZXJzLCBieSBpZGVudGlmaWVyLiBVc2UgdHJhY2tlZFBvaW50ZXJzIHRvIGFjY2Vzcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICovXG4gIF90cmFja2VkUG9pbnRlcnM6IHVuZGVmaW5lZFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyYWN0aXZlVGFyZ2V0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIERpc3BsYXlPYmplY3RzIHdpdGggdGhlIHtAbGluayBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0fSBtaXhpbiB1c2UgdGhpcyBjbGFzcyB0byB0cmFjayBpbnRlcmFjdGlvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG52YXIgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50ZXJJZCAtIFVuaXF1ZSBwb2ludGVyIGlkIG9mIHRoZSBldmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKHBvaW50ZXJJZCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEpO1xuXG4gICAgICAgIHRoaXMuX3BvaW50ZXJJZCA9IHBvaW50ZXJJZDtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5OT05FO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBpbnRlcmFjdGlvbiBmbGFnIHRvIHNldFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBTaG91bGQgdGhlIGZsYWcgYmUgc2V0IG9yIHVuc2V0XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZS5fZG9TZXQgPSBmdW5jdGlvbiBfZG9TZXQoZmxhZywgeW4pIHtcbiAgICAgICAgaWYgKHluKSB7XG4gICAgICAgICAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzIHwgZmxhZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gdGhpcy5fZmxhZ3MgJiB+ZmxhZztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVbmlxdWUgcG9pbnRlciBpZCBvZiB0aGUgZXZlbnRcbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLCBbe1xuICAgICAgICBrZXk6IFwicG9pbnRlcklkXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BvaW50ZXJJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGF0ZSBvZiB0aGUgdHJhY2tpbmcgZGF0YSwgZXhwcmVzc2VkIGFzIGJpdCBmbGFnc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uVHJhY2tpbmdEYXRhI1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImZsYWdzXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYWdzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgZmxhZ3MgZm9yIHRoZSB0cmFja2luZyBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFncyAtIEZsYWdzIHRvIHNldFxuICAgICAgICAgKi9cbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmbGFncykge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSBmbGFncztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgdHJhY2tlZCBldmVudCBpbmFjdGl2ZSAobm90IG92ZXIgb3IgZG93bik/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEjXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwibm9uZVwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mbGFncyA9PT0gdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5OT05FO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSB0cmFja2VkIGV2ZW50IG92ZXIgdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uVHJhY2tpbmdEYXRhI1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcIm92ZXJcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5PVkVSKSAhPT0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIG92ZXIgZmxhZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHluIC0gSXMgdGhlIGV2ZW50IG92ZXI/XG4gICAgICAgICAqL1xuICAgICAgICAsXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk9WRVIsIHluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uVHJhY2tpbmdEYXRhI1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInJpZ2h0RG93blwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLlJJR0hUX0RPV04pICE9PSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgcmlnaHQgZG93biBmbGFnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBJcyB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIGRvd24/XG4gICAgICAgICAqL1xuICAgICAgICAsXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLlJJR0hUX0RPV04sIHluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGNvbWUgZG93biBpbiB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEjXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwibGVmdERvd25cIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5MRUZUX0RPV04pICE9PSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgbGVmdCBkb3duIGZsYWdcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSB5biAtIElzIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBkb3duP1xuICAgICAgICAgKi9cbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh5bikge1xuICAgICAgICAgICAgdGhpcy5fZG9TZXQodGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5MRUZUX0RPV04sIHluKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE7XG5cblxuSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MgPSBPYmplY3QuZnJlZXplKHtcbiAgICBOT05FOiAwLFxuICAgIE9WRVI6IDEgPDwgMCxcbiAgICBMRUZUX0RPV046IDEgPDwgMSxcbiAgICBSSUdIVF9ET1dOOiAxIDw8IDJcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogRXZlbnQgY2xhc3MgdGhhdCBtaW1pY3MgbmF0aXZlIERPTSBldmVudHMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG52YXIgSW50ZXJhY3Rpb25FdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBJbnRlcmFjdGlvbkV2ZW50KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBldmVudCB3aWxsIGNvbnRpbnVlIHByb3BhZ2F0aW5nIGluIHRoZSB0cmVlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9iamVjdCB3aGljaCBjYXVzZWQgdGhpcyBldmVudCB0byBiZSBkaXNwYXRjaGVkLlxuICAgICAqIEZvciBsaXN0ZW5lciBjYWxsYmFjayBzZWUge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudC5jdXJyZW50VGFyZ2V0fS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0IHdob3NlIGV2ZW50IGxpc3RlbmVy4oCZcyBjYWxsYmFjayBpcyBjdXJyZW50bHkgYmVpbmcgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiB0aGUgZXZlbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3Rpb25EYXRhIHJlbGF0ZWQgdG8gdGhpcyBldmVudFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICovXG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmV2ZW50cyBldmVudCBmcm9tIHJlYWNoaW5nIGFueSBvYmplY3RzIG90aGVyIHRoYW4gdGhlIGN1cnJlbnQgb2JqZWN0LlxuICAgKlxuICAgKi9cblxuXG4gIEludGVyYWN0aW9uRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIGV2ZW50LlxuICAgKi9cblxuXG4gIEludGVyYWN0aW9uRXZlbnQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIEludGVyYWN0aW9uRXZlbnQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEludGVyYWN0aW9uRXZlbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnRlcmFjdGlvbkV2ZW50LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBIb2xkcyBhbGwgaW5mb3JtYXRpb24gcmVsYXRlZCB0byBhbiBJbnRlcmFjdGlvbiBldmVudFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xudmFyIEludGVyYWN0aW9uRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBJbnRlcmFjdGlvbkRhdGEoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHBvaW50IHN0b3JlcyB0aGUgZ2xvYmFsIGNvb3JkcyBvZiB3aGVyZSB0aGUgdG91Y2gvbW91c2UgZXZlbnQgaGFwcGVuZWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICovXG4gICAgdGhpcy5nbG9iYWwgPSBuZXcgY29yZS5Qb2ludCgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRhcmdldCBEaXNwbGF5T2JqZWN0IHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdoZW4gcGFzc2VkIHRvIGFuIGV2ZW50IGhhbmRsZXIsIHRoaXMgd2lsbCBiZSB0aGUgb3JpZ2luYWwgRE9NIEV2ZW50IHRoYXQgd2FzIGNhcHR1cmVkXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVG91Y2hFdmVudFxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudFxuICAgICAqIEBtZW1iZXIge01vdXNlRXZlbnR8VG91Y2hFdmVudHxQb2ludGVyRXZlbnR9XG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGludGVyYWN0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pZGVudGlmaWVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIG9yIG5vdCB0aGUgcG9pbnRlciBkZXZpY2UgdGhhdCBjcmVhdGVkIHRoZSBldmVudCBpcyB0aGUgcHJpbWFyeSBwb2ludGVyLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9pc1ByaW1hcnlcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoaWNoIGJ1dHRvbiB3YXMgcHJlc3NlZCBvbiB0aGUgbW91c2Ugb3IgcG9pbnRlciBkZXZpY2UgdG8gdHJpZ2dlciB0aGUgZXZlbnQuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuYnV0dG9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCBidXR0b25zIGFyZSBwcmVzc2VkIG9uIHRoZSBtb3VzZSBvciBwb2ludGVyIGRldmljZSB3aGVuIHRoZSBldmVudCBpcyB0cmlnZ2VyZWQuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25zXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmJ1dHRvbnMgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeC1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAqIHJhZGl1c1ggb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC93aWR0aFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy53aWR0aCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeS1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAqIHJhZGl1c1kgb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9oZWlnaHRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3RpbHRYXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbHRYID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3RpbHRZXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbHRZID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50LlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wb2ludGVyVHlwZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5wb2ludGVyVHlwZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBQcmVzc3VyZSBhcHBsaWVkIGJ5IHRoZSBwb2ludGluZyBkZXZpY2UgZHVyaW5nIHRoZSBldmVudC4gQSBUb3VjaCdzIGZvcmNlIHByb3BlcnR5XG4gICAgICogd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wcmVzc3VyZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5wcmVzc3VyZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBGcm9tIFRvdWNoRXZlbnRzIChub3QgUG9pbnRlckV2ZW50cyB0cmlnZ2VyZWQgYnkgdG91Y2hlcyksIHRoZSByb3RhdGlvbkFuZ2xlIG9mIHRoZSBUb3VjaC5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaC9yb3RhdGlvbkFuZ2xlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVHdpc3Qgb2YgYSBzdHlsdXMgcG9pbnRlci5cbiAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnR3aXN0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIEJhcnJlbCBwcmVzc3VyZSBvbiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAqIEBzZWUgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3BvaW50ZXJldmVudHMvI3BvaW50ZXJldmVudC1pbnRlcmZhY2VcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHBvaW50ZXIuIEl0IHdpbGwgYmUgdGhlIHNhbWUgYXMgYGlkZW50aWZpZXJgLlxuICAgKiBAcmVhZG9ubHlcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlcklkXG4gICAqL1xuXG5cbiAgLyoqXG4gICAqIFRoaXMgd2lsbCByZXR1cm4gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBzcGVjaWZpZWQgZGlzcGxheU9iamVjdCBmb3IgdGhpcyBJbnRlcmFjdGlvbkRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSBsb2NhbFxuICAgKiAgY29vcmRzIG9mZlxuICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsIChvdGhlcndpc2VcbiAgICogIHdpbGwgY3JlYXRlIGEgbmV3IHBvaW50KVxuICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtnbG9iYWxQb3NdIC0gQSBQb2ludCBvYmplY3QgY29udGFpbmluZyB5b3VyIGN1c3RvbSBnbG9iYWwgY29vcmRzLCBvcHRpb25hbFxuICAgKiAgKG90aGVyd2lzZSB3aWxsIHVzZSB0aGUgY3VycmVudCBnbG9iYWwgY29vcmRzKVxuICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IGNvbnRhaW5pbmcgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBJbnRlcmFjdGlvbkRhdGEgcG9zaXRpb24gcmVsYXRpdmVcbiAgICogIHRvIHRoZSBEaXNwbGF5T2JqZWN0XG4gICAqL1xuICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLmdldExvY2FsUG9zaXRpb24gPSBmdW5jdGlvbiBnZXRMb2NhbFBvc2l0aW9uKGRpc3BsYXlPYmplY3QsIHBvaW50LCBnbG9iYWxQb3MpIHtcbiAgICByZXR1cm4gZGlzcGxheU9iamVjdC53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UoZ2xvYmFsUG9zIHx8IHRoaXMuZ2xvYmFsLCBwb2ludCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvcGllcyBwcm9wZXJ0aWVzIGZyb20gbm9ybWFsaXplZCBldmVudCBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0ge1RvdWNofE1vdXNlRXZlbnR8UG9pbnRlckV2ZW50fSBldmVudCBUaGUgbm9ybWFsaXplZCBldmVudCBkYXRhXG4gICAqL1xuXG5cbiAgSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZS5jb3B5RXZlbnQgPSBmdW5jdGlvbiBjb3B5RXZlbnQoZXZlbnQpIHtcbiAgICAvLyBpc1ByaW1hcnkgc2hvdWxkIG9ubHkgY2hhbmdlIG9uIHRvdWNoc3RhcnQvcG9pbnRlcmRvd24sIHNvIHdlIGRvbid0IHdhbnQgdG8gb3ZlcndyaXRlXG4gICAgLy8gaXQgd2l0aCBcImZhbHNlXCIgb24gbGF0ZXIgZXZlbnRzIHdoZW4gb3VyIHNoaW0gZm9yIGl0IG9uIHRvdWNoIGV2ZW50cyBtaWdodCBub3QgYmVcbiAgICAvLyBhY2N1cmF0ZVxuICAgIGlmIChldmVudC5pc1ByaW1hcnkpIHtcbiAgICAgIHRoaXMuaXNQcmltYXJ5ID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5idXR0b24gPSBldmVudC5idXR0b247XG4gICAgLy8gZXZlbnQuYnV0dG9ucyBpcyBub3QgYXZhaWxhYmxlIGluIGFsbCBicm93c2VycyAoaWUuIFNhZmFyaSksIGJ1dCBpdCBkb2VzIGhhdmUgYSBub24tc3RhbmRhcmRcbiAgICAvLyBldmVudC53aGljaCBwcm9wZXJ0eSBpbnN0ZWFkLCB3aGljaCBjb252ZXlzIHRoZSBzYW1lIGluZm9ybWF0aW9uLlxuICAgIHRoaXMuYnV0dG9ucyA9IE51bWJlci5pc0ludGVnZXIoZXZlbnQuYnV0dG9ucykgPyBldmVudC5idXR0b25zIDogZXZlbnQud2hpY2g7XG4gICAgdGhpcy53aWR0aCA9IGV2ZW50LndpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gZXZlbnQuaGVpZ2h0O1xuICAgIHRoaXMudGlsdFggPSBldmVudC50aWx0WDtcbiAgICB0aGlzLnRpbHRZID0gZXZlbnQudGlsdFk7XG4gICAgdGhpcy5wb2ludGVyVHlwZSA9IGV2ZW50LnBvaW50ZXJUeXBlO1xuICAgIHRoaXMucHJlc3N1cmUgPSBldmVudC5wcmVzc3VyZTtcbiAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSBldmVudC5yb3RhdGlvbkFuZ2xlO1xuICAgIHRoaXMudHdpc3QgPSBldmVudC50d2lzdCB8fCAwO1xuICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlIHx8IDA7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgZGF0YSBmb3IgcG9vbGluZy5cbiAgICovXG5cblxuICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgLy8gaXNQcmltYXJ5IGlzIHRoZSBvbmx5IHByb3BlcnR5IHRoYXQgd2UgcmVhbGx5IG5lZWQgdG8gcmVzZXQgLSBldmVyeXRoaW5nIGVsc2UgaXNcbiAgICAvLyBndWFyYW50ZWVkIHRvIGJlIG92ZXJ3cml0dGVuXG4gICAgdGhpcy5pc1ByaW1hcnkgPSBmYWxzZTtcbiAgfTtcblxuICBfY3JlYXRlQ2xhc3MoSW50ZXJhY3Rpb25EYXRhLCBbe1xuICAgIGtleTogJ3BvaW50ZXJJZCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pZGVudGlmaWVyO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBJbnRlcmFjdGlvbkRhdGE7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEludGVyYWN0aW9uRGF0YTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUludGVyYWN0aW9uRGF0YS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSA9IHJlcXVpcmUoJy4vZ2VuZXJhdGVCbHVyVmVydFNvdXJjZScpO1xuXG52YXIgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSk7XG5cbnZhciBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSA9IHJlcXVpcmUoJy4vZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZScpO1xuXG52YXIgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSk7XG5cbnZhciBfZ2V0TWF4Qmx1cktlcm5lbFNpemUgPSByZXF1aXJlKCcuL2dldE1heEJsdXJLZXJuZWxTaXplJyk7XG5cbnZhciBfZ2V0TWF4Qmx1cktlcm5lbFNpemUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0TWF4Qmx1cktlcm5lbFNpemUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIEJsdXJZRmlsdGVyIGFwcGxpZXMgYSBob3Jpem9udGFsIEdhdXNzaWFuIGJsdXIgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEJsdXJZRmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhCbHVyWUZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJlbmd0aCAtIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHF1YWxpdHkgLSBUaGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1cllGaWx0ZXIoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJsdXJZRmlsdGVyKTtcblxuICAgICAgICBrZXJuZWxTaXplID0ga2VybmVsU2l6ZSB8fCA1O1xuICAgICAgICB2YXIgdmVydFNyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSwgZmFsc2UpO1xuICAgICAgICB2YXIgZnJhZ1NyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICB2ZXJ0U3JjLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgZnJhZ1NyYykpO1xuXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IGNvcmUuc2V0dGluZ3MuUkVTT0xVVElPTjtcblxuICAgICAgICBfdGhpcy5fcXVhbGl0eSA9IDA7XG5cbiAgICAgICAgX3RoaXMucXVhbGl0eSA9IHF1YWxpdHkgfHwgNDtcbiAgICAgICAgX3RoaXMuc3RyZW5ndGggPSBzdHJlbmd0aCB8fCA4O1xuXG4gICAgICAgIF90aGlzLmZpcnN0UnVuID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJNYW5hZ2VyfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmc/XG4gICAgICovXG5cblxuICAgIEJsdXJZRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKSB7XG4gICAgICAgIGlmICh0aGlzLmZpcnN0UnVuKSB7XG4gICAgICAgICAgICB2YXIgZ2wgPSBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLmdsO1xuICAgICAgICAgICAgdmFyIGtlcm5lbFNpemUgPSAoMCwgX2dldE1heEJsdXJLZXJuZWxTaXplMi5kZWZhdWx0KShnbCk7XG5cbiAgICAgICAgICAgIHRoaXMudmVydGV4U3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplKTtcblxuICAgICAgICAgICAgdGhpcy5maXJzdFJ1biA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9IDEgLyBvdXRwdXQuc2l6ZS5oZWlnaHQgKiAob3V0cHV0LnNpemUuaGVpZ2h0IC8gaW5wdXQuc2l6ZS5oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggKj0gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAvPSB0aGlzLnBhc3NlcztcblxuICAgICAgICBpZiAodGhpcy5wYXNzZXMgPT09IDEpIHtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0UmVuZGVyVGFyZ2V0KHRydWUpO1xuICAgICAgICAgICAgdmFyIGZsaXAgPSBpbnB1dDtcbiAgICAgICAgICAgIHZhciBmbG9wID0gcmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGFzc2VzIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBmbG9wLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZmxvcDtcblxuICAgICAgICAgICAgICAgIGZsb3AgPSBmbGlwO1xuICAgICAgICAgICAgICAgIGZsaXAgPSB0ZW1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIG91dHB1dCwgY2xlYXIpO1xuXG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVyblJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMlxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoQmx1cllGaWx0ZXIsIFt7XG4gICAgICAgIGtleTogJ2JsdXInLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cmVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IE1hdGguYWJzKHZhbHVlKSAqIDI7XG4gICAgICAgICAgICB0aGlzLnN0cmVuZ3RoID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBieSBtb2RpZnlpbmcgdGhlIG51bWJlciBvZiBwYXNzZXMuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlclxuICAgICAgICAgKiBxdWFpbGl0eSBibHVyaW5nIGJ1dCB0aGUgbG93ZXIgdGhlIHBlcmZvcm1hbmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDRcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3F1YWxpdHknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9xdWFsaXR5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3F1YWxpdHkgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGFzc2VzID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQmx1cllGaWx0ZXI7XG59KGNvcmUuRmlsdGVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQmx1cllGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CbHVyWUZpbHRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGdldE1heEtlcm5lbFNpemU7XG5mdW5jdGlvbiBnZXRNYXhLZXJuZWxTaXplKGdsKSB7XG4gICAgdmFyIG1heFZhcnlpbmdzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9WQVJZSU5HX1ZFQ1RPUlMpO1xuICAgIHZhciBrZXJuZWxTaXplID0gMTU7XG5cbiAgICB3aGlsZSAoa2VybmVsU2l6ZSA+IG1heFZhcnlpbmdzKSB7XG4gICAgICAgIGtlcm5lbFNpemUgLT0gMjtcbiAgICB9XG5cbiAgICByZXR1cm4ga2VybmVsU2l6ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldE1heEJsdXJLZXJuZWxTaXplLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGdlbmVyYXRlRnJhZ0JsdXJTb3VyY2U7XG52YXIgR0FVU1NJQU5fVkFMVUVTID0ge1xuICAgIDU6IFswLjE1MzM4OCwgMC4yMjE0NjEsIDAuMjUwMzAxXSxcbiAgICA3OiBbMC4wNzEzMDMsIDAuMTMxNTE0LCAwLjE4OTg3OSwgMC4yMTQ2MDddLFxuICAgIDk6IFswLjAyODUzMiwgMC4wNjcyMzQsIDAuMTI0MDA5LCAwLjE3OTA0NCwgMC4yMDIzNl0sXG4gICAgMTE6IFswLjAwOTMsIDAuMDI4MDAyLCAwLjA2NTk4NCwgMC4xMjE3MDMsIDAuMTc1NzEzLCAwLjE5ODU5Nl0sXG4gICAgMTM6IFswLjAwMjQwNiwgMC4wMDkyNTUsIDAuMDI3ODY3LCAwLjA2NTY2NiwgMC4xMjExMTcsIDAuMTc0ODY4LCAwLjE5NzY0MV0sXG4gICAgMTU6IFswLjAwMDQ4OSwgMC4wMDI0MDMsIDAuMDA5MjQ2LCAwLjAyNzg0LCAwLjA2NTYwMiwgMC4xMjA5OTksIDAuMTc0Njk3LCAwLjE5NzQ0OF1cbn07XG5cbnZhciBmcmFnVGVtcGxhdGUgPSBbJ3ZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdOycsICd1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjsnLCAndm9pZCBtYWluKHZvaWQpJywgJ3snLCAnICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTsnLCAnICAgICVibHVyJScsICd9J10uam9pbignXFxuJyk7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlRnJhZ0JsdXJTb3VyY2Uoa2VybmVsU2l6ZSkge1xuICAgIHZhciBrZXJuZWwgPSBHQVVTU0lBTl9WQUxVRVNba2VybmVsU2l6ZV07XG4gICAgdmFyIGhhbGZMZW5ndGggPSBrZXJuZWwubGVuZ3RoO1xuXG4gICAgdmFyIGZyYWdTb3VyY2UgPSBmcmFnVGVtcGxhdGU7XG5cbiAgICB2YXIgYmx1ckxvb3AgPSAnJztcbiAgICB2YXIgdGVtcGxhdGUgPSAnZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdkJsdXJUZXhDb29yZHNbJWluZGV4JV0pICogJXZhbHVlJTsnO1xuICAgIHZhciB2YWx1ZSA9IHZvaWQgMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKSB7XG4gICAgICAgIHZhciBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkpO1xuXG4gICAgICAgIHZhbHVlID0gaTtcblxuICAgICAgICBpZiAoaSA+PSBoYWxmTGVuZ3RoKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGtlcm5lbFNpemUgLSBpIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyV2YWx1ZSUnLCBrZXJuZWxbdmFsdWVdKTtcblxuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG5cbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgZnJhZ1NvdXJjZSA9IGZyYWdTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZSk7XG5cbiAgICByZXR1cm4gZnJhZ1NvdXJjZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlQmx1ckZyYWdTb3VyY2UuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZ2VuZXJhdGVWZXJ0Qmx1clNvdXJjZTtcbnZhciB2ZXJ0VGVtcGxhdGUgPSBbJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjsnLCAnYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDsnLCAndW5pZm9ybSBmbG9hdCBzdHJlbmd0aDsnLCAndW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7JywgJ3ZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdOycsICd2b2lkIG1haW4odm9pZCknLCAneycsICdnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKChhVmVydGV4UG9zaXRpb24pLCAxLjApKS54eSwgMC4wLCAxLjApOycsICclYmx1ciUnLCAnfSddLmpvaW4oJ1xcbicpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVZlcnRCbHVyU291cmNlKGtlcm5lbFNpemUsIHgpIHtcbiAgICB2YXIgaGFsZkxlbmd0aCA9IE1hdGguY2VpbChrZXJuZWxTaXplIC8gMik7XG5cbiAgICB2YXIgdmVydFNvdXJjZSA9IHZlcnRUZW1wbGF0ZTtcblxuICAgIHZhciBibHVyTG9vcCA9ICcnO1xuICAgIHZhciB0ZW1wbGF0ZSA9IHZvaWQgMDtcbiAgICAvLyBsZXQgdmFsdWU7XG5cbiAgICBpZiAoeCkge1xuICAgICAgICB0ZW1wbGF0ZSA9ICd2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9IGFUZXh0dXJlQ29vcmQgKyB2ZWMyKCVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCwgMC4wKTsnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRlbXBsYXRlID0gJ3ZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gYVRleHR1cmVDb29yZCArIHZlYzIoMC4wLCAlc2FtcGxlSW5kZXglICogc3RyZW5ndGgpOyc7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspIHtcbiAgICAgICAgdmFyIGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaSk7XG5cbiAgICAgICAgLy8gdmFsdWUgPSBpO1xuXG4gICAgICAgIC8vIGlmKGkgPj0gaGFsZkxlbmd0aClcbiAgICAgICAgLy8ge1xuICAgICAgICAvLyAgICAgdmFsdWUgPSBrZXJuZWxTaXplIC0gaSAtIDE7XG4gICAgICAgIC8vIH1cblxuICAgICAgICBibHVyID0gYmx1ci5yZXBsYWNlKCclc2FtcGxlSW5kZXglJywgaSAtIChoYWxmTGVuZ3RoIC0gMSkgKyAnLjAnKTtcblxuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG5cbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZSk7XG5cbiAgICByZXR1cm4gdmVydFNvdXJjZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlQmx1clZlcnRTb3VyY2UuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UgPSByZXF1aXJlKCcuL2dlbmVyYXRlQmx1clZlcnRTb3VyY2UnKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UpO1xuXG52YXIgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UgPSByZXF1aXJlKCcuL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UnKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UpO1xuXG52YXIgX2dldE1heEJsdXJLZXJuZWxTaXplID0gcmVxdWlyZSgnLi9nZXRNYXhCbHVyS2VybmVsU2l6ZScpO1xuXG52YXIgX2dldE1heEJsdXJLZXJuZWxTaXplMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldE1heEJsdXJLZXJuZWxTaXplKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBCbHVyWEZpbHRlciBhcHBsaWVzIGEgaG9yaXpvbnRhbCBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBCbHVyWEZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoQmx1clhGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyZW5ndGggLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBxdWFsaXR5IC0gVGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBba2VybmVsU2l6ZT01XSAtIFRoZSBrZXJuZWxTaXplIG9mIHRoZSBibHVyIGZpbHRlci5PcHRpb25zOiA1LCA3LCA5LCAxMSwgMTMsIDE1LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJsdXJYRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCbHVyWEZpbHRlcik7XG5cbiAgICAgICAga2VybmVsU2l6ZSA9IGtlcm5lbFNpemUgfHwgNTtcbiAgICAgICAgdmFyIHZlcnRTcmMgPSAoMCwgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUsIHRydWUpO1xuICAgICAgICB2YXIgZnJhZ1NyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICB2ZXJ0U3JjLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgZnJhZ1NyYykpO1xuXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IGNvcmUuc2V0dGluZ3MuUkVTT0xVVElPTjtcblxuICAgICAgICBfdGhpcy5fcXVhbGl0eSA9IDA7XG5cbiAgICAgICAgX3RoaXMucXVhbGl0eSA9IHF1YWxpdHkgfHwgNDtcbiAgICAgICAgX3RoaXMuc3RyZW5ndGggPSBzdHJlbmd0aCB8fCA4O1xuXG4gICAgICAgIF90aGlzLmZpcnN0UnVuID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJNYW5hZ2VyfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmc/XG4gICAgICovXG5cblxuICAgIEJsdXJYRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKSB7XG4gICAgICAgIGlmICh0aGlzLmZpcnN0UnVuKSB7XG4gICAgICAgICAgICB2YXIgZ2wgPSBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLmdsO1xuICAgICAgICAgICAgdmFyIGtlcm5lbFNpemUgPSAoMCwgX2dldE1heEJsdXJLZXJuZWxTaXplMi5kZWZhdWx0KShnbCk7XG5cbiAgICAgICAgICAgIHRoaXMudmVydGV4U3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSAoMCwgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUpO1xuXG4gICAgICAgICAgICB0aGlzLmZpcnN0UnVuID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gMSAvIG91dHB1dC5zaXplLndpZHRoICogKG91dHB1dC5zaXplLndpZHRoIC8gaW5wdXQuc2l6ZS53aWR0aCk7XG5cbiAgICAgICAgLy8gc2NyZWVuIHNwYWNlIVxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoICo9IHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggLz0gdGhpcy5wYXNzZXM7IC8vIC8gdGhpcy5wYXNzZXMvL01hdGgucG93KDEsIHRoaXMucGFzc2VzKTtcblxuICAgICAgICBpZiAodGhpcy5wYXNzZXMgPT09IDEpIHtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0UmVuZGVyVGFyZ2V0KHRydWUpO1xuICAgICAgICAgICAgdmFyIGZsaXAgPSBpbnB1dDtcbiAgICAgICAgICAgIHZhciBmbG9wID0gcmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGFzc2VzIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBmbG9wLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZmxvcDtcblxuICAgICAgICAgICAgICAgIGZsb3AgPSBmbGlwO1xuICAgICAgICAgICAgICAgIGZsaXAgPSB0ZW1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIG91dHB1dCwgY2xlYXIpO1xuXG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVyblJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMTZcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEJsdXJYRmlsdGVyLCBbe1xuICAgICAgICBrZXk6ICdibHVyJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLmFicyh2YWx1ZSkgKiAyO1xuICAgICAgICAgICAgdGhpcy5zdHJlbmd0aCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogU2V0cyB0aGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBieSBtb2RpZnlpbmcgdGhlIG51bWJlciBvZiBwYXNzZXMuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlclxuICAgICAgICAqIHF1YWlsaXR5IGJsdXJpbmcgYnV0IHRoZSBsb3dlciB0aGUgcGVyZm9ybWFuY2UuXG4gICAgICAgICpcbiAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICogQGRlZmF1bHQgNFxuICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdxdWFsaXR5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcXVhbGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9xdWFsaXR5ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnBhc3NlcyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEJsdXJYRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJsdXJYRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qmx1clhGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5CaXRtYXBUZXh0ID0gZXhwb3J0cy5UaWxpbmdTcHJpdGVSZW5kZXJlciA9IGV4cG9ydHMuVGlsaW5nU3ByaXRlID0gZXhwb3J0cy5BbmltYXRlZFNwcml0ZSA9IHVuZGVmaW5lZDtcblxudmFyIF9BbmltYXRlZFNwcml0ZSA9IHJlcXVpcmUoJy4vQW5pbWF0ZWRTcHJpdGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdBbmltYXRlZFNwcml0ZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FuaW1hdGVkU3ByaXRlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UaWxpbmdTcHJpdGUgPSByZXF1aXJlKCcuL1RpbGluZ1Nwcml0ZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RpbGluZ1Nwcml0ZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbGluZ1Nwcml0ZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGlsaW5nU3ByaXRlUmVuZGVyZXIgPSByZXF1aXJlKCcuL3dlYmdsL1RpbGluZ1Nwcml0ZVJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGlsaW5nU3ByaXRlUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UaWxpbmdTcHJpdGVSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQml0bWFwVGV4dCA9IHJlcXVpcmUoJy4vQml0bWFwVGV4dCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0JpdG1hcFRleHQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CaXRtYXBUZXh0KS5kZWZhdWx0O1xuICB9XG59KTtcblxucmVxdWlyZSgnLi9jYWNoZUFzQml0bWFwJyk7XG5cbnJlcXVpcmUoJy4vZ2V0Q2hpbGRCeU5hbWUnKTtcblxucmVxdWlyZSgnLi9nZXRHbG9iYWxQb3NpdGlvbicpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyBpbXBvcnRlZCBmb3Igc2lkZSBlZmZlY3Qgb2YgZXh0ZW5kaW5nIHRoZSBwcm90b3R5cGUgb25seSwgY29udGFpbnMgbm8gZXhwb3J0c1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4vKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGFjY2Vzc2libGUgb2JqZWN0c1xuICogdXNlZCBieSB7QGxpbmsgUElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyfS5cbiAqXG4gKiBAZnVuY3Rpb24gYWNjZXNzaWJsZVRhcmdldFxuICogQG1lbWJlcm9mIFBJWEkuYWNjZXNzaWJpbGl0eVxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIE15T2JqZWN0LnByb3RvdHlwZSxcbiAqICAgICAgICAgIFBJWEkuYWNjZXNzaWJpbGl0eS5hY2Nlc3NpYmxlVGFyZ2V0XG4gKiAgICAgICk7XG4gKi9cbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgLyoqXG4gICAqICBGbGFnIGZvciBpZiB0aGUgb2JqZWN0IGlzIGFjY2Vzc2libGUuIElmIHRydWUgQWNjZXNzaWJpbGl0eU1hbmFnZXIgd2lsbCBvdmVybGF5IGFcbiAgICogICBzaGFkb3cgZGl2IHdpdGggYXR0cmlidXRlcyBzZXRcbiAgICpcbiAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICovXG4gIGFjY2Vzc2libGU6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aXRsZSBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICogSWYgYWNjZXNzaWJsZVRpdGxlIEFORCBhY2Nlc3NpYmxlSGludCBoYXMgbm90IGJlZW4gdGhpcyB3aWxsIGRlZmF1bHQgdG8gJ2Rpc3BsYXlPYmplY3QgW3RhYkluZGV4XSdcbiAgICpcbiAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgKi9cbiAgYWNjZXNzaWJsZVRpdGxlOiBudWxsLFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBhcmlhLWxhYmVsIGF0dHJpYnV0ZSBvZiB0aGUgc2hhZG93IGRpdlxuICAgKlxuICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAqL1xuICBhY2Nlc3NpYmxlSGludDogbnVsbCxcblxuICAvKipcbiAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICovXG4gIHRhYkluZGV4OiAwLFxuXG4gIC8qKlxuICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgKi9cbiAgX2FjY2Vzc2libGVBY3RpdmU6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgKi9cbiAgX2FjY2Vzc2libGVEaXY6IGZhbHNlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWNjZXNzaWJsZVRhcmdldC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmF1dG9EZXRlY3RSZW5kZXJlciA9IGF1dG9EZXRlY3RSZW5kZXJlcjtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIHV0aWxzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzKTtcblxudmFyIF9DYW52YXNSZW5kZXJlciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlcicpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlcicpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xSZW5kZXJlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuLyoqXG4gKiBUaGlzIGhlbHBlciBmdW5jdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgZGV0ZWN0IHdoaWNoIHJlbmRlcmVyIHlvdSBzaG91bGQgYmUgdXNpbmcuXG4gKiBXZWJHTCBpcyB0aGUgcHJlZmVycmVkIHJlbmRlcmVyIGFzIGl0IGlzIGEgbG90IGZhc3Rlci4gSWYgd2ViR0wgaXMgbm90IHN1cHBvcnRlZCBieVxuICogdGhlIGJyb3dzZXIgdGhlbiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGEgY2FudmFzIHJlbmRlcmVyXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBhdXRvRGV0ZWN0UmVuZGVyZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSB0aGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudCwgZGVmYXVsdCBmYWxzZVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gc2V0cyBhbnRpYWxpYXMgKG9ubHkgYXBwbGljYWJsZSBpbiBjaHJvbWUgYXQgdGhlIG1vbWVudClcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIGVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLCBlbmFibGUgdGhpcyBpZiB5b3VcbiAqICBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAqICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIsIHJldGluYSB3b3VsZCBiZSAyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlQ2FudmFzPWZhbHNlXSAtIHByZXZlbnRzIHNlbGVjdGlvbiBvZiBXZWJHTCByZW5kZXJlciwgZXZlbiBpZiBzdWNoIGlzIHByZXNlbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucm91bmRQaXhlbHM9ZmFsc2VdIC0gSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZyxcbiAqICBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUZYQUE9ZmFsc2VdIC0gZm9yY2VzIEZYQUEgYW50aWFsaWFzaW5nIHRvIGJlIHVzZWQgb3ZlciBuYXRpdmUuXG4gKiAgRlhBQSBpcyBmYXN0ZXIsIGJ1dCBtYXkgbm90IGFsd2F5cyBsb29rIGFzIGdyZWF0ICoqd2ViZ2wgb25seSoqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlZ2FjeT1mYWxzZV0gLSBgdHJ1ZWAgdG8gZW5zdXJlIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy5cbiAqICBJZiB5b3UgZXhwZXJpZW5jZSB1bmV4cGxhaW5lZCBmbGlja2VyaW5nIHRyeSBzZXR0aW5nIHRoaXMgdG8gdHJ1ZS4gKip3ZWJnbCBvbmx5KipcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byB3ZWJnbCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZCAqKndlYmdsIG9ubHkqKlxuICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfFBJWEkuQ2FudmFzUmVuZGVyZXJ9IFJldHVybnMgV2ViR0wgcmVuZGVyZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ2FudmFzUmVuZGVyZXJcbiAqL1xuZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyKG9wdGlvbnMsIGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICAvLyBCYWNrd2FyZC1jb21wYXRpYmxlIHN1cHBvcnQgZm9yIG5vV2ViR0wgb3B0aW9uXG4gICAgdmFyIGZvcmNlQ2FudmFzID0gb3B0aW9ucyAmJiBvcHRpb25zLmZvcmNlQ2FudmFzO1xuXG4gICAgaWYgKGFyZzMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBmb3JjZUNhbnZhcyA9IGFyZzM7XG4gICAgfVxuXG4gICAgaWYgKCFmb3JjZUNhbnZhcyAmJiB1dGlscy5pc1dlYkdMU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfV2ViR0xSZW5kZXJlcjIuZGVmYXVsdChvcHRpb25zLCBhcmcxLCBhcmcyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IF9DYW52YXNSZW5kZXJlcjIuZGVmYXVsdChvcHRpb25zLCBhcmcxLCBhcmcyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1dG9EZXRlY3RSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfYXV0b0RldGVjdFJlbmRlcmVyID0gcmVxdWlyZSgnLi9hdXRvRGV0ZWN0UmVuZGVyZXInKTtcblxudmFyIF9Db250YWluZXIgPSByZXF1aXJlKCcuL2Rpc3BsYXkvQ29udGFpbmVyJyk7XG5cbnZhciBfQ29udGFpbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhaW5lcik7XG5cbnZhciBfdGlja2VyID0gcmVxdWlyZSgnLi90aWNrZXInKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQ29udmVuaWVuY2UgY2xhc3MgdG8gY3JlYXRlIGEgbmV3IFBJWEkgYXBwbGljYXRpb24uXG4gKiBUaGlzIGNsYXNzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyB0aGUgcmVuZGVyZXIsIHRpY2tlclxuICogYW5kIHJvb3QgY29udGFpbmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgdGhlIGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICpcbiAqIC8vIEFkZCB0aGUgdmlldyB0byB0aGUgRE9NXG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqXG4gKiAvLyBleCwgYWRkIGRpc3BsYXkgb2JqZWN0c1xuICogYXBwLnN0YWdlLmFkZENoaWxkKFBJWEkuU3ByaXRlLmZyb21JbWFnZSgnc29tZXRoaW5nLnBuZycpKTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBcHBsaWNhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2NcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9TdGFydD10cnVlXSAtIGF1dG9tYXRpY2FsbHkgc3RhcnRzIHRoZSByZW5kZXJpbmcgYWZ0ZXIgdGhlIGNvbnN0cnVjdGlvbi5cbiAgICAgKiAgICAgTm90ZSB0aGF0IHNldHRpbmcgdGhpcyBwYXJhbWV0ZXIgdG8gZmFsc2UgZG9lcyBOT1Qgc3RvcCB0aGUgc2hhcmVkIHRpY2tlciBldmVuIGlmIHlvdSBzZXRcbiAgICAgKiAgICAgb3B0aW9ucy5zaGFyZWRUaWNrZXIgdG8gdHJ1ZSBpbiBjYXNlIHRoYXQgaXQgaXMgYWxyZWFkeSBzdGFydGVkLiBTdG9wIGl0IGJ5IHlvdXIgb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSB0aGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQsIGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhcyAob25seSBhcHBsaWNhYmxlIGluIGNocm9tZSBhdCB0aGUgbW9tZW50KVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIGVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLCBlbmFibGUgdGhpcyBpZiB5b3VcbiAgICAgKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgd2ViZ2wgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VDYW52YXM9ZmFsc2VdIC0gcHJldmVudHMgc2VsZWN0aW9uIG9mIFdlYkdMIHJlbmRlcmVyLCBldmVuIGlmIHN1Y2ggaXMgcHJlc2VudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gICAgICogICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yb3VuZFBpeGVscz1mYWxzZV0gLSBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLFxuICAgICAqICBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VGWEFBPWZhbHNlXSAtIGZvcmNlcyBGWEFBIGFudGlhbGlhc2luZyB0byBiZSB1c2VkIG92ZXIgbmF0aXZlLlxuICAgICAqICBGWEFBIGlzIGZhc3RlciwgYnV0IG1heSBub3QgYWx3YXlzIGxvb2sgYXMgZ3JlYXQgKip3ZWJnbCBvbmx5KipcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlZ2FjeT1mYWxzZV0gLSBgdHJ1ZWAgdG8gZW5zdXJlIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy5cbiAgICAgKiAgSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyB0cnkgc2V0dGluZyB0aGlzIHRvIHRydWUuICoqd2ViZ2wgb25seSoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICAgICAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZCAqKndlYmdsIG9ubHkqKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hhcmVkVGlja2VyPWZhbHNlXSAtIGB0cnVlYCB0byB1c2UgUElYSS50aWNrZXIuc2hhcmVkLCBgZmFsc2VgIHRvIGNyZWF0ZSBuZXcgdGlja2VyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hhcmVkTG9hZGVyPWZhbHNlXSAtIGB0cnVlYCB0byB1c2UgUElYSS5sb2FkZXJzLnNoYXJlZCwgYGZhbHNlYCB0byBjcmVhdGUgbmV3IExvYWRlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBcHBsaWNhdGlvbihvcHRpb25zLCBhcmcyLCBhcmczLCBhcmc0LCBhcmc1KSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcHBsaWNhdGlvbik7XG5cbiAgICAgICAgLy8gU3VwcG9ydCBmb3IgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgb3B0aW9ucywgbm9XZWJHTCwgdXNlU2hhcmVkVGlja2VyKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBhcmcyIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRU5ERVJfT1BUSU9OUy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgZm9yY2VDYW52YXM6ICEhYXJnNCxcbiAgICAgICAgICAgICAgICBzaGFyZWRUaWNrZXI6ICEhYXJnNVxuICAgICAgICAgICAgfSwgYXJnMyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgb3B0aW9ucywgc28gd2UgbWl4aW4gZnVuY3Rpb25hbGl0eSBsYXRlci5cbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgICAgICAgICAgc2hhcmVkVGlja2VyOiBmYWxzZSxcbiAgICAgICAgICAgIGZvcmNlQ2FudmFzOiBmYWxzZSxcbiAgICAgICAgICAgIHNoYXJlZExvYWRlcjogZmFsc2VcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlYkdMIHJlbmRlcmVyIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIENhbnZhc1JlbmRlcmVyXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuV2ViR0xSZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9ICgwLCBfYXV0b0RldGVjdFJlbmRlcmVyLmF1dG9EZXRlY3RSZW5kZXJlcikob3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb290IGRpc3BsYXkgY29udGFpbmVyIHRoYXQncyByZW5kZXJlZC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YWdlID0gbmV3IF9Db250YWluZXIyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcmVmZXJlbmNlIHRvIHRoZSB0aWNrZXJcbiAgICAgICAgICogQG1lbWJlciB7UElYSS50aWNrZXIuVGlja2VyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGlja2VyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGlja2VyIGZvciBkb2luZyByZW5kZXIgdXBkYXRlcy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS50aWNrZXIuVGlja2VyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnRpY2tlci5zaGFyZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2VyID0gb3B0aW9ucy5zaGFyZWRUaWNrZXIgPyBfdGlja2VyLnNoYXJlZCA6IG5ldyBfdGlja2VyLlRpY2tlcigpO1xuXG4gICAgICAgIC8vIFN0YXJ0IHRoZSByZW5kZXJpbmdcbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b1N0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGN1cnJlbnQgc3RhZ2UuXG4gICAgICovXG4gICAgQXBwbGljYXRpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zdGFnZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RvcHBpbmcgdGhlIHJlbmRlci5cbiAgICAgKi9cblxuXG4gICAgQXBwbGljYXRpb24ucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICB0aGlzLl90aWNrZXIuc3RvcCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHN0YXJ0aW5nIHRoZSByZW5kZXIuXG4gICAgICovXG5cblxuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLl90aWNrZXIuc3RhcnQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIGNhbnZhcyBlbGVtZW50LlxuICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSBBdXRvbWF0aWNhbGx5IHJlbW92ZSBjYW52YXMgZnJvbSBET00uXG4gICAgICovXG4gICAgQXBwbGljYXRpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZVZpZXcpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RpY2tlcikge1xuICAgICAgICAgICAgdmFyIG9sZFRpY2tlciA9IHRoaXMuX3RpY2tlcjtcblxuICAgICAgICAgICAgdGhpcy50aWNrZXIgPSBudWxsO1xuICAgICAgICAgICAgb2xkVGlja2VyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhZ2UuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnN0YWdlID0gbnVsbDtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmRlc3Ryb3kocmVtb3ZlVmlldyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBudWxsO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoQXBwbGljYXRpb24sIFt7XG4gICAgICAgIGtleTogJ3RpY2tlcicsXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRpY2tlcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90aWNrZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90aWNrZXIucmVtb3ZlKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RpY2tlciA9IHRpY2tlcjtcbiAgICAgICAgICAgIGlmICh0aWNrZXIpIHtcbiAgICAgICAgICAgICAgICB0aWNrZXIuYWRkKHRoaXMucmVuZGVyLCB0aGlzLCBfY29uc3QuVVBEQVRFX1BSSU9SSVRZLkxPVyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aWNrZXI7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3ZpZXcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnZpZXc7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIHNjcmVlbiByZWN0YW5nbGUuIEl0cyBzYWZlIHRvIHVzZSBhcyBmaWx0ZXJBcmVhIG9yIGhpdEFyZWEgZm9yIHdob2xlIHNjcmVlblxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzY3JlZW4nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnNjcmVlbjtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBcHBsaWNhdGlvbjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQXBwbGljYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BcHBsaWNhdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBBIEdyYXBoaWNzRGF0YSBvYmplY3QuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR3JhcGhpY3NEYXRhID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxpbmVXaWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsaW5lQ29sb3IgLSB0aGUgY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgKiBAcGFyYW0ge251bWJlcn0gbGluZUFscGhhIC0gdGhlIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZpbGxDb2xvciAtIHRoZSBjb2xvciBvZiB0aGUgZmlsbFxuICAgKiBAcGFyYW0ge251bWJlcn0gZmlsbEFscGhhIC0gdGhlIGFscGhhIG9mIHRoZSBmaWxsXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmlsbCAtIHdoZXRoZXIgb3Igbm90IHRoZSBzaGFwZSBpcyBmaWxsZWQgd2l0aCBhIGNvbG91clxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG5hdGl2ZUxpbmVzIC0gdGhlIG1ldGhvZCBmb3IgZHJhd2luZyBsaW5lc1xuICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuUmVjdGFuZ2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb259IHNoYXBlIC0gVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgKi9cbiAgZnVuY3Rpb24gR3JhcGhpY3NEYXRhKGxpbmVXaWR0aCwgbGluZUNvbG9yLCBsaW5lQWxwaGEsIGZpbGxDb2xvciwgZmlsbEFscGhhLCBmaWxsLCBuYXRpdmVMaW5lcywgc2hhcGUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR3JhcGhpY3NEYXRhKTtcblxuICAgIC8qKlxuICAgICAqIHRoZSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGluZVdpZHRoID0gbGluZVdpZHRoO1xuXG4gICAgLyoqXG4gICAgICogaWYgdHJ1ZSB0aGUgbGllbnMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubmF0aXZlTGluZXMgPSBuYXRpdmVMaW5lcztcblxuICAgIC8qKlxuICAgICAqIHRoZSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGluZUNvbG9yID0gbGluZUNvbG9yO1xuXG4gICAgLyoqXG4gICAgICogdGhlIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5saW5lQWxwaGEgPSBsaW5lQWxwaGE7XG5cbiAgICAvKipcbiAgICAgKiBjYWNoZWQgdGludCBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fbGluZVRpbnQgPSBsaW5lQ29sb3I7XG5cbiAgICAvKipcbiAgICAgKiB0aGUgY29sb3Igb2YgdGhlIGZpbGxcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5maWxsQ29sb3IgPSBmaWxsQ29sb3I7XG5cbiAgICAvKipcbiAgICAgKiB0aGUgYWxwaGEgb2YgdGhlIGZpbGxcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5maWxsQWxwaGEgPSBmaWxsQWxwaGE7XG5cbiAgICAvKipcbiAgICAgKiBjYWNoZWQgdGludCBvZiB0aGUgZmlsbFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2ZpbGxUaW50ID0gZmlsbENvbG9yO1xuXG4gICAgLyoqXG4gICAgICogd2hldGhlciBvciBub3QgdGhlIHNoYXBlIGlzIGZpbGxlZCB3aXRoIGEgY29sb3VyXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGwgPSBmaWxsO1xuXG4gICAgdGhpcy5ob2xlcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEBtZW1iZXIge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfVxuICAgICAqL1xuICAgIHRoaXMuc2hhcGUgPSBzaGFwZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBzaGFwZSwgc2VlIHRoZSBDb25zdC5TaGFwZXMgZmlsZSBmb3IgYWxsIHRoZSBleGlzdGluZyB0eXBlcyxcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gc2hhcGUudHlwZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEdyYXBoaWNzRGF0YSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAqXG4gICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NEYXRhfSBDbG9uZWQgR3JhcGhpY3NEYXRhIG9iamVjdFxuICAgKi9cblxuXG4gIEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IEdyYXBoaWNzRGF0YSh0aGlzLmxpbmVXaWR0aCwgdGhpcy5saW5lQ29sb3IsIHRoaXMubGluZUFscGhhLCB0aGlzLmZpbGxDb2xvciwgdGhpcy5maWxsQWxwaGEsIHRoaXMuZmlsbCwgdGhpcy5uYXRpdmVMaW5lcywgdGhpcy5zaGFwZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBob2xlIHRvIHRoZSBzaGFwZS5cbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZXxQSVhJLkNpcmNsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2YgdGhlIGhvbGUuXG4gICAqL1xuXG5cbiAgR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5hZGRIb2xlID0gZnVuY3Rpb24gYWRkSG9sZShzaGFwZSkge1xuICAgIHRoaXMuaG9sZXMucHVzaChzaGFwZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBkYXRhLlxuICAgKi9cblxuXG4gIEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5zaGFwZSA9IG51bGw7XG4gICAgdGhpcy5ob2xlcyA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIEdyYXBoaWNzRGF0YTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gR3JhcGhpY3NEYXRhO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JhcGhpY3NEYXRhLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBUaGUgVGV4dE1ldHJpY3Mgb2JqZWN0IHJlcHJlc2VudHMgdGhlIG1lYXN1cmVtZW50IG9mIGEgYmxvY2sgb2YgdGV4dCB3aXRoIGEgc3BlY2lmaWVkIHN0eWxlLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3R5bGUgPSBuZXcgUElYSS5UZXh0U3R5bGUoe2ZvbnRGYW1pbHkgOiAnQXJpYWwnLCBmb250U2l6ZTogMjQsIGZpbGwgOiAweGZmMTAxMCwgYWxpZ24gOiAnY2VudGVyJ30pXG4gKiBsZXQgdGV4dE1ldHJpY3MgPSBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KCdZb3VyIHRleHQnLCBzdHlsZSlcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlck9mIFBJWElcbiAqL1xudmFyIFRleHRNZXRyaWNzID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIHRleHQgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSBzdHlsZSB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSBtZWFzdXJlZCB3aWR0aCBvZiB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbWVhc3VyZWQgaGVpZ2h0IG9mIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHthcnJheX0gbGluZXMgLSBhbiBhcnJheSBvZiB0aGUgbGluZXMgb2YgdGV4dCBicm9rZW4gYnkgbmV3IGxpbmVzIGFuZCB3cmFwcGluZyBpZiBzcGVjaWZpZWQgaW4gc3R5bGVcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBsaW5lV2lkdGhzIC0gYW4gYXJyYXkgb2YgdGhlIGxpbmUgd2lkdGhzIGZvciBlYWNoIGxpbmUgbWF0Y2hlZCB0byBgbGluZXNgXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxpbmVIZWlnaHQgLSB0aGUgbWVhc3VyZWQgbGluZSBoZWlnaHQgZm9yIHRoaXMgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4TGluZVdpZHRoIC0gdGhlIG1heGltdW0gbGluZSB3aWR0aCBmb3IgYWxsIG1lYXN1cmVkIGxpbmVzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGZvbnRQcm9wZXJ0aWVzIC0gdGhlIGZvbnQgcHJvcGVydGllcyBvYmplY3QgZnJvbSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHRNZXRyaWNzKHRleHQsIHN0eWxlLCB3aWR0aCwgaGVpZ2h0LCBsaW5lcywgbGluZVdpZHRocywgbGluZUhlaWdodCwgbWF4TGluZVdpZHRoLCBmb250UHJvcGVydGllcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dE1ldHJpY3MpO1xuXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5saW5lcyA9IGxpbmVzO1xuICAgICAgICB0aGlzLmxpbmVXaWR0aHMgPSBsaW5lV2lkdGhzO1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICB0aGlzLm1heExpbmVXaWR0aCA9IG1heExpbmVXaWR0aDtcbiAgICAgICAgdGhpcy5mb250UHJvcGVydGllcyA9IGZvbnRQcm9wZXJ0aWVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1lYXN1cmVzIHRoZSBzdXBwbGllZCBzdHJpbmcgb2YgdGV4dCBhbmQgcmV0dXJucyBhIFJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIHRleHQgdG8gbWVhc3VyZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSB0ZXh0IHN0eWxlIHRvIHVzZSBmb3IgbWVhc3VyaW5nXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbd29yZFdyYXBdIC0gb3B0aW9uYWwgb3ZlcnJpZGUgZm9yIGlmIHdvcmQtd3JhcCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHRNZXRyaWNzfSBtZWFzdXJlZCB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB0ZXh0LlxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy5tZWFzdXJlVGV4dCA9IGZ1bmN0aW9uIG1lYXN1cmVUZXh0KHRleHQsIHN0eWxlLCB3b3JkV3JhcCkge1xuICAgICAgICB2YXIgY2FudmFzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBUZXh0TWV0cmljcy5fY2FudmFzO1xuXG4gICAgICAgIHdvcmRXcmFwID0gd29yZFdyYXAgfHwgc3R5bGUud29yZFdyYXA7XG4gICAgICAgIHZhciBmb250ID0gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgICAgIHZhciBmb250UHJvcGVydGllcyA9IFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG5cbiAgICAgICAgdmFyIG91dHB1dFRleHQgPSB3b3JkV3JhcCA/IFRleHRNZXRyaWNzLndvcmRXcmFwKHRleHQsIHN0eWxlLCBjYW52YXMpIDogdGV4dDtcbiAgICAgICAgdmFyIGxpbmVzID0gb3V0cHV0VGV4dC5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyk7XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gbmV3IEFycmF5KGxpbmVzLmxlbmd0aCk7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBsaW5lV2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGxpbmVzW2ldKS53aWR0aCArIChsaW5lc1tpXS5sZW5ndGggLSAxKSAqIHN0eWxlLmxldHRlclNwYWNpbmc7XG5cbiAgICAgICAgICAgIGxpbmVXaWR0aHNbaV0gPSBsaW5lV2lkdGg7XG4gICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gbWF4TGluZVdpZHRoICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuXG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgICAgICB3aWR0aCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGluZUhlaWdodCA9IHN0eWxlLmxpbmVIZWlnaHQgfHwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLm1heChsaW5lSGVpZ2h0LCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcykgKyAobGluZXMubGVuZ3RoIC0gMSkgKiAobGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcpO1xuXG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgICAgICBoZWlnaHQgKz0gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0TWV0cmljcyh0ZXh0LCBzdHlsZSwgd2lkdGgsIGhlaWdodCwgbGluZXMsIGxpbmVXaWR0aHMsIGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nLCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBuZXdsaW5lcyB0byBhIHN0cmluZyB0byBoYXZlIGl0IG9wdGltYWxseSBmaXQgaW50byB0aGUgaG9yaXpvbnRhbFxuICAgICAqIGJvdW5kcyBzZXQgYnkgdGhlIFRleHQgb2JqZWN0J3Mgd29yZFdyYXBXaWR0aCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBTdHJpbmcgdG8gYXBwbHkgd29yZCB3cmFwcGluZyB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRvIHVzZSB3aGVuIHdyYXBwaW5nXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBOZXcgc3RyaW5nIHdpdGggbmV3IGxpbmVzIGFwcGxpZWQgd2hlcmUgcmVxdWlyZWRcbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3Mud29yZFdyYXAgPSBmdW5jdGlvbiB3b3JkV3JhcCh0ZXh0LCBzdHlsZSkge1xuICAgICAgICB2YXIgY2FudmFzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBUZXh0TWV0cmljcy5fY2FudmFzO1xuXG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgdmFyIGxpbmUgPSAnJztcbiAgICAgICAgdmFyIHdpZHRoID0gMDtcbiAgICAgICAgdmFyIGxpbmVzID0gJyc7XG4gICAgICAgIHZhciBjYWNoZSA9IHt9O1xuICAgICAgICB2YXIgbHMgPSBzdHlsZS5sZXR0ZXJTcGFjaW5nO1xuXG4gICAgICAgIC8vIGlkZWFsbHkgdGhlcmUgaXMgbGV0dGVyU3BhY2luZyBhZnRlciBldmVyeSBjaGFyIGV4Y2VwdCB0aGUgbGFzdCBvbmVcbiAgICAgICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFcbiAgICAgICAgLy8gc28gZm9yIGNvbnZlbmllbmNlIHRoZSBhYm92ZSBuZWVkcyB0byBiZSBjb21wYXJlZCB0byB3aWR0aCArIDEgZXh0cmEgc3BhY2VcbiAgICAgICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFfXG4gICAgICAgIC8vIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuICAgICAgICAvLyBBbmQgdGhlbiB0aGUgZmluYWwgc3BhY2UgaXMgc2ltcGx5IG5vIGFwcGVuZGVkIHRvIGVhY2ggbGluZVxuICAgICAgICB2YXIgd29yZFdyYXBXaWR0aCA9IHN0eWxlLndvcmRXcmFwV2lkdGggKyBzdHlsZS5sZXR0ZXJTcGFjaW5nO1xuXG4gICAgICAgIC8vIGdldCB0aGUgd2lkdGggb2YgYSBzcGFjZSBhbmQgYWRkIGl0IHRvIGNhY2hlXG4gICAgICAgIHZhciBzcGFjZVdpZHRoID0gVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlKCcgJywgbHMsIGNhY2hlLCBjb250ZXh0KTtcblxuICAgICAgICAvLyBicmVhayB0ZXh0IGludG8gd29yZHNcbiAgICAgICAgdmFyIHdvcmRzID0gdGV4dC5zcGxpdCgnICcpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB3b3JkID0gd29yZHNbaV07XG5cbiAgICAgICAgICAgIC8vIGdldCB3b3JkIHdpZHRoIGZyb20gY2FjaGUgaWYgcG9zc2libGVcbiAgICAgICAgICAgIHZhciB3b3JkV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUod29yZCwgbHMsIGNhY2hlLCBjb250ZXh0KTtcblxuICAgICAgICAgICAgLy8gd29yZCBpcyBsb25nZXIgdGhhbiBkZXNpcmVkIGJvdW5kc1xuICAgICAgICAgICAgaWYgKHdvcmRXaWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAvLyBicmVhayBsYXJnZSB3b3JkIG92ZXIgbXVsdGlwbGUgbGluZXNcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuYnJlYWtXb3Jkcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBzcGFjZSB0byB0aGUgc3RhcnQgb2YgdGhlIHdvcmQgdW5sZXNzIGl0cyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaW5lXG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXBXb3JkID0gbGluZS5sZW5ndGggPiAwID8gJyAnICsgd29yZCA6IHdvcmQ7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYnJlYWsgd29yZCBpbnRvIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJhY3RlcnMgPSB0bXBXb3JkLnNwbGl0KCcnKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBsb29wIHRoZSBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2hhcmFjdGVycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJhY3RlciA9IGNoYXJhY3RlcnNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmFjdGVyV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUoY2hhcmFjdGVyLCBscywgY2FjaGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyV2lkdGggKyB3aWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gY2hhcmFjdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBydW4gd29yZCBvdXQgb2YgdGhlIGJvdW5kc1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIHdvcmRzIGluIHRoaXMgbGluZSBhbHJlYWR5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5pc2ggdGhhdCBsaW5lIGFuZCBzdGFydCBhIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdpdmUgaXQgaXRzIG93biBsaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKHdvcmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHdvcmQgY291bGQgZml0XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd29yZCB3b24ndCBmaXQsIHN0YXJ0IGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmRXaWR0aCArIHdpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgd29yZCB0byB0aGUgY3VycmVudCBsaW5lXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBhIHNwYWNlIGlmIGl0IGlzIG5vdCB0aGUgYmVnaW5uaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lICs9ICcgJyArIHdvcmQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgd2l0aG91dCBhIHNwYWNlIGlmIGl0IGlzIHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gd29yZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IHdvcmRXaWR0aCArIHNwYWNlV2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lLCBmYWxzZSk7XG5cbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiAgQ29udmllbmllbmNlIGZ1bmN0aW9uIGZvciBsb2dnaW5nIGVhY2ggbGluZSBhZGRlZFxuICAgICAqICBkdXJpbmcgdGhlIHdvcmRXcmFwIG1ldGhvZFxuICAgICAqXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIGxpbmUgICAgLSBUaGUgbGluZSBvZiB0ZXh0IHRvIGFkZFxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBuZXdMaW5lIC0gQWRkIG5ldyBsaW5lIGNoYXJhY3RlciB0byBlbmRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgQSBmb3JtYXR0ZWQgbGluZVxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy5hZGRMaW5lID0gZnVuY3Rpb24gYWRkTGluZShsaW5lKSB7XG4gICAgICAgIHZhciBuZXdMaW5lID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuXG4gICAgICAgIGxpbmUgPSBuZXdMaW5lID8gbGluZSArICdcXG4nIDogbGluZTtcblxuICAgICAgICByZXR1cm4gbGluZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyAmIHNldHMgdGhlIHdpZHRocyBvZiBjYWxjdWxhdGVkIGNoYXJhY3RlcnMgaW4gYSBjYWNoZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICAgICAgICAgICAgIGtleSAgICAgICAgICAgIFRoZSBrZXlcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICBsZXR0ZXJTcGFjaW5nICBUaGUgbGV0dGVyIHNwYWNpbmdcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgICBjYWNoZSAgICAgICAgICBUaGUgY2FjaGVcbiAgICAgKiBAcGFyYW0gIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICBjb250ZXh0ICAgICAgICBUaGUgY2FudmFzIGNvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICBUaGUgZnJvbSBjYWNoZS5cbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlID0gZnVuY3Rpb24gZ2V0RnJvbUNhY2hlKGtleSwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gY2FjaGVba2V5XTtcblxuICAgICAgICBpZiAod2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIHNwYWNpbmcgPSBrZXkubGVuZ3RoICogbGV0dGVyU3BhY2luZztcblxuICAgICAgICAgICAgd2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGtleSkud2lkdGggKyBzcGFjaW5nO1xuICAgICAgICAgICAgY2FjaGVba2V5XSA9IHdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHdpZHRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhc2NlbnQsIGRlc2NlbnQgYW5kIGZvbnRTaXplIG9mIGEgZ2l2ZW4gZm9udC1zdHlsZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHRNZXRyaWNzfkZvbnRNZXRyaWNzfSBGb250IHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLm1lYXN1cmVGb250ID0gZnVuY3Rpb24gbWVhc3VyZUZvbnQoZm9udCkge1xuICAgICAgICAvLyBhcyB0aGlzIG1ldGhvZCBpcyB1c2VkIGZvciBwcmVwYXJpbmcgYXNzZXRzLCBkb24ndCByZWNhbGN1bGF0ZSB0aGluZ3MgaWYgd2UgZG9uJ3QgbmVlZCB0b1xuICAgICAgICBpZiAoVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdKSB7XG4gICAgICAgICAgICByZXR1cm4gVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICB2YXIgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcztcbiAgICAgICAgdmFyIGNvbnRleHQgPSBUZXh0TWV0cmljcy5fY29udGV4dDtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuXG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KCd8TcOJcScpLndpZHRoKTtcbiAgICAgICAgdmFyIGJhc2VsaW5lID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQoJ00nKS53aWR0aCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSAyICogYmFzZWxpbmU7XG5cbiAgICAgICAgYmFzZWxpbmUgPSBiYXNlbGluZSAqIDEuNCB8IDA7XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2YwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICdhbHBoYWJldGljJztcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoJ3xNw4lxJywgMCwgYmFzZWxpbmUpO1xuXG4gICAgICAgIHZhciBpbWFnZWRhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KS5kYXRhO1xuICAgICAgICB2YXIgcGl4ZWxzID0gaW1hZ2VkYXRhLmxlbmd0aDtcbiAgICAgICAgdmFyIGxpbmUgPSB3aWR0aCAqIDQ7XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgdmFyIHN0b3AgPSBmYWxzZTtcblxuICAgICAgICAvLyBhc2NlbnQuIHNjYW4gZnJvbSB0b3AgdG8gYm90dG9tIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBiYXNlbGluZTsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmU7IGogKz0gNCkge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgal0gIT09IDI1NSkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdG9wKSB7XG4gICAgICAgICAgICAgICAgaWR4ICs9IGxpbmU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydGllcy5hc2NlbnQgPSBiYXNlbGluZSAtIGk7XG5cbiAgICAgICAgaWR4ID0gcGl4ZWxzIC0gbGluZTtcbiAgICAgICAgc3RvcCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGRlc2NlbnQuIHNjYW4gZnJvbSBib3R0b20gdG8gdG9wIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG4gICAgICAgIGZvciAoaSA9IGhlaWdodDsgaSA+IGJhc2VsaW5lOyAtLWkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9qID0gMDsgX2ogPCBsaW5lOyBfaiArPSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlZGF0YVtpZHggKyBfal0gIT09IDI1NSkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXN0b3ApIHtcbiAgICAgICAgICAgICAgICBpZHggLT0gbGluZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm9wZXJ0aWVzLmRlc2NlbnQgPSBpIC0gYmFzZWxpbmU7XG4gICAgICAgIHByb3BlcnRpZXMuZm9udFNpemUgPSBwcm9wZXJ0aWVzLmFzY2VudCArIHByb3BlcnRpZXMuZGVzY2VudDtcblxuICAgICAgICBUZXh0TWV0cmljcy5fZm9udHNbZm9udF0gPSBwcm9wZXJ0aWVzO1xuXG4gICAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dE1ldHJpY3M7XG59KCk7XG5cbi8qKlxuICogSW50ZXJuYWwgcmV0dXJuIG9iamVjdCBmb3Ige0BsaW5rIFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250YH0uXG4gKiBAY2xhc3MgRm9udE1ldHJpY3NcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzflxuICogQHByb3BlcnR5IHtudW1iZXJ9IGFzY2VudCAtIFRoZSBhc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZXNjZW50IC0gVGhlIGRlc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZSBmcm9tIGFzY2VudCB0byBkZXNjZW50XG4gKi9cblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dE1ldHJpY3M7XG52YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbmNhbnZhcy53aWR0aCA9IGNhbnZhcy5oZWlnaHQgPSAxMDtcblxuLyoqXG4gKiBDYWNoZWQgY2FudmFzIGVsZW1lbnQgZm9yIG1lYXN1cmluZyB0ZXh0XG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NhbnZhcyA9IGNhbnZhcztcblxuLyoqXG4gKiBDYWNoZSBmb3IgY29udGV4dCB0byB1c2UuXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbi8qKlxuICogQ2FjaGUgb2YgUElYSS5UZXh0TWV0cmljc35Gb250TWV0cmljcyBvYmplY3RzLlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHRNZXRyaWNzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsgLy8gZGlzYWJsaW5nIGVzbGludCBmb3Igbm93LCBnb2luZyB0byByZXdyaXRlIHRoaXMgaW4gdjVcbi8qIGVzbGludC1kaXNhYmxlICovXG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIGRlZmF1bHRTdHlsZSA9IHtcbiAgICBhbGlnbjogJ2xlZnQnLFxuICAgIGJyZWFrV29yZHM6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3c6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3dBbHBoYTogMSxcbiAgICBkcm9wU2hhZG93QW5nbGU6IE1hdGguUEkgLyA2LFxuICAgIGRyb3BTaGFkb3dCbHVyOiAwLFxuICAgIGRyb3BTaGFkb3dDb2xvcjogJ2JsYWNrJyxcbiAgICBkcm9wU2hhZG93RGlzdGFuY2U6IDUsXG4gICAgZmlsbDogJ2JsYWNrJyxcbiAgICBmaWxsR3JhZGllbnRUeXBlOiBfY29uc3QuVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwsXG4gICAgZmlsbEdyYWRpZW50U3RvcHM6IFtdLFxuICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgZm9udFNpemU6IDI2LFxuICAgIGZvbnRTdHlsZTogJ25vcm1hbCcsXG4gICAgZm9udFZhcmlhbnQ6ICdub3JtYWwnLFxuICAgIGZvbnRXZWlnaHQ6ICdub3JtYWwnLFxuICAgIGxldHRlclNwYWNpbmc6IDAsXG4gICAgbGluZUhlaWdodDogMCxcbiAgICBsaW5lSm9pbjogJ21pdGVyJyxcbiAgICBtaXRlckxpbWl0OiAxMCxcbiAgICBwYWRkaW5nOiAwLFxuICAgIHN0cm9rZTogJ2JsYWNrJyxcbiAgICBzdHJva2VUaGlja25lc3M6IDAsXG4gICAgdGV4dEJhc2VsaW5lOiAnYWxwaGFiZXRpYycsXG4gICAgdHJpbTogZmFsc2UsXG4gICAgd29yZFdyYXA6IGZhbHNlLFxuICAgIHdvcmRXcmFwV2lkdGg6IDEwMCxcbiAgICBsZWFkaW5nOiAwXG59O1xuXG4vKipcbiAqIEEgVGV4dFN0eWxlIE9iamVjdCBkZWNvcmF0ZXMgYSBUZXh0IE9iamVjdC4gSXQgY2FuIGJlIHNoYXJlZCBiZXR3ZWVuXG4gKiBtdWx0aXBsZSBUZXh0IG9iamVjdHMuIENoYW5naW5nIHRoZSBzdHlsZSB3aWxsIHVwZGF0ZSBhbGwgdGV4dCBvYmplY3RzIHVzaW5nIGl0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgVGV4dFN0eWxlID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbc3R5bGVdIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLFxuICAgICAqICBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLmJyZWFrV29yZHM9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXRcbiAgICAgKiAgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS5kcm9wU2hhZG93PWZhbHNlXSAtIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0FscGhhPTFdIC0gU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dBbmdsZT1NYXRoLlBJLzZdIC0gU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93Qmx1cj0wXSAtIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dDb2xvcj0nYmxhY2snXSAtIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U9NV0gLSBTZXQgYSBkaXN0YW5jZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn0gW3N0eWxlLmZpbGw9J2JsYWNrJ10gLSBBIGNhbnZhc1xuICAgICAqICBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgZS5nICdyZWQnLCAnIzAwRkYwMCcuIENhbiBiZSBhbiBhcnJheSB0byBjcmVhdGUgYSBncmFkaWVudFxuICAgICAqICBlZyBbJyMwMDAwMDAnLCcjRkZGRkZGJ11cbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZmlsbEdyYWRpZW50VHlwZT1QSVhJLlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMXSAtIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3Vyc1xuICAgICAqICB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IFtzdHlsZS5maWxsR3JhZGllbnRTdG9wc10gLSBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgYXJyYXkgY2FuIHNldFxuICAgICAqIHRoZSBzdG9wIHBvaW50cyAobnVtYmVycyBiZXR3ZWVuIDAgYW5kIDEpIGZvciB0aGUgY29sb3IsIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIGV2ZW5seSBzcGFjaW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFtzdHlsZS5mb250RmFtaWx5PSdBcmlhbCddIC0gVGhlIGZvbnQgZmFtaWx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBbc3R5bGUuZm9udFNpemU9MjZdIC0gVGhlIGZvbnQgc2l6ZSAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZyxcbiAgICAgKiAgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250U3R5bGU9J25vcm1hbCddIC0gVGhlIGZvbnQgc3R5bGUgKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250VmFyaWFudD0nbm9ybWFsJ10gLSBUaGUgZm9udCB2YXJpYW50ICgnbm9ybWFsJyBvciAnc21hbGwtY2FwcycpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250V2VpZ2h0PSdub3JtYWwnXSAtIFRoZSBmb250IHdlaWdodCAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsXG4gICAgICogICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsIDgwMCcgb3IgJzkwMCcpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZWFkaW5nPTBdIC0gVGhlIHNwYWNlIGJldHdlZW4gbGluZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxldHRlclNwYWNpbmc9MF0gLSBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxpbmVIZWlnaHRdIC0gVGhlIGxpbmUgaGVpZ2h0LCBhIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIHNwYWNlIHRoYXQgYSBsZXR0ZXIgdXNlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUubGluZUpvaW49J21pdGVyJ10gLSBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmVcbiAgICAgKiAgICAgIHNwaWtlZCB0ZXh0IGlzc3Vlcy4gUG9zc2libGUgdmFsdWVzIFwibWl0ZXJcIiAoY3JlYXRlcyBhIHNoYXJwIGNvcm5lciksIFwicm91bmRcIiAoY3JlYXRlcyBhIHJvdW5kIGNvcm5lcikgb3IgXCJiZXZlbFwiXG4gICAgICogICAgICAoY3JlYXRlcyBhIHNxdWFyZWQgY29ybmVyKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLm1pdGVyTGltaXQ9MTBdIC0gVGhlIG1pdGVyIGxpbWl0IHRvIHVzZSB3aGVuIHVzaW5nIHRoZSAnbWl0ZXInIGxpbmVKb2luIG1vZGUuIFRoaXMgY2FuIHJlZHVjZVxuICAgICAqICAgICAgb3IgaW5jcmVhc2UgdGhlIHNwaWtpbmVzcyBvZiByZW5kZXJlZCB0ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUucGFkZGluZz0wXSAtIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb21cbiAgICAgKiAgICAgaGFwcGVuaW5nIGJ5IGFkZGluZyBwYWRkaW5nIHRvIGFsbCBzaWRlcyBvZiB0aGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtzdHlsZS5zdHJva2U9J2JsYWNrJ10gLSBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlXG4gICAgICogIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuc3Ryb2tlVGhpY2tuZXNzPTBdIC0gQSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9rZS5cbiAgICAgKiAgRGVmYXVsdCBpcyAwIChubyBzdHJva2UpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUudHJpbT1mYWxzZV0gLSBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLnRleHRCYXNlbGluZT0nYWxwaGFiZXRpYyddIC0gVGhlIGJhc2VsaW5lIG9mIHRoZSB0ZXh0IHRoYXQgaXMgcmVuZGVyZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUud29yZFdyYXA9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIHdvcmQgd3JhcCBzaG91bGQgYmUgdXNlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUud29yZFdyYXBXaWR0aD0xMDBdIC0gVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHRTdHlsZShzdHlsZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dFN0eWxlKTtcblxuICAgICAgICB0aGlzLnN0eWxlSUQgPSAwO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXModGhpcywgc3R5bGUsIHN0eWxlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFRleHRTdHlsZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IHRoZSBvbmx5IHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgYXJlIGNsb25lZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dFN0eWxlfSBOZXcgY2xvbmVkIFRleHRTdHlsZSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgVGV4dFN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgICB2YXIgY2xvbmVkUHJvcGVydGllcyA9IHt9O1xuXG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyhjbG9uZWRQcm9wZXJ0aWVzLCB0aGlzLCBkZWZhdWx0U3R5bGUpO1xuXG4gICAgICAgIHJldHVybiBuZXcgVGV4dFN0eWxlKGNsb25lZFByb3BlcnRpZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHByb3BlcnRpZXMgdG8gdGhlIGRlZmF1bHRzIHNwZWNpZmllZCBpbiBUZXh0U3R5bGUucHJvdG90eXBlLl9kZWZhdWx0XG4gICAgICovXG5cblxuICAgIFRleHRTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIGRlZmF1bHRTdHlsZSwgZGVmYXVsdFN0eWxlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSwgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgZm9udCBzdHlsZSBzdHJpbmcgdG8gdXNlIGZvciBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoKWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEZvbnQgc3R5bGUgc3RyaW5nLCBmb3IgcGFzc2luZyB0byBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoKWBcbiAgICAgKi9cbiAgICBUZXh0U3R5bGUucHJvdG90eXBlLnRvRm9udFN0cmluZyA9IGZ1bmN0aW9uIHRvRm9udFN0cmluZygpIHtcbiAgICAgICAgLy8gYnVpbGQgY2FudmFzIGFwaSBmb250IHNldHRpbmcgZnJvbSBpbmRpdmlkdWFsIGNvbXBvbmVudHMuIENvbnZlcnQgYSBudW1lcmljIHRoaXMuZm9udFNpemUgdG8gcHhcbiAgICAgICAgdmFyIGZvbnRTaXplU3RyaW5nID0gdHlwZW9mIHRoaXMuZm9udFNpemUgPT09ICdudW1iZXInID8gdGhpcy5mb250U2l6ZSArICdweCcgOiB0aGlzLmZvbnRTaXplO1xuXG4gICAgICAgIC8vIENsZWFuLXVwIGZvbnRGYW1pbHkgcHJvcGVydHkgYnkgcXVvdGluZyBlYWNoIGZvbnQgbmFtZVxuICAgICAgICAvLyB0aGlzIHdpbGwgc3VwcG9ydCBmb250IG5hbWVzIHdpdGggc3BhY2VzXG4gICAgICAgIHZhciBmb250RmFtaWxpZXMgPSB0aGlzLmZvbnRGYW1pbHk7XG5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZm9udEZhbWlseSkpIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseS5zcGxpdCgnLCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGZvbnRGYW1pbGllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgLy8gVHJpbSBhbnkgZXh0cmEgd2hpdGUtc3BhY2VcbiAgICAgICAgICAgIHZhciBmb250RmFtaWx5ID0gZm9udEZhbWlsaWVzW2ldLnRyaW0oKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZm9udCBhbHJlYWR5IGNvbnRhaW5zIHN0cmluZ3NcbiAgICAgICAgICAgIGlmICghLyhbXFxcIlxcJ10pW15cXCdcXFwiXStcXDEvLnRlc3QoZm9udEZhbWlseSkpIHtcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5ID0gJ1wiJyArIGZvbnRGYW1pbHkgKyAnXCInO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9udEZhbWlsaWVzW2ldID0gZm9udEZhbWlseTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmZvbnRTdHlsZSArICcgJyArIHRoaXMuZm9udFZhcmlhbnQgKyAnICcgKyB0aGlzLmZvbnRXZWlnaHQgKyAnICcgKyBmb250U2l6ZVN0cmluZyArICcgJyArIGZvbnRGYW1pbGllcy5qb2luKCcsJyk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhUZXh0U3R5bGUsIFt7XG4gICAgICAgIGtleTogJ2FsaWduJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWxpZ247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGFsaWduKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduICE9PSBhbGlnbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsaWduID0gYWxpZ247XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JyZWFrV29yZHMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9icmVha1dvcmRzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChicmVha1dvcmRzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2JyZWFrV29yZHMgIT09IGJyZWFrV29yZHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9icmVha1dvcmRzID0gYnJlYWtXb3JkcztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBkcm9wIHNoYWRvdyBmb3IgdGhlIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3cnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChkcm9wU2hhZG93KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3cgIT09IGRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93ID0gZHJvcFNoYWRvdztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYWxwaGEgZm9yIHRoZSBkcm9wIHNoYWRvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdkcm9wU2hhZG93QWxwaGEnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93QWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRyb3BTaGFkb3dBbHBoYSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QWxwaGEgIT09IGRyb3BTaGFkb3dBbHBoYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSA9IGRyb3BTaGFkb3dBbHBoYTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBhbmdsZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZHJvcFNoYWRvd0FuZ2xlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FuZ2xlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChkcm9wU2hhZG93QW5nbGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FuZ2xlICE9PSBkcm9wU2hhZG93QW5nbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93QW5nbGUgPSBkcm9wU2hhZG93QW5nbGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgc2hhZG93IGJsdXIgcmFkaXVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3dCbHVyJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRyb3BTaGFkb3dCbHVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dCbHVyICE9PSBkcm9wU2hhZG93Qmx1cikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dCbHVyID0gZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBmaWxsIHN0eWxlIHRvIGJlIHVzZWQgb24gdGhlIGRyb3BzaGFkb3cgZS5nICdyZWQnLCAnIzAwRkYwMCdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3dDb2xvcicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZHJvcFNoYWRvd0NvbG9yKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZHJvcFNoYWRvd0NvbG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Q29sb3IgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0NvbG9yID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgZGlzdGFuY2Ugb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3dEaXN0YW5jZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZHJvcFNoYWRvd0Rpc3RhbmNlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSAhPT0gZHJvcFNoYWRvd0Rpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlID0gZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBlLmcgJ3JlZCcsICcjMDBGRjAwJy5cbiAgICAgICAgICogQ2FuIGJlIGFuIGFycmF5IHRvIGNyZWF0ZSBhIGdyYWRpZW50IGVnIFsnIzAwMDAwMCcsJyNGRkZGRkYnXVxuICAgICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmaWxsJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZmlsbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKGZpbGwpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbGwgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbCA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuXG4gICAgICAgICAqIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmaWxsR3JhZGllbnRUeXBlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50VHlwZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZmlsbEdyYWRpZW50VHlwZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9maWxsR3JhZGllbnRUeXBlICE9PSBmaWxsR3JhZGllbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbEdyYWRpZW50VHlwZSA9IGZpbGxHcmFkaWVudFR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGFycmF5IGNhbiBzZXQgdGhlIHN0b3AgcG9pbnRzXG4gICAgICAgICAqIChudW1iZXJzIGJldHdlZW4gMCBhbmQgMSkgZm9yIHRoZSBjb2xvciwgb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgZXZlbmx5IHNwYWNpbmcgdGhlbS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmaWxsR3JhZGllbnRTdG9wcycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmaWxsR3JhZGllbnRTdG9wcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghYXJlQXJyYXlzRXF1YWwodGhpcy5fZmlsbEdyYWRpZW50U3RvcHMsIGZpbGxHcmFkaWVudFN0b3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzID0gZmlsbEdyYWRpZW50U3RvcHM7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgZmFtaWx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xzdHJpbmdbXX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZvbnRGYW1pbHknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250RmFtaWx5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250RmFtaWx5KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuZm9udEZhbWlseSAhPT0gZm9udEZhbWlseSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHNpemVcbiAgICAgICAgICogKGFzIGEgbnVtYmVyIGl0IGNvbnZlcnRzIHRvIHB4LCBidXQgYXMgYSBzdHJpbmcsIGVxdWl2YWxlbnRzIGFyZSAnMjZweCcsJzIwcHQnLCcxNjAlJyBvciAnMS42ZW0nKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ8c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZm9udFNpemUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250U2l6ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZm9udFNpemUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IGZvbnRTaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSBmb250U2l6ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBzdHlsZVxuICAgICAgICAgKiAoJ25vcm1hbCcsICdpdGFsaWMnIG9yICdvYmxpcXVlJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZm9udFN0eWxlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFN0eWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250U3R5bGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFN0eWxlICE9PSBmb250U3R5bGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U3R5bGUgPSBmb250U3R5bGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgdmFyaWFudFxuICAgICAgICAgKiAoJ25vcm1hbCcgb3IgJ3NtYWxsLWNhcHMnKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmb250VmFyaWFudCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRWYXJpYW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250VmFyaWFudCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250VmFyaWFudCAhPT0gZm9udFZhcmlhbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250VmFyaWFudCA9IGZvbnRWYXJpYW50O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHdlaWdodFxuICAgICAgICAgKiAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsIDgwMCcgb3IgJzkwMCcpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZvbnRXZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250V2VpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250V2VpZ2h0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRXZWlnaHQgIT09IGZvbnRXZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250V2VpZ2h0ID0gZm9udFdlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbGV0dGVyU3BhY2luZycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGxldHRlclNwYWNpbmcpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gbGV0dGVyU3BhY2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbGluZUhlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGxpbmVIZWlnaHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGluZUhlaWdodCAhPT0gbGluZUhlaWdodCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2xlYWRpbmcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZWFkaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChsZWFkaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xlYWRpbmcgIT09IGxlYWRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZWFkaW5nID0gbGVhZGluZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmUgc3Bpa2VkIHRleHQgaXNzdWVzLlxuICAgICAgICAgKiBEZWZhdWx0IGlzICdtaXRlcicgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdsaW5lSm9pbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVKb2luO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChsaW5lSm9pbikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9saW5lSm9pbiAhPT0gbGluZUpvaW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lSm9pbiA9IGxpbmVKb2luO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlXG4gICAgICAgICAqIFRoaXMgY2FuIHJlZHVjZSBvciBpbmNyZWFzZSB0aGUgc3Bpa2luZXNzIG9mIHJlbmRlcmVkIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ21pdGVyTGltaXQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9taXRlckxpbWl0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChtaXRlckxpbWl0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21pdGVyTGltaXQgIT09IG1pdGVyTGltaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9taXRlckxpbWl0ID0gbWl0ZXJMaW1pdDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tIGhhcHBlbmluZ1xuICAgICAgICAgKiBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3BhZGRpbmcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYWRkaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChwYWRkaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhZGRpbmcgIT09IHBhZGRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlXG4gICAgICAgICAqIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc3Ryb2tlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Ryb2tlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChzdHJva2UpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihzdHJva2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0cm9rZSAhPT0gb3V0cHV0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2UgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHRoaWNrbmVzcyBvZiB0aGUgc3Ryb2tlLlxuICAgICAgICAgKiBEZWZhdWx0IGlzIDAgKG5vIHN0cm9rZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc3Ryb2tlVGhpY2tuZXNzJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChzdHJva2VUaGlja25lc3MpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3Ryb2tlVGhpY2tuZXNzICE9PSBzdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2VUaGlja25lc3MgPSBzdHJva2VUaGlja25lc3M7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2VsaW5lIG9mIHRoZSB0ZXh0IHRoYXQgaXMgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RleHRCYXNlbGluZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRCYXNlbGluZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGV4dEJhc2VsaW5lKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHRCYXNlbGluZSAhPT0gdGV4dEJhc2VsaW5lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dEJhc2VsaW5lID0gdGV4dEJhc2VsaW5lO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndHJpbScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyaW07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRyaW0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJpbSAhPT0gdHJpbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyaW0gPSB0cmltO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3dvcmRXcmFwJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd29yZFdyYXA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHdvcmRXcmFwKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3dvcmRXcmFwICE9PSB3b3JkV3JhcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmRXcmFwID0gd29yZFdyYXA7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd3b3JkV3JhcFdpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd29yZFdyYXBXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQod29yZFdyYXBXaWR0aCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93b3JkV3JhcFdpZHRoICE9PSB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29yZFdyYXBXaWR0aCA9IHdvcmRXcmFwV2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGV4dFN0eWxlO1xufSgpO1xuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ8bnVtYmVyW119IGNvbG9yXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjb2xvciBhcyBhIHN0cmluZy5cbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHRTdHlsZTtcbmZ1bmN0aW9uIGdldFNpbmdsZUNvbG9yKGNvbG9yKSB7XG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfdXRpbHMuaGV4MnN0cmluZykoY29sb3IpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoY29sb3IuaW5kZXhPZignMHgnKSA9PT0gMCkge1xuICAgICAgICAgICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKCcweCcsICcjJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY29sb3I7XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIFRoaXMgdmVyc2lvbiBjYW4gYWxzbyBjb252ZXJ0IGFycmF5IG9mIGNvbG9yc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfG51bWJlcltdfSBjb2xvclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29sb3IgYXMgYSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldENvbG9yKGNvbG9yKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbG9yKSkge1xuICAgICAgICByZXR1cm4gZ2V0U2luZ2xlQ29sb3IoY29sb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3IubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbG9yW2ldID0gZ2V0U2luZ2xlQ29sb3IoY29sb3JbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbn1cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogVGhpcyB2ZXJzaW9uIGNhbiBhbHNvIGNvbnZlcnQgYXJyYXkgb2YgY29sb3JzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkxIEZpcnN0IGFycmF5IHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MiBTZWNvbmQgYXJyYXkgdG8gY29tcGFyZVxuICogQHJldHVybiB7Ym9vbGVhbn0gRG8gdGhlIGFycmF5cyBjb250YWluIHRoZSBzYW1lIHZhbHVlcyBpbiB0aGUgc2FtZSBvcmRlclxuICovXG5mdW5jdGlvbiBhcmVBcnJheXNFcXVhbChhcnJheTEsIGFycmF5Mikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheTEpIHx8ICFBcnJheS5pc0FycmF5KGFycmF5MikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChhcnJheTEubGVuZ3RoICE9PSBhcnJheTIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5MS5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZW5zdXJlIHRoYXQgb2JqZWN0IHByb3BlcnRpZXMgYXJlIGNvcGllZCBieSB2YWx1ZSwgYW5kIG5vdCBieSByZWZlcmVuY2VcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRhcmdldCBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGludG9cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgU291cmNlIG9iamVjdCBmb3IgdGhlIHByb3BvcnRpZXMgdG8gY29weVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5T2JqIE9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgbmFtZXMgd2Ugd2FudCB0byBsb29wIG92ZXJcbiAqL1xuZnVuY3Rpb24gZGVlcENvcHlQcm9wZXJ0aWVzKHRhcmdldCwgc291cmNlLCBwcm9wZXJ0eU9iaikge1xuICAgIGZvciAodmFyIHByb3AgaW4gcHJvcGVydHlPYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlW3Byb3BdKSkge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdLnNsaWNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0U3R5bGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG52YXIgX2NyZWF0ZUluZGljZXNGb3JRdWFkcyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkcycpO1xuXG52YXIgX2NyZWF0ZUluZGljZXNGb3JRdWFkczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBxdWFkXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUXVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSBnbCBjb250ZXh0IGZvciB0aGlzIHF1YWQgdG8gdXNlLlxuICAgKiBAcGFyYW0ge29iamVjdH0gc3RhdGUgLSBUT0RPOiBEZXNjcmlwdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gUXVhZChnbCwgc3RhdGUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUXVhZCk7XG5cbiAgICAvKipcbiAgICAgKiB0aGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgKi9cbiAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiB2ZXJ0aWNlc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFstMSwgLTEsIDEsIC0xLCAxLCAxLCAtMSwgMV0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFV2cyBvZiB0aGUgcXVhZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIHRoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMSwgMSwgMCwgMV0pO1xuXG4gICAgdGhpcy5pbnRlcmxlYXZlZCA9IG5ldyBGbG9hdDMyQXJyYXkoOCAqIDIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgIHRoaXMuaW50ZXJsZWF2ZWRbaSAqIDRdID0gdGhpcy52ZXJ0aWNlc1tpICogMl07XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0ICsgMV0gPSB0aGlzLnZlcnRpY2VzW2kgKiAyICsgMV07XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0ICsgMl0gPSB0aGlzLnV2c1tpICogMl07XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0ICsgM10gPSB0aGlzLnV2c1tpICogMiArIDFdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmluZGljZXMgPSAoMCwgX2NyZWF0ZUluZGljZXNGb3JRdWFkczIuZGVmYXVsdCkoMSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmVydGV4IGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2xDb3JlLkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMudmVydGV4QnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCB0aGlzLmludGVybGVhdmVkLCBnbC5TVEFUSUNfRFJBVyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5kZXggYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtnbENvcmUuR0xCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZUluZGV4QnVmZmVyKGdsLCB0aGlzLmluZGljZXMsIGdsLlNUQVRJQ19EUkFXKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2ZXJ0ZXggYXJyYXkgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtnbENvcmUuVmVydGV4QXJyYXlPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy52YW8gPSBuZXcgX3BpeGlHbENvcmUyLmRlZmF1bHQuVmVydGV4QXJyYXlPYmplY3QoZ2wsIHN0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXNlcyB0aGUgdmFvcyBhbmQgdXNlcyB0aGUgc2hhZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgLSB0aGUgc2hhZGVyIHRvIHVzZVxuICAgKi9cblxuXG4gIFF1YWQucHJvdG90eXBlLmluaXRWYW8gPSBmdW5jdGlvbiBpbml0VmFvKHNoYWRlcikge1xuICAgIHRoaXMudmFvLmNsZWFyKCkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcikuYWRkQXR0cmlidXRlKHRoaXMudmVydGV4QnVmZmVyLCBzaGFkZXIuYXR0cmlidXRlcy5hVmVydGV4UG9zaXRpb24sIHRoaXMuZ2wuRkxPQVQsIGZhbHNlLCA0ICogNCwgMCkuYWRkQXR0cmlidXRlKHRoaXMudmVydGV4QnVmZmVyLCBzaGFkZXIuYXR0cmlidXRlcy5hVGV4dHVyZUNvb3JkLCB0aGlzLmdsLkZMT0FULCBmYWxzZSwgNCAqIDQsIDIgKiA0KTtcbiAgfTtcblxuICAvKipcbiAgICogTWFwcyB0d28gUmVjdGFuZ2xlIHRvIHRoZSBxdWFkLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSB0YXJnZXRUZXh0dXJlRnJhbWUgLSB0aGUgZmlyc3QgcmVjdGFuZ2xlXG4gICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSB0aGUgc2Vjb25kIHJlY3RhbmdsZVxuICAgKiBAcmV0dXJuIHtQSVhJLlF1YWR9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cblxuXG4gIFF1YWQucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIG1hcCh0YXJnZXRUZXh0dXJlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICB2YXIgeCA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aDtcbiAgICB2YXIgeSA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueSAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQ7XG5cbiAgICB0aGlzLnV2c1swXSA9IHg7XG4gICAgdGhpcy51dnNbMV0gPSB5O1xuXG4gICAgdGhpcy51dnNbMl0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aDtcbiAgICB0aGlzLnV2c1szXSA9IHk7XG5cbiAgICB0aGlzLnV2c1s0XSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoO1xuICAgIHRoaXMudXZzWzVdID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodDtcblxuICAgIHRoaXMudXZzWzZdID0geDtcbiAgICB0aGlzLnV2c1s3XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQ7XG5cbiAgICB4ID0gZGVzdGluYXRpb25GcmFtZS54O1xuICAgIHkgPSBkZXN0aW5hdGlvbkZyYW1lLnk7XG5cbiAgICB0aGlzLnZlcnRpY2VzWzBdID0geDtcbiAgICB0aGlzLnZlcnRpY2VzWzFdID0geTtcblxuICAgIHRoaXMudmVydGljZXNbMl0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICB0aGlzLnZlcnRpY2VzWzNdID0geTtcblxuICAgIHRoaXMudmVydGljZXNbNF0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICB0aGlzLnZlcnRpY2VzWzVdID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuXG4gICAgdGhpcy52ZXJ0aWNlc1s2XSA9IHg7XG4gICAgdGhpcy52ZXJ0aWNlc1s3XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyB0aGUgYnVmZmVyIGFuZCB1cGxvYWRzIHRoZSBkYXRhXG4gICAqXG4gICAqIEByZXR1cm4ge1BJWEkuUXVhZH0gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuXG5cbiAgUXVhZC5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0XSA9IHRoaXMudmVydGljZXNbaSAqIDJdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDFdID0gdGhpcy52ZXJ0aWNlc1tpICogMiArIDFdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDJdID0gdGhpcy51dnNbaSAqIDJdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDNdID0gdGhpcy51dnNbaSAqIDIgKyAxXTtcbiAgICB9XG5cbiAgICB0aGlzLnZlcnRleEJ1ZmZlci51cGxvYWQodGhpcy5pbnRlcmxlYXZlZCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGlzIHF1YWQgZnJvbSBXZWJHTFxuICAgKi9cblxuXG4gIFF1YWQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICBnbC5kZWxldGVCdWZmZXIodGhpcy52ZXJ0ZXhCdWZmZXIpO1xuICAgIGdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmluZGV4QnVmZmVyKTtcbiAgfTtcblxuICByZXR1cm4gUXVhZDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUXVhZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVF1YWQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX01hdHJpeCA9IHJlcXVpcmUoJy4uL21hdGgvTWF0cml4Jyk7XG5cbnZhciBfTWF0cml4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01hdHJpeCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciB0ZW1wTWF0ID0gbmV3IF9NYXRyaXgyLmRlZmF1bHQoKTtcblxuLyoqXG4gKiBDbGFzcyBjb250cm9scyB1diB0cmFuc2Zvcm0gYW5kIGZyYW1lIGNsYW1wIGZvciB0ZXh0dXJlXG4gKiBDYW4gYmUgdXNlZCBpbiBUZXh0dXJlIFwidHJhbnNmb3JtXCIgZmllbGQsIG9yIHNlcGFyYXRlbHksIHlvdSBjYW4gdXNlIGRpZmZlcmVudCBjbGFtcCBzZXR0aW5ncyBvbiB0aGUgc2FtZSB0ZXh0dXJlLlxuICogSWYgeW91IHdhbnQgdG8gYWRkIHN1cHBvcnQgZm9yIHRleHR1cmUgcmVnaW9uIG9mIGNlcnRhaW4gZmVhdHVyZSBvciBmaWx0ZXIsIHRoYXQncyB3aGF0IHlvdSdyZSBsb29raW5nIGZvci5cbiAqXG4gKiBAc2VlIFBJWEkuVGV4dHVyZVxuICogQHNlZSBQSVhJLm1lc2guTWVzaFxuICogQHNlZSBQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgVGV4dHVyZU1hdHJpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIG9ic2VydmVkIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NsYW1wTWFyZ2luXSBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nLCAwLjUgYnkgZGVmYXVsdC4gVXNlIC0wLjUgZm9yIGV4dHJhIGJvcmRlci5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlTWF0cml4KHRleHR1cmUsIGNsYW1wTWFyZ2luKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0dXJlTWF0cml4KTtcblxuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGV4dHVyZTtcblxuICAgICAgICB0aGlzLm1hcENvb3JkID0gbmV3IF9NYXRyaXgyLmRlZmF1bHQoKTtcblxuICAgICAgICB0aGlzLnVDbGFtcEZyYW1lID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcblxuICAgICAgICB0aGlzLnVDbGFtcE9mZnNldCA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG5cbiAgICAgICAgdGhpcy5fbGFzdFRleHR1cmVJRCA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nXG4gICAgICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICAgICAqIENoYW5nZSB0byAxLjUgaWYgeW91IHRleHR1cmUgaGFzIHJlcGVhdGVkIHJpZ2h0IGFuZCBib3R0b20gbGluZXMsIHRoYXQgbGVhZHMgdG8gc21vb3RoZXIgYm9yZGVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xhbXBPZmZzZXQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nXG4gICAgICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICAgICAqIENoYW5nZSB0byAtMC41IHRvIGFkZCBhIHBpeGVsIHRvIHRoZSBlZGdlLCByZWNvbW1lbmRlZCBmb3IgdHJhbnNwYXJlbnQgdHJpbW1lZCB0ZXh0dXJlcyBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGFtcE1hcmdpbiA9IHR5cGVvZiBjbGFtcE1hcmdpbiA9PT0gJ3VuZGVmaW5lZCcgPyAwLjUgOiBjbGFtcE1hcmdpbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0ZXh0dXJlIHByb3BlcnR5XG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHV2cyBhcnJheSB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdXZzIG1lc2ggdXZzXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXQ9dXZzXSBvdXRwdXRcbiAgICAgKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSBvdXRwdXRcbiAgICAgKi9cbiAgICBUZXh0dXJlTWF0cml4LnByb3RvdHlwZS5tdWx0aXBseVV2cyA9IGZ1bmN0aW9uIG11bHRpcGx5VXZzKHV2cywgb3V0KSB7XG4gICAgICAgIGlmIChvdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb3V0ID0gdXZzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1hdCA9IHRoaXMubWFwQ29vcmQ7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1dnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciB4ID0gdXZzW2ldO1xuICAgICAgICAgICAgdmFyIHkgPSB1dnNbaSArIDFdO1xuXG4gICAgICAgICAgICBvdXRbaV0gPSB4ICogbWF0LmEgKyB5ICogbWF0LmMgKyBtYXQudHg7XG4gICAgICAgICAgICBvdXRbaSArIDFdID0geCAqIG1hdC5iICsgeSAqIG1hdC5kICsgbWF0LnR5O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogdXBkYXRlcyBtYXRyaWNlcyBpZiB0ZXh0dXJlIHdhcyBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBmb3JjZVVwZGF0ZSBpZiB0cnVlLCBtYXRyaWNlcyB3aWxsIGJlIHVwZGF0ZWQgYW55IGNhc2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgaXQgd2FzIHVwZGF0ZWRcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKGZvcmNlVXBkYXRlKSB7XG4gICAgICAgIHZhciB0ZXggPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4IHx8ICF0ZXgudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZm9yY2VVcGRhdGUgJiYgdGhpcy5fbGFzdFRleHR1cmVJRCA9PT0gdGV4Ll91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbGFzdFRleHR1cmVJRCA9IHRleC5fdXBkYXRlSUQ7XG5cbiAgICAgICAgdmFyIHV2cyA9IHRleC5fdXZzO1xuXG4gICAgICAgIHRoaXMubWFwQ29vcmQuc2V0KHV2cy54MSAtIHV2cy54MCwgdXZzLnkxIC0gdXZzLnkwLCB1dnMueDMgLSB1dnMueDAsIHV2cy55MyAtIHV2cy55MCwgdXZzLngwLCB1dnMueTApO1xuXG4gICAgICAgIHZhciBvcmlnID0gdGV4Lm9yaWc7XG4gICAgICAgIHZhciB0cmltID0gdGV4LnRyaW07XG5cbiAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgIHRlbXBNYXQuc2V0KG9yaWcud2lkdGggLyB0cmltLndpZHRoLCAwLCAwLCBvcmlnLmhlaWdodCAvIHRyaW0uaGVpZ2h0LCAtdHJpbS54IC8gdHJpbS53aWR0aCwgLXRyaW0ueSAvIHRyaW0uaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMubWFwQ29vcmQuYXBwZW5kKHRlbXBNYXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRleEJhc2UgPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBmcmFtZSA9IHRoaXMudUNsYW1wRnJhbWU7XG4gICAgICAgIHZhciBtYXJnaW4gPSB0aGlzLmNsYW1wTWFyZ2luIC8gdGV4QmFzZS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5jbGFtcE9mZnNldDtcblxuICAgICAgICBmcmFtZVswXSA9ICh0ZXguX2ZyYW1lLnggKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS53aWR0aDtcbiAgICAgICAgZnJhbWVbMV0gPSAodGV4Ll9mcmFtZS55ICsgbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2UuaGVpZ2h0O1xuICAgICAgICBmcmFtZVsyXSA9ICh0ZXguX2ZyYW1lLnggKyB0ZXguX2ZyYW1lLndpZHRoIC0gbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2Uud2lkdGg7XG4gICAgICAgIGZyYW1lWzNdID0gKHRleC5fZnJhbWUueSArIHRleC5fZnJhbWUuaGVpZ2h0IC0gbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2UuaGVpZ2h0O1xuICAgICAgICB0aGlzLnVDbGFtcE9mZnNldFswXSA9IG9mZnNldCAvIHRleEJhc2UucmVhbFdpZHRoO1xuICAgICAgICB0aGlzLnVDbGFtcE9mZnNldFsxXSA9IG9mZnNldCAvIHRleEJhc2UucmVhbEhlaWdodDtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFRleHR1cmVNYXRyaXgsIFt7XG4gICAgICAgIGtleTogJ3RleHR1cmUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RUZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUZXh0dXJlTWF0cml4O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0dXJlTWF0cml4O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZU1hdHJpeC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZXh0cmFjdFVuaWZvcm1zRnJvbVNyYyA9IHJlcXVpcmUoJy4vZXh0cmFjdFVuaWZvcm1zRnJvbVNyYycpO1xuXG52YXIgX2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0cmFjdFVuaWZvcm1zRnJvbVNyYyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlscycpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uLy4uLy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgU09VUkNFX0tFWV9NQVAgPSB7fTtcblxuLy8gbGV0IG1hdGggPSByZXF1aXJlKCcuLi8uLi8uLi9tYXRoJyk7XG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKi9cblxudmFyIEZpbHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgKiBAcGFyYW0ge29iamVjdH0gW3VuaWZvcm1zXSAtIEN1c3RvbSB1bmlmb3JtcyB0byB1c2UgdG8gYXVnbWVudCB0aGUgYnVpbHQtaW4gb25lcy5cbiAgICovXG4gIGZ1bmN0aW9uIEZpbHRlcih2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCB1bmlmb3Jtcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaWx0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy52ZXJ0ZXhTcmMgPSB2ZXJ0ZXhTcmMgfHwgRmlsdGVyLmRlZmF1bHRWZXJ0ZXhTcmM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYyB8fCBGaWx0ZXIuZGVmYXVsdEZyYWdtZW50U3JjO1xuXG4gICAgdGhpcy5fYmxlbmRNb2RlID0gX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgIHRoaXMudW5pZm9ybURhdGEgPSB1bmlmb3JtcyB8fCAoMCwgX2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMyLmRlZmF1bHQpKHRoaXMudmVydGV4U3JjLCB0aGlzLmZyYWdtZW50U3JjLCAncHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcicpO1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGN1cnJlbnQgdmFsdWVzIG9mIGN1c3RvbSB1bmlmb3Jtcy5cbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5VcGRhdGluZyB0aGUgdmFsdWUgb2YgYSBjdXN0b20gdW5pZm9ybTwvY2FwdGlvbj5cbiAgICAgKiBmaWx0ZXIudW5pZm9ybXMudGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudW5pZm9ybXMgPSB7fTtcblxuICAgIGZvciAodmFyIGkgaW4gdGhpcy51bmlmb3JtRGF0YSkge1xuICAgICAgdGhpcy51bmlmb3Jtc1tpXSA9IHRoaXMudW5pZm9ybURhdGFbaV0udmFsdWU7XG4gICAgICBpZiAodGhpcy51bmlmb3JtRGF0YVtpXS50eXBlKSB7XG4gICAgICAgIHRoaXMudW5pZm9ybURhdGFbaV0udHlwZSA9IHRoaXMudW5pZm9ybURhdGFbaV0udHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHRoaXMgaXMgd2hlcmUgd2Ugc3RvcmUgc2hhZGVyIHJlZmVyZW5jZXMuLlxuICAgIC8vIFRPRE8gd2UgY291bGQgY2FjaGUgdGhpcyFcbiAgICB0aGlzLmdsU2hhZGVycyA9IHt9O1xuXG4gICAgLy8gdXNlZCBmb3IgY2FjaGVpbmcuLiBzdXJlIHRoZXJlIGlzIGEgYmV0dGVyIHdheSFcbiAgICBpZiAoIVNPVVJDRV9LRVlfTUFQW3RoaXMudmVydGV4U3JjICsgdGhpcy5mcmFnbWVudFNyY10pIHtcbiAgICAgIFNPVVJDRV9LRVlfTUFQW3RoaXMudmVydGV4U3JjICsgdGhpcy5mcmFnbWVudFNyY10gPSAoMCwgX3V0aWxzLnVpZCkoKTtcbiAgICB9XG5cbiAgICB0aGlzLmdsU2hhZGVyS2V5ID0gU09VUkNFX0tFWV9NQVBbdGhpcy52ZXJ0ZXhTcmMgKyB0aGlzLmZyYWdtZW50U3JjXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwYWRkaW5nIG9mIHRoZSBmaWx0ZXIuIFNvbWUgZmlsdGVycyByZXF1aXJlIGV4dHJhIHNwYWNlIHRvIGJyZWF0aCBzdWNoIGFzIGEgYmx1ci5cbiAgICAgKiBJbmNyZWFzaW5nIHRoaXMgd2lsbCBhZGQgZXh0cmEgd2lkdGggYW5kIGhlaWdodCB0byB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QgdGhhdCB0aGVcbiAgICAgKiBmaWx0ZXIgaXMgYXBwbGllZCB0by5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBhZGRpbmcgPSA0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlc29sdXRpb24gb2YgdGhlIGZpbHRlci4gU2V0dGluZyB0aGlzIHRvIGJlIGxvd2VyIHdpbGwgbG93ZXIgdGhlIHF1YWxpdHkgYnV0XG4gICAgICogaW5jcmVhc2UgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZXNvbHV0aW9uID0gX3NldHRpbmdzMi5kZWZhdWx0LkZJTFRFUl9SRVNPTFVUSU9OO1xuXG4gICAgLyoqXG4gICAgICogSWYgZW5hYmxlZCBpcyB0cnVlIHRoZSBmaWx0ZXIgaXMgYXBwbGllZCwgaWYgZmFsc2UgaXQgd2lsbCBub3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBJZiBlbmFibGVkLCBQaXhpSlMgd2lsbCBmaXQgdGhlIGZpbHRlciBhcmVhIGludG8gYm91bmRhcmllcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLlxuICAgICAqIFN3aXRjaCBpdCBvZmYgaWYgaXQgZG9lcyBub3Qgd29yayBmb3Igc3BlY2lmaWMgc2hhZGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmF1dG9GaXQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyTWFuYWdlcn0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXRcbiAgICogQHBhcmFtIHtvYmplY3R9IFtjdXJyZW50U3RhdGVdIC0gSXQncyBjdXJyZW50IHN0YXRlIG9mIGZpbHRlci5cbiAgICogICAgICAgIFRoZXJlIGFyZSBzb21lIHVzZWZ1bCBwcm9wZXJ0aWVzIGluIHRoZSBjdXJyZW50U3RhdGUgOlxuICAgKiAgICAgICAgdGFyZ2V0LCBmaWx0ZXJzLCBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSwgcmVuZGVyVGFyZ2V0LCByZXNvbHV0aW9uXG4gICAqL1xuXG5cbiAgRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyLCBjdXJyZW50U3RhdGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAge1xuICAgIC8vIC0tLSAvL1xuICAgIC8vICB0aGlzLnVuaWZvcm1zLmZpbHRlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRlbXBNYXRyaXgsIHdpbmRvdy5wYW5kYSApO1xuXG4gICAgLy8gZG8gYXMgeW91IHBsZWFzZSFcblxuICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuXG4gICAgLy8gb3IganVzdCBkbyBhIHJlZ3VsYXIgcmVuZGVyLi5cbiAgfTtcblxuICAvKipcbiAgICogU2V0cyB0aGUgYmxlbmRtb2RlIG9mIHRoZSBmaWx0ZXJcbiAgICpcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhGaWx0ZXIsIFt7XG4gICAga2V5OiAnYmxlbmRNb2RlJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9ibGVuZE1vZGU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgdGhpcy5fYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cblxuICB9XSwgW3tcbiAgICBrZXk6ICdkZWZhdWx0VmVydGV4U3JjJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBbJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjsnLCAnYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDsnLCAndW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7JywgJ3VuaWZvcm0gbWF0MyBmaWx0ZXJNYXRyaXg7JywgJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkOycsICd2YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkOycsICd2b2lkIG1haW4odm9pZCl7JywgJyAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApOycsICcgICB2RmlsdGVyQ29vcmQgPSAoIGZpbHRlck1hdHJpeCAqIHZlYzMoIGFUZXh0dXJlQ29vcmQsIDEuMCkgICkueHk7JywgJyAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkIDsnLCAnfSddLmpvaW4oJ1xcbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IGZyYWdtZW50IHNoYWRlciBzb3VyY2VcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZGVmYXVsdEZyYWdtZW50U3JjJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBbJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkOycsICd2YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkOycsICd1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjsnLCAndW5pZm9ybSBzYW1wbGVyMkQgZmlsdGVyU2FtcGxlcjsnLCAndm9pZCBtYWluKHZvaWQpeycsICcgICB2ZWM0IG1hc2t5ID0gdGV4dHVyZTJEKGZpbHRlclNhbXBsZXIsIHZGaWx0ZXJDb29yZCk7JywgJyAgIHZlYzQgc2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTsnLCAnICAgdmVjNCBjb2xvcjsnLCAnICAgaWYobW9kKHZGaWx0ZXJDb29yZC54LCAxLjApID4gMC41KScsICcgICB7JywgJyAgICAgY29sb3IgPSB2ZWM0KDEuMCwgMC4wLCAwLjAsIDEuMCk7JywgJyAgIH0nLCAnICAgZWxzZScsICcgICB7JywgJyAgICAgY29sb3IgPSB2ZWM0KDAuMCwgMS4wLCAwLjAsIDEuMCk7JywgJyAgIH0nLFxuICAgICAgLy8gJyAgIGdsX0ZyYWdDb2xvciA9IHZlYzQobW9kKHZGaWx0ZXJDb29yZC54LCAxLjUpLCB2RmlsdGVyQ29vcmQueSwwLjAsMS4wKTsnLFxuICAgICAgJyAgIGdsX0ZyYWdDb2xvciA9IG1peChzYW1wbGUsIG1hc2t5LCAwLjUpOycsICcgICBnbF9GcmFnQ29sb3IgKj0gc2FtcGxlLmE7JywgJ30nXS5qb2luKCdcXG4nKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRmlsdGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0ZpbHRlcjIgPSByZXF1aXJlKCcuLi9GaWx0ZXInKTtcblxudmFyIF9GaWx0ZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmlsdGVyMik7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL21hdGgnKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG52YXIgX1RleHR1cmVNYXRyaXggPSByZXF1aXJlKCcuLi8uLi8uLi8uLi90ZXh0dXJlcy9UZXh0dXJlTWF0cml4Jyk7XG5cbnZhciBfVGV4dHVyZU1hdHJpeDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlTWF0cml4KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBTcHJpdGVNYXNrRmlsdGVyIGNsYXNzXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZU1hc2tGaWx0ZXIgPSBmdW5jdGlvbiAoX0ZpbHRlcikge1xuICAgIF9pbmhlcml0cyhTcHJpdGVNYXNrRmlsdGVyLCBfRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIHRoZSB0YXJnZXQgc3ByaXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlTWFza0ZpbHRlcihzcHJpdGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNwcml0ZU1hc2tGaWx0ZXIpO1xuXG4gICAgICAgIHZhciBtYXNrTWF0cml4ID0gbmV3IF9tYXRoLk1hdHJpeCgpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9GaWx0ZXIuY2FsbCh0aGlzLCAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIG90aGVyTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2TWFza0Nvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbiAgICB2TWFza0Nvb3JkID0gKCBvdGhlck1hdHJpeCAqIHZlYzMoIGFUZXh0dXJlQ29vcmQsIDEuMCkgICkueHk7XFxufVxcbicsICd2YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXNrO1xcbnVuaWZvcm0gZmxvYXQgYWxwaGE7XFxudW5pZm9ybSB2ZWM0IG1hc2tDbGFtcDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGZsb2F0IGNsaXAgPSBzdGVwKDMuNSxcXG4gICAgICAgIHN0ZXAobWFza0NsYW1wLngsIHZNYXNrQ29vcmQueCkgK1xcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueSwgdk1hc2tDb29yZC55KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueCwgbWFza0NsYW1wLnopICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC55LCBtYXNrQ2xhbXAudykpO1xcblxcbiAgICB2ZWM0IG9yaWdpbmFsID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgdmVjNCBtYXNreSA9IHRleHR1cmUyRChtYXNrLCB2TWFza0Nvb3JkKTtcXG5cXG4gICAgb3JpZ2luYWwgKj0gKG1hc2t5LnIgKiBtYXNreS5hICogYWxwaGEgKiBjbGlwKTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gb3JpZ2luYWw7XFxufVxcbicpKTtcblxuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIF90aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG4gICAgICAgIF90aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyTWFuYWdlcn0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVNYXNrRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQpIHtcbiAgICAgICAgdmFyIG1hc2tTcHJpdGUgPSB0aGlzLm1hc2tTcHJpdGU7XG4gICAgICAgIHZhciB0ZXggPSB0aGlzLm1hc2tTcHJpdGUudGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleC52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGV4LnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgLy8gbWFyZ2luID0gMC4wLCBsZXQgaXQgYmxlZWQgYSBiaXQsIHNoYWRlciBjb2RlIGJlY29tZXMgZWFzaWVyXG4gICAgICAgICAgICAvLyBhc3N1bWluZyB0aGF0IGF0bGFzIHRleHR1cmVzIHdlcmUgbWFkZSB3aXRoIDEtcGl4ZWwgcGFkZGluZ1xuICAgICAgICAgICAgdGV4LnRyYW5zZm9ybSA9IG5ldyBfVGV4dHVyZU1hdHJpeDIuZGVmYXVsdCh0ZXgsIDAuMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGV4LnRyYW5zZm9ybS51cGRhdGUoKTtcblxuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hc2sgPSB0ZXg7XG4gICAgICAgIHRoaXMudW5pZm9ybXMub3RoZXJNYXRyaXggPSBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCh0aGlzLm1hc2tNYXRyaXgsIG1hc2tTcHJpdGUpLnByZXBlbmQodGV4LnRyYW5zZm9ybS5tYXBDb29yZCk7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuYWxwaGEgPSBtYXNrU3ByaXRlLndvcmxkQWxwaGE7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFza0NsYW1wID0gdGV4LnRyYW5zZm9ybS51Q2xhbXBGcmFtZTtcblxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQpO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3ByaXRlTWFza0ZpbHRlcjtcbn0oX0ZpbHRlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNwcml0ZU1hc2tGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGVNYXNrRmlsdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXM7XG4vKipcbiAqIENyZWF0ZXMgYSBsaXR0bGUgY29sb3JlZCBjYW52YXNcbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBUaGUgY29sb3IgdG8gbWFrZSB0aGUgY2FudmFzXG4gKiBAcmV0dXJuIHtjYW52YXN9IGEgc21hbGwgY2FudmFzIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29sb3JlZENhbnZhcyhjb2xvcikge1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIGNhbnZhcy53aWR0aCA9IDY7XG4gICAgY2FudmFzLmhlaWdodCA9IDE7XG5cbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIDYsIDEpO1xuXG4gICAgcmV0dXJuIGNhbnZhcztcbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgQ2FudmFzIEJsZW5kTW9kZXMgYXJlIHN1cHBvcnRlZCBieSB0aGUgY3VycmVudCBicm93c2VyXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0aGV5IGFyZSBzdXBwb3J0ZWRcbiAqL1xuZnVuY3Rpb24gY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlcygpIHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIG1hZ2VudGEgPSBjcmVhdGVDb2xvcmVkQ2FudmFzKCcjZmYwMGZmJyk7XG4gICAgdmFyIHllbGxvdyA9IGNyZWF0ZUNvbG9yZWRDYW52YXMoJyNmZmZmMDAnKTtcblxuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIGNhbnZhcy53aWR0aCA9IDY7XG4gICAgY2FudmFzLmhlaWdodCA9IDE7XG5cbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbXVsdGlwbHknO1xuICAgIGNvbnRleHQuZHJhd0ltYWdlKG1hZ2VudGEsIDAsIDApO1xuICAgIGNvbnRleHQuZHJhd0ltYWdlKHllbGxvdywgMiwgMCk7XG5cbiAgICB2YXIgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMiwgMCwgMSwgMSk7XG5cbiAgICBpZiAoIWltYWdlRGF0YSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGRhdGEgPSBpbWFnZURhdGEuZGF0YTtcblxuICAgIHJldHVybiBkYXRhWzBdID09PSAyNTUgJiYgZGF0YVsxXSA9PT0gMCAmJiBkYXRhWzJdID09PSAwO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuVXNlTmV3Q2FudmFzQmxlbmRNb2Rlcy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQgb2YgdGhlIGdpdmVuIHNpemUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ2FudmFzUmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIHdpZHRoIGZvciB0aGUgbmV3bHkgY3JlYXRlZCBjYW52YXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBoZWlnaHQgZm9yIHRoZSBuZXdseSBjcmVhdGVkIGNhbnZhc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzXG4gICAqL1xuICBmdW5jdGlvbiBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNSZW5kZXJUYXJnZXQpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIENhbnZhcyBvYmplY3QgdGhhdCBiZWxvbmdzIHRvIHRoaXMgQ2FudmFzUmVuZGVyVGFyZ2V0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIC8qKlxuICAgICAqIEEgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIG9iamVjdCByZXByZXNlbnRpbmcgYSB0d28tZGltZW5zaW9uYWwgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT047XG5cbiAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIGNhbnZhcyB0aGF0IHdhcyBjcmVhdGVkIGJ5IHRoZSBDYW52YXNSZW5kZXJUYXJnZXQgY2xhc3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIHRoaXMuY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgfTtcblxuICAvKipcbiAgICogUmVzaXplcyB0aGUgY2FudmFzIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgY2FudmFzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgY2FudmFzXG4gICAqL1xuXG5cbiAgQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGlzIGNhbnZhcy5cbiAgICpcbiAgICovXG5cblxuICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgd2lkdGggb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICAgKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKENhbnZhc1JlbmRlclRhcmdldCwgW3tcbiAgICBrZXk6ICd3aWR0aCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYW52YXMud2lkdGg7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdmFsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdoZWlnaHQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdmFsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDYW52YXNSZW5kZXJUYXJnZXQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc1JlbmRlclRhcmdldDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1JlbmRlclRhcmdldC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfQmFzZVRleHR1cmUyID0gcmVxdWlyZSgnLi9CYXNlVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VUZXh0dXJlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VUZXh0dXJlMik7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEEgQmFzZVJlbmRlclRleHR1cmUgaXMgYSBzcGVjaWFsIHRleHR1cmUgdGhhdCBhbGxvd3MgYW55IFBpeGlKUyBkaXNwbGF5IG9iamVjdCB0byBiZSByZW5kZXJlZCB0byBpdC5cbiAqXG4gKiBfX0hpbnRfXzogQWxsIERpc3BsYXlPYmplY3RzIChpLmUuIFNwcml0ZXMpIHRoYXQgcmVuZGVyIHRvIGEgQmFzZVJlbmRlclRleHR1cmUgc2hvdWxkIGJlIHByZWxvYWRlZFxuICogb3RoZXJ3aXNlIGJsYWNrIHJlY3RhbmdsZXMgd2lsbCBiZSBkcmF3biBpbnN0ZWFkLlxuICpcbiAqIEEgQmFzZVJlbmRlclRleHR1cmUgdGFrZXMgYSBzbmFwc2hvdCBvZiBhbnkgRGlzcGxheSBPYmplY3QgZ2l2ZW4gdG8gaXRzIHJlbmRlciBtZXRob2QuIFRoZSBwb3NpdGlvblxuICogYW5kIHJvdGF0aW9uIG9mIHRoZSBnaXZlbiBEaXNwbGF5IE9iamVjdHMgaXMgaWdub3JlZC4gRm9yIGV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGxldCByZW5kZXJlciA9IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKDEwMjQsIDEwMjQsIHsgdmlldzogY2FudmFzLCByYXRpbzogMSB9KTtcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKHJlbmRlcmVyLCA4MDAsIDYwMCk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbUltYWdlKFwic3Bpbk9ial8wMS5wbmdcIik7XG4gKlxuICogc3ByaXRlLnBvc2l0aW9uLnggPSA4MDAvMjtcbiAqIHNwcml0ZS5wb3NpdGlvbi55ID0gNjAwLzI7XG4gKiBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XG4gKiBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XG4gKlxuICogYmFzZVJlbmRlclRleHR1cmUucmVuZGVyKHNwcml0ZSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUoMTAwLCAxMDApO1xuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlKGJhc2VSZW5kZXJUZXh0dXJlKTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCByZW5kZXJUZXh0dXJlKTsgIC8vIFJlbmRlcnMgdG8gY2VudGVyIG9mIFJlbmRlclRleHR1cmVcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXNlVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhc2VSZW5kZXJUZXh0dXJlID0gZnVuY3Rpb24gKF9CYXNlVGV4dHVyZSkge1xuICBfaW5oZXJpdHMoQmFzZVJlbmRlclRleHR1cmUsIF9CYXNlVGV4dHVyZSk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgYmFzZSByZW5kZXIgdGV4dHVyZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0xMDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgYmFzZSByZW5kZXIgdGV4dHVyZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZFxuICAgKi9cbiAgZnVuY3Rpb24gQmFzZVJlbmRlclRleHR1cmUoKSB7XG4gICAgdmFyIHdpZHRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxMDA7XG4gICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTAwO1xuICAgIHZhciBzY2FsZU1vZGUgPSBhcmd1bWVudHNbMl07XG4gICAgdmFyIHJlc29sdXRpb24gPSBhcmd1bWVudHNbM107XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFzZVJlbmRlclRleHR1cmUpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0Jhc2VUZXh0dXJlLmNhbGwodGhpcywgbnVsbCwgc2NhbGVNb2RlKSk7XG5cbiAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUkVTT0xVVElPTjtcblxuICAgIF90aGlzLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICBfdGhpcy5oZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcblxuICAgIF90aGlzLnJlYWxXaWR0aCA9IF90aGlzLndpZHRoICogX3RoaXMucmVzb2x1dGlvbjtcbiAgICBfdGhpcy5yZWFsSGVpZ2h0ID0gX3RoaXMuaGVpZ2h0ICogX3RoaXMucmVzb2x1dGlvbjtcblxuICAgIF90aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZSAhPT0gdW5kZWZpbmVkID8gc2NhbGVNb2RlIDogX3NldHRpbmdzMi5kZWZhdWx0LlNDQUxFX01PREU7XG4gICAgX3RoaXMuaGFzTG9hZGVkID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCByZW5kZXJUYXJnZXRzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge29iamVjdDxudW1iZXIsIFdlYkdMVGV4dHVyZT59XG4gICAgICovXG4gICAgX3RoaXMuX2dsUmVuZGVyVGFyZ2V0cyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGNhbnZhcyByZW5kZXIgdGFyZ2V0ICh3ZSBvbmx5IG5lZWQgb25lIGFzIHRoaXMgY2FuIGJlIHNoYXJlZCBhY3Jvc3MgcmVuZGVyZXJzKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBXZWJHTFRleHR1cmU+fVxuICAgICAqL1xuICAgIF90aGlzLl9jYW52YXNSZW5kZXJUYXJnZXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIGxldCB0aGUgcmVuZGVyZXIga25vdyBpZiB0aGUgdGV4dHVyZSBpcyB2YWxpZC4gSWYgaXQncyBub3QgdGhlbiBpdCBjYW5ub3QgYmUgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIF90aGlzLnZhbGlkID0gZmFsc2U7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2l6ZXMgdGhlIEJhc2VSZW5kZXJUZXh0dXJlLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggdG8gcmVzaXplIHRvLlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAqL1xuXG5cbiAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuXG4gICAgaWYgKHdpZHRoID09PSB0aGlzLndpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5oZWlnaHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnZhbGlkID0gd2lkdGggPiAwICYmIGhlaWdodCA+IDA7XG5cbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICB0aGlzLnJlYWxXaWR0aCA9IHRoaXMud2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgdGhpcy5yZWFsSGVpZ2h0ID0gdGhpcy5oZWlnaHQgKiB0aGlzLnJlc29sdXRpb247XG5cbiAgICBpZiAoIXRoaXMudmFsaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICpcbiAgICovXG5cblxuICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgX0Jhc2VUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgdHJ1ZSk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIEJhc2VSZW5kZXJUZXh0dXJlO1xufShfQmFzZVRleHR1cmUzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBCYXNlUmVuZGVyVGV4dHVyZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VSZW5kZXJUZXh0dXJlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9Db250YWluZXIgPSByZXF1aXJlKCcuLi9kaXNwbGF5L0NvbnRhaW5lcicpO1xuXG52YXIgX0NvbnRhaW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250YWluZXIpO1xuXG52YXIgX1JlbmRlclRleHR1cmUgPSByZXF1aXJlKCcuLi90ZXh0dXJlcy9SZW5kZXJUZXh0dXJlJyk7XG5cbnZhciBfUmVuZGVyVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUZXh0dXJlKTtcblxudmFyIF9ldmVudGVtaXR0ZXIgPSByZXF1aXJlKCdldmVudGVtaXR0ZXIzJyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V2ZW50ZW1pdHRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHRlbXBNYXRyaXggPSBuZXcgX21hdGguTWF0cml4KCk7XG5cbi8qKlxuICogVGhlIFN5c3RlbVJlbmRlcmVyIGlzIHRoZSBiYXNlIGZvciBhIFBpeGlKUyBSZW5kZXJlci4gSXQgaXMgZXh0ZW5kZWQgYnkgdGhlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICogYW5kIHtAbGluayBQSVhJLldlYkdMUmVuZGVyZXJ9IHdoaWNoIGNhbiBiZSB1c2VkIGZvciByZW5kZXJpbmcgYSBQaXhpSlMgc2NlbmUuXG4gKlxuICogQGFic3RyYWN0XG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgU3lzdGVtUmVuZGVyZXIgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICBfaW5oZXJpdHMoU3lzdGVtUmVuZGVyZXIsIF9FdmVudEVtaXR0ZXIpO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN5c3RlbSAtIFRoZSBuYW1lIG9mIHRoZSBzeXN0ZW0gdGhpcyByZW5kZXJlciBpcyBmb3IuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVyc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgc2NyZWVuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlblxuICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQsIGRlZmF1bHQgZmFsc2VcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUmVzaXplPWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyBhdXRvbWF0aWNhbGx5IHJlc2l6ZWQsIGRlZmF1bHQgZmFsc2VcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gc2V0cyBhbnRpYWxpYXMgKG9ubHkgYXBwbGljYWJsZSBpbiBjaHJvbWUgYXQgdGhlIG1vbWVudClcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuIFRoZVxuICAgKiAgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyZXIgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIGVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLFxuICAgKiAgZW5hYmxlIHRoaXMgaWYgeW91IG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIHdlYmdsIGNvbnRleHQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICAgKiAgICAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucm91bmRQaXhlbHM9ZmFsc2VdIC0gSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZyxcbiAgICogIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAqL1xuICBmdW5jdGlvbiBTeXN0ZW1SZW5kZXJlcihzeXN0ZW0sIG9wdGlvbnMsIGFyZzIsIGFyZzMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3lzdGVtUmVuZGVyZXIpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50RW1pdHRlci5jYWxsKHRoaXMpKTtcblxuICAgICgwLCBfdXRpbHMuc2F5SGVsbG8pKHN5c3RlbSk7XG5cbiAgICAvLyBTdXBwb3J0IGZvciBjb25zdHJ1Y3RvcihzeXN0ZW0sIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQsIG9wdGlvbnMpXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICB3aWR0aDogb3B0aW9ucyxcbiAgICAgICAgaGVpZ2h0OiBhcmcyIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRU5ERVJfT1BUSU9OUy5oZWlnaHRcbiAgICAgIH0sIGFyZzMpO1xuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgZGVmYXVsdCByZW5kZXIgb3B0aW9uc1xuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBfc2V0dGluZ3MyLmRlZmF1bHQuUkVOREVSX09QVElPTlMsIG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN1cHBsaWVkIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICogQHJlYWRPbmx5XG4gICAgICovXG4gICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5SRU5ERVJFUl9UWVBFLlVOS05PV05cbiAgICAgKiBAc2VlIFBJWEkuUkVOREVSRVJfVFlQRVxuICAgICAqL1xuICAgIF90aGlzLnR5cGUgPSBfY29uc3QuUkVOREVSRVJfVFlQRS5VTktOT1dOO1xuXG4gICAgLyoqXG4gICAgICogTWVhc3VyZW1lbnRzIG9mIHRoZSBzY3JlZW4uICgwLCAwLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KVxuICAgICAqXG4gICAgICogSXRzIHNhZmUgdG8gdXNlIGFzIGZpbHRlckFyZWEgb3IgaGl0QXJlYSBmb3Igd2hvbGUgc3RhZ2VcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqL1xuICAgIF90aGlzLnNjcmVlbiA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoMCwgMCwgb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB0b1xuICAgICAqXG4gICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgX3RoaXMudmlldyA9IG9wdGlvbnMudmlldyB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBfdGhpcy5yZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRVNPTFVUSU9OO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgX3RoaXMudHJhbnNwYXJlbnQgPSBvcHRpb25zLnRyYW5zcGFyZW50O1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBjc3MgZGltZW5zaW9ucyBvZiBjYW52YXMgdmlldyBzaG91bGQgYmUgcmVzaXplZCB0byBzY3JlZW4gZGltZW5zaW9ucyBhdXRvbWF0aWNhbGx5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIF90aGlzLmF1dG9SZXNpemUgPSBvcHRpb25zLmF1dG9SZXNpemUgfHwgZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUcmFja3MgdGhlIGJsZW5kIG1vZGVzIHVzZWZ1bCBmb3IgdGhpcyByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge29iamVjdDxzdHJpbmcsIG1peGVkPn1cbiAgICAgKi9cbiAgICBfdGhpcy5ibGVuZE1vZGVzID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSBvZiB0aGUgcHJlc2VydmVEcmF3aW5nQnVmZmVyIGZsYWcgYWZmZWN0cyB3aGV0aGVyIG9yIG5vdCB0aGUgY29udGVudHMgb2ZcbiAgICAgKiB0aGUgc3RlbmNpbCBidWZmZXIgaXMgcmV0YWluZWQgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBfdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIgPSBvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcjtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgc2V0cyBpZiB0aGUgQ2FudmFzUmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgKiBJZiB0aGUgc2NlbmUgaXMgTk9UIHRyYW5zcGFyZW50IFBpeGlKUyB3aWxsIHVzZSBhIGNhbnZhcyBzaXplZCBmaWxsUmVjdCBvcGVyYXRpb24gZXZlcnlcbiAgICAgKiBmcmFtZSB0byBzZXQgdGhlIGNhbnZhcyBiYWNrZ3JvdW5kIGNvbG9yLiBJZiB0aGUgc2NlbmUgaXMgdHJhbnNwYXJlbnQgUGl4aUpTIHdpbGwgdXNlIGNsZWFyUmVjdFxuICAgICAqIHRvIGNsZWFyIHRoZSBjYW52YXMgZXZlcnkgZnJhbWUuIERpc2FibGUgdGhpcyBieSBzZXR0aW5nIHRoaXMgdG8gZmFsc2UuIEZvciBleGFtcGxlIGlmXG4gICAgICogeW91ciBnYW1lIGhhcyBhIGNhbnZhcyBmaWxsaW5nIGJhY2tncm91bmQgaW1hZ2UgeW91IG9mdGVuIGRvbid0IG5lZWQgdGhpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgX3RoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSBvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyO1xuXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBIYW5keSBmb3IgY3Jpc3AgcGl4ZWwgYXJ0IGFuZCBzcGVlZCBvbiBsZWdhY3kgZGV2aWNlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgX3RoaXMucm91bmRQaXhlbHMgPSBvcHRpb25zLnJvdW5kUGl4ZWxzO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGhpcy5fYmFja2dyb3VuZENvbG9yID0gMHgwMDAwMDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhbiBbUiwgRywgQl0gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gJyMwMDAwMDAnO1xuXG4gICAgX3RoaXMuYmFja2dyb3VuZENvbG9yID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgfHwgX3RoaXMuX2JhY2tncm91bmRDb2xvcjsgLy8gcnVuIGJnIGNvbG9yIHNldHRlclxuXG4gICAgLyoqXG4gICAgICogVGhpcyB0ZW1wb3JhcnkgZGlzcGxheSBvYmplY3QgdXNlZCBhcyB0aGUgcGFyZW50IG9mIHRoZSBjdXJyZW50bHkgYmVpbmcgcmVuZGVyZWQgaXRlbVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbmV3IF9Db250YWluZXIyLmRlZmF1bHQoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBsYXN0IHJvb3Qgb2JqZWN0IHRoYXQgdGhlIHJlbmRlcmVyIHRyaWVkIHRvIHJlbmRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBfdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhbWUgYXMgdmlldy53aWR0aCwgYWN0dWFsIG51bWJlciBvZiBwaXhlbHMgaW4gdGhlIGNhbnZhcyBieSBob3Jpem9udGFsXG4gICAqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICogQHJlYWRvbmx5XG4gICAqIEBkZWZhdWx0IDgwMFxuICAgKi9cblxuXG4gIC8qKlxuICAgKiBSZXNpemVzIHRoZSBzY3JlZW4gYW5kIGNhbnZhcyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHRcbiAgICogQ2FudmFzIGRpbWVuc2lvbnMgYXJlIG11bHRpcGxpZWQgYnkgcmVzb2x1dGlvblxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuV2lkdGggLSB0aGUgbmV3IHdpZHRoIG9mIHRoZSBzY3JlZW5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW5cbiAgICovXG4gIFN5c3RlbVJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkge1xuICAgIHRoaXMuc2NyZWVuLndpZHRoID0gc2NyZWVuV2lkdGg7XG4gICAgdGhpcy5zY3JlZW4uaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0O1xuXG4gICAgdGhpcy52aWV3LndpZHRoID0gc2NyZWVuV2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgdGhpcy52aWV3LmhlaWdodCA9IHNjcmVlbkhlaWdodCAqIHRoaXMucmVzb2x1dGlvbjtcblxuICAgIGlmICh0aGlzLmF1dG9SZXNpemUpIHtcbiAgICAgIHRoaXMudmlldy5zdHlsZS53aWR0aCA9IHNjcmVlbldpZHRoICsgJ3B4JztcbiAgICAgIHRoaXMudmlldy5zdHlsZS5oZWlnaHQgPSBzY3JlZW5IZWlnaHQgKyAncHgnO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVXNlZnVsIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHRleHR1cmUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgY2FuIHRoZW4gYmUgdXNlZCB0byBjcmVhdGUgc3ByaXRlc1xuICAgKiBUaGlzIGNhbiBiZSBxdWl0ZSB1c2VmdWwgaWYgeW91ciBkaXNwbGF5T2JqZWN0IGlzIGNvbXBsaWNhdGVkIGFuZCBuZWVkcyB0byBiZSByZXVzZWQgbXVsdGlwbGUgdGltZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXlPYmplY3QgdGhlIG9iamVjdCB3aWxsIGJlIGdlbmVyYXRlZCBmcm9tXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZU1vZGUgLSBTaG91bGQgYmUgb25lIG9mIHRoZSBzY2FsZU1vZGUgY29uc3RzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkXG4gICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWdpb25dIC0gVGhlIHJlZ2lvbiBvZiB0aGUgZGlzcGxheU9iamVjdCwgdGhhdCBzaGFsbCBiZSByZW5kZXJlZCxcbiAgICogICAgICAgIGlmIG5vIHJlZ2lvbiBpcyBzcGVjaWZpZWQsIGRlZmF1bHRzIHRvIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gYSB0ZXh0dXJlIG9mIHRoZSBncmFwaGljcyBvYmplY3RcbiAgICovXG5cblxuICBTeXN0ZW1SZW5kZXJlci5wcm90b3R5cGUuZ2VuZXJhdGVUZXh0dXJlID0gZnVuY3Rpb24gZ2VuZXJhdGVUZXh0dXJlKGRpc3BsYXlPYmplY3QsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbiwgcmVnaW9uKSB7XG4gICAgcmVnaW9uID0gcmVnaW9uIHx8IGRpc3BsYXlPYmplY3QuZ2V0TG9jYWxCb3VuZHMoKTtcblxuICAgIHZhciByZW5kZXJUZXh0dXJlID0gX1JlbmRlclRleHR1cmUyLmRlZmF1bHQuY3JlYXRlKHJlZ2lvbi53aWR0aCB8IDAsIHJlZ2lvbi5oZWlnaHQgfCAwLCBzY2FsZU1vZGUsIHJlc29sdXRpb24pO1xuXG4gICAgdGVtcE1hdHJpeC50eCA9IC1yZWdpb24ueDtcbiAgICB0ZW1wTWF0cml4LnR5ID0gLXJlZ2lvbi55O1xuXG4gICAgdGhpcy5yZW5kZXIoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSwgZmFsc2UsIHRlbXBNYXRyaXgsIHRydWUpO1xuXG4gICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciBhbmQgb3B0aW9uYWxseSByZW1vdmVzIHRoZSBDYW52YXMgRE9NIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gUmVtb3ZlcyB0aGUgQ2FudmFzIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxuICAgKi9cblxuXG4gIFN5c3RlbVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShyZW1vdmVWaWV3KSB7XG4gICAgaWYgKHJlbW92ZVZpZXcgJiYgdGhpcy52aWV3LnBhcmVudE5vZGUpIHtcbiAgICAgIHRoaXMudmlldy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudmlldyk7XG4gICAgfVxuXG4gICAgdGhpcy50eXBlID0gX2NvbnN0LlJFTkRFUkVSX1RZUEUuVU5LTk9XTjtcblxuICAgIHRoaXMudmlldyA9IG51bGw7XG5cbiAgICB0aGlzLnNjcmVlbiA9IG51bGw7XG5cbiAgICB0aGlzLnJlc29sdXRpb24gPSAwO1xuXG4gICAgdGhpcy50cmFuc3BhcmVudCA9IGZhbHNlO1xuXG4gICAgdGhpcy5hdXRvUmVzaXplID0gZmFsc2U7XG5cbiAgICB0aGlzLmJsZW5kTW9kZXMgPSBudWxsO1xuXG4gICAgdGhpcy5vcHRpb25zID0gbnVsbDtcblxuICAgIHRoaXMucHJlc2VydmVEcmF3aW5nQnVmZmVyID0gZmFsc2U7XG4gICAgdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IGZhbHNlO1xuXG4gICAgdGhpcy5yb3VuZFBpeGVscyA9IGZhbHNlO1xuXG4gICAgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gMDtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhID0gbnVsbDtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBudWxsO1xuXG4gICAgdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBudWxsO1xuICAgIHRoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIHRvIGZpbGwgaWYgbm90IHRyYW5zcGFyZW50XG4gICAqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoU3lzdGVtUmVuZGVyZXIsIFt7XG4gICAga2V5OiAnd2lkdGgnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMudmlldy53aWR0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIHZpZXcuaGVpZ2h0LCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IHZlcnRpY2FsXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQGRlZmF1bHQgNjAwXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2hlaWdodCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy52aWV3LmhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdiYWNrZ3JvdW5kQ29sb3InLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvcjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSB2YWx1ZTtcbiAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9ICgwLCBfdXRpbHMuaGV4MnN0cmluZykodmFsdWUpO1xuICAgICAgKDAsIF91dGlscy5oZXgycmdiKSh2YWx1ZSwgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN5c3RlbVJlbmRlcmVyO1xufShfZXZlbnRlbWl0dGVyMi5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU3lzdGVtUmVuZGVyZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TeXN0ZW1SZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfR3JvdXBEID0gcmVxdWlyZSgnLi4vbWF0aC9Hcm91cEQ4Jyk7XG5cbnZhciBfR3JvdXBEMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyb3VwRCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQSBzdGFuZGFyZCBvYmplY3QgdG8gc3RvcmUgdGhlIFV2cyBvZiBhIHRleHR1cmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dHVyZVV2cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVVdnMoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0dXJlVXZzKTtcblxuICAgICAgICB0aGlzLngwID0gMDtcbiAgICAgICAgdGhpcy55MCA9IDA7XG5cbiAgICAgICAgdGhpcy54MSA9IDE7XG4gICAgICAgIHRoaXMueTEgPSAwO1xuXG4gICAgICAgIHRoaXMueDIgPSAxO1xuICAgICAgICB0aGlzLnkyID0gMTtcblxuICAgICAgICB0aGlzLngzID0gMDtcbiAgICAgICAgdGhpcy55MyA9IDE7XG5cbiAgICAgICAgdGhpcy51dnNVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoNCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdGV4dHVyZSBVdnMgYmFzZWQgb24gdGhlIGdpdmVuIGZyYW1lIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBmcmFtZSAtIFRoZSBmcmFtZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGJhc2VGcmFtZSAtIFRoZSBiYXNlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0ZSAtIFJvdGF0aW9uIG9mIGZyYW1lLCBzZWUge0BsaW5rIFBJWEkuR3JvdXBEOH1cbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZVV2cy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0KGZyYW1lLCBiYXNlRnJhbWUsIHJvdGF0ZSkge1xuICAgICAgICB2YXIgdHcgPSBiYXNlRnJhbWUud2lkdGg7XG4gICAgICAgIHZhciB0aCA9IGJhc2VGcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKHJvdGF0ZSkge1xuICAgICAgICAgICAgLy8gd2lkdGggYW5kIGhlaWdodCBkaXYgMiBkaXYgYmFzZUZyYW1lIHNpemVcbiAgICAgICAgICAgIHZhciB3MiA9IGZyYW1lLndpZHRoIC8gMiAvIHR3O1xuICAgICAgICAgICAgdmFyIGgyID0gZnJhbWUuaGVpZ2h0IC8gMiAvIHRoO1xuXG4gICAgICAgICAgICAvLyBjb29yZGluYXRlcyBvZiBjZW50ZXJcbiAgICAgICAgICAgIHZhciBjWCA9IGZyYW1lLnggLyB0dyArIHcyO1xuICAgICAgICAgICAgdmFyIGNZID0gZnJhbWUueSAvIHRoICsgaDI7XG5cbiAgICAgICAgICAgIHJvdGF0ZSA9IF9Hcm91cEQyLmRlZmF1bHQuYWRkKHJvdGF0ZSwgX0dyb3VwRDIuZGVmYXVsdC5OVyk7IC8vIE5XIGlzIHRvcC1sZWZ0IGNvcm5lclxuICAgICAgICAgICAgdGhpcy54MCA9IGNYICsgdzIgKiBfR3JvdXBEMi5kZWZhdWx0LnVYKHJvdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnkwID0gY1kgKyBoMiAqIF9Hcm91cEQyLmRlZmF1bHQudVkocm90YXRlKTtcblxuICAgICAgICAgICAgcm90YXRlID0gX0dyb3VwRDIuZGVmYXVsdC5hZGQocm90YXRlLCAyKTsgLy8gcm90YXRlIDkwIGRlZ3JlZXMgY2xvY2t3aXNlXG4gICAgICAgICAgICB0aGlzLngxID0gY1ggKyB3MiAqIF9Hcm91cEQyLmRlZmF1bHQudVgocm90YXRlKTtcbiAgICAgICAgICAgIHRoaXMueTEgPSBjWSArIGgyICogX0dyb3VwRDIuZGVmYXVsdC51WShyb3RhdGUpO1xuXG4gICAgICAgICAgICByb3RhdGUgPSBfR3JvdXBEMi5kZWZhdWx0LmFkZChyb3RhdGUsIDIpO1xuICAgICAgICAgICAgdGhpcy54MiA9IGNYICsgdzIgKiBfR3JvdXBEMi5kZWZhdWx0LnVYKHJvdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnkyID0gY1kgKyBoMiAqIF9Hcm91cEQyLmRlZmF1bHQudVkocm90YXRlKTtcblxuICAgICAgICAgICAgcm90YXRlID0gX0dyb3VwRDIuZGVmYXVsdC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgICAgIHRoaXMueDMgPSBjWCArIHcyICogX0dyb3VwRDIuZGVmYXVsdC51WChyb3RhdGUpO1xuICAgICAgICAgICAgdGhpcy55MyA9IGNZICsgaDIgKiBfR3JvdXBEMi5kZWZhdWx0LnVZKHJvdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLngwID0gZnJhbWUueCAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MCA9IGZyYW1lLnkgLyB0aDtcblxuICAgICAgICAgICAgdGhpcy54MSA9IChmcmFtZS54ICsgZnJhbWUud2lkdGgpIC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkxID0gZnJhbWUueSAvIHRoO1xuXG4gICAgICAgICAgICB0aGlzLngyID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTIgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcblxuICAgICAgICAgICAgdGhpcy54MyA9IGZyYW1lLnggLyB0dztcbiAgICAgICAgICAgIHRoaXMueTMgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXZzVWludDMyWzBdID0gKHRoaXMueTAgKiA2NTUzNSAmIDB4RkZGRikgPDwgMTYgfCB0aGlzLngwICogNjU1MzUgJiAweEZGRkY7XG4gICAgICAgIHRoaXMudXZzVWludDMyWzFdID0gKHRoaXMueTEgKiA2NTUzNSAmIDB4RkZGRikgPDwgMTYgfCB0aGlzLngxICogNjU1MzUgJiAweEZGRkY7XG4gICAgICAgIHRoaXMudXZzVWludDMyWzJdID0gKHRoaXMueTIgKiA2NTUzNSAmIDB4RkZGRikgPDwgMTYgfCB0aGlzLngyICogNjU1MzUgJiAweEZGRkY7XG4gICAgICAgIHRoaXMudXZzVWludDMyWzNdID0gKHRoaXMueTMgKiA2NTUzNSAmIDB4RkZGRikgPDwgMTYgfCB0aGlzLngzICogNjU1MzUgJiAweEZGRkY7XG4gICAgfTtcblxuICAgIHJldHVybiBUZXh0dXJlVXZzO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0dXJlVXZzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZVV2cy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfQmFzZVRleHR1cmUyID0gcmVxdWlyZSgnLi9CYXNlVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VUZXh0dXJlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VUZXh0dXJlMik7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX3RpY2tlciA9IHJlcXVpcmUoJy4uL3RpY2tlcicpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9kZXRlcm1pbmVDcm9zc09yaWdpbiA9IHJlcXVpcmUoJy4uL3V0aWxzL2RldGVybWluZUNyb3NzT3JpZ2luJyk7XG5cbnZhciBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSB0ZXh0dXJlIG9mIGEgW3BsYXlpbmddIFZpZGVvLlxuICpcbiAqIFZpZGVvIGJhc2UgdGV4dHVyZXMgbWltaWMgUGl4aUpTIEJhc2VUZXh0dXJlLmZyb20uLi4uIG1ldGhvZCBpbiB0aGVpciBjcmVhdGlvbiBwcm9jZXNzLlxuICpcbiAqIFRoaXMgY2FuIGJlIHVzZWQgaW4gc2V2ZXJhbCB3YXlzLCBzdWNoIGFzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgdGV4dHVyZSA9IFBJWEkuVmlkZW9CYXNlVGV4dHVyZS5mcm9tVXJsKCdodHRwOi8vbXlkb21haW4uY29tL3ZpZGVvLm1wNCcpO1xuICpcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5WaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmwoeyBzcmM6ICdodHRwOi8vbXlkb21haW4uY29tL3ZpZGVvLm1wNCcsIG1pbWU6ICd2aWRlby9tcDQnIH0pO1xuICpcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5WaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmxzKFsnL3ZpZGVvLndlYm0nLCAnL3ZpZGVvLm1wNCddKTtcbiAqXG4gKiBsZXQgdGV4dHVyZSA9IFBJWEkuVmlkZW9CYXNlVGV4dHVyZS5mcm9tVXJscyhbXG4gKiAgICAgeyBzcmM6ICcvdmlkZW8ud2VibScsIG1pbWU6ICd2aWRlby93ZWJtJyB9LFxuICogICAgIHsgc3JjOiAnL3ZpZGVvLm1wNCcsIG1pbWU6ICd2aWRlby9tcDQnIH1cbiAqIF0pO1xuICogYGBgXG4gKlxuICogU2VlIHRoZSBbXCJkZXVzXCIgZGVtb10oaHR0cDovL3d3dy5nb29kYm95ZGlnaXRhbC5jb20vcGl4aWpzL2V4YW1wbGVzL2RldXMvKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZVRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBWaWRlb0Jhc2VUZXh0dXJlID0gZnVuY3Rpb24gKF9CYXNlVGV4dHVyZSkge1xuICAgIF9pbmhlcml0cyhWaWRlb0Jhc2VUZXh0dXJlLCBfQmFzZVRleHR1cmUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgLSBWaWRlbyBzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gVmlkZW9CYXNlVGV4dHVyZShzb3VyY2UsIHNjYWxlTW9kZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVmlkZW9CYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdmlkZW8gc291cmNlIGVsZW1lbnQgc3BlY2lmaWVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaG9vayBpbiBoZXJlIHRvIGNoZWNrIGlmIHZpZGVvIGlzIGFscmVhZHkgYXZhaWxhYmxlLlxuICAgICAgICAvLyBCYXNlVGV4dHVyZSBsb29rcyBmb3IgYSBzb3VyY2UuY29tcGxldGUgYm9vbGVhbiwgcGx1cyB3aWR0aCAmIGhlaWdodC5cblxuICAgICAgICBpZiAoKHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9FTk9VR0hfREFUQSB8fCBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gc291cmNlLkhBVkVfRlVUVVJFX0RBVEEpICYmIHNvdXJjZS53aWR0aCAmJiBzb3VyY2UuaGVpZ2h0KSB7XG4gICAgICAgICAgICBzb3VyY2UuY29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0Jhc2VUZXh0dXJlLmNhbGwodGhpcywgc291cmNlLCBzY2FsZU1vZGUpKTtcblxuICAgICAgICBfdGhpcy53aWR0aCA9IHNvdXJjZS52aWRlb1dpZHRoO1xuICAgICAgICBfdGhpcy5oZWlnaHQgPSBzb3VyY2UudmlkZW9IZWlnaHQ7XG5cbiAgICAgICAgX3RoaXMuX2F1dG9VcGRhdGUgPSB0cnVlO1xuICAgICAgICBfdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBzZXQgdG8gdHJ1ZSB3aWxsIGF1dG9tYXRpY2FsbHkgcGxheSB2aWRlb3MgdXNlZCBieSB0aGlzIHRleHR1cmUgb25jZVxuICAgICAgICAgKiB0aGV5IGFyZSBsb2FkZWQuIElmIGZhbHNlLCBpdCB3aWxsIG5vdCBtb2RpZnkgdGhlIHBsYXlpbmcgc3RhdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9QbGF5ID0gdHJ1ZTtcblxuICAgICAgICBfdGhpcy51cGRhdGUgPSBfdGhpcy51cGRhdGUuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLl9vbkNhblBsYXkgPSBfdGhpcy5fb25DYW5QbGF5LmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgX3RoaXMuX29uUGxheVN0YXJ0LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgX3RoaXMuX29uUGxheVN0b3AuYmluZChfdGhpcykpO1xuICAgICAgICBfdGhpcy5oYXNMb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX19sb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAoIV90aGlzLl9pc1NvdXJjZVJlYWR5KCkpIHtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgX3RoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBfdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBpcyBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHBsYXlpbmcuXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUucHJvdG90eXBlLl9pc1NvdXJjZVBsYXlpbmcgPSBmdW5jdGlvbiBfaXNTb3VyY2VQbGF5aW5nKCkge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG5cbiAgICAgICAgcmV0dXJuIHNvdXJjZS5jdXJyZW50VGltZSA+IDAgJiYgc291cmNlLnBhdXNlZCA9PT0gZmFsc2UgJiYgc291cmNlLmVuZGVkID09PSBmYWxzZSAmJiBzb3VyY2UucmVhZHlTdGF0ZSA+IDI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdW5kZXJseWluZyBzb3VyY2UgaXMgcmVhZHkgZm9yIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVhZHkuXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUucHJvdG90eXBlLl9pc1NvdXJjZVJlYWR5ID0gZnVuY3Rpb24gX2lzU291cmNlUmVhZHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZS5yZWFkeVN0YXRlID09PSAzIHx8IHRoaXMuc291cmNlLnJlYWR5U3RhdGUgPT09IDQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJ1bnMgdGhlIHVwZGF0ZSBsb29wIHdoZW4gdGhlIHZpZGVvIGlzIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUucHJvdG90eXBlLl9vblBsYXlTdGFydCA9IGZ1bmN0aW9uIF9vblBsYXlTdGFydCgpIHtcbiAgICAgICAgLy8gSnVzdCBpbiBjYXNlIHRoZSB2aWRlbyBoYXMgbm90IHJlY2VpdmVkIGl0cyBjYW4gcGxheSBldmVuIHlldC4uXG4gICAgICAgIGlmICghdGhpcy5oYXNMb2FkZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2FuUGxheSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pc0F1dG9VcGRhdGluZyAmJiB0aGlzLmF1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgIF90aWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgX2NvbnN0LlVQREFURV9QUklPUklUWS5ISUdIKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcGF1c2UgZXZlbnQgaXMgdHJpZ2dlcmVkLCBzdG9wcyB0aGUgdXBkYXRlIGxvb3BcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUucHJvdG90eXBlLl9vblBsYXlTdG9wID0gZnVuY3Rpb24gX29uUGxheVN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0F1dG9VcGRhdGluZykge1xuICAgICAgICAgICAgX3RpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgdmlkZW8gaXMgbG9hZGVkIGFuZCByZWFkeSB0byBwbGF5XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBWaWRlb0Jhc2VUZXh0dXJlLnByb3RvdHlwZS5fb25DYW5QbGF5ID0gZnVuY3Rpb24gX29uQ2FuUGxheSgpIHtcbiAgICAgICAgdGhpcy5oYXNMb2FkZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmICh0aGlzLnNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX29uQ2FuUGxheSk7XG5cbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLnNvdXJjZS52aWRlb1dpZHRoO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLnNvdXJjZS52aWRlb0hlaWdodDtcblxuICAgICAgICAgICAgLy8gcHJldmVudCBtdWx0aXBsZSBsb2FkZWQgZGlzcGF0Y2hlcy4uXG4gICAgICAgICAgICBpZiAoIXRoaXMuX19sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5faXNTb3VyY2VQbGF5aW5nKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblBsYXlTdGFydCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmF1dG9QbGF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2UucGxheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5faXNBdXRvVXBkYXRpbmcpIHtcbiAgICAgICAgICAgIF90aWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zb3VyY2UgJiYgdGhpcy5zb3VyY2UuX3BpeGlJZCkge1xuICAgICAgICAgICAgX0Jhc2VUZXh0dXJlMy5kZWZhdWx0LnJlbW92ZUZyb21DYWNoZSh0aGlzLnNvdXJjZS5fcGl4aUlkKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnNvdXJjZS5fcGl4aUlkO1xuXG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5wYXVzZSgpO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2Uuc3JjID0gJyc7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5sb2FkKCk7XG4gICAgICAgIH1cblxuICAgICAgICBfQmFzZVRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWltaWMgUGl4aUpTIEJhc2VUZXh0dXJlLmZyb20uLi4uIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxWaWRlb0VsZW1lbnR9IHZpZGVvIC0gVmlkZW8gdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlZpZGVvQmFzZVRleHR1cmV9IE5ld2x5IGNyZWF0ZWQgVmlkZW9CYXNlVGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBWaWRlb0Jhc2VUZXh0dXJlLmZyb21WaWRlbyA9IGZ1bmN0aW9uIGZyb21WaWRlbyh2aWRlbywgc2NhbGVNb2RlKSB7XG4gICAgICAgIGlmICghdmlkZW8uX3BpeGlJZCkge1xuICAgICAgICAgICAgdmlkZW8uX3BpeGlJZCA9ICd2aWRlb18nICsgKDAsIF91dGlscy51aWQpKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVt2aWRlby5fcGl4aUlkXTtcblxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBWaWRlb0Jhc2VUZXh0dXJlKHZpZGVvLCBzY2FsZU1vZGUpO1xuICAgICAgICAgICAgX0Jhc2VUZXh0dXJlMy5kZWZhdWx0LmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIHZpZGVvLl9waXhpSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IEJhc2VUZXh0dXJlIGJhc2VkIG9uIHRoZSBnaXZlbiB2aWRlbyBlbGVtZW50LlxuICAgICAqIFRoaXMgQmFzZVRleHR1cmUgY2FuIHRoZW4gYmUgdXNlZCB0byBjcmVhdGUgYSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fHN0cmluZ1tdfG9iamVjdFtdfSB2aWRlb1NyYyAtIFRoZSBVUkwocykgZm9yIHRoZSB2aWRlby5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZpZGVvU3JjLnNyY10gLSBPbmUgb2YgdGhlIHNvdXJjZSB1cmxzIGZvciB0aGUgdmlkZW9cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZpZGVvU3JjLm1pbWVdIC0gVGhlIG1pbWV0eXBlIG9mIHRoZSB2aWRlbyAoZS5nLiAndmlkZW8vbXA0JykuIElmIG5vdCBzcGVjaWZpZWRcbiAgICAgKiAgdGhlIHVybCdzIGV4dGVuc2lvbiB3aWxsIGJlIHVzZWQgYXMgdGhlIHNlY29uZCBwYXJ0IG9mIHRoZSBtaW1lIHR5cGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlTW9kZSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Nyb3Nzb3JpZ2luPShhdXRvKV0gLSBTaG91bGQgdXNlIGFub255bW91cyBDT1JTPyBEZWZhdWx0cyB0byB0cnVlIGlmIHRoZSBVUkwgaXMgbm90IGEgZGF0YS1VUkkuXG4gICAgICogQHJldHVybiB7UElYSS5WaWRlb0Jhc2VUZXh0dXJlfSBOZXdseSBjcmVhdGVkIFZpZGVvQmFzZVRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5mcm9tVXJsID0gZnVuY3Rpb24gZnJvbVVybCh2aWRlb1NyYywgc2NhbGVNb2RlLCBjcm9zc29yaWdpbikge1xuICAgICAgICB2YXIgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuXG4gICAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZSgnd2Via2l0LXBsYXlzaW5saW5lJywgJycpO1xuICAgICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoJ3BsYXlzaW5saW5lJywgJycpO1xuXG4gICAgICAgIHZhciB1cmwgPSBBcnJheS5pc0FycmF5KHZpZGVvU3JjKSA/IHZpZGVvU3JjWzBdLnNyYyB8fCB2aWRlb1NyY1swXSA6IHZpZGVvU3JjLnNyYyB8fCB2aWRlb1NyYztcblxuICAgICAgICBpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCAmJiB1cmwuaW5kZXhPZignZGF0YTonKSAhPT0gMCkge1xuICAgICAgICAgICAgdmlkZW8uY3Jvc3NPcmlnaW4gPSAoMCwgX2RldGVybWluZUNyb3NzT3JpZ2luMi5kZWZhdWx0KSh1cmwpO1xuICAgICAgICB9IGVsc2UgaWYgKGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgICAgICB2aWRlby5jcm9zc09yaWdpbiA9IHR5cGVvZiBjcm9zc29yaWdpbiA9PT0gJ3N0cmluZycgPyBjcm9zc29yaWdpbiA6ICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYXJyYXkgb2Ygb2JqZWN0cyBvciBzdHJpbmdzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZpZGVvU3JjKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWRlb1NyYy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZpZGVvLmFwcGVuZENoaWxkKGNyZWF0ZVNvdXJjZSh2aWRlb1NyY1tpXS5zcmMgfHwgdmlkZW9TcmNbaV0sIHZpZGVvU3JjW2ldLm1pbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzaW5nbGUgb2JqZWN0IG9yIHN0cmluZ1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2aWRlby5hcHBlbmRDaGlsZChjcmVhdGVTb3VyY2UodXJsLCB2aWRlb1NyYy5taW1lKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgdmlkZW8ubG9hZCgpO1xuXG4gICAgICAgIHJldHVybiBWaWRlb0Jhc2VUZXh0dXJlLmZyb21WaWRlbyh2aWRlbywgc2NhbGVNb2RlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2hvdWxkIHRoZSBiYXNlIHRleHR1cmUgYXV0b21hdGljYWxseSB1cGRhdGUgaXRzZWxmLCBzZXQgdG8gdHJ1ZSBieSBkZWZhdWx0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoVmlkZW9CYXNlVGV4dHVyZSwgW3tcbiAgICAgICAga2V5OiAnYXV0b1VwZGF0ZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9VcGRhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9hdXRvVXBkYXRlICYmIHRoaXMuX2lzQXV0b1VwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmICF0aGlzLl9pc0F1dG9VcGRhdGluZykge1xuICAgICAgICAgICAgICAgICAgICBfdGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMsIF9jb25zdC5VUERBVEVfUFJJT1JJVFkuSElHSCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVmlkZW9CYXNlVGV4dHVyZTtcbn0oX0Jhc2VUZXh0dXJlMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVmlkZW9CYXNlVGV4dHVyZTtcblxuXG5WaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmxzID0gVmlkZW9CYXNlVGV4dHVyZS5mcm9tVXJsO1xuXG5mdW5jdGlvbiBjcmVhdGVTb3VyY2UocGF0aCwgdHlwZSkge1xuICAgIGlmICghdHlwZSkge1xuICAgICAgICB0eXBlID0gJ3ZpZGVvLycgKyBwYXRoLnN1YnN0cihwYXRoLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICB9XG5cbiAgICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG5cbiAgICBzb3VyY2Uuc3JjID0gcGF0aDtcbiAgICBzb3VyY2UudHlwZSA9IHR5cGU7XG5cbiAgICByZXR1cm4gc291cmNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmlkZW9CYXNlVGV4dHVyZS5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcHVueWNvZGUgPSByZXF1aXJlKCdwdW55Y29kZScpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZXhwb3J0cy5wYXJzZSA9IHVybFBhcnNlO1xuZXhwb3J0cy5yZXNvbHZlID0gdXJsUmVzb2x2ZTtcbmV4cG9ydHMucmVzb2x2ZU9iamVjdCA9IHVybFJlc29sdmVPYmplY3Q7XG5leHBvcnRzLmZvcm1hdCA9IHVybEZvcm1hdDtcblxuZXhwb3J0cy5VcmwgPSBVcmw7XG5cbmZ1bmN0aW9uIFVybCgpIHtcbiAgdGhpcy5wcm90b2NvbCA9IG51bGw7XG4gIHRoaXMuc2xhc2hlcyA9IG51bGw7XG4gIHRoaXMuYXV0aCA9IG51bGw7XG4gIHRoaXMuaG9zdCA9IG51bGw7XG4gIHRoaXMucG9ydCA9IG51bGw7XG4gIHRoaXMuaG9zdG5hbWUgPSBudWxsO1xuICB0aGlzLmhhc2ggPSBudWxsO1xuICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gIHRoaXMucXVlcnkgPSBudWxsO1xuICB0aGlzLnBhdGhuYW1lID0gbnVsbDtcbiAgdGhpcy5wYXRoID0gbnVsbDtcbiAgdGhpcy5ocmVmID0gbnVsbDtcbn1cblxuLy8gUmVmZXJlbmNlOiBSRkMgMzk4NiwgUkZDIDE4MDgsIFJGQyAyMzk2XG5cbi8vIGRlZmluZSB0aGVzZSBoZXJlIHNvIGF0IGxlYXN0IHRoZXkgb25seSBoYXZlIHRvIGJlXG4vLyBjb21waWxlZCBvbmNlIG9uIHRoZSBmaXJzdCBtb2R1bGUgbG9hZC5cbnZhciBwcm90b2NvbFBhdHRlcm4gPSAvXihbYS16MC05ListXSs6KS9pLFxuICAgIHBvcnRQYXR0ZXJuID0gLzpbMC05XSokLyxcblxuICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgYSBzaW1wbGUgcGF0aCBVUkxcbiAgICBzaW1wbGVQYXRoUGF0dGVybiA9IC9eKFxcL1xcLz8oPyFcXC8pW15cXD9cXHNdKikoXFw/W15cXHNdKik/JC8sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyByZXNlcnZlZCBmb3IgZGVsaW1pdGluZyBVUkxzLlxuICAgIC8vIFdlIGFjdHVhbGx5IGp1c3QgYXV0by1lc2NhcGUgdGhlc2UuXG4gICAgZGVsaW1zID0gWyc8JywgJz4nLCAnXCInLCAnYCcsICcgJywgJ1xccicsICdcXG4nLCAnXFx0J10sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyBub3QgYWxsb3dlZCBmb3IgdmFyaW91cyByZWFzb25zLlxuICAgIHVud2lzZSA9IFsneycsICd9JywgJ3wnLCAnXFxcXCcsICdeJywgJ2AnXS5jb25jYXQoZGVsaW1zKSxcblxuICAgIC8vIEFsbG93ZWQgYnkgUkZDcywgYnV0IGNhdXNlIG9mIFhTUyBhdHRhY2tzLiAgQWx3YXlzIGVzY2FwZSB0aGVzZS5cbiAgICBhdXRvRXNjYXBlID0gWydcXCcnXS5jb25jYXQodW53aXNlKSxcbiAgICAvLyBDaGFyYWN0ZXJzIHRoYXQgYXJlIG5ldmVyIGV2ZXIgYWxsb3dlZCBpbiBhIGhvc3RuYW1lLlxuICAgIC8vIE5vdGUgdGhhdCBhbnkgaW52YWxpZCBjaGFycyBhcmUgYWxzbyBoYW5kbGVkLCBidXQgdGhlc2VcbiAgICAvLyBhcmUgdGhlIG9uZXMgdGhhdCBhcmUgKmV4cGVjdGVkKiB0byBiZSBzZWVuLCBzbyB3ZSBmYXN0LXBhdGhcbiAgICAvLyB0aGVtLlxuICAgIG5vbkhvc3RDaGFycyA9IFsnJScsICcvJywgJz8nLCAnOycsICcjJ10uY29uY2F0KGF1dG9Fc2NhcGUpLFxuICAgIGhvc3RFbmRpbmdDaGFycyA9IFsnLycsICc/JywgJyMnXSxcbiAgICBob3N0bmFtZU1heExlbiA9IDI1NSxcbiAgICBob3N0bmFtZVBhcnRQYXR0ZXJuID0gL15bK2EtejAtOUEtWl8tXXswLDYzfSQvLFxuICAgIGhvc3RuYW1lUGFydFN0YXJ0ID0gL14oWythLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLFxuICAgIC8vIHByb3RvY29scyB0aGF0IGNhbiBhbGxvdyBcInVuc2FmZVwiIGFuZCBcInVud2lzZVwiIGNoYXJzLlxuICAgIHVuc2FmZVByb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgbmV2ZXIgaGF2ZSBhIGhvc3RuYW1lLlxuICAgIGhvc3RsZXNzUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBhbHdheXMgY29udGFpbiBhIC8vIGJpdC5cbiAgICBzbGFzaGVkUHJvdG9jb2wgPSB7XG4gICAgICAnaHR0cCc6IHRydWUsXG4gICAgICAnaHR0cHMnOiB0cnVlLFxuICAgICAgJ2Z0cCc6IHRydWUsXG4gICAgICAnZ29waGVyJzogdHJ1ZSxcbiAgICAgICdmaWxlJzogdHJ1ZSxcbiAgICAgICdodHRwOic6IHRydWUsXG4gICAgICAnaHR0cHM6JzogdHJ1ZSxcbiAgICAgICdmdHA6JzogdHJ1ZSxcbiAgICAgICdnb3BoZXI6JzogdHJ1ZSxcbiAgICAgICdmaWxlOic6IHRydWVcbiAgICB9LFxuICAgIHF1ZXJ5c3RyaW5nID0gcmVxdWlyZSgncXVlcnlzdHJpbmcnKTtcblxuZnVuY3Rpb24gdXJsUGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAodXJsICYmIHV0aWwuaXNPYmplY3QodXJsKSAmJiB1cmwgaW5zdGFuY2VvZiBVcmwpIHJldHVybiB1cmw7XG5cbiAgdmFyIHUgPSBuZXcgVXJsO1xuICB1LnBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpO1xuICByZXR1cm4gdTtcbn1cblxuVXJsLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKCF1dGlsLmlzU3RyaW5nKHVybCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIiArIHR5cGVvZiB1cmwpO1xuICB9XG5cbiAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuXG4gIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlc1xuICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNlxuICB2YXIgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKCc/JyksXG4gICAgICBzcGxpdHRlciA9XG4gICAgICAgICAgKHF1ZXJ5SW5kZXggIT09IC0xICYmIHF1ZXJ5SW5kZXggPCB1cmwuaW5kZXhPZignIycpKSA/ICc/JyA6ICcjJyxcbiAgICAgIHVTcGxpdCA9IHVybC5zcGxpdChzcGxpdHRlciksXG4gICAgICBzbGFzaFJlZ2V4ID0gL1xcXFwvZztcbiAgdVNwbGl0WzBdID0gdVNwbGl0WzBdLnJlcGxhY2Uoc2xhc2hSZWdleCwgJy8nKTtcbiAgdXJsID0gdVNwbGl0LmpvaW4oc3BsaXR0ZXIpO1xuXG4gIHZhciByZXN0ID0gdXJsO1xuXG4gIC8vIHRyaW0gYmVmb3JlIHByb2NlZWRpbmcuXG4gIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCBwYXJzZSBzdHVmZiBsaWtlIFwiICBodHRwOi8vZm9vLmNvbSAgXFxuXCJcbiAgcmVzdCA9IHJlc3QudHJpbSgpO1xuXG4gIGlmICghc2xhc2hlc0Rlbm90ZUhvc3QgJiYgdXJsLnNwbGl0KCcjJykubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gVHJ5IGZhc3QgcGF0aCByZWdleHBcbiAgICB2YXIgc2ltcGxlUGF0aCA9IHNpbXBsZVBhdGhQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gICAgaWYgKHNpbXBsZVBhdGgpIHtcbiAgICAgIHRoaXMucGF0aCA9IHJlc3Q7XG4gICAgICB0aGlzLmhyZWYgPSByZXN0O1xuICAgICAgdGhpcy5wYXRobmFtZSA9IHNpbXBsZVBhdGhbMV07XG4gICAgICBpZiAoc2ltcGxlUGF0aFsyXSkge1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHNpbXBsZVBhdGhbMl07XG4gICAgICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMuc2VhcmNoLnN1YnN0cigxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHRoaXMuc2VhcmNoLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm90byA9IHByb3RvY29sUGF0dGVybi5leGVjKHJlc3QpO1xuICBpZiAocHJvdG8pIHtcbiAgICBwcm90byA9IHByb3RvWzBdO1xuICAgIHZhciBsb3dlclByb3RvID0gcHJvdG8udG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLnByb3RvY29sID0gbG93ZXJQcm90bztcbiAgICByZXN0ID0gcmVzdC5zdWJzdHIocHJvdG8ubGVuZ3RoKTtcbiAgfVxuXG4gIC8vIGZpZ3VyZSBvdXQgaWYgaXQncyBnb3QgYSBob3N0XG4gIC8vIHVzZXJAc2VydmVyIGlzICphbHdheXMqIGludGVycHJldGVkIGFzIGEgaG9zdG5hbWUsIGFuZCB1cmxcbiAgLy8gcmVzb2x1dGlvbiB3aWxsIHRyZWF0IC8vZm9vL2JhciBhcyBob3N0PWZvbyxwYXRoPWJhciBiZWNhdXNlIHRoYXQnc1xuICAvLyBob3cgdGhlIGJyb3dzZXIgcmVzb2x2ZXMgcmVsYXRpdmUgVVJMcy5cbiAgaWYgKHNsYXNoZXNEZW5vdGVIb3N0IHx8IHByb3RvIHx8IHJlc3QubWF0Y2goL15cXC9cXC9bXkBcXC9dK0BbXkBcXC9dKy8pKSB7XG4gICAgdmFyIHNsYXNoZXMgPSByZXN0LnN1YnN0cigwLCAyKSA9PT0gJy8vJztcbiAgICBpZiAoc2xhc2hlcyAmJiAhKHByb3RvICYmIGhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dKSkge1xuICAgICAgcmVzdCA9IHJlc3Quc3Vic3RyKDIpO1xuICAgICAgdGhpcy5zbGFzaGVzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dICYmXG4gICAgICAoc2xhc2hlcyB8fCAocHJvdG8gJiYgIXNsYXNoZWRQcm90b2NvbFtwcm90b10pKSkge1xuXG4gICAgLy8gdGhlcmUncyBhIGhvc3RuYW1lLlxuICAgIC8vIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiAvLCA/LCA7LCBvciAjIGVuZHMgdGhlIGhvc3QuXG4gICAgLy9cbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBAIGluIHRoZSBob3N0bmFtZSwgdGhlbiBub24taG9zdCBjaGFycyAqYXJlKiBhbGxvd2VkXG4gICAgLy8gdG8gdGhlIGxlZnQgb2YgdGhlIGxhc3QgQCBzaWduLCB1bmxlc3Mgc29tZSBob3N0LWVuZGluZyBjaGFyYWN0ZXJcbiAgICAvLyBjb21lcyAqYmVmb3JlKiB0aGUgQC1zaWduLlxuICAgIC8vIFVSTHMgYXJlIG9ibm94aW91cy5cbiAgICAvL1xuICAgIC8vIGV4OlxuICAgIC8vIGh0dHA6Ly9hQGJAYy8gPT4gdXNlcjphQGIgaG9zdDpjXG4gICAgLy8gaHR0cDovL2FAYj9AYyA9PiB1c2VyOmEgaG9zdDpjIHBhdGg6Lz9AY1xuXG4gICAgLy8gdjAuMTIgVE9ETyhpc2FhY3MpOiBUaGlzIGlzIG5vdCBxdWl0ZSBob3cgQ2hyb21lIGRvZXMgdGhpbmdzLlxuICAgIC8vIFJldmlldyBvdXIgdGVzdCBjYXNlIGFnYWluc3QgYnJvd3NlcnMgbW9yZSBjb21wcmVoZW5zaXZlbHkuXG5cbiAgICAvLyBmaW5kIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBhbnkgaG9zdEVuZGluZ0NoYXJzXG4gICAgdmFyIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvc3RFbmRpbmdDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihob3N0RW5kaW5nQ2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cblxuICAgIC8vIGF0IHRoaXMgcG9pbnQsIGVpdGhlciB3ZSBoYXZlIGFuIGV4cGxpY2l0IHBvaW50IHdoZXJlIHRoZVxuICAgIC8vIGF1dGggcG9ydGlvbiBjYW5ub3QgZ28gcGFzdCwgb3IgdGhlIGxhc3QgQCBjaGFyIGlzIHRoZSBkZWNpZGVyLlxuICAgIHZhciBhdXRoLCBhdFNpZ247XG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKSB7XG4gICAgICAvLyBhdFNpZ24gY2FuIGJlIGFueXdoZXJlLlxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhdFNpZ24gbXVzdCBiZSBpbiBhdXRoIHBvcnRpb24uXG4gICAgICAvLyBodHRwOi8vYUBiL2NAZCA9PiBob3N0OmIgYXV0aDphIHBhdGg6L2NAZFxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcsIGhvc3RFbmQpO1xuICAgIH1cblxuICAgIC8vIE5vdyB3ZSBoYXZlIGEgcG9ydGlvbiB3aGljaCBpcyBkZWZpbml0ZWx5IHRoZSBhdXRoLlxuICAgIC8vIFB1bGwgdGhhdCBvZmYuXG4gICAgaWYgKGF0U2lnbiAhPT0gLTEpIHtcbiAgICAgIGF1dGggPSByZXN0LnNsaWNlKDAsIGF0U2lnbik7XG4gICAgICByZXN0ID0gcmVzdC5zbGljZShhdFNpZ24gKyAxKTtcbiAgICAgIHRoaXMuYXV0aCA9IGRlY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICB9XG5cbiAgICAvLyB0aGUgaG9zdCBpcyB0aGUgcmVtYWluaW5nIHRvIHRoZSBsZWZ0IG9mIHRoZSBmaXJzdCBub24taG9zdCBjaGFyXG4gICAgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9uSG9zdENoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKG5vbkhvc3RDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuICAgIC8vIGlmIHdlIHN0aWxsIGhhdmUgbm90IGhpdCBpdCwgdGhlbiB0aGUgZW50aXJlIHRoaW5nIGlzIGEgaG9zdC5cbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpXG4gICAgICBob3N0RW5kID0gcmVzdC5sZW5ndGg7XG5cbiAgICB0aGlzLmhvc3QgPSByZXN0LnNsaWNlKDAsIGhvc3RFbmQpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKGhvc3RFbmQpO1xuXG4gICAgLy8gcHVsbCBvdXQgcG9ydC5cbiAgICB0aGlzLnBhcnNlSG9zdCgpO1xuXG4gICAgLy8gd2UndmUgaW5kaWNhdGVkIHRoYXQgdGhlcmUgaXMgYSBob3N0bmFtZSxcbiAgICAvLyBzbyBldmVuIGlmIGl0J3MgZW1wdHksIGl0IGhhcyB0byBiZSBwcmVzZW50LlxuICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuXG4gICAgLy8gaWYgaG9zdG5hbWUgYmVnaW5zIHdpdGggWyBhbmQgZW5kcyB3aXRoIF1cbiAgICAvLyBhc3N1bWUgdGhhdCBpdCdzIGFuIElQdjYgYWRkcmVzcy5cbiAgICB2YXIgaXB2Nkhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZVswXSA9PT0gJ1snICYmXG4gICAgICAgIHRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAxXSA9PT0gJ10nO1xuXG4gICAgLy8gdmFsaWRhdGUgYSBsaXR0bGUuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHZhciBob3N0cGFydHMgPSB0aGlzLmhvc3RuYW1lLnNwbGl0KC9cXC4vKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gaG9zdHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgcGFydCA9IGhvc3RwYXJ0c1tpXTtcbiAgICAgICAgaWYgKCFwYXJ0KSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgdmFyIG5ld3BhcnQgPSAnJztcbiAgICAgICAgICBmb3IgKHZhciBqID0gMCwgayA9IHBhcnQubGVuZ3RoOyBqIDwgazsgaisrKSB7XG4gICAgICAgICAgICBpZiAocGFydC5jaGFyQ29kZUF0KGopID4gMTI3KSB7XG4gICAgICAgICAgICAgIC8vIHdlIHJlcGxhY2Ugbm9uLUFTQ0lJIGNoYXIgd2l0aCBhIHRlbXBvcmFyeSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRoaXMgdG8gbWFrZSBzdXJlIHNpemUgb2YgaG9zdG5hbWUgaXMgbm90XG4gICAgICAgICAgICAgIC8vIGJyb2tlbiBieSByZXBsYWNpbmcgbm9uLUFTQ0lJIGJ5IG5vdGhpbmdcbiAgICAgICAgICAgICAgbmV3cGFydCArPSAneCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9IHBhcnRbal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHdlIHRlc3QgYWdhaW4gd2l0aCBBU0NJSSBjaGFyIG9ubHlcbiAgICAgICAgICBpZiAoIW5ld3BhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZFBhcnRzID0gaG9zdHBhcnRzLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgdmFyIG5vdEhvc3QgPSBob3N0cGFydHMuc2xpY2UoaSArIDEpO1xuICAgICAgICAgICAgdmFyIGJpdCA9IHBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0U3RhcnQpO1xuICAgICAgICAgICAgaWYgKGJpdCkge1xuICAgICAgICAgICAgICB2YWxpZFBhcnRzLnB1c2goYml0WzFdKTtcbiAgICAgICAgICAgICAgbm90SG9zdC51bnNoaWZ0KGJpdFsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm90SG9zdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmVzdCA9ICcvJyArIG5vdEhvc3Quam9pbignLicpICsgcmVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaG9zdG5hbWUgPSB2YWxpZFBhcnRzLmpvaW4oJy4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvc3RuYW1lLmxlbmd0aCA+IGhvc3RuYW1lTWF4TGVuKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGhvc3RuYW1lcyBhcmUgYWx3YXlzIGxvd2VyIGNhc2UuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICAvLyBJRE5BIFN1cHBvcnQ6IFJldHVybnMgYSBwdW55Y29kZWQgcmVwcmVzZW50YXRpb24gb2YgXCJkb21haW5cIi5cbiAgICAgIC8vIEl0IG9ubHkgY29udmVydHMgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHRoYXRcbiAgICAgIC8vIGhhdmUgbm9uLUFTQ0lJIGNoYXJhY3RlcnMsIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWZcbiAgICAgIC8vIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCBhbHJlYWR5IGlzIEFTQ0lJLW9ubHkuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLmhvc3RuYW1lKTtcbiAgICB9XG5cbiAgICB2YXIgcCA9IHRoaXMucG9ydCA/ICc6JyArIHRoaXMucG9ydCA6ICcnO1xuICAgIHZhciBoID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcbiAgICB0aGlzLmhvc3QgPSBoICsgcDtcbiAgICB0aGlzLmhyZWYgKz0gdGhpcy5ob3N0O1xuXG4gICAgLy8gc3RyaXAgWyBhbmQgXSBmcm9tIHRoZSBob3N0bmFtZVxuICAgIC8vIHRoZSBob3N0IGZpZWxkIHN0aWxsIHJldGFpbnMgdGhlbSwgdGhvdWdoXG4gICAgaWYgKGlwdjZIb3N0bmFtZSkge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUuc3Vic3RyKDEsIHRoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBpZiAocmVzdFswXSAhPT0gJy8nKSB7XG4gICAgICAgIHJlc3QgPSAnLycgKyByZXN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIG5vdyByZXN0IGlzIHNldCB0byB0aGUgcG9zdC1ob3N0IHN0dWZmLlxuICAvLyBjaG9wIG9mZiBhbnkgZGVsaW0gY2hhcnMuXG4gIGlmICghdW5zYWZlUHJvdG9jb2xbbG93ZXJQcm90b10pIHtcblxuICAgIC8vIEZpcnN0LCBtYWtlIDEwMCUgc3VyZSB0aGF0IGFueSBcImF1dG9Fc2NhcGVcIiBjaGFycyBnZXRcbiAgICAvLyBlc2NhcGVkLCBldmVuIGlmIGVuY29kZVVSSUNvbXBvbmVudCBkb2Vzbid0IHRoaW5rIHRoZXlcbiAgICAvLyBuZWVkIHRvIGJlLlxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXV0b0VzY2FwZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBhZSA9IGF1dG9Fc2NhcGVbaV07XG4gICAgICBpZiAocmVzdC5pbmRleE9mKGFlKSA9PT0gLTEpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgdmFyIGVzYyA9IGVuY29kZVVSSUNvbXBvbmVudChhZSk7XG4gICAgICBpZiAoZXNjID09PSBhZSkge1xuICAgICAgICBlc2MgPSBlc2NhcGUoYWUpO1xuICAgICAgfVxuICAgICAgcmVzdCA9IHJlc3Quc3BsaXQoYWUpLmpvaW4oZXNjKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIGNob3Agb2ZmIGZyb20gdGhlIHRhaWwgZmlyc3QuXG4gIHZhciBoYXNoID0gcmVzdC5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoICE9PSAtMSkge1xuICAgIC8vIGdvdCBhIGZyYWdtZW50IHN0cmluZy5cbiAgICB0aGlzLmhhc2ggPSByZXN0LnN1YnN0cihoYXNoKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBoYXNoKTtcbiAgfVxuICB2YXIgcW0gPSByZXN0LmluZGV4T2YoJz8nKTtcbiAgaWYgKHFtICE9PSAtMSkge1xuICAgIHRoaXMuc2VhcmNoID0gcmVzdC5zdWJzdHIocW0pO1xuICAgIHRoaXMucXVlcnkgPSByZXN0LnN1YnN0cihxbSArIDEpO1xuICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5xdWVyeSk7XG4gICAgfVxuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIHFtKTtcbiAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgLy8gbm8gcXVlcnkgc3RyaW5nLCBidXQgcGFyc2VRdWVyeVN0cmluZyBzdGlsbCByZXF1ZXN0ZWRcbiAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgfVxuICBpZiAocmVzdCkgdGhpcy5wYXRobmFtZSA9IHJlc3Q7XG4gIGlmIChzbGFzaGVkUHJvdG9jb2xbbG93ZXJQcm90b10gJiZcbiAgICAgIHRoaXMuaG9zdG5hbWUgJiYgIXRoaXMucGF0aG5hbWUpIHtcbiAgICB0aGlzLnBhdGhuYW1lID0gJy8nO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICBpZiAodGhpcy5wYXRobmFtZSB8fCB0aGlzLnNlYXJjaCkge1xuICAgIHZhciBwID0gdGhpcy5wYXRobmFtZSB8fCAnJztcbiAgICB2YXIgcyA9IHRoaXMuc2VhcmNoIHx8ICcnO1xuICAgIHRoaXMucGF0aCA9IHAgKyBzO1xuICB9XG5cbiAgLy8gZmluYWxseSwgcmVjb25zdHJ1Y3QgdGhlIGhyZWYgYmFzZWQgb24gd2hhdCBoYXMgYmVlbiB2YWxpZGF0ZWQuXG4gIHRoaXMuaHJlZiA9IHRoaXMuZm9ybWF0KCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZm9ybWF0IGEgcGFyc2VkIG9iamVjdCBpbnRvIGEgdXJsIHN0cmluZ1xuZnVuY3Rpb24gdXJsRm9ybWF0KG9iaikge1xuICAvLyBlbnN1cmUgaXQncyBhbiBvYmplY3QsIGFuZCBub3QgYSBzdHJpbmcgdXJsLlxuICAvLyBJZiBpdCdzIGFuIG9iaiwgdGhpcyBpcyBhIG5vLW9wLlxuICAvLyB0aGlzIHdheSwgeW91IGNhbiBjYWxsIHVybF9mb3JtYXQoKSBvbiBzdHJpbmdzXG4gIC8vIHRvIGNsZWFuIHVwIHBvdGVudGlhbGx5IHdvbmt5IHVybHMuXG4gIGlmICh1dGlsLmlzU3RyaW5nKG9iaikpIG9iaiA9IHVybFBhcnNlKG9iaik7XG4gIGlmICghKG9iaiBpbnN0YW5jZW9mIFVybCkpIHJldHVybiBVcmwucHJvdG90eXBlLmZvcm1hdC5jYWxsKG9iaik7XG4gIHJldHVybiBvYmouZm9ybWF0KCk7XG59XG5cblVybC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBhdXRoID0gdGhpcy5hdXRoIHx8ICcnO1xuICBpZiAoYXV0aCkge1xuICAgIGF1dGggPSBlbmNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgYXV0aCA9IGF1dGgucmVwbGFjZSgvJTNBL2ksICc6Jyk7XG4gICAgYXV0aCArPSAnQCc7XG4gIH1cblxuICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sIHx8ICcnLFxuICAgICAgcGF0aG5hbWUgPSB0aGlzLnBhdGhuYW1lIHx8ICcnLFxuICAgICAgaGFzaCA9IHRoaXMuaGFzaCB8fCAnJyxcbiAgICAgIGhvc3QgPSBmYWxzZSxcbiAgICAgIHF1ZXJ5ID0gJyc7XG5cbiAgaWYgKHRoaXMuaG9zdCkge1xuICAgIGhvc3QgPSBhdXRoICsgdGhpcy5ob3N0O1xuICB9IGVsc2UgaWYgKHRoaXMuaG9zdG5hbWUpIHtcbiAgICBob3N0ID0gYXV0aCArICh0aGlzLmhvc3RuYW1lLmluZGV4T2YoJzonKSA9PT0gLTEgP1xuICAgICAgICB0aGlzLmhvc3RuYW1lIDpcbiAgICAgICAgJ1snICsgdGhpcy5ob3N0bmFtZSArICddJyk7XG4gICAgaWYgKHRoaXMucG9ydCkge1xuICAgICAgaG9zdCArPSAnOicgKyB0aGlzLnBvcnQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXMucXVlcnkgJiZcbiAgICAgIHV0aWwuaXNPYmplY3QodGhpcy5xdWVyeSkgJiZcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCkge1xuICAgIHF1ZXJ5ID0gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHRoaXMucXVlcnkpO1xuICB9XG5cbiAgdmFyIHNlYXJjaCA9IHRoaXMuc2VhcmNoIHx8IChxdWVyeSAmJiAoJz8nICsgcXVlcnkpKSB8fCAnJztcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7XG5cbiAgLy8gb25seSB0aGUgc2xhc2hlZFByb3RvY29scyBnZXQgdGhlIC8vLiAgTm90IG1haWx0bzosIHhtcHA6LCBldGMuXG4gIC8vIHVubGVzcyB0aGV5IGhhZCB0aGVtIHRvIGJlZ2luIHdpdGguXG4gIGlmICh0aGlzLnNsYXNoZXMgfHxcbiAgICAgICghcHJvdG9jb2wgfHwgc2xhc2hlZFByb3RvY29sW3Byb3RvY29sXSkgJiYgaG9zdCAhPT0gZmFsc2UpIHtcbiAgICBob3N0ID0gJy8vJyArIChob3N0IHx8ICcnKTtcbiAgICBpZiAocGF0aG5hbWUgJiYgcGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHBhdGhuYW1lID0gJy8nICsgcGF0aG5hbWU7XG4gIH0gZWxzZSBpZiAoIWhvc3QpIHtcbiAgICBob3N0ID0gJyc7XG4gIH1cblxuICBpZiAoaGFzaCAmJiBoYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBoYXNoID0gJyMnICsgaGFzaDtcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2guY2hhckF0KDApICE9PSAnPycpIHNlYXJjaCA9ICc/JyArIHNlYXJjaDtcblxuICBwYXRobmFtZSA9IHBhdGhuYW1lLnJlcGxhY2UoL1s/I10vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG1hdGNoKTtcbiAgfSk7XG4gIHNlYXJjaCA9IHNlYXJjaC5yZXBsYWNlKCcjJywgJyUyMycpO1xuXG4gIHJldHVybiBwcm90b2NvbCArIGhvc3QgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmUocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICByZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHVybFBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIGlmICghc291cmNlKSByZXR1cm4gcmVsYXRpdmU7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlT2JqZWN0KHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0ID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgaWYgKHV0aWwuaXNTdHJpbmcocmVsYXRpdmUpKSB7XG4gICAgdmFyIHJlbCA9IG5ldyBVcmwoKTtcbiAgICByZWwucGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKTtcbiAgICByZWxhdGl2ZSA9IHJlbDtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBuZXcgVXJsKCk7XG4gIHZhciB0a2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpO1xuICBmb3IgKHZhciB0ayA9IDA7IHRrIDwgdGtleXMubGVuZ3RoOyB0aysrKSB7XG4gICAgdmFyIHRrZXkgPSB0a2V5c1t0a107XG4gICAgcmVzdWx0W3RrZXldID0gdGhpc1t0a2V5XTtcbiAgfVxuXG4gIC8vIGhhc2ggaXMgYWx3YXlzIG92ZXJyaWRkZW4sIG5vIG1hdHRlciB3aGF0LlxuICAvLyBldmVuIGhyZWY9XCJcIiB3aWxsIHJlbW92ZSBpdC5cbiAgcmVzdWx0Lmhhc2ggPSByZWxhdGl2ZS5oYXNoO1xuXG4gIC8vIGlmIHRoZSByZWxhdGl2ZSB1cmwgaXMgZW1wdHksIHRoZW4gdGhlcmUncyBub3RoaW5nIGxlZnQgdG8gZG8gaGVyZS5cbiAgaWYgKHJlbGF0aXZlLmhyZWYgPT09ICcnKSB7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGhyZWZzIGxpa2UgLy9mb28vYmFyIGFsd2F5cyBjdXQgdG8gdGhlIHByb3RvY29sLlxuICBpZiAocmVsYXRpdmUuc2xhc2hlcyAmJiAhcmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAvLyB0YWtlIGV2ZXJ5dGhpbmcgZXhjZXB0IHRoZSBwcm90b2NvbCBmcm9tIHJlbGF0aXZlXG4gICAgdmFyIHJrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgIGZvciAodmFyIHJrID0gMDsgcmsgPCBya2V5cy5sZW5ndGg7IHJrKyspIHtcbiAgICAgIHZhciBya2V5ID0gcmtleXNbcmtdO1xuICAgICAgaWYgKHJrZXkgIT09ICdwcm90b2NvbCcpXG4gICAgICAgIHJlc3VsdFtya2V5XSA9IHJlbGF0aXZlW3JrZXldO1xuICAgIH1cblxuICAgIC8vdXJsUGFyc2UgYXBwZW5kcyB0cmFpbGluZyAvIHRvIHVybHMgbGlrZSBodHRwOi8vd3d3LmV4YW1wbGUuY29tXG4gICAgaWYgKHNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdICYmXG4gICAgICAgIHJlc3VsdC5ob3N0bmFtZSAmJiAhcmVzdWx0LnBhdGhuYW1lKSB7XG4gICAgICByZXN1bHQucGF0aCA9IHJlc3VsdC5wYXRobmFtZSA9ICcvJztcbiAgICB9XG5cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKHJlbGF0aXZlLnByb3RvY29sICYmIHJlbGF0aXZlLnByb3RvY29sICE9PSByZXN1bHQucHJvdG9jb2wpIHtcbiAgICAvLyBpZiBpdCdzIGEga25vd24gdXJsIHByb3RvY29sLCB0aGVuIGNoYW5naW5nXG4gICAgLy8gdGhlIHByb3RvY29sIGRvZXMgd2VpcmQgdGhpbmdzXG4gICAgLy8gZmlyc3QsIGlmIGl0J3Mgbm90IGZpbGU6LCB0aGVuIHdlIE1VU1QgaGF2ZSBhIGhvc3QsXG4gICAgLy8gYW5kIGlmIHRoZXJlIHdhcyBhIHBhdGhcbiAgICAvLyB0byBiZWdpbiB3aXRoLCB0aGVuIHdlIE1VU1QgaGF2ZSBhIHBhdGguXG4gICAgLy8gaWYgaXQgaXMgZmlsZTosIHRoZW4gdGhlIGhvc3QgaXMgZHJvcHBlZCxcbiAgICAvLyBiZWNhdXNlIHRoYXQncyBrbm93biB0byBiZSBob3N0bGVzcy5cbiAgICAvLyBhbnl0aGluZyBlbHNlIGlzIGFzc3VtZWQgdG8gYmUgYWJzb2x1dGUuXG4gICAgaWYgKCFzbGFzaGVkUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgICAgICB2YXIgayA9IGtleXNbdl07XG4gICAgICAgIHJlc3VsdFtrXSA9IHJlbGF0aXZlW2tdO1xuICAgICAgfVxuICAgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlc3VsdC5wcm90b2NvbCA9IHJlbGF0aXZlLnByb3RvY29sO1xuICAgIGlmICghcmVsYXRpdmUuaG9zdCAmJiAhaG9zdGxlc3NQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciByZWxQYXRoID0gKHJlbGF0aXZlLnBhdGhuYW1lIHx8ICcnKS5zcGxpdCgnLycpO1xuICAgICAgd2hpbGUgKHJlbFBhdGgubGVuZ3RoICYmICEocmVsYXRpdmUuaG9zdCA9IHJlbFBhdGguc2hpZnQoKSkpO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0KSByZWxhdGl2ZS5ob3N0ID0gJyc7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3RuYW1lKSByZWxhdGl2ZS5ob3N0bmFtZSA9ICcnO1xuICAgICAgaWYgKHJlbFBhdGhbMF0gIT09ICcnKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgaWYgKHJlbFBhdGgubGVuZ3RoIDwgMikgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbFBhdGguam9pbignLycpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxhdGl2ZS5wYXRobmFtZTtcbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICByZXN1bHQuaG9zdCA9IHJlbGF0aXZlLmhvc3QgfHwgJyc7XG4gICAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoO1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3Q7XG4gICAgcmVzdWx0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgIC8vIHRvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5wYXRobmFtZSB8fCByZXN1bHQuc2VhcmNoKSB7XG4gICAgICB2YXIgcCA9IHJlc3VsdC5wYXRobmFtZSB8fCAnJztcbiAgICAgIHZhciBzID0gcmVzdWx0LnNlYXJjaCB8fCAnJztcbiAgICAgIHJlc3VsdC5wYXRoID0gcCArIHM7XG4gICAgfVxuICAgIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmFyIGlzU291cmNlQWJzID0gKHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpLFxuICAgICAgaXNSZWxBYnMgPSAoXG4gICAgICAgICAgcmVsYXRpdmUuaG9zdCB8fFxuICAgICAgICAgIHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nXG4gICAgICApLFxuICAgICAgbXVzdEVuZEFicyA9IChpc1JlbEFicyB8fCBpc1NvdXJjZUFicyB8fFxuICAgICAgICAgICAgICAgICAgICAocmVzdWx0Lmhvc3QgJiYgcmVsYXRpdmUucGF0aG5hbWUpKSxcbiAgICAgIHJlbW92ZUFsbERvdHMgPSBtdXN0RW5kQWJzLFxuICAgICAgc3JjUGF0aCA9IHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHJlbFBhdGggPSByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcHN5Y2hvdGljID0gcmVzdWx0LnByb3RvY29sICYmICFzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXTtcblxuICAvLyBpZiB0aGUgdXJsIGlzIGEgbm9uLXNsYXNoZWQgdXJsLCB0aGVuIHJlbGF0aXZlXG4gIC8vIGxpbmtzIGxpa2UgLi4vLi4gc2hvdWxkIGJlIGFibGVcbiAgLy8gdG8gY3Jhd2wgdXAgdG8gdGhlIGhvc3RuYW1lLCBhcyB3ZWxsLiAgVGhpcyBpcyBzdHJhbmdlLlxuICAvLyByZXN1bHQucHJvdG9jb2wgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgbm93LlxuICAvLyBMYXRlciBvbiwgcHV0IHRoZSBmaXJzdCBwYXRoIHBhcnQgaW50byB0aGUgaG9zdCBmaWVsZC5cbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9ICcnO1xuICAgIHJlc3VsdC5wb3J0ID0gbnVsbDtcbiAgICBpZiAocmVzdWx0Lmhvc3QpIHtcbiAgICAgIGlmIChzcmNQYXRoWzBdID09PSAnJykgc3JjUGF0aFswXSA9IHJlc3VsdC5ob3N0O1xuICAgICAgZWxzZSBzcmNQYXRoLnVuc2hpZnQocmVzdWx0Lmhvc3QpO1xuICAgIH1cbiAgICByZXN1bHQuaG9zdCA9ICcnO1xuICAgIGlmIChyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgPSBudWxsO1xuICAgICAgcmVsYXRpdmUucG9ydCA9IG51bGw7XG4gICAgICBpZiAocmVsYXRpdmUuaG9zdCkge1xuICAgICAgICBpZiAocmVsUGF0aFswXSA9PT0gJycpIHJlbFBhdGhbMF0gPSByZWxhdGl2ZS5ob3N0O1xuICAgICAgICBlbHNlIHJlbFBhdGgudW5zaGlmdChyZWxhdGl2ZS5ob3N0KTtcbiAgICAgIH1cbiAgICAgIHJlbGF0aXZlLmhvc3QgPSBudWxsO1xuICAgIH1cbiAgICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyAmJiAocmVsUGF0aFswXSA9PT0gJycgfHwgc3JjUGF0aFswXSA9PT0gJycpO1xuICB9XG5cbiAgaWYgKGlzUmVsQWJzKSB7XG4gICAgLy8gaXQncyBhYnNvbHV0ZS5cbiAgICByZXN1bHQuaG9zdCA9IChyZWxhdGl2ZS5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0IDogcmVzdWx0Lmhvc3Q7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gKHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3RuYW1lID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3RuYW1lIDogcmVzdWx0Lmhvc3RuYW1lO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgc3JjUGF0aCA9IHJlbFBhdGg7XG4gICAgLy8gZmFsbCB0aHJvdWdoIHRvIHRoZSBkb3QtaGFuZGxpbmcgYmVsb3cuXG4gIH0gZWxzZSBpZiAocmVsUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBpdCdzIHJlbGF0aXZlXG4gICAgLy8gdGhyb3cgYXdheSB0aGUgZXhpc3RpbmcgZmlsZSwgYW5kIHRha2UgdGhlIG5ldyBwYXRoIGluc3RlYWQuXG4gICAgaWYgKCFzcmNQYXRoKSBzcmNQYXRoID0gW107XG4gICAgc3JjUGF0aC5wb3AoKTtcbiAgICBzcmNQYXRoID0gc3JjUGF0aC5jb25jYXQocmVsUGF0aCk7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgfSBlbHNlIGlmICghdXRpbC5pc051bGxPclVuZGVmaW5lZChyZWxhdGl2ZS5zZWFyY2gpKSB7XG4gICAgLy8ganVzdCBwdWxsIG91dCB0aGUgc2VhcmNoLlxuICAgIC8vIGxpa2UgaHJlZj0nP2ZvbycuXG4gICAgLy8gUHV0IHRoaXMgYWZ0ZXIgdGhlIG90aGVyIHR3byBjYXNlcyBiZWNhdXNlIGl0IHNpbXBsaWZpZXMgdGhlIGJvb2xlYW5zXG4gICAgaWYgKHBzeWNob3RpYykge1xuICAgICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBzcmNQYXRoLnNoaWZ0KCk7XG4gICAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBubyBwYXRoIGF0IGFsbC4gIGVhc3kuXG4gICAgLy8gd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoZSBvdGhlciBzdHVmZiBhYm92ZS5cbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnNlYXJjaCkge1xuICAgICAgcmVzdWx0LnBhdGggPSAnLycgKyByZXN1bHQuc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBpZiBhIHVybCBFTkRzIGluIC4gb3IgLi4sIHRoZW4gaXQgbXVzdCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgLy8gaG93ZXZlciwgaWYgaXQgZW5kcyBpbiBhbnl0aGluZyBlbHNlIG5vbi1zbGFzaHksXG4gIC8vIHRoZW4gaXQgbXVzdCBOT1QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIHZhciBsYXN0ID0gc3JjUGF0aC5zbGljZSgtMSlbMF07XG4gIHZhciBoYXNUcmFpbGluZ1NsYXNoID0gKFxuICAgICAgKHJlc3VsdC5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgfHwgc3JjUGF0aC5sZW5ndGggPiAxKSAmJlxuICAgICAgKGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nKSB8fCBsYXN0ID09PSAnJyk7XG5cbiAgLy8gc3RyaXAgc2luZ2xlIGRvdHMsIHJlc29sdmUgZG91YmxlIGRvdHMgdG8gcGFyZW50IGRpclxuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gc3JjUGF0aC5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGFzdCA9IHNyY1BhdGhbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKCFtdXN0RW5kQWJzICYmICFyZW1vdmVBbGxEb3RzKSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBzcmNQYXRoLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgc3JjUGF0aFswXSAhPT0gJycgJiZcbiAgICAgICghc3JjUGF0aFswXSB8fCBzcmNQYXRoWzBdLmNoYXJBdCgwKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiAoc3JjUGF0aC5qb2luKCcvJykuc3Vic3RyKC0xKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgucHVzaCgnJyk7XG4gIH1cblxuICB2YXIgaXNBYnNvbHV0ZSA9IHNyY1BhdGhbMF0gPT09ICcnIHx8XG4gICAgICAoc3JjUGF0aFswXSAmJiBzcmNQYXRoWzBdLmNoYXJBdCgwKSA9PT0gJy8nKTtcblxuICAvLyBwdXQgdGhlIGhvc3QgYmFja1xuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBpc0Fic29sdXRlID8gJycgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjUGF0aC5sZW5ndGggPyBzcmNQYXRoLnNoaWZ0KCkgOiAnJztcbiAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgIH1cbiAgfVxuXG4gIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzIHx8IChyZXN1bHQuaG9zdCAmJiBzcmNQYXRoLmxlbmd0aCk7XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IHNyY1BhdGguam9pbignLycpO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IHJlcXVlc3QuaHR0cFxuICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgfVxuICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGggfHwgcmVzdWx0LmF1dGg7XG4gIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5VcmwucHJvdG90eXBlLnBhcnNlSG9zdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaG9zdCA9IHRoaXMuaG9zdDtcbiAgdmFyIHBvcnQgPSBwb3J0UGF0dGVybi5leGVjKGhvc3QpO1xuICBpZiAocG9ydCkge1xuICAgIHBvcnQgPSBwb3J0WzBdO1xuICAgIGlmIChwb3J0ICE9PSAnOicpIHtcbiAgICAgIHRoaXMucG9ydCA9IHBvcnQuc3Vic3RyKDEpO1xuICAgIH1cbiAgICBob3N0ID0gaG9zdC5zdWJzdHIoMCwgaG9zdC5sZW5ndGggLSBwb3J0Lmxlbmd0aCk7XG4gIH1cbiAgaWYgKGhvc3QpIHRoaXMuaG9zdG5hbWUgPSBob3N0O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRldGVybWluZUNyb3NzT3JpZ2luO1xuXG52YXIgX3VybDIgPSByZXF1aXJlKCd1cmwnKTtcblxudmFyIF91cmwzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXJsMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciB0ZW1wQW5jaG9yID0gdm9pZCAwO1xuXG4vKipcbiAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICogZm9yIHRoaXMgcmVzb3VyY2UgaXMgY3Jvc3Mtb3JpZ2luLiBJZiBjcm9zc09yaWdpbiB3YXMgbWFudWFsbHkgc2V0LCB0aGlzXG4gKiBmdW5jdGlvbiBkb2VzIG5vdGhpbmcuXG4gKiBOaXBwZWQgZnJvbSB0aGUgcmVzb3VyY2UgbG9hZGVyIVxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjcm9zc09yaWdpbiB2YWx1ZSB0byB1c2UgKG9yIGVtcHR5IHN0cmluZyBmb3Igbm9uZSkuXG4gKi9cbmZ1bmN0aW9uIGRldGVybWluZUNyb3NzT3JpZ2luKHVybCkge1xuICAgIHZhciBsb2MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgIC8vIGRhdGE6IGFuZCBqYXZhc2NyaXB0OiB1cmxzIGFyZSBjb25zaWRlcmVkIHNhbWUtb3JpZ2luXG4gICAgaWYgKHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvLyBkZWZhdWx0IGlzIHdpbmRvdy5sb2NhdGlvblxuICAgIGxvYyA9IGxvYyB8fCB3aW5kb3cubG9jYXRpb247XG5cbiAgICBpZiAoIXRlbXBBbmNob3IpIHtcbiAgICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB9XG5cbiAgICAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgIC8vIGJlY2F1c2UgdGhleSBkb24ndCB3b3JrIGluIElFOSA6KFxuICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICB1cmwgPSBfdXJsMy5kZWZhdWx0LnBhcnNlKHRlbXBBbmNob3IuaHJlZik7XG5cbiAgICB2YXIgc2FtZVBvcnQgPSAhdXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnIHx8IHVybC5wb3J0ID09PSBsb2MucG9ydDtcblxuICAgIC8vIGlmIGNyb3NzIG9yaWdpblxuICAgIGlmICh1cmwuaG9zdG5hbWUgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgdXJsLnByb3RvY29sICE9PSBsb2MucHJvdG9jb2wpIHtcbiAgICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRldGVybWluZUNyb3NzT3JpZ2luLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG52YXIgX1RyYW5zZm9ybUJhc2UyID0gcmVxdWlyZSgnLi9UcmFuc2Zvcm1CYXNlJyk7XG5cbnZhciBfVHJhbnNmb3JtQmFzZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2Zvcm1CYXNlMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBHZW5lcmljIGNsYXNzIHRvIGRlYWwgd2l0aCB0cmFkaXRpb25hbCAyRCBtYXRyaXggdHJhbnNmb3Jtc1xuICogbG9jYWwgdHJhbnNmb3JtYXRpb24gaXMgY2FsY3VsYXRlZCBmcm9tIHBvc2l0aW9uLHNjYWxlLHNrZXcgYW5kIHJvdGF0aW9uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlRyYW5zZm9ybUJhc2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoX1RyYW5zZm9ybUJhc2UpIHtcbiAgX2luaGVyaXRzKFRyYW5zZm9ybSwgX1RyYW5zZm9ybUJhc2UpO1xuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gVHJhbnNmb3JtKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2Zvcm0pO1xuXG4gICAgLyoqXG4gICAgKiBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgb2JqZWN0IHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICpcbiAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgKi9cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfVHJhbnNmb3JtQmFzZS5jYWxsKHRoaXMpKTtcblxuICAgIF90aGlzLnBvc2l0aW9uID0gbmV3IF9tYXRoLlBvaW50KDAsIDApO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjYWxlIGZhY3RvciBvZiB0aGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgKi9cbiAgICBfdGhpcy5zY2FsZSA9IG5ldyBfbWF0aC5Qb2ludCgxLCAxKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBza2V3IGFtb3VudCwgb24gdGhlIHggYW5kIHkgYXhpcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIF90aGlzLnNrZXcgPSBuZXcgX21hdGguT2JzZXJ2YWJsZVBvaW50KF90aGlzLnVwZGF0ZVNrZXcsIF90aGlzLCAwLCAwKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwaXZvdCBwb2ludCBvZiB0aGUgZGlzcGxheU9iamVjdCB0aGF0IGl0IHJvdGF0ZXMgYXJvdW5kXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAqL1xuICAgIF90aGlzLnBpdm90ID0gbmV3IF9tYXRoLlBvaW50KDAsIDApO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJvdGF0aW9uIHZhbHVlIG9mIHRoZSBvYmplY3QsIGluIHJhZGlhbnNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge051bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90aGlzLl9yb3RhdGlvbiA9IDA7XG5cbiAgICBfdGhpcy5fY3ggPSAxOyAvLyBjb3Mgcm90YXRpb24gKyBza2V3WTtcbiAgICBfdGhpcy5fc3ggPSAwOyAvLyBzaW4gcm90YXRpb24gKyBza2V3WTtcbiAgICBfdGhpcy5fY3kgPSAwOyAvLyBjb3Mgcm90YXRpb24gKyBNYXRoLlBJLzIgLSBza2V3WDtcbiAgICBfdGhpcy5fc3kgPSAxOyAvLyBzaW4gcm90YXRpb24gKyBNYXRoLlBJLzIgLSBza2V3WDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgc2tldyB2YWx1ZXMgd2hlbiB0aGUgc2tldyBvciByb3RhdGlvbiBjaGFuZ2VzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIFRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlU2tldyA9IGZ1bmN0aW9uIHVwZGF0ZVNrZXcoKSB7XG4gICAgdGhpcy5fY3ggPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy5feSk7XG4gICAgdGhpcy5fc3ggPSBNYXRoLnNpbih0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy5feSk7XG4gICAgdGhpcy5fY3kgPSAtTWF0aC5zaW4odGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcuX3gpOyAvLyBjb3MsIGFkZGVkIFBJLzJcbiAgICB0aGlzLl9zeSA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3Ll94KTsgLy8gc2luLCBhZGRlZCBQSS8yXG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgb25seSBsb2NhbCBtYXRyaXhcbiAgICovXG5cblxuICBUcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZUxvY2FsVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlTG9jYWxUcmFuc2Zvcm0oKSB7XG4gICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcblxuICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUueDtcbiAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLng7XG4gICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS55O1xuICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUueTtcblxuICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi54IC0gKHRoaXMucGl2b3QueCAqIGx0LmEgKyB0aGlzLnBpdm90LnkgKiBsdC5jKTtcbiAgICBsdC50eSA9IHRoaXMucG9zaXRpb24ueSAtICh0aGlzLnBpdm90LnggKiBsdC5iICsgdGhpcy5waXZvdC55ICogbHQuZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHZhbHVlcyBvZiB0aGUgb2JqZWN0IGFuZCBhcHBsaWVzIHRoZSBwYXJlbnQncyB0cmFuc2Zvcm0uXG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHBhcmVudFRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gb2YgdGhlIHBhcmVudCBvZiB0aGlzIG9iamVjdFxuICAgKi9cblxuXG4gIFRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKHBhcmVudFRyYW5zZm9ybSkge1xuICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLng7XG4gICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS54O1xuICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUueTtcbiAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLnk7XG5cbiAgICBsdC50eCA9IHRoaXMucG9zaXRpb24ueCAtICh0aGlzLnBpdm90LnggKiBsdC5hICsgdGhpcy5waXZvdC55ICogbHQuYyk7XG4gICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLnkgLSAodGhpcy5waXZvdC54ICogbHQuYiArIHRoaXMucGl2b3QueSAqIGx0LmQpO1xuXG4gICAgLy8gY29uY2F0IHRoZSBwYXJlbnQgbWF0cml4IHdpdGggdGhlIG9iamVjdHMgdHJhbnNmb3JtLlxuICAgIHZhciBwdCA9IHBhcmVudFRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICB2YXIgd3QgPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgd3QuYSA9IGx0LmEgKiBwdC5hICsgbHQuYiAqIHB0LmM7XG4gICAgd3QuYiA9IGx0LmEgKiBwdC5iICsgbHQuYiAqIHB0LmQ7XG4gICAgd3QuYyA9IGx0LmMgKiBwdC5hICsgbHQuZCAqIHB0LmM7XG4gICAgd3QuZCA9IGx0LmMgKiBwdC5iICsgbHQuZCAqIHB0LmQ7XG4gICAgd3QudHggPSBsdC50eCAqIHB0LmEgKyBsdC50eSAqIHB0LmMgKyBwdC50eDtcbiAgICB3dC50eSA9IGx0LnR4ICogcHQuYiArIGx0LnR5ICogcHQuZCArIHB0LnR5O1xuXG4gICAgdGhpcy5fd29ybGRJRCsrO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZWNvbXBvc2VzIGEgbWF0cml4IGFuZCBzZXRzIHRoZSB0cmFuc2Zvcm1zIHByb3BlcnRpZXMgYmFzZWQgb24gaXQuXG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gZGVjb21wb3NlXG4gICAqL1xuXG5cbiAgVHJhbnNmb3JtLnByb3RvdHlwZS5zZXRGcm9tTWF0cml4ID0gZnVuY3Rpb24gc2V0RnJvbU1hdHJpeChtYXRyaXgpIHtcbiAgICBtYXRyaXguZGVjb21wb3NlKHRoaXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFRyYW5zZm9ybSwgW3tcbiAgICBrZXk6ICdyb3RhdGlvbicsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgdGhpcy5fcm90YXRpb24gPSB2YWx1ZTtcbiAgICAgIHRoaXMudXBkYXRlU2tldygpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUcmFuc2Zvcm07XG59KF9UcmFuc2Zvcm1CYXNlMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVHJhbnNmb3JtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJhbnNmb3JtLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG52YXIgX1RyYW5zZm9ybUJhc2UyID0gcmVxdWlyZSgnLi9UcmFuc2Zvcm1CYXNlJyk7XG5cbnZhciBfVHJhbnNmb3JtQmFzZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2Zvcm1CYXNlMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhhdCB0YWtlcyBjYXJlIGFib3V0IGl0cyB2ZXJzaW9uc1xuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5UcmFuc2Zvcm1CYXNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVHJhbnNmb3JtU3RhdGljID0gZnVuY3Rpb24gKF9UcmFuc2Zvcm1CYXNlKSB7XG4gICAgX2luaGVyaXRzKFRyYW5zZm9ybVN0YXRpYywgX1RyYW5zZm9ybUJhc2UpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUcmFuc2Zvcm1TdGF0aWMoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2Zvcm1TdGF0aWMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICpcbiAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1RyYW5zZm9ybUJhc2UuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMucG9zaXRpb24gPSBuZXcgX21hdGguT2JzZXJ2YWJsZVBvaW50KF90aGlzLm9uQ2hhbmdlLCBfdGhpcywgMCwgMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zY2FsZSA9IG5ldyBfbWF0aC5PYnNlcnZhYmxlUG9pbnQoX3RoaXMub25DaGFuZ2UsIF90aGlzLCAxLCAxKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBpdm90IHBvaW50IG9mIHRoZSBkaXNwbGF5T2JqZWN0IHRoYXQgaXQgcm90YXRlcyBhcm91bmRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXZvdCA9IG5ldyBfbWF0aC5PYnNlcnZhYmxlUG9pbnQoX3RoaXMub25DaGFuZ2UsIF90aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgYW1vdW50LCBvbiB0aGUgeCBhbmQgeSBheGlzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNrZXcgPSBuZXcgX21hdGguT2JzZXJ2YWJsZVBvaW50KF90aGlzLnVwZGF0ZVNrZXcsIF90aGlzLCAwLCAwKTtcblxuICAgICAgICBfdGhpcy5fcm90YXRpb24gPSAwO1xuXG4gICAgICAgIF90aGlzLl9jeCA9IDE7IC8vIGNvcyByb3RhdGlvbiArIHNrZXdZO1xuICAgICAgICBfdGhpcy5fc3ggPSAwOyAvLyBzaW4gcm90YXRpb24gKyBza2V3WTtcbiAgICAgICAgX3RoaXMuX2N5ID0gMDsgLy8gY29zIHJvdGF0aW9uICsgTWF0aC5QSS8yIC0gc2tld1g7XG4gICAgICAgIF90aGlzLl9zeSA9IDE7IC8vIHNpbiByb3RhdGlvbiArIE1hdGguUEkvMiAtIHNrZXdYO1xuXG4gICAgICAgIF90aGlzLl9sb2NhbElEID0gMDtcbiAgICAgICAgX3RoaXMuX2N1cnJlbnRMb2NhbElEID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGEgdmFsdWUgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRyYW5zZm9ybVN0YXRpYy5wcm90b3R5cGUub25DaGFuZ2UgPSBmdW5jdGlvbiBvbkNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBza2V3IG9yIHJvdGF0aW9uIGNoYW5nZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRyYW5zZm9ybVN0YXRpYy5wcm90b3R5cGUudXBkYXRlU2tldyA9IGZ1bmN0aW9uIHVwZGF0ZVNrZXcoKSB7XG4gICAgICAgIHRoaXMuX2N4ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcuX3kpO1xuICAgICAgICB0aGlzLl9zeCA9IE1hdGguc2luKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3Ll95KTtcbiAgICAgICAgdGhpcy5fY3kgPSAtTWF0aC5zaW4odGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcuX3gpOyAvLyBjb3MsIGFkZGVkIFBJLzJcbiAgICAgICAgdGhpcy5fc3kgPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy5feCk7IC8vIHNpbiwgYWRkZWQgUEkvMlxuXG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBvbmx5IGxvY2FsIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBUcmFuc2Zvcm1TdGF0aWMucHJvdG90eXBlLnVwZGF0ZUxvY2FsVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlTG9jYWxUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICAgICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIG1hdHJpeCB2YWx1ZXMgb2YgdGhlIGRpc3BsYXlvYmplY3QgYmFzZWQgb24gaXRzIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLi5cbiAgICAgICAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUuX3g7XG4gICAgICAgICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS5feTtcbiAgICAgICAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUuX3k7XG5cbiAgICAgICAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi5feCAtICh0aGlzLnBpdm90Ll94ICogbHQuYSArIHRoaXMucGl2b3QuX3kgKiBsdC5jKTtcbiAgICAgICAgICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi5feSAtICh0aGlzLnBpdm90Ll94ICogbHQuYiArIHRoaXMucGl2b3QuX3kgKiBsdC5kKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcblxuICAgICAgICAgICAgLy8gZm9yY2UgYW4gdXBkYXRlLi5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdmFsdWVzIG9mIHRoZSBvYmplY3QgYW5kIGFwcGxpZXMgdGhlIHBhcmVudCdzIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHBhcmVudFRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gb2YgdGhlIHBhcmVudCBvZiB0aGlzIG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBUcmFuc2Zvcm1TdGF0aWMucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybShwYXJlbnRUcmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcblxuICAgICAgICBpZiAodGhpcy5fbG9jYWxJRCAhPT0gdGhpcy5fY3VycmVudExvY2FsSUQpIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgbWF0cml4IHZhbHVlcyBvZiB0aGUgZGlzcGxheW9iamVjdCBiYXNlZCBvbiBpdHMgdHJhbnNmb3JtIHByb3BlcnRpZXMuLlxuICAgICAgICAgICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS5feDtcbiAgICAgICAgICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUuX3g7XG4gICAgICAgICAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLl95O1xuICAgICAgICAgICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS5feTtcblxuICAgICAgICAgICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLl94IC0gKHRoaXMucGl2b3QuX3ggKiBsdC5hICsgdGhpcy5waXZvdC5feSAqIGx0LmMpO1xuICAgICAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLl95IC0gKHRoaXMucGl2b3QuX3ggKiBsdC5iICsgdGhpcy5waXZvdC5feSAqIGx0LmQpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSB0aGlzLl9sb2NhbElEO1xuXG4gICAgICAgICAgICAvLyBmb3JjZSBhbiB1cGRhdGUuLlxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9wYXJlbnRJRCAhPT0gcGFyZW50VHJhbnNmb3JtLl93b3JsZElEKSB7XG4gICAgICAgICAgICAvLyBjb25jYXQgdGhlIHBhcmVudCBtYXRyaXggd2l0aCB0aGUgb2JqZWN0cyB0cmFuc2Zvcm0uXG4gICAgICAgICAgICB2YXIgcHQgPSBwYXJlbnRUcmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICB2YXIgd3QgPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICB3dC5hID0gbHQuYSAqIHB0LmEgKyBsdC5iICogcHQuYztcbiAgICAgICAgICAgIHd0LmIgPSBsdC5hICogcHQuYiArIGx0LmIgKiBwdC5kO1xuICAgICAgICAgICAgd3QuYyA9IGx0LmMgKiBwdC5hICsgbHQuZCAqIHB0LmM7XG4gICAgICAgICAgICB3dC5kID0gbHQuYyAqIHB0LmIgKyBsdC5kICogcHQuZDtcbiAgICAgICAgICAgIHd0LnR4ID0gbHQudHggKiBwdC5hICsgbHQudHkgKiBwdC5jICsgcHQudHg7XG4gICAgICAgICAgICB3dC50eSA9IGx0LnR4ICogcHQuYiArIGx0LnR5ICogcHQuZCArIHB0LnR5O1xuXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRDtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBpZCBvZiB0aGUgdHJhbnNmb3JtLi5cbiAgICAgICAgICAgIHRoaXMuX3dvcmxkSUQrKztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZWNvbXBvc2VzIGEgbWF0cml4IGFuZCBzZXRzIHRoZSB0cmFuc2Zvcm1zIHByb3BlcnRpZXMgYmFzZWQgb24gaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGRlY29tcG9zZVxuICAgICAqL1xuXG5cbiAgICBUcmFuc2Zvcm1TdGF0aWMucHJvdG90eXBlLnNldEZyb21NYXRyaXggPSBmdW5jdGlvbiBzZXRGcm9tTWF0cml4KG1hdHJpeCkge1xuICAgICAgICBtYXRyaXguZGVjb21wb3NlKHRoaXMpO1xuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhUcmFuc2Zvcm1TdGF0aWMsIFt7XG4gICAgICAgIGtleTogJ3JvdGF0aW9uJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2tldygpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRyYW5zZm9ybVN0YXRpYztcbn0oX1RyYW5zZm9ybUJhc2UzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUcmFuc2Zvcm1TdGF0aWM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc2Zvcm1TdGF0aWMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9UcmFuc2Zvcm1TdGF0aWMgPSByZXF1aXJlKCcuL1RyYW5zZm9ybVN0YXRpYycpO1xuXG52YXIgX1RyYW5zZm9ybVN0YXRpYzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2Zvcm1TdGF0aWMpO1xuXG52YXIgX1RyYW5zZm9ybSA9IHJlcXVpcmUoJy4vVHJhbnNmb3JtJyk7XG5cbnZhciBfVHJhbnNmb3JtMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybSk7XG5cbnZhciBfQm91bmRzID0gcmVxdWlyZSgnLi9Cb3VuZHMnKTtcblxudmFyIF9Cb3VuZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQm91bmRzKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8vIF90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBEaXNwbGF5T2JqZWN0KCk7XG5cbi8qKlxuICogVGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIG9uIHRoZSBzY3JlZW4uXG4gKiBUaGlzIGlzIGFuIGFic3RyYWN0IGNsYXNzIGFuZCBzaG91bGQgbm90IGJlIHVzZWQgb24gaXRzIG93biByYXRoZXIgaXQgc2hvdWxkIGJlIGV4dGVuZGVkLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gICAgX2luaGVyaXRzKERpc3BsYXlPYmplY3QsIF9FdmVudEVtaXR0ZXIpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEaXNwbGF5T2JqZWN0KCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGlzcGxheU9iamVjdCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50RW1pdHRlci5jYWxsKHRoaXMpKTtcblxuICAgICAgICB2YXIgVHJhbnNmb3JtQ2xhc3MgPSBfc2V0dGluZ3MyLmRlZmF1bHQuVFJBTlNGT1JNX01PREUgPT09IF9jb25zdC5UUkFOU0ZPUk1fTU9ERS5TVEFUSUMgPyBfVHJhbnNmb3JtU3RhdGljMi5kZWZhdWx0IDogX1RyYW5zZm9ybTIuZGVmYXVsdDtcblxuICAgICAgICBfdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgLy8gVE9ETzogbmVlZCB0byBjcmVhdGUgVHJhbnNmb3JtIGZyb20gZmFjdG9yeVxuICAgICAgICAvKipcbiAgICAgICAgICogV29ybGQgdHJhbnNmb3JtIGFuZCBsb2NhbCB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3QuXG4gICAgICAgICAqIFRoaXMgd2lsbCBiZWNvbWUgcmVhZC1vbmx5IGxhdGVyLCBwbGVhc2UgZG8gbm90IGFzc2lnbiBhbnl0aGluZyB0aGVyZSB1bmxlc3MgeW91IGtub3cgd2hhdCBhcmUgeW91IGRvaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtQmFzZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm1DbGFzcygpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3BhY2l0eSBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbHBoYSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBvYmplY3QuIElmIGZhbHNlIHRoZSBvYmplY3Qgd2lsbCBub3QgYmUgZHJhd24sIGFuZFxuICAgICAgICAgKiB0aGUgdXBkYXRlVHJhbnNmb3JtIGZ1bmN0aW9uIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT25seSBhZmZlY3RzIHJlY3Vyc2l2ZSBjYWxscyBmcm9tIHBhcmVudC4gWW91IGNhbiBhc2sgZm9yIGJvdW5kcyBvciBjYWxsIHVwZGF0ZVRyYW5zZm9ybSBtYW51YWxseVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmlzaWJsZSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbiB0aGlzIG9iamVjdCBiZSByZW5kZXJlZCwgaWYgZmFsc2UgdGhlIG9iamVjdCB3aWxsIG5vdCBiZSBkcmF3biBidXQgdGhlIHVwZGF0ZVRyYW5zZm9ybVxuICAgICAgICAgKiBtZXRob2RzIHdpbGwgc3RpbGwgYmUgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPbmx5IGFmZmVjdHMgcmVjdXJzaXZlIGNhbGxzIGZyb20gcGFyZW50LiBZb3UgY2FuIGFzayBmb3IgYm91bmRzIG1hbnVhbGx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJhYmxlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRpc3BsYXkgb2JqZWN0IGNvbnRhaW5lciB0aGF0IGNvbnRhaW5zIHRoaXMgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtdWx0aXBsaWVkIGFscGhhIG9mIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53b3JsZEFscGhhID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFyZWEgdGhlIGZpbHRlciBpcyBhcHBsaWVkIHRvLiBUaGlzIGlzIHVzZWQgYXMgbW9yZSBvZiBhbiBvcHRpbWlzYXRpb25cbiAgICAgICAgICogcmF0aGVyIHRoYW4gZmlndXJpbmcgb3V0IHRoZSBkaW1lbnNpb25zIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGVhY2ggZnJhbWUgeW91IGNhbiBzZXQgdGhpcyByZWN0YW5nbGVcbiAgICAgICAgICpcbiAgICAgICAgICogQWxzbyB3b3JrcyBhcyBhbiBpbnRlcmFjdGlvbiBtYXNrXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuX2ZpbHRlcnMgPSBudWxsO1xuICAgICAgICBfdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYm91bmRzIG9iamVjdCwgdGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSBhbmQgc3RvcmUgdGhlIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ib3VuZHMgPSBuZXcgX0JvdW5kczIuZGVmYXVsdCgpO1xuICAgICAgICBfdGhpcy5fYm91bmRzSUQgPSAwO1xuICAgICAgICBfdGhpcy5fbGFzdEJvdW5kc0lEID0gLTE7XG4gICAgICAgIF90aGlzLl9ib3VuZHNSZWN0ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcmlnaW5hbCwgY2FjaGVkIG1hc2sgb2YgdGhlIG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzfFBJWEkuU3ByaXRlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21hc2sgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgb2JqZWN0IGhhcyBiZWVuIGRlc3Ryb3llZCB2aWEgZGVzdHJveSgpLiBJZiB0cnVlLCBpdCBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoaXMgRGlzcGxheU9iamVjdCBpcyBhZGRlZCB0byBhIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNhZGRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIGFkZGVkIHRvLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGlzIERpc3BsYXlPYmplY3QgaXMgcmVtb3ZlZCBmcm9tIGEgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JlbW92ZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciByZW1vdmVkIGZyb20uXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogVE9ETyAtIE9wdGltaXphdGlvbiBwYXNzIVxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIC8vIG11bHRpcGx5IHRoZSBhbHBoYXMuLlxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMudXBkYXRlSUQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogcmVjdXJzaXZlbHkgdXBkYXRlcyB0cmFuc2Zvcm0gb2YgYWxsIG9iamVjdHMgZnJvbSB0aGUgcm9vdCB0byB0aGlzIG9uZVxuICAgICAqIGludGVybmFsIGZ1bmN0aW9uIGZvciB0b0xvY2FsKClcbiAgICAgKi9cblxuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiBfcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNraXBVcGRhdGUgLSBzZXR0aW5nIHRvIHRydWUgd2lsbCBzdG9wIHRoZSB0cmFuc2Zvcm1zIG9mIHRoZSBzY2VuZSBncmFwaCBmcm9tXG4gICAgICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gICAgICogIG5pY2UgcGVyZm9ybWFuY2UgYm9vc3RcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvblxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYVxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRCb3VuZHMgPSBmdW5jdGlvbiBnZXRCb3VuZHMoc2tpcFVwZGF0ZSwgcmVjdCkge1xuICAgICAgICBpZiAoIXNraXBVcGRhdGUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ib3VuZHNJRCAhPT0gdGhpcy5fbGFzdEJvdW5kc0lEKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2JvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHNSZWN0ID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWN0ID0gdGhpcy5fYm91bmRzUmVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIE9wdGlvbmFsIHJlY3RhbmdsZSB0byBzdG9yZSB0aGUgcmVzdWx0IG9mIHRoZSBib3VuZHMgY2FsY3VsYXRpb25cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWFcbiAgICAgKi9cblxuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyhyZWN0KSB7XG4gICAgICAgIHZhciB0cmFuc2Zvcm1SZWYgPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHBhcmVudFJlZiA9IHRoaXMucGFyZW50O1xuXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm07XG5cbiAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBib3VuZHMgPSB0aGlzLmdldEJvdW5kcyhmYWxzZSwgcmVjdCk7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRSZWY7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtUmVmO1xuXG4gICAgICAgIHJldHVybiBib3VuZHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbFxuICAgICAqICAob3RoZXJ3aXNlIHdpbGwgY3JlYXRlIGEgbmV3IFBvaW50KVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGU9ZmFsc2VdIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gQSBwb2ludCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGlzIG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS50b0dsb2JhbCA9IGZ1bmN0aW9uIHRvR2xvYmFsKHBvc2l0aW9uLCBwb2ludCkge1xuICAgICAgICB2YXIgc2tpcFVwZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvbid0IG5lZWQgdG8gdXBkYXRlIHRoZSBsb3RcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHkocG9zaXRpb24sIHBvaW50KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbG9jYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHJlbGF0aXZlIHRvIGFub3RoZXIgcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IFtmcm9tXSAtIFRoZSBEaXNwbGF5T2JqZWN0IHRvIGNhbGN1bGF0ZSB0aGUgZ2xvYmFsIHBvc2l0aW9uIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCBjcmVhdGUgYSBuZXcgUG9pbnQpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudG9Mb2NhbCA9IGZ1bmN0aW9uIHRvTG9jYWwocG9zaXRpb24sIGZyb20sIHBvaW50LCBza2lwVXBkYXRlKSB7XG4gICAgICAgIGlmIChmcm9tKSB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGZyb20udG9HbG9iYWwocG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaW1wbHkgYXBwbHkgdGhlIG1hdHJpeC4uXG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHt9XG4gICAgLy8gT1ZFUldSSVRFO1xuXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIENhbnZhcyByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIDtcblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnJlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIHJlbmRlckNhbnZhcyhyZW5kZXJlcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHt9XG4gICAgLy8gT1ZFUldSSVRFO1xuXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBDb250YWluZXIgb2YgdGhpcyBEaXNwbGF5T2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgQ29udGFpbmVyIHRvIGFkZCB0aGlzIERpc3BsYXlPYmplY3QgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkNvbnRhaW5lcn0gVGhlIENvbnRhaW5lciB0aGF0IHRoaXMgRGlzcGxheU9iamVjdCB3YXMgYWRkZWQgdG9cbiAgICAgKi9cbiAgICA7XG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5zZXRQYXJlbnQgPSBmdW5jdGlvbiBzZXRQYXJlbnQoY29udGFpbmVyKSB7XG4gICAgICAgIGlmICghY29udGFpbmVyIHx8ICFjb250YWluZXIuYWRkQ2hpbGQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2V0UGFyZW50OiBBcmd1bWVudCBtdXN0IGJlIGEgQ29udGFpbmVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQodGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gc2V0IHRoZSBwb3NpdGlvbiwgc2NhbGUsIHNrZXcgYW5kIHBpdm90IGF0IG9uY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVg9MV0gLSBUaGUgWCBzY2FsZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVZPTFdIC0gVGhlIFkgc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtza2V3WD0wXSAtIFRoZSBYIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NrZXdZPTBdIC0gVGhlIFkgc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGl2b3RYPTBdIC0gVGhlIFggcGl2b3QgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bpdm90WT0wXSAtIFRoZSBZIHBpdm90IHZhbHVlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHZhciB4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgICAgdmFyIHNjYWxlWCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTtcbiAgICAgICAgdmFyIHNjYWxlWSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMTtcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiAwO1xuICAgICAgICB2YXIgc2tld1ggPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IDA7XG4gICAgICAgIHZhciBza2V3WSA9IGFyZ3VtZW50cy5sZW5ndGggPiA2ICYmIGFyZ3VtZW50c1s2XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzZdIDogMDtcbiAgICAgICAgdmFyIHBpdm90WCA9IGFyZ3VtZW50cy5sZW5ndGggPiA3ICYmIGFyZ3VtZW50c1s3XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzddIDogMDtcbiAgICAgICAgdmFyIHBpdm90WSA9IGFyZ3VtZW50cy5sZW5ndGggPiA4ICYmIGFyZ3VtZW50c1s4XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzhdIDogMDtcblxuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB4O1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB5O1xuICAgICAgICB0aGlzLnNjYWxlLnggPSAhc2NhbGVYID8gMSA6IHNjYWxlWDtcbiAgICAgICAgdGhpcy5zY2FsZS55ID0gIXNjYWxlWSA/IDEgOiBzY2FsZVk7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICAgICAgdGhpcy5za2V3LnggPSBza2V3WDtcbiAgICAgICAgdGhpcy5za2V3LnkgPSBza2V3WTtcbiAgICAgICAgdGhpcy5waXZvdC54ID0gcGl2b3RYO1xuICAgICAgICB0aGlzLnBpdm90LnkgPSBwaXZvdFk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJhc2UgZGVzdHJveSBtZXRob2QgZm9yIGdlbmVyaWMgZGlzcGxheSBvYmplY3RzLiBUaGlzIHdpbGwgYXV0b21hdGljYWxseVxuICAgICAqIHJlbW92ZSB0aGUgZGlzcGxheSBvYmplY3QgZnJvbSBpdHMgcGFyZW50IENvbnRhaW5lciBhcyB3ZWxsIGFzIHJlbW92ZVxuICAgICAqIGFsbCBjdXJyZW50IGV2ZW50IGxpc3RlbmVycyBhbmQgaW50ZXJuYWwgcmVmZXJlbmNlcy4gRG8gbm90IHVzZSBhIERpc3BsYXlPYmplY3RcbiAgICAgKiBhZnRlciBjYWxsaW5nIGBkZXN0cm95YC5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRCb3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9tYXNrID0gbnVsbDtcblxuICAgICAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoRGlzcGxheU9iamVjdCwgW3tcbiAgICAgICAga2V5OiAnX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgRGlzcGxheU9iamVjdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAneCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB5IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqIEFuIGFsaWFzIHRvIHBvc2l0aW9uLnlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAneScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi55ID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCB0cmFuc2Zvcm0gb2YgdGhlIG9iamVjdCBiYXNlZCBvbiB3b3JsZCAocGFyZW50KSBmYWN0b3JzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3dvcmxkVHJhbnNmb3JtJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCB0cmFuc2Zvcm0gb2YgdGhlIG9iamVjdCBiYXNlZCBvbiBsb2NhbCBmYWN0b3JzOiBwb3NpdGlvbiwgc2NhbGUsIG90aGVyIHN0dWZmXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2xvY2FsVHJhbnNmb3JtJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fFBJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncG9zaXRpb24nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5KHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludHxQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NjYWxlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2NhbGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2NhbGUuY29weSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBpdm90IHBvaW50IG9mIHRoZSBkaXNwbGF5T2JqZWN0IHRoYXQgaXQgcm90YXRlcyBhcm91bmRcbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fFBJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncGl2b3QnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5waXZvdDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5waXZvdC5jb3B5KHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2tldyBmYWN0b3IgZm9yIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NrZXcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5za2V3O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnNrZXcuY29weSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvdGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncm90YXRpb24nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgb2JqZWN0IGlzIGdsb2JhbGx5IHZpc2libGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnd29ybGRWaXNpYmxlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXM7XG5cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW0udmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaXRlbSA9IGl0ZW0ucGFyZW50O1xuICAgICAgICAgICAgfSB3aGlsZSAoaXRlbSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgYSBtYXNrIGZvciB0aGUgZGlzcGxheU9iamVjdC4gQSBtYXNrIGlzIGFuIG9iamVjdCB0aGF0IGxpbWl0cyB0aGUgdmlzaWJpbGl0eSBvZiBhblxuICAgICAgICAgKiBvYmplY3QgdG8gdGhlIHNoYXBlIG9mIHRoZSBtYXNrIGFwcGxpZWQgdG8gaXQuIEluIFBJWEkgYSByZWd1bGFyIG1hc2sgbXVzdCBiZSBhXG4gICAgICAgICAqIFBJWEkuR3JhcGhpY3Mgb3IgYSBQSVhJLlNwcml0ZSBvYmplY3QuIFRoaXMgYWxsb3dzIGZvciBtdWNoIGZhc3RlciBtYXNraW5nIGluIGNhbnZhcyBhcyBpdFxuICAgICAgICAgKiB1dGlsaXNlcyBzaGFwZSBjbGlwcGluZy4gVG8gcmVtb3ZlIGEgbWFzaywgc2V0IHRoaXMgcHJvcGVydHkgdG8gbnVsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHRvZG8gRm9yIHRoZSBtb21lbnQsIFBJWEkuQ2FudmFzUmVuZGVyZXIgZG9lc24ndCBzdXBwb3J0IFBJWEkuU3ByaXRlIGFzIG1hc2suXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N8UElYSS5TcHJpdGV9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdtYXNrJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFzaztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hc2sucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFzay5pc01hc2sgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fbWFzayA9IHZhbHVlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hc2sucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hc2suaXNNYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBmaWx0ZXJzIGZvciB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSB3ZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAgICAgKiBUbyByZW1vdmUgZmlsdGVycyBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gJ251bGwnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyW119XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmaWx0ZXJzJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsdGVycyAmJiB0aGlzLl9maWx0ZXJzLnNsaWNlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmlsdGVycyA9IHZhbHVlICYmIHZhbHVlLnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRGlzcGxheU9iamVjdDtcbn0oX2V2ZW50ZW1pdHRlcjIuZGVmYXVsdCk7XG5cbi8vIHBlcmZvcm1hbmNlIGluY3JlYXNlIHRvIGF2b2lkIHVzaW5nIGNhbGwuLiAoMTB4IGZhc3RlcilcblxuXG5leHBvcnRzLmRlZmF1bHQgPSBEaXNwbGF5T2JqZWN0O1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSA9IERpc3BsYXlPYmplY3QucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURpc3BsYXlPYmplY3QuanMubWFwIiwiLyoqXG4gKiBFeHRyYWN0cyB0aGUgYXR0cmlidXRlc1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqIEBwYXJhbSB1bmlmb3JtcyB7QXJyYXl9IEBtYXQgP1xuICogQHJldHVybiBhdHRyaWJ1dGVzIHtPYmplY3R9XG4gKi9cbnZhciBnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QgPSBmdW5jdGlvbihnbCwgdW5pZm9ybURhdGEpXG57XG4gICAgLy8gdGhpcyBpcyB0aGUgb2JqZWN0IHdlIHdpbGwgYmUgc2VuZGluZyBiYWNrLlxuICAgIC8vIGFuIG9iamVjdCBoaWVyYWNoeSB3aWxsIGJlIGNyZWF0ZWQgZm9yIHN0cnVjdHNcbiAgICB2YXIgdW5pZm9ybXMgPSB7ZGF0YTp7fX07XG5cbiAgICB1bmlmb3Jtcy5nbCA9IGdsO1xuXG4gICAgdmFyIHVuaWZvcm1LZXlzPSBPYmplY3Qua2V5cyh1bmlmb3JtRGF0YSk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVuaWZvcm1LZXlzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIGZ1bGxOYW1lID0gdW5pZm9ybUtleXNbaV07XG5cbiAgICAgICAgdmFyIG5hbWVUb2tlbnMgPSBmdWxsTmFtZS5zcGxpdCgnLicpO1xuICAgICAgICB2YXIgbmFtZSA9IG5hbWVUb2tlbnNbbmFtZVRva2Vucy5sZW5ndGggLSAxXTtcblxuXG4gICAgICAgIHZhciB1bmlmb3JtR3JvdXAgPSBnZXRVbmlmb3JtR3JvdXAobmFtZVRva2VucywgdW5pZm9ybXMpO1xuXG4gICAgICAgIHZhciB1bmlmb3JtID0gIHVuaWZvcm1EYXRhW2Z1bGxOYW1lXTtcbiAgICAgICAgdW5pZm9ybUdyb3VwLmRhdGFbbmFtZV0gPSB1bmlmb3JtO1xuXG4gICAgICAgIHVuaWZvcm1Hcm91cC5nbCA9IGdsO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1bmlmb3JtR3JvdXAsIG5hbWUsIHtcbiAgICAgICAgICAgIGdldDogZ2VuZXJhdGVHZXR0ZXIobmFtZSksXG4gICAgICAgICAgICBzZXQ6IGdlbmVyYXRlU2V0dGVyKG5hbWUsIHVuaWZvcm0pXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB1bmlmb3Jtcztcbn07XG5cbnZhciBnZW5lcmF0ZUdldHRlciA9IGZ1bmN0aW9uKG5hbWUpXG57XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhW25hbWVdLnZhbHVlO1xuICAgIH07XG59O1xuXG52YXIgR0xTTF9TSU5HTEVfU0VUVEVSUyA9IHtcbiAgICBmbG9hdDogZnVuY3Rpb24gc2V0U2luZ2xlRmxvYXQoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICB2ZWMyOiBmdW5jdGlvbiBzZXRTaW5nbGVWZWMyKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTJmKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0pOyB9LFxuICAgIHZlYzM6IGZ1bmN0aW9uIHNldFNpbmdsZVZlYzMoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtM2YobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0pOyB9LFxuICAgIHZlYzQ6IGZ1bmN0aW9uIHNldFNpbmdsZVZlYzQoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtNGYobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0sIHZhbHVlWzNdKTsgfSxcblxuICAgIGludDogZnVuY3Rpb24gc2V0U2luZ2xlSW50KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgaXZlYzI6IGZ1bmN0aW9uIHNldFNpbmdsZUl2ZWMyKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTJpKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0pOyB9LFxuICAgIGl2ZWMzOiBmdW5jdGlvbiBzZXRTaW5nbGVJdmVjMyhnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0zaShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSk7IH0sXG4gICAgaXZlYzQ6IGZ1bmN0aW9uIHNldFNpbmdsZUl2ZWM0KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0sIHZhbHVlWzJdLCB2YWx1ZVszXSk7IH0sXG5cbiAgICBib29sOiBmdW5jdGlvbiBzZXRTaW5nbGVCb29sKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgYnZlYzI6IGZ1bmN0aW9uIHNldFNpbmdsZUJ2ZWMyKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTJpKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0pOyB9LFxuICAgIGJ2ZWMzOiBmdW5jdGlvbiBzZXRTaW5nbGVCdmVjMyhnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0zaShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSk7IH0sXG4gICAgYnZlYzQ6IGZ1bmN0aW9uIHNldFNpbmdsZUJ2ZWM0KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0sIHZhbHVlWzJdLCB2YWx1ZVszXSk7IH0sXG5cbiAgICBtYXQyOiBmdW5jdGlvbiBzZXRTaW5nbGVNYXQyKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHZhbHVlKTsgfSxcbiAgICBtYXQzOiBmdW5jdGlvbiBzZXRTaW5nbGVNYXQzKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHZhbHVlKTsgfSxcbiAgICBtYXQ0OiBmdW5jdGlvbiBzZXRTaW5nbGVNYXQ0KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHZhbHVlKTsgfSxcblxuICAgIHNhbXBsZXIyRDogZnVuY3Rpb24gc2V0U2luZ2xlU2FtcGxlcjJEKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG59O1xuXG52YXIgR0xTTF9BUlJBWV9TRVRURVJTID0ge1xuICAgIGZsb2F0OiBmdW5jdGlvbiBzZXRGbG9hdEFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFmdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIHZlYzI6IGZ1bmN0aW9uIHNldFZlYzJBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0yZnYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICB2ZWMzOiBmdW5jdGlvbiBzZXRWZWMzQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtM2Z2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgdmVjNDogZnVuY3Rpb24gc2V0VmVjNEFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTRmdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGludDogZnVuY3Rpb24gc2V0SW50QXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgaXZlYzI6IGZ1bmN0aW9uIHNldEl2ZWMyQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgaXZlYzM6IGZ1bmN0aW9uIHNldEl2ZWMzQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgaXZlYzQ6IGZ1bmN0aW9uIHNldEl2ZWM0QXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgYm9vbDogZnVuY3Rpb24gc2V0Qm9vbEFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGJ2ZWMyOiBmdW5jdGlvbiBzZXRCdmVjMkFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGJ2ZWMzOiBmdW5jdGlvbiBzZXRCdmVjM0FycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGJ2ZWM0OiBmdW5jdGlvbiBzZXRCdmVjNEFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIHNhbXBsZXIyRDogZnVuY3Rpb24gc2V0U2FtcGxlcjJEQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG59O1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVNldHRlcihuYW1lLCB1bmlmb3JtKVxue1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLmRhdGFbbmFtZV0udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdmFyIGxvY2F0aW9uID0gdGhpcy5kYXRhW25hbWVdLmxvY2F0aW9uO1xuICAgICAgICBpZiAodW5pZm9ybS5zaXplID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBHTFNMX1NJTkdMRV9TRVRURVJTW3VuaWZvcm0udHlwZV0odGhpcy5nbCwgbG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGdsc2xTZXRBcnJheShnbCwgbG9jYXRpb24sIHR5cGUsIHZhbHVlKSB7XG4gICAgICAgICAgICBHTFNMX0FSUkFZX1NFVFRFUlNbdW5pZm9ybS50eXBlXSh0aGlzLmdsLCBsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0VW5pZm9ybUdyb3VwKG5hbWVUb2tlbnMsIHVuaWZvcm0pXG57XG4gICAgdmFyIGN1ciA9IHVuaWZvcm07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWVUb2tlbnMubGVuZ3RoIC0gMTsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIG8gPSBjdXJbbmFtZVRva2Vuc1tpXV0gfHwge2RhdGE6e319O1xuICAgICAgICBjdXJbbmFtZVRva2Vuc1tpXV0gPSBvO1xuICAgICAgICBjdXIgPSBvO1xuICAgIH1cblxuICAgIHJldHVybiBjdXI7XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3Q7XG4iLCIvKipcbiAqIFNldHMgdGhlIGZsb2F0IHByZWNpc2lvbiBvbiB0aGUgc2hhZGVyLiBJZiB0aGUgcHJlY2lzaW9uIGlzIGFscmVhZHkgcHJlc2VudCB0aGlzIGZ1bmN0aW9uIHdpbGwgZG8gbm90aGluZ1xuICogQHBhcmFtIHtzdHJpbmd9IHNyYyAgICAgICB0aGUgc2hhZGVyIHNvdXJjZVxuICogQHBhcmFtIHtzdHJpbmd9IHByZWNpc2lvbiBUaGUgZmxvYXQgcHJlY2lzaW9uIG9mIHRoZSBzaGFkZXIuIE9wdGlvbnMgYXJlICdsb3dwJywgJ21lZGl1bXAnIG9yICdoaWdocCcuXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBtb2RpZmllZCBzaGFkZXIgc291cmNlXG4gKi9cbnZhciBzZXRQcmVjaXNpb24gPSBmdW5jdGlvbihzcmMsIHByZWNpc2lvbilcbntcbiAgICBpZihzcmMuc3Vic3RyaW5nKDAsIDkpICE9PSAncHJlY2lzaW9uJylcbiAgICB7XG4gICAgICAgIHJldHVybiAncHJlY2lzaW9uICcgKyBwcmVjaXNpb24gKyAnIGZsb2F0O1xcbicgKyBzcmM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0UHJlY2lzaW9uO1xuIiwiLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSB0eXBlIHtTdHJpbmd9IFR5cGUgb2YgdmFsdWVcbiAqIEBwYXJhbSBzaXplIHtOdW1iZXJ9XG4gKi9cbnZhciBkZWZhdWx0VmFsdWUgPSBmdW5jdGlvbih0eXBlLCBzaXplKSBcbntcbiAgICBzd2l0Y2ggKHR5cGUpXG4gICAge1xuICAgICAgICBjYXNlICdmbG9hdCc6XG4gICAgICAgICAgICByZXR1cm4gMDtcblxuICAgICAgICBjYXNlICd2ZWMyJzogXG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgyICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAndmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgzICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAndmVjNCc6ICAgICBcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDQgKiBzaXplKTtcbiAgICAgICAgICAgIFxuICAgICAgICBjYXNlICdpbnQnOlxuICAgICAgICBjYXNlICdzYW1wbGVyMkQnOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG5cbiAgICAgICAgY2FzZSAnaXZlYzInOiAgIFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDIgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdpdmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoMyAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2l2ZWM0JzogXG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoNCAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2Jvb2wnOiAgICAgXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY2FzZSAnYnZlYzInOlxuXG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KCAyICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnYnZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSgzICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnYnZlYzQnOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSg0ICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnbWF0Mic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAxXSk7XG5cbiAgICAgICAgY2FzZSAnbWF0Myc6IFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgMSwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAwLCAxXSk7XG5cbiAgICAgICAgY2FzZSAnbWF0NCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDAsIDEsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgMCwgMCwgMV0pO1xuICAgIH1cbn07XG5cbnZhciBib29sZWFuQXJyYXkgPSBmdW5jdGlvbihzaXplKVxue1xuICAgIHZhciBhcnJheSA9IG5ldyBBcnJheShzaXplKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIFxuICAgIHtcbiAgICAgICAgYXJyYXlbaV0gPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmF1bHRWYWx1ZTtcbiIsInZhciBtYXBUeXBlID0gcmVxdWlyZSgnLi9tYXBUeXBlJyk7XG52YXIgZGVmYXVsdFZhbHVlID0gcmVxdWlyZSgnLi9kZWZhdWx0VmFsdWUnKTtcblxuLyoqXG4gKiBFeHRyYWN0cyB0aGUgdW5pZm9ybXNcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gcHJvZ3JhbSB7V2ViR0xQcm9ncmFtfSBUaGUgc2hhZGVyIHByb2dyYW0gdG8gZ2V0IHRoZSB1bmlmb3JtcyBmcm9tXG4gKiBAcmV0dXJuIHVuaWZvcm1zIHtPYmplY3R9XG4gKi9cbnZhciBleHRyYWN0VW5pZm9ybXMgPSBmdW5jdGlvbihnbCwgcHJvZ3JhbSlcbntcblx0dmFyIHVuaWZvcm1zID0ge307XG5cbiAgICB2YXIgdG90YWxVbmlmb3JtcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX1VOSUZPUk1TKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxVbmlmb3JtczsgaSsrKVxuICAgIHtcbiAgICBcdHZhciB1bmlmb3JtRGF0YSA9IGdsLmdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaSk7XG4gICAgXHR2YXIgbmFtZSA9IHVuaWZvcm1EYXRhLm5hbWUucmVwbGFjZSgvXFxbLio/XFxdLywgXCJcIik7XG4gICAgICAgIHZhciB0eXBlID0gbWFwVHlwZShnbCwgdW5pZm9ybURhdGEudHlwZSApO1xuXG4gICAgXHR1bmlmb3Jtc1tuYW1lXSA9IHtcbiAgICBcdFx0dHlwZTp0eXBlLFxuICAgIFx0XHRzaXplOnVuaWZvcm1EYXRhLnNpemUsXG4gICAgXHRcdGxvY2F0aW9uOmdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBuYW1lKSxcbiAgICBcdFx0dmFsdWU6ZGVmYXVsdFZhbHVlKHR5cGUsIHVuaWZvcm1EYXRhLnNpemUpXG4gICAgXHR9O1xuICAgIH1cblxuXHRyZXR1cm4gdW5pZm9ybXM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4dHJhY3RVbmlmb3JtcztcbiIsIi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gdHlwZSB7U3RyaW5nfVxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG52YXIgbWFwU2l6ZSA9IGZ1bmN0aW9uKHR5cGUpIFxueyBcbiAgICByZXR1cm4gR0xTTF9UT19TSVpFW3R5cGVdO1xufTtcblxuXG52YXIgR0xTTF9UT19TSVpFID0ge1xuICAgICdmbG9hdCc6ICAgIDEsXG4gICAgJ3ZlYzInOiAgICAgMixcbiAgICAndmVjMyc6ICAgICAzLFxuICAgICd2ZWM0JzogICAgIDQsXG5cbiAgICAnaW50JzogICAgICAxLFxuICAgICdpdmVjMic6ICAgIDIsXG4gICAgJ2l2ZWMzJzogICAgMyxcbiAgICAnaXZlYzQnOiAgICA0LFxuXG4gICAgJ2Jvb2wnOiAgICAgMSxcbiAgICAnYnZlYzInOiAgICAyLFxuICAgICdidmVjMyc6ICAgIDMsXG4gICAgJ2J2ZWM0JzogICAgNCxcblxuICAgICdtYXQyJzogICAgIDQsXG4gICAgJ21hdDMnOiAgICAgOSxcbiAgICAnbWF0NCc6ICAgICAxNixcblxuICAgICdzYW1wbGVyMkQnOiAgMVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBtYXBTaXplO1xuIiwiXG52YXIgbWFwVHlwZSA9IHJlcXVpcmUoJy4vbWFwVHlwZScpO1xudmFyIG1hcFNpemUgPSByZXF1aXJlKCcuL21hcFNpemUnKTtcblxuLyoqXG4gKiBFeHRyYWN0cyB0aGUgYXR0cmlidXRlc1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqIEBwYXJhbSBwcm9ncmFtIHtXZWJHTFByb2dyYW19IFRoZSBzaGFkZXIgcHJvZ3JhbSB0byBnZXQgdGhlIGF0dHJpYnV0ZXMgZnJvbVxuICogQHJldHVybiBhdHRyaWJ1dGVzIHtPYmplY3R9XG4gKi9cbnZhciBleHRyYWN0QXR0cmlidXRlcyA9IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKVxue1xuICAgIHZhciBhdHRyaWJ1dGVzID0ge307XG5cbiAgICB2YXIgdG90YWxBdHRyaWJ1dGVzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfQVRUUklCVVRFUyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsQXR0cmlidXRlczsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIGF0dHJpYkRhdGEgPSBnbC5nZXRBY3RpdmVBdHRyaWIocHJvZ3JhbSwgaSk7XG4gICAgICAgIHZhciB0eXBlID0gbWFwVHlwZShnbCwgYXR0cmliRGF0YS50eXBlKTtcblxuICAgICAgICBhdHRyaWJ1dGVzW2F0dHJpYkRhdGEubmFtZV0gPSB7XG4gICAgICAgICAgICB0eXBlOnR5cGUsXG4gICAgICAgICAgICBzaXplOm1hcFNpemUodHlwZSksXG4gICAgICAgICAgICBsb2NhdGlvbjpnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBhdHRyaWJEYXRhLm5hbWUpLFxuICAgICAgICAgICAgLy9UT0RPIC0gbWFrZSBhbiBhdHRyaWJ1dGUgb2JqZWN0XG4gICAgICAgICAgICBwb2ludGVyOiBwb2ludGVyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG59O1xuXG52YXIgcG9pbnRlciA9IGZ1bmN0aW9uKHR5cGUsIG5vcm1hbGl6ZWQsIHN0cmlkZSwgc3RhcnQpe1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubG9jYXRpb24pXG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmxvY2F0aW9uLHRoaXMuc2l6ZSwgdHlwZSB8fCBnbC5GTE9BVCwgbm9ybWFsaXplZCB8fCBmYWxzZSwgc3RyaWRlIHx8IDAsIHN0YXJ0IHx8IDApO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHRyYWN0QXR0cmlidXRlcztcbiIsIlxuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdmVydGV4U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIGZyYWdtZW50U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSBmcmFnbWVudCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0gYXR0cmlidXRlTG9jYXRpb25zIHtPYmplY3R9IEFuIGF0dHJpYnV0ZSBsb2NhdGlvbiBtYXAgdGhhdCBsZXRzIHlvdSBtYW51YWxseSBzZXQgdGhlIGF0dHJpYnV0ZSBsb2NhdGlvbnNcbiAqIEByZXR1cm4ge1dlYkdMUHJvZ3JhbX0gdGhlIHNoYWRlciBwcm9ncmFtXG4gKi9cbnZhciBjb21waWxlUHJvZ3JhbSA9IGZ1bmN0aW9uKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBhdHRyaWJ1dGVMb2NhdGlvbnMpXG57XG4gICAgdmFyIGdsVmVydFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNyYyk7XG4gICAgdmFyIGdsRnJhZ1NoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTcmMpO1xuXG4gICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG5cbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xWZXJ0U2hhZGVyKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xGcmFnU2hhZGVyKTtcblxuICAgIC8vIG9wdGlvbmFsbHksIHNldCB0aGUgYXR0cmlidXRlcyBtYW51YWxseSBmb3IgdGhlIHByb2dyYW0gcmF0aGVyIHRoYW4gbGV0dGluZyBXZWJHTCBkZWNpZGUuLlxuICAgIGlmKGF0dHJpYnV0ZUxvY2F0aW9ucylcbiAgICB7XG4gICAgICAgIGZvcih2YXIgaSBpbiBhdHRyaWJ1dGVMb2NhdGlvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmJpbmRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBhdHRyaWJ1dGVMb2NhdGlvbnNbaV0sIGkpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcblxuICAgIC8vIGlmIGxpbmtpbmcgZmFpbHMsIHRoZW4gbG9nIGFuZCBjbGVhbnVwXG4gICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSlcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BpeGkuanMgRXJyb3I6IENvdWxkIG5vdCBpbml0aWFsaXplIHNoYWRlci4nKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignZ2wuVkFMSURBVEVfU1RBVFVTJywgZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5WQUxJREFURV9TVEFUVVMpKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignZ2wuZ2V0RXJyb3IoKScsIGdsLmdldEVycm9yKCkpO1xuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGEgcHJvZ3JhbSBpbmZvIGxvZywgbG9nIGl0XG4gICAgICAgIGlmIChnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSAhPT0gJycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUGl4aS5qcyBXYXJuaW5nOiBnbC5nZXRQcm9ncmFtSW5mb0xvZygpJywgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgcHJvZ3JhbSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gY2xlYW4gdXAgc29tZSBzaGFkZXJzXG4gICAgZ2wuZGVsZXRlU2hhZGVyKGdsVmVydFNoYWRlcik7XG4gICAgZ2wuZGVsZXRlU2hhZGVyKGdsRnJhZ1NoYWRlcik7XG5cbiAgICByZXR1cm4gcHJvZ3JhbTtcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdHlwZSB7TnVtYmVyfSB0aGUgdHlwZSwgY2FuIGJlIGVpdGhlciBWRVJURVhfU0hBREVSIG9yIEZSQUdNRU5UX1NIQURFUlxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEByZXR1cm4ge1dlYkdMU2hhZGVyfSB0aGUgc2hhZGVyXG4gKi9cbnZhciBjb21waWxlU2hhZGVyID0gZnVuY3Rpb24gKGdsLCB0eXBlLCBzcmMpXG57XG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcblxuICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNyYyk7XG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gc2hhZGVyO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjb21waWxlUHJvZ3JhbTtcbiIsIlxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgV2ViR0wgVGV4dHVyZVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dFxuICogQHBhcmFtIHdpZHRoIHtudW1iZXJ9IHRoZSB3aWR0aCBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIGhlaWdodCB7bnVtYmVyfSB0aGUgaGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gZm9ybWF0IHtudW1iZXJ9IHRoZSBwaXhlbCBmb3JtYXQgb2YgdGhlIHRleHR1cmUuIGRlZmF1bHRzIHRvIGdsLlJHQkFcbiAqIEBwYXJhbSB0eXBlIHtudW1iZXJ9IHRoZSBnbCB0eXBlIG9mIHRoZSB0ZXh0dXJlLiBkZWZhdWx0cyB0byBnbC5VTlNJR05FRF9CWVRFXG4gKi9cbnZhciBUZXh0dXJlID0gZnVuY3Rpb24oZ2wsIHdpZHRoLCBoZWlnaHQsIGZvcm1hdCwgdHlwZSlcbntcblx0LyoqXG5cdCAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG5cdCAqXG5cdCAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cblx0ICovXG5cdHRoaXMuZ2wgPSBnbDtcblxuXG5cdC8qKlxuXHQgKiBUaGUgV2ViR0wgdGV4dHVyZVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtXZWJHTFRleHR1cmV9XG5cdCAqL1xuXHR0aGlzLnRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG5cblx0LyoqXG5cdCAqIElmIG1pcG1hcHBpbmcgd2FzIHVzZWQgZm9yIHRoaXMgdGV4dHVyZSwgZW5hYmxlIGFuZCBkaXNhYmxlIHdpdGggZW5hYmxlTWlwbWFwKClcblx0ICpcblx0ICogQG1lbWJlciB7Qm9vbGVhbn1cblx0ICovXG5cdC8vIHNvbWUgc2V0dGluZ3MuLlxuXHR0aGlzLm1pcG1hcCA9IGZhbHNlO1xuXG5cblx0LyoqXG5cdCAqIFNldCB0byB0cnVlIHRvIGVuYWJsZSBwcmUtbXVsdGlwbGllZCBhbHBoYVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtCb29sZWFufVxuXHQgKi9cblx0dGhpcy5wcmVtdWx0aXBseUFscGhhID0gZmFsc2U7XG5cblx0LyoqXG5cdCAqIFRoZSB3aWR0aCBvZiB0ZXh0dXJlXG5cdCAqXG5cdCAqIEBtZW1iZXIge051bWJlcn1cblx0ICovXG5cdHRoaXMud2lkdGggPSB3aWR0aCB8fCAtMTtcblx0LyoqXG5cdCAqIFRoZSBoZWlnaHQgb2YgdGV4dHVyZVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtOdW1iZXJ9XG5cdCAqL1xuXHR0aGlzLmhlaWdodCA9IGhlaWdodCB8fCAtMTtcblxuXHQvKipcblx0ICogVGhlIHBpeGVsIGZvcm1hdCBvZiB0aGUgdGV4dHVyZS4gZGVmYXVsdHMgdG8gZ2wuUkdCQVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtOdW1iZXJ9XG5cdCAqL1xuXHR0aGlzLmZvcm1hdCA9IGZvcm1hdCB8fCBnbC5SR0JBO1xuXG5cdC8qKlxuXHQgKiBUaGUgZ2wgdHlwZSBvZiB0aGUgdGV4dHVyZS4gZGVmYXVsdHMgdG8gZ2wuVU5TSUdORURfQllURVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtOdW1iZXJ9XG5cdCAqL1xuXHR0aGlzLnR5cGUgPSB0eXBlIHx8IGdsLlVOU0lHTkVEX0JZVEU7XG5cblxufTtcblxuLyoqXG4gKiBVcGxvYWRzIHRoaXMgdGV4dHVyZSB0byB0aGUgR1BVXG4gKiBAcGFyYW0gc291cmNlIHtIVE1MSW1hZ2VFbGVtZW50fEltYWdlRGF0YXxIVE1MVmlkZW9FbGVtZW50fSB0aGUgc291cmNlIGltYWdlIG9mIHRoZSB0ZXh0dXJlXG4gKi9cblRleHR1cmUucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uKHNvdXJjZSlcbntcblx0dGhpcy5iaW5kKCk7XG5cblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXG5cdGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgdGhpcy5wcmVtdWx0aXBseUFscGhhKTtcblxuXHR2YXIgbmV3V2lkdGggPSBzb3VyY2UudmlkZW9XaWR0aCB8fCBzb3VyY2Uud2lkdGg7XG5cdHZhciBuZXdIZWlnaHQgPSBzb3VyY2UudmlkZW9IZWlnaHQgfHwgc291cmNlLmhlaWdodDtcblxuXHRpZihuZXdIZWlnaHQgIT09IHRoaXMuaGVpZ2h0IHx8IG5ld1dpZHRoICE9PSB0aGlzLndpZHRoKVxuXHR7XG5cdFx0Z2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCB0aGlzLmZvcm1hdCwgdGhpcy5mb3JtYXQsIHRoaXMudHlwZSwgc291cmNlKTtcblx0fVxuXHRlbHNlXG5cdHtcbiAgICBcdGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgdGhpcy5mb3JtYXQsIHRoaXMudHlwZSwgc291cmNlKTtcblx0fVxuXG5cdC8vIGlmIHRoZSBzb3VyY2UgaXMgYSB2aWRlbywgd2UgbmVlZCB0byB1c2UgdGhlIHZpZGVvV2lkdGggLyB2aWRlb0hlaWdodCBwcm9wZXJ0aWVzIGFzIHdpZHRoIC8gaGVpZ2h0IHdpbGwgYmUgaW5jb3JyZWN0LlxuXHR0aGlzLndpZHRoID0gbmV3V2lkdGg7XG5cdHRoaXMuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xuXG59O1xuXG52YXIgRkxPQVRJTkdfUE9JTlRfQVZBSUxBQkxFID0gZmFsc2U7XG5cbi8qKlxuICogVXNlIGEgZGF0YSBzb3VyY2UgYW5kIHVwbG9hZHMgdGhpcyB0ZXh0dXJlIHRvIHRoZSBHUFVcbiAqIEBwYXJhbSBkYXRhIHtUeXBlZEFycmF5fSB0aGUgZGF0YSB0byB1cGxvYWQgdG8gdGhlIHRleHR1cmVcbiAqIEBwYXJhbSB3aWR0aCB7bnVtYmVyfSB0aGUgbmV3IHdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gaGVpZ2h0IHtudW1iZXJ9IHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gKi9cblRleHR1cmUucHJvdG90eXBlLnVwbG9hZERhdGEgPSBmdW5jdGlvbihkYXRhLCB3aWR0aCwgaGVpZ2h0KVxue1xuXHR0aGlzLmJpbmQoKTtcblxuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cblx0aWYoZGF0YSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSlcblx0e1xuXHRcdGlmKCFGTE9BVElOR19QT0lOVF9BVkFJTEFCTEUpXG5cdFx0e1xuXHRcdFx0dmFyIGV4dCA9IGdsLmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2Zsb2F0XCIpO1xuXG5cdFx0XHRpZihleHQpXG5cdFx0XHR7XG5cdFx0XHRcdEZMT0FUSU5HX1BPSU5UX0FWQUlMQUJMRSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHR7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignZmxvYXRpbmcgcG9pbnQgdGV4dHVyZXMgbm90IGF2YWlsYWJsZScpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMudHlwZSA9IGdsLkZMT0FUO1xuXHR9XG5cdGVsc2Vcblx0e1xuXHRcdC8vIFRPRE8gc3VwcG9ydCBmb3Igb3RoZXIgdHlwZXNcblx0XHR0aGlzLnR5cGUgPSB0aGlzLnR5cGUgfHwgZ2wuVU5TSUdORURfQllURTtcblx0fVxuXG5cdC8vIHdoYXQgdHlwZSBvZiBkYXRhP1xuXHRnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIHRoaXMucHJlbXVsdGlwbHlBbHBoYSk7XG5cblxuXHRpZih3aWR0aCAhPT0gdGhpcy53aWR0aCB8fCBoZWlnaHQgIT09IHRoaXMuaGVpZ2h0KVxuXHR7XG5cdFx0Z2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCB0aGlzLmZvcm1hdCwgIHdpZHRoLCBoZWlnaHQsIDAsIHRoaXMuZm9ybWF0LCB0aGlzLnR5cGUsIGRhdGEgfHwgbnVsbCk7XG5cdH1cblx0ZWxzZVxuXHR7XG5cdFx0Z2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCB3aWR0aCwgaGVpZ2h0LCB0aGlzLmZvcm1hdCwgdGhpcy50eXBlLCBkYXRhIHx8IG51bGwpO1xuXHR9XG5cblx0dGhpcy53aWR0aCA9IHdpZHRoO1xuXHR0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuXG4vL1x0dGV4U3ViSW1hZ2UyRFxufTtcblxuLyoqXG4gKiBCaW5kcyB0aGUgdGV4dHVyZVxuICogQHBhcmFtICBsb2NhdGlvblxuICovXG5UZXh0dXJlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24obG9jYXRpb24pXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0aWYobG9jYXRpb24gIT09IHVuZGVmaW5lZClcblx0e1xuXHRcdGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBsb2NhdGlvbik7XG5cdH1cblxuXHRnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmUpO1xufTtcblxuLyoqXG4gKiBVbmJpbmRzIHRoZSB0ZXh0dXJlXG4gKi9cblRleHR1cmUucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblx0Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSBsaW5lYXIge0Jvb2xlYW59IGlmIHdlIHdhbnQgdG8gdXNlIGxpbmVhciBmaWx0ZXJpbmcgb3IgbmVhcmVzdCBuZWlnaGJvdXIgaW50ZXJwb2xhdGlvblxuICovXG5UZXh0dXJlLnByb3RvdHlwZS5taW5GaWx0ZXIgPSBmdW5jdGlvbiggbGluZWFyIClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHR0aGlzLmJpbmQoKTtcblxuXHRpZih0aGlzLm1pcG1hcClcblx0e1xuXHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBsaW5lYXIgPyBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUiA6IGdsLk5FQVJFU1RfTUlQTUFQX05FQVJFU1QpO1xuXHR9XG5cdGVsc2Vcblx0e1xuXHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBsaW5lYXIgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUKTtcblx0fVxufTtcblxuLyoqXG4gKiBAcGFyYW0gbGluZWFyIHtCb29sZWFufSBpZiB3ZSB3YW50IHRvIHVzZSBsaW5lYXIgZmlsdGVyaW5nIG9yIG5lYXJlc3QgbmVpZ2hib3VyIGludGVycG9sYXRpb25cbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUubWFnRmlsdGVyID0gZnVuY3Rpb24oIGxpbmVhciApXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0dGhpcy5iaW5kKCk7XG5cblx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGxpbmVhciA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xufTtcblxuLyoqXG4gKiBFbmFibGVzIG1pcG1hcHBpbmdcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlTWlwbWFwID0gZnVuY3Rpb24oKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdHRoaXMuYmluZCgpO1xuXG5cdHRoaXMubWlwbWFwID0gdHJ1ZTtcblxuXHRnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKTtcbn07XG5cbi8qKlxuICogRW5hYmxlcyBsaW5lYXIgZmlsdGVyaW5nXG4gKi9cblRleHR1cmUucHJvdG90eXBlLmVuYWJsZUxpbmVhclNjYWxpbmcgPSBmdW5jdGlvbigpXG57XG5cdHRoaXMubWluRmlsdGVyKHRydWUpO1xuXHR0aGlzLm1hZ0ZpbHRlcih0cnVlKTtcbn07XG5cbi8qKlxuICogRW5hYmxlcyBuZWFyZXN0IG5laWdoYm91ciBpbnRlcnBvbGF0aW9uXG4gKi9cblRleHR1cmUucHJvdG90eXBlLmVuYWJsZU5lYXJlc3RTY2FsaW5nID0gZnVuY3Rpb24oKVxue1xuXHR0aGlzLm1pbkZpbHRlcihmYWxzZSk7XG5cdHRoaXMubWFnRmlsdGVyKGZhbHNlKTtcbn07XG5cbi8qKlxuICogRW5hYmxlcyBjbGFtcGluZyBvbiB0aGUgdGV4dHVyZSBzbyBXZWJHTCB3aWxsIG5vdCByZXBlYXQgaXRcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlV3JhcENsYW1wID0gZnVuY3Rpb24oKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdHRoaXMuYmluZCgpO1xuXG5cdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xufTtcblxuLyoqXG4gKiBFbmFibGUgdGlsaW5nIG9uIHRoZSB0ZXh0dXJlXG4gKi9cblRleHR1cmUucHJvdG90eXBlLmVuYWJsZVdyYXBSZXBlYXQgPSBmdW5jdGlvbigpXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0dGhpcy5iaW5kKCk7XG5cblx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuUkVQRUFUKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5SRVBFQVQpO1xufTtcblxuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlV3JhcE1pcnJvclJlcGVhdCA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHR0aGlzLmJpbmQoKTtcblxuXHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5NSVJST1JFRF9SRVBFQVQpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLk1JUlJPUkVEX1JFUEVBVCk7XG59O1xuXG5cbi8qKlxuICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gKi9cblRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cdC8vVE9ET1xuXHRnbC5kZWxldGVUZXh0dXJlKHRoaXMudGV4dHVyZSk7XG59O1xuXG4vKipcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0XG4gKiBAcGFyYW0gc291cmNlIHtIVE1MSW1hZ2VFbGVtZW50fEltYWdlRGF0YX0gdGhlIHNvdXJjZSBpbWFnZSBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHByZW11bHRpcGx5QWxwaGEge0Jvb2xlYW59IElmIHdlIHdhbnQgdG8gdXNlIHByZS1tdWx0aXBsaWVkIGFscGhhXG4gKi9cblRleHR1cmUuZnJvbVNvdXJjZSA9IGZ1bmN0aW9uKGdsLCBzb3VyY2UsIHByZW11bHRpcGx5QWxwaGEpXG57XG5cdHZhciB0ZXh0dXJlID0gbmV3IFRleHR1cmUoZ2wpO1xuXHR0ZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgPSBwcmVtdWx0aXBseUFscGhhIHx8IGZhbHNlO1xuXHR0ZXh0dXJlLnVwbG9hZChzb3VyY2UpO1xuXG5cdHJldHVybiB0ZXh0dXJlO1xufTtcblxuLyoqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dFxuICogQHBhcmFtIGRhdGEge1R5cGVkQXJyYXl9IHRoZSBkYXRhIHRvIHVwbG9hZCB0byB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHdpZHRoIHtudW1iZXJ9IHRoZSBuZXcgd2lkdGggb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSBoZWlnaHQge251bWJlcn0gdGhlIG5ldyBoZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5mcm9tRGF0YSA9IGZ1bmN0aW9uKGdsLCBkYXRhLCB3aWR0aCwgaGVpZ2h0KVxue1xuXHQvL2NvbnNvbGUubG9nKGRhdGEsIHdpZHRoLCBoZWlnaHQpO1xuXHR2YXIgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKGdsKTtcblx0dGV4dHVyZS51cGxvYWREYXRhKGRhdGEsIHdpZHRoLCBoZWlnaHQpO1xuXG5cdHJldHVybiB0ZXh0dXJlO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFRleHR1cmU7XG4iLCIvLyB2YXIgR0xfTUFQID0ge307XG5cbi8qKlxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHRcbiAqIEBwYXJhbSBhdHRyaWJzIHsqfVxuICogQHBhcmFtIHN0YXRlIHsqfVxuICovXG52YXIgc2V0VmVydGV4QXR0cmliQXJyYXlzID0gZnVuY3Rpb24gKGdsLCBhdHRyaWJzLCBzdGF0ZSlcbntcbiAgICB2YXIgaTtcbiAgICBpZihzdGF0ZSlcbiAgICB7XG4gICAgICAgIHZhciB0ZW1wQXR0cmliU3RhdGUgPSBzdGF0ZS50ZW1wQXR0cmliU3RhdGUsXG4gICAgICAgICAgICBhdHRyaWJTdGF0ZSA9IHN0YXRlLmF0dHJpYlN0YXRlO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0ZW1wQXR0cmliU3RhdGUubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRlbXBBdHRyaWJTdGF0ZVtpXSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHRoZSBuZXcgYXR0cmlic1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXR0cmlicy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGVtcEF0dHJpYlN0YXRlW2F0dHJpYnNbaV0uYXR0cmlidXRlLmxvY2F0aW9uXSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXR0cmliU3RhdGUubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChhdHRyaWJTdGF0ZVtpXSAhPT0gdGVtcEF0dHJpYlN0YXRlW2ldKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYlN0YXRlW2ldID0gdGVtcEF0dHJpYlN0YXRlW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmF0dHJpYlN0YXRlW2ldKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXR0cmlicy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGF0dHJpYiA9IGF0dHJpYnNbaV07XG4gICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhdHRyaWIuYXR0cmlidXRlLmxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0VmVydGV4QXR0cmliQXJyYXlzO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX01hdHJpeCA9IHJlcXVpcmUoJy4vTWF0cml4Jyk7XG5cbnZhciBfTWF0cml4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01hdHJpeCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciB1eCA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxXTsgLy8gWW91ciBmcmllbmRseSBuZWlnaGJvdXIgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGloZWRyYWxfZ3JvdXAgb2Ygb3JkZXIgMTZcblxudmFyIHV5ID0gWzAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTFdO1xudmFyIHZ4ID0gWzAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTFdO1xudmFyIHZ5ID0gWzEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTFdO1xudmFyIHRlbXBNYXRyaWNlcyA9IFtdO1xuXG52YXIgbXVsID0gW107XG5cbmZ1bmN0aW9uIHNpZ251bSh4KSB7XG4gICAgaWYgKHggPCAwKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaWYgKHggPiAwKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xufVxuXG5mdW5jdGlvbiBpbml0KCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICB2YXIgcm93ID0gW107XG5cbiAgICAgICAgbXVsLnB1c2gocm93KTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDE2OyBqKyspIHtcbiAgICAgICAgICAgIHZhciBfdXggPSBzaWdudW0odXhbaV0gKiB1eFtqXSArIHZ4W2ldICogdXlbal0pO1xuICAgICAgICAgICAgdmFyIF91eSA9IHNpZ251bSh1eVtpXSAqIHV4W2pdICsgdnlbaV0gKiB1eVtqXSk7XG4gICAgICAgICAgICB2YXIgX3Z4ID0gc2lnbnVtKHV4W2ldICogdnhbal0gKyB2eFtpXSAqIHZ5W2pdKTtcbiAgICAgICAgICAgIHZhciBfdnkgPSBzaWdudW0odXlbaV0gKiB2eFtqXSArIHZ5W2ldICogdnlbal0pO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IDE2OyBrKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodXhba10gPT09IF91eCAmJiB1eVtrXSA9PT0gX3V5ICYmIHZ4W2tdID09PSBfdnggJiYgdnlba10gPT09IF92eSkge1xuICAgICAgICAgICAgICAgICAgICByb3cucHVzaChrKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IDE2OyBfaSsrKSB7XG4gICAgICAgIHZhciBtYXQgPSBuZXcgX01hdHJpeDIuZGVmYXVsdCgpO1xuXG4gICAgICAgIG1hdC5zZXQodXhbX2ldLCB1eVtfaV0sIHZ4W19pXSwgdnlbX2ldLCAwLCAwKTtcbiAgICAgICAgdGVtcE1hdHJpY2VzLnB1c2gobWF0KTtcbiAgICB9XG59XG5cbmluaXQoKTtcblxuLyoqXG4gKiBJbXBsZW1lbnRzIERpaGVkcmFsIEdyb3VwIERfOCwgc2VlIFtncm91cCBENF17QGxpbmsgaHR0cDovL21hdGh3b3JsZC53b2xmcmFtLmNvbS9EaWhlZHJhbEdyb3VwRDQuaHRtbH0sXG4gKiBEOCBpcyB0aGUgc2FtZSBidXQgd2l0aCBkaWFnb25hbHMuIFVzZWQgZm9yIHRleHR1cmUgcm90YXRpb25zLlxuICpcbiAqIFZlY3RvciB4WChpKSwgeFkoaSkgaXMgVS1heGlzIG9mIHNwcml0ZSB3aXRoIHJvdGF0aW9uIGlcbiAqIFZlY3RvciB5WShpKSwgeVkoaSkgaXMgVi1heGlzIG9mIHNwcml0ZSB3aXRoIHJvdGF0aW9uIGlcbiAqIFJvdGF0aW9uczogMCBncmFkICgwKSwgOTAgZ3JhZCAoMiksIDE4MCBncmFkICg0KSwgMjcwIGdyYWQgKDYpXG4gKiBNaXJyb3JzOiB2ZXJ0aWNhbCAoOCksIG1haW4gZGlhZ29uYWwgKDEwKSwgaG9yaXpvbnRhbCAoMTIpLCByZXZlcnNlIGRpYWdvbmFsICgxNClcbiAqIFRoaXMgaXMgdGhlIHNtYWxsIHBhcnQgb2YgZ2FtZW9mYm9tYnMuY29tIHBvcnRhbCBzeXN0ZW0uIEl0IHdvcmtzLlxuICpcbiAqIEBhdXRob3IgSXZhbiBAaXZhbnBvcGVseXNoZXZcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyb3VwRDggPSB7XG4gICAgRTogMCxcbiAgICBTRTogMSxcbiAgICBTOiAyLFxuICAgIFNXOiAzLFxuICAgIFc6IDQsXG4gICAgTlc6IDUsXG4gICAgTjogNixcbiAgICBORTogNyxcbiAgICBNSVJST1JfVkVSVElDQUw6IDgsXG4gICAgTUlSUk9SX0hPUklaT05UQUw6IDEyLFxuICAgIHVYOiBmdW5jdGlvbiB1WChpbmQpIHtcbiAgICAgICAgcmV0dXJuIHV4W2luZF07XG4gICAgfSxcbiAgICB1WTogZnVuY3Rpb24gdVkoaW5kKSB7XG4gICAgICAgIHJldHVybiB1eVtpbmRdO1xuICAgIH0sXG4gICAgdlg6IGZ1bmN0aW9uIHZYKGluZCkge1xuICAgICAgICByZXR1cm4gdnhbaW5kXTtcbiAgICB9LFxuICAgIHZZOiBmdW5jdGlvbiB2WShpbmQpIHtcbiAgICAgICAgcmV0dXJuIHZ5W2luZF07XG4gICAgfSxcbiAgICBpbnY6IGZ1bmN0aW9uIGludihyb3RhdGlvbikge1xuICAgICAgICBpZiAocm90YXRpb24gJiA4KSB7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb24gJiAxNTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAtcm90YXRpb24gJiA3O1xuICAgIH0sXG4gICAgYWRkOiBmdW5jdGlvbiBhZGQocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpIHtcbiAgICAgICAgcmV0dXJuIG11bFtyb3RhdGlvblNlY29uZF1bcm90YXRpb25GaXJzdF07XG4gICAgfSxcbiAgICBzdWI6IGZ1bmN0aW9uIHN1Yihyb3RhdGlvblNlY29uZCwgcm90YXRpb25GaXJzdCkge1xuICAgICAgICByZXR1cm4gbXVsW3JvdGF0aW9uU2Vjb25kXVtHcm91cEQ4Lmludihyb3RhdGlvbkZpcnN0KV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgMTgwIGRlZ3JlZXMgdG8gcm90YXRpb24uIENvbW11dGF0aXZlIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBUaGUgbnVtYmVyIHRvIHJvdGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSByb3RhdGVkIG51bWJlclxuICAgICAqL1xuICAgIHJvdGF0ZTE4MDogZnVuY3Rpb24gcm90YXRlMTgwKHJvdGF0aW9uKSB7XG4gICAgICAgIHJldHVybiByb3RhdGlvbiBeIDQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERpcmVjdGlvbiBvZiBtYWluIHZlY3RvciBjYW4gYmUgaG9yaXpvbnRhbCwgdmVydGljYWwgb3IgZGlhZ29uYWwuXG4gICAgICogU29tZSBvYmplY3RzIHdvcmsgd2l0aCB2ZXJ0aWNhbCBkaXJlY3Rpb25zIGRpZmZlcmVudC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgZGlyZWN0aW9uIGlzIHZlcnRpY2FsXG4gICAgICovXG4gICAgaXNWZXJ0aWNhbDogZnVuY3Rpb24gaXNWZXJ0aWNhbChyb3RhdGlvbikge1xuICAgICAgICByZXR1cm4gKHJvdGF0aW9uICYgMykgPT09IDI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHggLSBUT0RPXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR5IC0gVE9ET1xuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUT0RPXG4gICAgICovXG4gICAgYnlEaXJlY3Rpb246IGZ1bmN0aW9uIGJ5RGlyZWN0aW9uKGR4LCBkeSkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZHgpICogMiA8PSBNYXRoLmFicyhkeSkpIHtcbiAgICAgICAgICAgIGlmIChkeSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguUztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguTjtcbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhkeSkgKiAyIDw9IE1hdGguYWJzKGR4KSkge1xuICAgICAgICAgICAgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBHcm91cEQ4LkU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBHcm91cEQ4Llc7XG4gICAgICAgIH0gZWxzZSBpZiAoZHkgPiAwKSB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguU0U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBHcm91cEQ4LlNXO1xuICAgICAgICB9IGVsc2UgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguTkU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gR3JvdXBEOC5OVztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGVscHMgc3ByaXRlIHRvIGNvbXBlbnNhdGUgdGV4dHVyZSBwYWNrZXIgcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gc3ByaXRlIHdvcmxkIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFRoZSByb3RhdGlvbiBmYWN0b3IgdG8gdXNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eCAtIHNwcml0ZSBhbmNob3JpbmdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHkgLSBzcHJpdGUgYW5jaG9yaW5nXG4gICAgICovXG4gICAgbWF0cml4QXBwZW5kUm90YXRpb25JbnY6IGZ1bmN0aW9uIG1hdHJpeEFwcGVuZFJvdGF0aW9uSW52KG1hdHJpeCwgcm90YXRpb24pIHtcbiAgICAgICAgdmFyIHR4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICAgICAgICB2YXIgdHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG5cbiAgICAgICAgLy8gUGFja2VyIHVzZWQgXCJyb3RhdGlvblwiLCB3ZSB1c2UgXCJpbnYocm90YXRpb24pXCJcbiAgICAgICAgdmFyIG1hdCA9IHRlbXBNYXRyaWNlc1tHcm91cEQ4Lmludihyb3RhdGlvbildO1xuXG4gICAgICAgIG1hdC50eCA9IHR4O1xuICAgICAgICBtYXQudHkgPSB0eTtcbiAgICAgICAgbWF0cml4LmFwcGVuZChtYXQpO1xuICAgIH1cbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdyb3VwRDg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Hcm91cEQ4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBQb2ludCBvYmplY3QgcmVwcmVzZW50cyBhIGxvY2F0aW9uIGluIGEgdHdvLWRpbWVuc2lvbmFsIGNvb3JkaW5hdGUgc3lzdGVtLCB3aGVyZSB4IHJlcHJlc2VudHNcbiAqIHRoZSBob3Jpem9udGFsIGF4aXMgYW5kIHkgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgYXhpcy5cbiAqIEFuIG9ic2VydmFibGUgcG9pbnQgaXMgYSBwb2ludCB0aGF0IHRyaWdnZXJzIGEgY2FsbGJhY2sgd2hlbiB0aGUgcG9pbnQncyBwb3NpdGlvbiBpcyBjaGFuZ2VkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE9ic2VydmFibGVQb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiAtIGNhbGxiYWNrIHdoZW4gY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzY29wZSAtIG93bmVyIG9mIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGVQb2ludChjYiwgc2NvcGUpIHtcbiAgICAgICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPYnNlcnZhYmxlUG9pbnQpO1xuXG4gICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICB0aGlzLl95ID0geTtcblxuICAgICAgICB0aGlzLmNiID0gY2I7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2ludCB0byBhIG5ldyB4IGFuZCB5IHBvc2l0aW9uLlxuICAgICAqIElmIHkgaXMgb21pdHRlZCwgYm90aCB4IGFuZCB5IHdpbGwgYmUgc2V0IHRvIHguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG5cblxuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0KHgsIHkpIHtcbiAgICAgICAgdmFyIF94ID0geCB8fCAwO1xuICAgICAgICB2YXIgX3kgPSB5IHx8ICh5ICE9PSAwID8gX3ggOiAwKTtcblxuICAgICAgICBpZiAodGhpcy5feCAhPT0gX3ggfHwgdGhpcy5feSAhPT0gX3kpIHtcbiAgICAgICAgICAgIHRoaXMuX3ggPSBfeDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSBfeTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIGRhdGEgZnJvbSBhbm90aGVyIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR8UElYSS5PYnNlcnZhYmxlUG9pbnR9IHBvaW50IC0gcG9pbnQgdG8gY29weSBmcm9tXG4gICAgICovXG5cblxuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocG9pbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IHBvaW50LnggfHwgdGhpcy5feSAhPT0gcG9pbnQueSkge1xuICAgICAgICAgICAgdGhpcy5feCA9IHBvaW50Lng7XG4gICAgICAgICAgICB0aGlzLl95ID0gcG9pbnQueTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKE9ic2VydmFibGVQb2ludCwgW3tcbiAgICAgICAga2V5OiBcInhcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5feCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl94ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwieVwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl95O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl95ICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3kgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gT2JzZXJ2YWJsZVBvaW50O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBPYnNlcnZhYmxlUG9pbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlUG9pbnQuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIG1vZGU6ICdkZXZlbG9wbWVudCcsXG4gIGRldnRvb2w6ICdpbmxpbmUtc291cmNlLW1hcCcsXG4gIGVudHJ5OiAnLi9zcmMvR2FtZS50cycsXG4gIG91dHB1dDoge1xuICAgIHBhdGg6IF9fZGlybmFtZSArICcvZG9jcycsXG4gICAgZmlsZW5hbWU6ICdkaXN0LmpzJyxcbiAgICBwdWJsaWNQYXRoOiAnLydcbiAgfSxcbiAgcmVzb2x2ZToge1xuICAgIGV4dGVuc2lvbnM6IFsnLnRzJywgJy50c3gnLCAnLmpzJ11cbiAgfSxcbiAgbW9kdWxlOiB7XG4gICAgcnVsZXM6IFtcbiAgICAgIHsgdGVzdDogL1xcLnRzPyQvLCBsb2FkZXI6ICd0cy1sb2FkZXInIH1cbiAgICBdXG4gIH1cbn0iLCJpbXBvcnQgR2FtZSBmcm9tIFwiLi9nYW1lXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb2NrIHtcclxuICAgIHB1YmxpYyB4Om51bWJlclxyXG4gICAgcHVibGljIHk6bnVtYmVyXHJcbiAgICBwdWJsaWMgc3ByaXRlOlBJWEkuU3ByaXRlXHJcbiAgICBwcml2YXRlIGdhbWU6R2FtZVxyXG4gICAgcHJpdmF0ZSB4c3BlZWQ6bnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3IoeDpudW1iZXIgLCB5Om51bWJlciAsIGc6R2FtZSl7XHJcbiAgICAgICAgdGhpcy54ID0geFxyXG4gICAgICAgIHRoaXMueSA9IHlcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lID0gZ1xyXG5cclxuICAgICAgICBsZXQgaWQ6YW55ID0gUElYSS5sb2FkZXIucmVzb3VyY2VzW1wicGlja3Vwc1wiXS50ZXh0dXJlczsgXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUoaWRbXCJyb2NrLnBuZ1wiXSkgIFxyXG5cclxuICAgICAgICAvL3NldHRpbmcgcG9zaXRpb25cclxuICAgICAgICB0aGlzLnNwcml0ZS54ID0gdGhpcy54ICsgdGhpcy5nYW1lLnBsYXllci5zcHJpdGUud2lkdGhcclxuICAgICAgICB0aGlzLnNwcml0ZS55ID0gdGhpcy55ICsgKHRoaXMuZ2FtZS5wbGF5ZXIuc3ByaXRlLmhlaWdodCAvMilcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmdhbWUud29ybGRDb250YWluZXIuYWRkQ2hpbGQodGhpcy5zcHJpdGUpXHJcblxyXG4gICAgICAgIHRoaXMueHNwZWVkID0gNTtcclxuICAgIH1cclxuICAgIG1vdmUoKXtcclxuICAgICAgICBsZXQgY29sbGlkZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS54ICs9IHRoaXMueHNwZWVkIFxyXG5cclxuICAgICAgICBmb3IobGV0IHIgb2YgdGhpcy5nYW1lLnJvY2tzKXtcclxuICAgICAgICAgICAgaWYodGhpcy5nYW1lLmVuZW15LmNoZWNrQ29sbHNpb25Gb3JBdHRhY2soci5zcHJpdGUueCAsIHIuc3ByaXRlLnkgLCByLnNwcml0ZS5oZWlnaHQgLCByLnNwcml0ZS53aWR0aCkpe1xyXG4gICAgICAgICAgICAgICAgY29sbGlkZSA9IHRydWVcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKGNvbGxpZGUpe1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS52aXNpYmxlID0gZmFsc2VcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUueSA9IC0xMDA7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS53b3JsZENvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLnNwcml0ZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGxheWVyIGZyb20gXCIuLi9DaGFyYWN0ZXJzL1BsYXllclwiO1xyXG5pbXBvcnQgRW5lbXkgZnJvbSBcIi4uL0NoYXJhY3RlcnMvRW5lbXlcIjtcclxuaW1wb3J0IFJvY2sgZnJvbSBcIi4uL1JvY2tcIjtcclxuaW1wb3J0IEdhbWUgZnJvbSBcIi4uL2dhbWVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJhbmdlQXR0YWNrIGltcGxlbWVudHMgQXR0YWNrQmVoYXZpb3Ige1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXI6UGxheWVyXHJcbiAgICBwdWJsaWMgYXR0YWNrRnJhbWVzOiBhbnkgPSBbXVxyXG4gICAgcHJpdmF0ZSBjb3VudERvd246Ym9vbGVhblxyXG4gICAgcHJpdmF0ZSByb2NrITpSb2NrXHJcbiAgICBwcml2YXRlIGdhbWU6R2FtZVxyXG4gICAgY29uc3RydWN0b3IocGxheWVyOlBsYXllciAsIGc6R2FtZSl7XHJcbiAgICAgICAgLy9nZXQgcGxheWVyIGVudGl0eVxyXG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgICAgIC8vc2V0dGluZyB1cCBjb3VudGRvd25cclxuICAgICAgICB0aGlzLmNvdW50RG93biA9IGZhbHNlXHJcbiAgICAgICAgLy9zZXR0aW5nIHVwIGdhbWUgZW50aXR5XHJcbiAgICAgICAgdGhpcy5nYW1lID0gZ1xyXG4gICAgfVxyXG4gICAgYXR0YWNrKCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJpayBiZW4gZWVuIHJhbmdlIGF0dGFja1wiKTsgICAgICAgXHJcbiAgICAgICAgaWYoIXRoaXMuY291bnREb3duKXtcclxuICAgICAgICAgICAgZm9yIChsZXQgaT0gMTtpIDw9IDI7aSsrKSB7ICAgICAgICBcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wRnJhbWUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTogUElYSS5sb2FkZXIucmVzb3VyY2VzWydwbGF5ZXJfYXR0YWNrJ10udGV4dHVyZXMhWydwdW5jaC0nKyAyICAgKyAnLnBuZyddLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IDIwMFxyXG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2tGcmFtZXMucHVzaCh0ZW1wRnJhbWUpXHJcbiAgICAgICAgICAgIH0gIFxyXG5cclxuICAgICAgICAgICAgdGhpcy5jb29sRG93bigpICAgICAgIFxyXG5cclxuICAgICAgICAgICAgdGhpcy5jb3VudERvd24gPSB0cnVlXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5zcHJpdGUudGV4dHVyZXMgPSB0aGlzLmF0dGFja0ZyYW1lc1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yb2NrID0gbmV3IFJvY2sodGhpcy5wbGF5ZXIuc3ByaXRlLnggLCB0aGlzLnBsYXllci5zcHJpdGUueSAsIHRoaXMuZ2FtZSlcclxuICAgICAgICAgICB0aGlzLmdhbWUuYWRkUm9jayh0aGlzLnJvY2spXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkF0dGFjayBpcyBCbG9ja2VkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvb2xEb3duKCl7XHJcbiAgICAgICAgbGV0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCk9PntcclxuICAgICAgICAgICAgdGhpcy5jb3VudERvd24gPSBmYWxzZVxyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKVxyXG4gICAgICB9LDMwMClcclxuICAgIH1cclxufSIsImltcG9ydCBHYW1lIGZyb20gXCIuLi9nYW1lXCI7XHJcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4uL0NoYXJhY3RlcnMvUGxheWVyXCI7XHJcbmltcG9ydCBSYW5nZUF0dGFjayBmcm9tIFwiLi4vU3RyYXRlZ3kvUmFuZ2VBdHRhY2tcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVPYmplY3Qge1xyXG4gICAgcHJvdGVjdGVkIHg6bnVtYmVyXHJcbiAgICBwcm90ZWN0ZWQgc3ByaXRlc2hlZXQ6YW55XHJcbiAgICBwcm90ZWN0ZWQgdGV4dHVyZTpzdHJpbmdcclxuICAgIHByb3RlY3RlZCBzcHJpdGU6IFBJWEkuU3ByaXRlXHJcbiAgICBwcm90ZWN0ZWQgZ2FtZTpHYW1lXHJcbiAgICBwcm90ZWN0ZWQgcGxheWVyOlBsYXllclxyXG4gICAgY29uc3RydWN0b3IoeDpudW1iZXIgLCBzcHJpdGVzaGVldDpzdHJpbmcgLCB0ZXh0dXJlOnN0cmluZyAsIGc6R2FtZSl7XHJcbiAgICAgICAgdGhpcy5nYW1lID0gZ1xyXG4gICAgICAgIHRoaXMueCA9IHhcclxuICAgICAgICB0aGlzLnNwcml0ZXNoZWV0ID0gc3ByaXRlc2hlZXRcclxuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucGxheWVyID0gdGhpcy5nYW1lLnBsYXllclxyXG5cclxuICAgICAgICBsZXQgaWQ6YW55ID0gUElYSS5sb2FkZXIucmVzb3VyY2VzW3RoaXMuc3ByaXRlc2hlZXRdLnRleHR1cmVzOyBcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZShpZFt0aGlzLnRleHR1cmVdKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS54ID0gdGhpcy54OyBcclxuICAgICAgICB0aGlzLnNwcml0ZS55ID0gIHdpbmRvdy5pbm5lckhlaWdodCAtIDY0ICogdGhpcy5nYW1lLmhlaWd0aCAtIHRoaXMuc3ByaXRlLmhlaWdodCAqIDI7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZS5nYW1lT2JqZWN0Q29udGFpbmVyLmFkZENoaWxkKHRoaXMuc3ByaXRlKTtcclxuICAgIH1cclxuICAgIGNoZWNrQ29sbGlzaW9uKCl7XHJcbiAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc3ByaXRlLnggKyB0aGlzLnBsYXllci5zcHJpdGUud2lkdGg+IHRoaXMuc3ByaXRlLnhcclxuICAgICAgICAgICAgJiYgdGhpcy5wbGF5ZXIuc3ByaXRlLnggPCB0aGlzLnNwcml0ZS54ICsgdGhpcy5zcHJpdGUud2lkdGhcclxuICAgICAgICAgICAgJiYgdGhpcy5wbGF5ZXIuc3ByaXRlLnkgKyB0aGlzLnBsYXllci5zcHJpdGUuaGVpZ2h0ID4gdGhpcy5zcHJpdGUueVxyXG4gICAgICAgICAgICAmJiB0aGlzLnBsYXllci5zcHJpdGUueSA8IHRoaXMuc3ByaXRlLnkgKyB0aGlzLnNwcml0ZS5oZWlnaHQgICAgICAgICBcclxuICAgICAgICApe1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5jaGFuZ2VBdHRhY2sobmV3IFJhbmdlQXR0YWNrKHRoaXMucGxheWVyICwgdGhpcy5nYW1lKSlcclxuICAgICAgICAgICAgdGhpcy5nYW1lLmdhbWVPYmplY3RDb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5zcHJpdGUpXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnkgPSAtMTAwXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4vR2FtZU9iamVjdFwiO1xyXG5pbXBvcnQgR2FtZSBmcm9tIFwiLi4vZ2FtZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFuZ2VQaWNrVXAgZXh0ZW5kcyBHYW1lT2JqZWN0e1xyXG4gICAgY29uc3RydWN0b3IoeDpudW1iZXIgLCBnOkdhbWUgKXtcclxuICAgICAgICBzdXBlcih4ICwgJ3BpY2t1cHMnICwgXCJyZWRKZXdlbC5wbmdcIiAsIGcpXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQ2hhcmFjdGVycyBmcm9tIFwiLi9DaGFyYWN0ZXJzXCI7XHJcbmltcG9ydCBHYW1lIGZyb20gXCIuLi9nYW1lXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbmVteSBleHRlbmRzIENoYXJhY3RlcnN7XHJcblxyXG4gICAgcHJpdmF0ZSByYW5kb21OdW1iZXI6bnVtYmVyXHJcbiAgICBwcml2YXRlIGdhbWU6R2FtZVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHg6bnVtYmVyICwgeTpudW1iZXIgLCBnOkdhbWUpe1xyXG4gICAgICAgIHN1cGVyKHggLCB5ICwgXCJlbmVteVwiICwgXCJob2xkLnBuZ1wiICwgMTAwKVxyXG4gICAgICAgIHRoaXMueCA9IHhcclxuICAgICAgICB0aGlzLnkgPSB5XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZSA9IGcgXHJcblxyXG4gICAgICAgIHRoaXMuc3BlZWQgPSA0XHJcblxyXG4gICAgICAgIHRoaXMucmFuZG9tTnVtYmVyID0gMFxyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuZW5lbXlNb3ZlR2VuZXJhdG9yKCksIDUwMCApXHJcblxyXG4gICAgICAgICBsZXQgaGVhbHRoYmFyID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcclxuICAgICAgICAgdGhpcy5oZWFsdGhiYXIgPSBoZWFsdGhiYXI7XHJcbiAgICAgICAgIHRoaXMuaGVhbHRoYmFyLmJlZ2luRmlsbCgweEYzMzYzNik7XHJcbiAgICAgICAgIHRoaXMuaGVhbHRoYmFyLmRyYXdSZWN0KC0yOCwgLTI4LCAxMDAsIDE1KTtcclxuICAgICAgICAgdGhpcy5oZWFsdGhiYXIuZW5kRmlsbCgpO1xyXG4gICAgICAgICB0aGlzLnNwcml0ZS5hZGRDaGlsZCh0aGlzLmhlYWx0aGJhcik7IC8vIGFkZCB0b3AgaGVhbHRoYmFyIHRvIGNvbnRhaW5lXHJcbiAgICB9XHJcbiAgICBlbmVteU1vdmUoKXsgICAgXHJcbiAgICAgICAgLy9yYW5kb20gbnVtYmVyIGRldGVybWluZXMgd2hpY2ggZGlyZWN0aW9uIHRoZSBwbGF5ZXIgZ29lcyB0b1xyXG4gICAgICAgIC8vIGlmKHRoaXMucmFuZG9tTnVtYmVyIDw9IDI1MCl7XHJcbiAgICAgICAgLy8gICAgIC8vIHJpZ3RoXHJcbiAgICAgICAgLy8gICAgIHRoaXMubW92ZSh0aGlzLnNwZWVkICwgMCkgICAgICAgICAgICBcclxuICAgICAgICAvLyB9ZWxzZSBpZih0aGlzLnJhbmRvbU51bWJlciA8PTUwMCAmJiB0aGlzLnJhbmRvbU51bWJlciA+PSAyNTApe1xyXG4gICAgICAgIC8vICAgICAvLyBsZWZ0XHJcbiAgICAgICAgLy8gICAgIHRoaXMubW92ZSgtdGhpcy5zcGVlZCAsIDApICBcclxuICAgICAgICAvLyB9ZWxzZSBpZih0aGlzLnJhbmRvbU51bWJlciA8PTc1MCAmJiB0aGlzLnJhbmRvbU51bWJlciA+PSA1MDApe1xyXG4gICAgICAgIC8vICAgICAvL3VwXHJcbiAgICAgICAgLy8gICAgIHRoaXMubW92ZSgwICwgLXRoaXMuc3BlZWQpICAgIFxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmhlYWx0aCk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuaGVhbHRoID4gMCl7XHJcbiAgICAgICAgIHRoaXMuaGVhbHRoYmFyLndpZHRoID0gdGhpcy5oZWFsdGhcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5oZWFsdGhiYXIud2lkdGggPSAwIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICBjaGVja0NvbGxzaW9uRm9yQXR0YWNrKHg6IG51bWJlciwgeTogbnVtYmVyICwgaGVpZ2h0Om51bWJlciAsIHdpZHRoOm51bWJlciApIDogYm9vbGVhbntcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHggKyB3aWR0aD4gdGhpcy54XHJcbiAgICAgICAgICAgICYmIHggPCB0aGlzLnggKyB3aWR0aFxyXG4gICAgICAgICAgICAmJiB5ICsgaGVpZ2h0ID4gdGhpcy5zcHJpdGUueVxyXG4gICAgICAgICAgICAmJiB5IDwgdGhpcy5zcHJpdGUueSArIGhlaWdodCAgICAgICAgIFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLmRhbWFnZSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuXHJcbiAgICB9XHJcbiAgICBkYW1hZ2UoKXtcclxuICAgICAgICB0aGlzLmhlYWx0aCAtPSAzMy40O1xyXG4gICAgICAgIGlmKHRoaXMuaGVhbHRoID09IDAgfHwgdGhpcy5oZWFsdGggPDApe1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuY2hhcmFjdGVyQ29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuc3ByaXRlKVxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5yZW1vdmVDaGlsZCh0aGlzLmhlYWx0aGJhcilcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUueSA9IC0xMDBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbmVteU1vdmVHZW5lcmF0b3IoKXtcclxuICAgICAgICAvL3dpdGggdGhlIHJhbmRvbSBnZW5lcmF0YWQgbnVtYmVyIHRoZSBlbmVteSBnb2VzIGEgY2VydGFpbiB3aXRoIHdoYXQgd2lsbCBub3QgYmUgcHJlZGljdGFibGVcclxuICAgICAgICB0aGlzLnJhbmRvbU51bWJlciA9ICBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogNzUwKSArIDEpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZW5lbXlNb3ZlKClcclxuICAgICAgICAvL3RvIGtlZXAgZ2VuZXJhdGluZyByYW5kb20gbnVtYmVyc1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5lbmVteU1vdmVHZW5lcmF0b3IoKSwgMTAwMCApXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGxheWVyIGZyb20gXCIuLi9DaGFyYWN0ZXJzL1BsYXllclwiO1xyXG5pbXBvcnQgRW5lbXkgZnJvbSBcIi4uL0NoYXJhY3RlcnMvRW5lbXlcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbGVlQXR0YWNrIGltcGxlbWVudHMgQXR0YWNrQmVoYXZpb3J7XHJcbiAgICBwcml2YXRlIHBsYXllcjogUGxheWVyO1xyXG4gICAgcHVibGljIHJhbmdlITpudW1iZXJcclxuICAgIHB1YmxpYyBlbmVteTpFbmVteVxyXG4gICAgcHVibGljIGF0dGFja0ZyYW1lczogYW55ID1bXVxyXG4gICAgcHJpdmF0ZSBjb3VudERvd246Ym9vbGVhblxyXG4gICAgY29uc3RydWN0b3IocGxheWVyOlBsYXllciwgZTpFbmVteSl7XHJcbiAgICAgICAgLy9nZXQgcGxheWVyIHByb3BlcnR5IGhlcmUgXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7ICBcclxuICAgICAgICAvL3NldHRpbmcgcmFuZ2UgZm9yIHRoZSBhdHRhY2tcclxuICAgICAgICB0aGlzLnJhbmdlID0rIDMwO1xyXG4gICAgICAgIHRoaXMuZW5lbXkgPSBlXHJcbiAgICAgICAgLy9zZXR0aW5nIHVwIGNvdW50ZG93blxyXG4gICAgICAgIHRoaXMuY291bnREb3duID0gZmFsc2VcclxuICAgIH1cclxuICAgIGF0dGFjaygpe1xyXG4gICAgICAgIGlmKCF0aGlzLmNvdW50RG93bil7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGk9IDE7aSA8PSAyO2krKykgeyAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcEZyYW1lID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmU6IFBJWEkubG9hZGVyLnJlc291cmNlc1sncGxheWVyX2F0dGFjayddLnRleHR1cmVzIVsncHVuY2gtJysgaSArICcucG5nJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZTogMjAwXHJcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFja0ZyYW1lcy5wdXNoKHRlbXBGcmFtZSlcclxuICAgICAgICAgICAgfSAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciB0ZW1wRnJhbWUgPSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBQSVhJLmxvYWRlci5yZXNvdXJjZXNbJ3BsYXllcl9hdHRhY2snXS50ZXh0dXJlcyFbJ3B1bmNoLTIucG5nJ10sXHJcbiAgICAgICAgICAgICAgICB0aW1lOjIwMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNrRnJhbWVzLnB1c2godGVtcEZyYW1lKSAgICAgXHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvdW50RG93biA9IHRydWVcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNwcml0ZS50ZXh0dXJlcyA9IHRoaXMuYXR0YWNrRnJhbWVzXHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvb2xEb3duKClcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuZW5lbXkuY2hlY2tDb2xsc2lvbkZvckF0dGFjayh0aGlzLnBsYXllci5zcHJpdGUueCArIHRoaXMucmFuZ2UgLCB0aGlzLnBsYXllci5zcHJpdGUueSAsIHRoaXMucGxheWVyLnNwcml0ZS5oZWlnaHQgLCB0aGlzLnBsYXllci5zcHJpdGUud2lkdGgpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXR0YWNrIHdpbGwgYmUgYmxvY2tlZFwiKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29vbERvd24oKXtcclxuICAgICAgICBsZXQgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLmNvdW50RG93biA9IGZhbHNlXHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXHJcbiAgICAgIH0sMzAwKVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IENoYXJhY3RlcnMgZnJvbSBcIi4vQ2hhcmFjdGVyc1wiO1xyXG5pbXBvcnQgTWVsZWVBdHRhY2sgZnJvbSBcIi4uL1N0cmF0ZWd5L01lbGVlQXR0YWNrXCI7XHJcbmltcG9ydCBHYW1lIGZyb20gXCIuLi9nYW1lXCI7XHJcbmltcG9ydCBFbmVteSBmcm9tIFwiLi9FbmVteVwiO1xyXG5pbXBvcnQgUmFuZ2VBdHRhY2sgZnJvbSBcIi4uL1N0cmF0ZWd5L1JhbmdlQXR0YWNrXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXIgZXh0ZW5kcyBDaGFyYWN0ZXJze1xyXG4gICAgcHVibGljIGVuZW15OkVuZW15XHJcbiAgICBwcml2YXRlIGdhbWU6R2FtZVxyXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIgLCBlOkVuZW15ICwgZzpHYW1lKXtcclxuICAgICAgICBzdXBlcih4LCB5LCAncGxheWVyX21vdmVzJyAsICdsZWZ0X3dhbGsxLnBuZycgLCA1KSBcclxuICAgICAgICB0aGlzLnggPSB4XHJcbiAgICAgICAgdGhpcy55ID0geVxyXG5cclxuICAgICAgICB0aGlzLmVuZW15ID1lIFxyXG4gICAgICAgIHRoaXMuZ2FtZSA9IGdcclxuXHJcbiAgICAgICAgLy90aGUgc3RhbmRhcmQgYXR0YWNrIGZvciBwbGF5ZXIgaXMgTWVsZWUgQXR0YWNrXHJcbiAgICAgICAgLy8gdGhpcy5hdHRhY2tCZWhhdmlvciA9IG5ldyBNZWxlZUF0dGFjayh0aGlzICwgdGhpcy5lbmVteSk7XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNrQmVoYXZpb3IgPSBuZXcgTWVsZWVBdHRhY2sodGhpcyAsIHRoaXMuZW5lbXkpXHJcblxyXG4gICAgICAgIC8vc2V0dGluZyB1cCB0aGUgYW5pbWF0aW9uXHJcbiAgICAgICAgLy8gdGhpcyBpcyBmb3IgdGhlIHJpZ2h0IHdhbGtcclxuICAgICAgICBmb3IgKGxldCAgaT0gMTtpIDw9IDI7aSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wRnJhbWUgPSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBQSVhJLmxvYWRlci5yZXNvdXJjZXNbJ3BsYXllcl9tb3ZlcyddLnRleHR1cmVzIVsncmlndGhfd2FsaycrIGkgKyAnLnBuZyddLFxyXG4gICAgICAgICAgICAgICAgdGltZTogMjAwXHJcbiAgICAgICAgICAgIH0gICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5yaWdodEZyYW1lcy5wdXNoKHRlbXBGcmFtZSkgIFxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdGVtcEZyYW1lID0ge1xyXG4gICAgICAgICAgICB0ZXh0dXJlOiBQSVhJLmxvYWRlci5yZXNvdXJjZXNbJ3BsYXllcl9tb3ZlcyddLnRleHR1cmVzIVsncmlndGhfd2FsazEucG5nJ10sXHJcbiAgICAgICAgICAgIHRpbWU6MjAwXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmlnaHRGcmFtZXMucHVzaCh0ZW1wRnJhbWUpXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy90aGlzIGlzIGZvciB0aGUgbGVmdCB3YWxraW5nIFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxO2kgPD0yOyBpKyspe1xyXG4gICAgICAgICAgICB2YXIgdGVtcEZyYW1lID0ge1xyXG4gICAgICAgICAgICAgICAgdGV4dHVyZTogUElYSS5sb2FkZXIucmVzb3VyY2VzWydwbGF5ZXJfbW92ZXMnXS50ZXh0dXJlcyFbJ2xlZnRfd2FsaycgKyBpICsgJy5wbmcnXSxcclxuICAgICAgICAgICAgICAgIHRpbWU6IDIwMCAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSAgXHJcbiAgICAgICAgICAgIHRoaXMubGVmdEZyYW1lcy5wdXNoKHRlbXBGcmFtZSkgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0ZW1wRnJhbWUgPSB7XHJcbiAgICAgICAgICAgIHRleHR1cmU6IFBJWEkubG9hZGVyLnJlc291cmNlc1sncGxheWVyX21vdmVzJ10udGV4dHVyZXMhWydsZWZ0X3dhbGsxLnBuZyddLFxyXG4gICAgICAgICAgICB0aW1lOjIwMFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxlZnRGcmFtZXMucHVzaCh0ZW1wRnJhbWUpXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGk8MjsgaSsrKXtcclxuICAgICAgICAgICAgdmFyIHRlbXBGcmFtZSA9IHtcclxuICAgICAgICAgICAgICAgIHRleHR1cmU6IFBJWEkubG9hZGVyLnJlc291cmNlc1sncGxheWVyX21vdmVzJ10udGV4dHVyZXMhWydqdW1wLnBuZyddLFxyXG4gICAgICAgICAgICAgICAgdGltZToyMDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmp1bXBGcmFtZXMucHVzaCh0ZW1wRnJhbWUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdGVtcEZyYW1lID0ge1xyXG4gICAgICAgICAgICAgICAgdGV4dHVyZTogUElYSS5sb2FkZXIucmVzb3VyY2VzWydwbGF5ZXJfbW92ZXMnXS50ZXh0dXJlcyFbJ2p1bXAucG5nJ10sXHJcbiAgICAgICAgICAgICAgICB0aW1lOjIwMFxyXG4gICAgICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjaGFuZ2VBdHRhY2soYTpBdHRhY2tCZWhhdmlvcil7XHJcbiAgICAgICAgdGhpcy5hdHRhY2tCZWhhdmlvciA9IGE7XHJcbiAgICB9XHJcblxyXG4gICAgLy9IYW5kbGUga2V5cHJlc3MgZXZlbnRzXHJcbiAgICBrZXlQcmVzc2VkKGtleVN0YXRlOiBhbnkpeyAgICAgICAgXHJcbiAgICAgICAgaWYgKGtleVN0YXRlWzg3XSkgeyAvL3cgLSB1cFxyXG4gICAgICAgICAgICB0aGlzLm1vdmUoMCwgLTEyKSBcclxuICAgICAgICAgICAgaWYodGhpcy5BbmltYXRpb25wbGF5aW5nICE9PSBcImp1bXBcIil7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkFuaW1hdGlvbnBsYXlpbmcgPSBcImp1bXBcIlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUudGV4dHVyZXMgPSB0aGlzLmp1bXBGcmFtZXNcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLnBsYXkoKVxyXG4gICAgICAgICAgICB9ICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5U3RhdGVbNjVdKSB7IC8vYSAtIGxlZnRcclxuICAgICAgICAgICAgdGhpcy5tb3ZlKC10aGlzLnNwZWVkLCAwKVxyXG4gICAgICAgICAgICBpZih0aGlzLkFuaW1hdGlvbnBsYXlpbmcgIT09IFwibGVmdFwiKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuQW5pbWF0aW9ucGxheWluZyA9IFwibGVmdFwiXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS50ZXh0dXJlcyA9IHRoaXMubGVmdEZyYW1lc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUucGxheSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5U3RhdGVbNjhdKSB7IC8vZCAtIHJpZ2h0XHJcbiAgICAgICAgICAgIHRoaXMubW92ZSh0aGlzLnNwZWVkLCAwKVxyXG4gICAgICAgICAgICBpZih0aGlzLkFuaW1hdGlvbnBsYXlpbmcgIT09IFwicmlnaHRcIil7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkFuaW1hdGlvbnBsYXlpbmcgPSBcInJpZ2h0XCJcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLnRleHR1cmVzID0gdGhpcy5yaWdodEZyYW1lc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUucGxheSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSBpZihrZXlTdGF0ZVszMl0pIHtcclxuICAgICAgICAgICAgLy9maXhpbmcgdGhhdCBidXR0b24gb25seSBjYW4gYmUgcHJlc3NlZCBvbmNlXHJcbiAgICAgICAgICAgIHRoaXMuQW5pbWF0aW9ucGxheWluZyA9IFwiYXR0YWNrXCJcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2tCZWhhdmlvci5hdHRhY2soKTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUucGxheSgpICAgIFxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLkFuaW1hdGlvbnBsYXlpbmcgPSBcImhvbGRcIlxyXG4gICAgICAgICAgICB2YXIgdGVtcEZyYW1lID0ge1xyXG4gICAgICAgICAgICAgICAgdGV4dHVyZTogUElYSS5sb2FkZXIucmVzb3VyY2VzLnBsYXllcl9tb3Zlcy50ZXh0dXJlcyFbJ2hvbGQucG5nJ10sXHJcbiAgICAgICAgICAgICAgICB0aW1lOiAyMDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmhvbGRGcmFtZS5wdXNoKHRlbXBGcmFtZSlcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUudGV4dHVyZXMgPSB0aGlzLmhvbGRGcmFtZTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc3RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0gICAgXHJcbn0iLCJpbXBvcnQgR2FtZSBmcm9tIFwiLi4vR2FtZVwiXHJcbmltcG9ydCBDaGFyYWN0ZXJzIGZyb20gXCIuLi9DaGFyYWN0ZXJzL0NoYXJhY3RlcnNcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaWxle1xyXG4gICAgcHVibGljIHg6bnVtYmVyO1xyXG4gICAgcHVibGljIHk6bnVtYmVyO1xyXG4gICAgcHVibGljIHdpZHRoOiBudW1iZXIgPSA2NFxyXG4gICAgcHVibGljIGhlaWd0aDogbnVtYmVyID0gNjRcclxuICAgIHB1YmxpYyB0ZXh0dXJlOnN0cmluZztcclxuICAgIHByaXZhdGUgc3ByaXRlOiBQSVhJLlNwcml0ZTtcclxuICAgICAgICBcclxuICAgIGNvbnN0cnVjdG9yKHg6bnVtYmVyICwgeTpudW1iZXIgLCB0ZXh0dXJlOnN0cmluZyApe1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xyXG4gICAgICAgIGxldCBpZDphbnkgPSBQSVhJLmxvYWRlci5yZXNvdXJjZXNbXCJ0aWxlc2V0XCJdLnRleHR1cmVzOyBcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZShpZFt0aGlzLnRleHR1cmVdKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS54ID0gdGhpcy54OyBcclxuICAgICAgICB0aGlzLnNwcml0ZS55ID0gd2luZG93LmlubmVySGVpZ2h0IC0gdGhpcy5zcHJpdGUuaGVpZ2h0ICogdGhpcy55O1xyXG5cclxuICAgICAgICBHYW1lLmdldEluc3RhbmNlKCkud29ybGRDb250YWluZXIuYWRkQ2hpbGQodGhpcy5zcHJpdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vY2hlY2sgY29sbGlzaW9uIGJldHdlZW4gZ2l2ZW4gc3ByaXRlIGFuZCB0aWxlc1xyXG4gICAgaXNDb2xsaWRpbmcoeDogbnVtYmVyLCB5OiBudW1iZXIgLCBoZWlnaHQ6bnVtYmVyICwgd2lkdGg6bnVtYmVyICk6IGJvb2xlYW4geyAgICAgICAgICBcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHggKyB3aWR0aD4gdGhpcy54XHJcbiAgICAgICAgICAgICYmIHggPCB0aGlzLnggKyB3aWR0aFxyXG4gICAgICAgICAgICAmJiB5ICsgaGVpZ2h0ID4gdGhpcy5zcHJpdGUueVxyXG4gICAgICAgICAgICAmJiB5IDwgdGhpcy5zcHJpdGUueSArIGhlaWdodCAgICAgICAgIFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxufSIsImltcG9ydCBUaWxlIGZyb20gXCIuL1RpbGVcIlxyXG5pbXBvcnQgR2FtZSBmcm9tIFwiLi4vR2FtZVwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDcmVhdGVXb3JsZHtcclxuICAgIHByaXZhdGUgeDpudW1iZXI7XHJcbiAgICBwcml2YXRlIHk6bnVtYmVyOyBcclxuICAgIHByaXZhdGUgbGVuZ3RoOm51bWJlclxyXG4gICAgcHJpdmF0ZSBoZWlndGg6bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB0ZXh0dXJlOnN0cmluZztcclxuICAgIHB1YmxpYyB0aWxlczogQXJyYXk8VGlsZT4gPSBuZXcgQXJyYXlcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihsZW5ndGg6bnVtYmVyICwgaGVpZ3RoOm51bWJlciAsIHRleHR1cmU6c3RyaW5nKXtcclxuICAgICAgICB0aGlzLnggPSAwO1xyXG4gICAgICAgIHRoaXMueSA9IDE7XHJcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XHJcbiAgICAgICAgdGhpcy5oZWlndGggPSBoZWlndGg7XHJcbiAgICAgICAgLy9zdGFuZGFyZCBmaWxsaW5nIHRleHR1cmVcclxuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xyXG4gICAgICAgIC8vZmlsbGluZyB0aGUgbGVuZ3RoIG9mIHRoZSBtYXAgd2l0aCBmaWxsZXIgXHJcbiAgICAgICAgZm9yKGxldCBxPTE7IHE8PSB0aGlzLmhlaWd0aDsgcSsrKXtcclxuICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8IHRoaXMubGVuZ3RoOyBpICsrKXtcclxuICAgICAgICAgICAgICAgIC8vdG9wIExheWVyIG5lZWRzIHRvIGJlIGEgZGlmZmVyZW50IHNwcml0ZVxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy55ID09IHRoaXMuaGVpZ3RoKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmUgPSBcIm5vcm1hbC5wbmdcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy54ID09MCAmJiB0aGlzLnkgPT0gdGhpcy5oZWlndGgpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZSA9IFwibGVmdC5wbmdcIlxyXG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCB0aWxlID0gbmV3IFRpbGUodGhpcy54ICwgdGhpcy55ICwgdGhpcy50ZXh0dXJlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy50aWxlcy5wdXNoKHRpbGUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLngrPTY0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMueSs9MTsgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy54PTA7ICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGltZUxpbWl0ZXIgbGltaXRzIHRoZSBudW1iZXIgb2YgaXRlbXMgaGFuZGxlZCBieSBhIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSB0byBhIHNwZWNpZmllZFxuICogbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGltZUxpbWl0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4TWlsbGlzZWNvbmRzIC0gVGhlIG1heGltdW0gbWlsbGlzZWNvbmRzIHRoYXQgY2FuIGJlIHNwZW50IHByZXBhcmluZyBpdGVtcyBlYWNoIGZyYW1lLlxuICAgKi9cbiAgZnVuY3Rpb24gVGltZUxpbWl0ZXIobWF4TWlsbGlzZWNvbmRzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpbWVMaW1pdGVyKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0aGF0IGNhbiBiZSBzcGVudCBwcmVwYXJpbmcgaXRlbXMgZWFjaCBmcmFtZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubWF4TWlsbGlzZWNvbmRzID0gbWF4TWlsbGlzZWNvbmRzO1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGFydCB0aW1lIG9mIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lU3RhcnQgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyBhbnkgY291bnRpbmcgcHJvcGVydGllcyB0byBzdGFydCBmcmVzaCBvbiBhIG5ldyBmcmFtZS5cbiAgICovXG5cblxuICBUaW1lTGltaXRlci5wcm90b3R5cGUuYmVnaW5GcmFtZSA9IGZ1bmN0aW9uIGJlZ2luRnJhbWUoKSB7XG4gICAgdGhpcy5mcmFtZVN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICAgKi9cblxuXG4gIFRpbWVMaW1pdGVyLnByb3RvdHlwZS5hbGxvd2VkVG9VcGxvYWQgPSBmdW5jdGlvbiBhbGxvd2VkVG9VcGxvYWQoKSB7XG4gICAgcmV0dXJuIERhdGUubm93KCkgLSB0aGlzLmZyYW1lU3RhcnQgPCB0aGlzLm1heE1pbGxpc2Vjb25kcztcbiAgfTtcblxuICByZXR1cm4gVGltZUxpbWl0ZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRpbWVMaW1pdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGltZUxpbWl0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0Jhc2VQcmVwYXJlMiA9IHJlcXVpcmUoJy4uL0Jhc2VQcmVwYXJlJyk7XG5cbnZhciBfQmFzZVByZXBhcmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVByZXBhcmUyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgQ0FOVkFTX1NUQVJUX1NJWkUgPSAxNjtcblxuLyoqXG4gKiBUaGUgcHJlcGFyZSBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBsb2FkIGNvbnRlbnQgdG8gdGhlIEdQVVxuICogVGhpcyBjYW5ub3QgYmUgZG9uZSBkaXJlY3RseSBmb3IgQ2FudmFzIGxpa2UgaW4gV2ViR0wsIGJ1dCB0aGUgZWZmZWN0IGNhbiBiZSBhY2hpZXZlZCBieSBkcmF3aW5nXG4gKiB0ZXh0dXJlcyB0byBhbiBvZmZsaW5lIGNhbnZhcy5cbiAqIFRoaXMgZHJhdyBjYWxsIHdpbGwgZm9yY2UgdGhlIHRleHR1cmUgdG8gYmUgbW92ZWQgb250byB0aGUgR1BVLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmVcbiAqIEBtZW1iZXJvZiBQSVhJLnByZXBhcmVcbiAqL1xuXG52YXIgQ2FudmFzUHJlcGFyZSA9IGZ1bmN0aW9uIChfQmFzZVByZXBhcmUpIHtcbiAgICBfaW5oZXJpdHMoQ2FudmFzUHJlcGFyZSwgX0Jhc2VQcmVwYXJlKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc1ByZXBhcmUocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc1ByZXBhcmUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9CYXNlUHJlcGFyZS5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMudXBsb2FkSG9va0hlbHBlciA9IF90aGlzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAqIEFuIG9mZmxpbmUgY2FudmFzIHRvIHJlbmRlciB0ZXh0dXJlcyB0b1xuICAgICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgX3RoaXMuY2FudmFzLndpZHRoID0gQ0FOVkFTX1NUQVJUX1NJWkU7XG4gICAgICAgIF90aGlzLmNhbnZhcy5oZWlnaHQgPSBDQU5WQVNfU1RBUlRfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbnRleHQgdG8gdGhlIGNhbnZhc1xuICAgICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICogQHByaXZhdGVcbiAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3R4ID0gX3RoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgLy8gQWRkIHRleHR1cmVzIHRvIHVwbG9hZFxuICAgICAgICBfdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkQmFzZVRleHR1cmVzKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4sIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIENhbnZhc1ByZXBhcmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBfQmFzZVByZXBhcmUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5jdHggPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNQcmVwYXJlO1xufShfQmFzZVByZXBhcmUzLmRlZmF1bHQpO1xuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuVGV4dHVyZSBvYmplY3RzIHRvIHRoZSBHUFUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gcHJlcGFyZSAtIEluc3RhbmNlIG9mIENhbnZhc1ByZXBhcmVcbiAqIEBwYXJhbSB7Kn0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzUHJlcGFyZTtcbmZ1bmN0aW9uIHVwbG9hZEJhc2VUZXh0dXJlcyhwcmVwYXJlLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLkJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHZhciBpbWFnZSA9IGl0ZW0uc291cmNlO1xuXG4gICAgICAgIC8vIFNvbWV0aW1lcyBpbWFnZXMgKGxpa2UgYXRsYXMgaW1hZ2VzKSByZXBvcnQgYSBzaXplIG9mIHplcm8sIGNhdXNpbmcgZXJyb3JzIG9uIHdpbmRvd3MgcGhvbmUuXG4gICAgICAgIC8vIFNvIGlmIHRoZSB3aWR0aCBvciBoZWlnaHQgaXMgZXF1YWwgdG8gemVybyB0aGVuIHVzZSB0aGUgY2FudmFzIHNpemVcbiAgICAgICAgLy8gT3RoZXJ3aXNlIHVzZSB3aGF0ZXZlciBpcyBzbWFsbGVyLCB0aGUgaW1hZ2UgZGltZW5zaW9ucyBvciB0aGUgY2FudmFzIGRpbWVuc2lvbnMuXG4gICAgICAgIHZhciBpbWFnZVdpZHRoID0gaW1hZ2Uud2lkdGggPT09IDAgPyBwcmVwYXJlLmNhbnZhcy53aWR0aCA6IE1hdGgubWluKHByZXBhcmUuY2FudmFzLndpZHRoLCBpbWFnZS53aWR0aCk7XG4gICAgICAgIHZhciBpbWFnZUhlaWdodCA9IGltYWdlLmhlaWdodCA9PT0gMCA/IHByZXBhcmUuY2FudmFzLmhlaWdodCA6IE1hdGgubWluKHByZXBhcmUuY2FudmFzLmhlaWdodCwgaW1hZ2UuaGVpZ2h0KTtcblxuICAgICAgICAvLyBPbmx5IGEgc21hbGwgc3Vic2VjdGlvbnMgaXMgcmVxdWlyZWQgdG8gYmUgZHJhd24gdG8gaGF2ZSB0aGUgd2hvbGUgdGV4dHVyZSB1cGxvYWRlZCB0byB0aGUgR1BVXG4gICAgICAgIC8vIEEgc21hbGxlciBkcmF3IGNhbiBiZSBmYXN0ZXIuXG4gICAgICAgIHByZXBhcmUuY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgaW1hZ2VXaWR0aCwgaW1hZ2VIZWlnaHQsIDAsIDAsIHByZXBhcmUuY2FudmFzLndpZHRoLCBwcmVwYXJlLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuY29yZS5DYW52YXNSZW5kZXJlci5yZWdpc3RlclBsdWdpbigncHJlcGFyZScsIENhbnZhc1ByZXBhcmUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzUHJlcGFyZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfQmFzZVByZXBhcmUyID0gcmVxdWlyZSgnLi4vQmFzZVByZXBhcmUnKTtcblxudmFyIF9CYXNlUHJlcGFyZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlUHJlcGFyZTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIHByZXBhcmUgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHVwbG9hZCBjb250ZW50IHRvIHRoZSBHUFUuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCByZW5kZXJlci5wbHVnaW5zLnByZXBhcmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZVxuICogQG1lbWJlcm9mIFBJWEkucHJlcGFyZVxuICovXG52YXIgV2ViR0xQcmVwYXJlID0gZnVuY3Rpb24gKF9CYXNlUHJlcGFyZSkge1xuICAgIF9pbmhlcml0cyhXZWJHTFByZXBhcmUsIF9CYXNlUHJlcGFyZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdlYkdMUHJlcGFyZShyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xQcmVwYXJlKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQmFzZVByZXBhcmUuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBfdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICAvLyBBZGQgdGV4dHVyZXMgYW5kIGdyYXBoaWNzIHRvIHVwbG9hZFxuICAgICAgICBfdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRHcmFwaGljcyk7XG4gICAgICAgIF90aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRCYXNlVGV4dHVyZXMpO1xuICAgICAgICBfdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkR3JhcGhpY3MpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIFdlYkdMUHJlcGFyZTtcbn0oX0Jhc2VQcmVwYXJlMy5kZWZhdWx0KTtcbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5UZXh0dXJlIG9iamVjdHMgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gaW5zdGFuY2Ugb2YgdGhlIHdlYmdsIHJlbmRlcmVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gV2ViR0xQcmVwYXJlO1xuZnVuY3Rpb24gdXBsb2FkQmFzZVRleHR1cmVzKHJlbmRlcmVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLkJhc2VUZXh0dXJlKSB7XG4gICAgICAgIC8vIGlmIHRoZSB0ZXh0dXJlIGFscmVhZHkgaGFzIGEgR0wgdGV4dHVyZSwgdGhlbiB0aGUgdGV4dHVyZSBoYXMgYmVlbiBwcmVwYXJlZCBvciByZW5kZXJlZFxuICAgICAgICAvLyBiZWZvcmUgbm93LiBJZiB0aGUgdGV4dHVyZSBjaGFuZ2VkLCB0aGVuIHRoZSBjaGFuZ2VyIHNob3VsZCBiZSBjYWxsaW5nIHRleHR1cmUudXBkYXRlKCkgd2hpY2hcbiAgICAgICAgLy8gcmV1cGxvYWRzIHRoZSB0ZXh0dXJlIHdpdGhvdXQgbmVlZCBmb3IgcHJlcGFyaW5nIGl0IGFnYWluXG4gICAgICAgIGlmICghaXRlbS5fZ2xUZXh0dXJlc1tyZW5kZXJlci5DT05URVhUX1VJRF0pIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmVNYW5hZ2VyLnVwZGF0ZVRleHR1cmUoaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5HcmFwaGljcyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBpbnN0YW5jZSBvZiB0aGUgd2ViZ2wgcmVuZGVyZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIHVwbG9hZEdyYXBoaWNzKHJlbmRlcmVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLkdyYXBoaWNzKSB7XG4gICAgICAgIC8vIGlmIHRoZSBpdGVtIGlzIG5vdCBkaXJ0eSBhbmQgYWxyZWFkeSBoYXMgd2ViZ2wgZGF0YSwgdGhlbiBpdCBnb3QgcHJlcGFyZWQgb3IgcmVuZGVyZWRcbiAgICAgICAgLy8gYmVmb3JlIG5vdyBhbmQgd2Ugc2hvdWxkbid0IHdhc3RlIHRpbWUgdXBkYXRpbmcgaXQgYWdhaW5cbiAgICAgICAgaWYgKGl0ZW0uZGlydHkgfHwgaXRlbS5jbGVhckRpcnR5IHx8ICFpdGVtLl93ZWJHTFtyZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy51cGRhdGVHcmFwaGljcyhpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgZ3JhcGhpY3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5HcmFwaGljcyBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kR3JhcGhpY3MoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuR3JhcGhpY3MpIHtcbiAgICAgICAgcXVldWUucHVzaChpdGVtKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmNvcmUuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbigncHJlcGFyZScsIFdlYkdMUHJlcGFyZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTFByZXBhcmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1dlYkdMUHJlcGFyZSA9IHJlcXVpcmUoJy4vd2ViZ2wvV2ViR0xQcmVwYXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnd2ViZ2wnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTFByZXBhcmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc1ByZXBhcmUgPSByZXF1aXJlKCcuL2NhbnZhcy9DYW52YXNQcmVwYXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnY2FudmFzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUHJlcGFyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQmFzZVByZXBhcmUgPSByZXF1aXJlKCcuL0Jhc2VQcmVwYXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQmFzZVByZXBhcmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlUHJlcGFyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ291bnRMaW1pdGVyID0gcmVxdWlyZSgnLi9saW1pdGVycy9Db3VudExpbWl0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDb3VudExpbWl0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db3VudExpbWl0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RpbWVMaW1pdGVyID0gcmVxdWlyZSgnLi9saW1pdGVycy9UaW1lTGltaXRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RpbWVMaW1pdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGltZUxpbWl0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG52YXIgX2NyZWF0ZUluZGljZXNGb3JRdWFkcyA9IHJlcXVpcmUoJy4uLy4uL2NvcmUvdXRpbHMvY3JlYXRlSW5kaWNlc0ZvclF1YWRzJyk7XG5cbnZhciBfY3JlYXRlSW5kaWNlc0ZvclF1YWRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUluZGljZXNGb3JRdWFkcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdFxuICogdGhleSBub3cgc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgUGFydGljbGVCdWZmZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL1BhcnRpY2xlQnVmZmVyLmphdmFcbiAqL1xuXG4vKipcbiAqIFRoZSBwYXJ0aWNsZSBidWZmZXIgbWFuYWdlcyB0aGUgc3RhdGljIGFuZCBkeW5hbWljIGJ1ZmZlcnMgZm9yIGEgcGFydGljbGUgY29udGFpbmVyLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHByb3BlcnRpZXMgLSBUaGUgcHJvcGVydGllcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtib29sZWFuW119IGR5bmFtaWNQcm9wZXJ0eUZsYWdzIC0gRmxhZ3MgZm9yIHdoaWNoIHByb3BlcnRpZXMgYXJlIGR5bmFtaWMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgYmF0Y2guXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFydGljbGVCdWZmZXIoZ2wsIHByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBzaXplKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXJ0aWNsZUJ1ZmZlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIHBhcnRpY2xlcyB0aGUgYnVmZmVyIGNhbiBob2xkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBkeW5hbWljLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIHRoZSBwcm9wZXJ0aWVzIHRoYXQgYXJlIHN0YXRpYy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG5cbiAgICAgICAgICAgIC8vIE1ha2UgY29weSBvZiBwcm9wZXJ0aWVzIG9iamVjdCBzbyB0aGF0IHdoZW4gd2UgZWRpdCB0aGUgb2Zmc2V0IGl0IGRvZXNuJ3RcbiAgICAgICAgICAgIC8vIGNoYW5nZSBhbGwgb3RoZXIgaW5zdGFuY2VzIG9mIHRoZSBvYmplY3QgbGl0ZXJhbFxuICAgICAgICAgICAgcHJvcGVydHkgPSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlOiBwcm9wZXJ0eS5hdHRyaWJ1dGUsXG4gICAgICAgICAgICAgICAgc2l6ZTogcHJvcGVydHkuc2l6ZSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogcHJvcGVydHkudXBsb2FkRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgdW5zaWduZWRCeXRlOiBwcm9wZXJ0eS51bnNpZ25lZEJ5dGUsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBwcm9wZXJ0eS5vZmZzZXRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChkeW5hbWljUHJvcGVydHlGbGFnc1tpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcy5wdXNoKHByb3BlcnR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSA9IDA7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG5cbiAgICAgICAgdGhpcy5pbml0QnVmZmVycygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLmluaXRCdWZmZXJzID0gZnVuY3Rpb24gaW5pdEJ1ZmZlcnMoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBkeW5hbWljT2Zmc2V0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG9sZHMgdGhlIGluZGljZXMgb2YgdGhlIGdlb21ldHJ5IChxdWFkcykgdG8gZHJhd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5kaWNlcyA9ICgwLCBfY3JlYXRlSW5kaWNlc0ZvclF1YWRzMi5kZWZhdWx0KSh0aGlzLnNpemUpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlSW5kZXhCdWZmZXIoZ2wsIHRoaXMuaW5kaWNlcywgZ2wuU1RBVElDX0RSQVcpO1xuXG4gICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBkeW5hbWljT2Zmc2V0O1xuICAgICAgICAgICAgZHluYW1pY09mZnNldCArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZHluQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuc2l6ZSAqIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQgKiA0KTtcblxuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShkeW5CdWZmZXIpO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcihnbCwgZHluQnVmZmVyLCBnbC5TVFJFQU1fRFJBVyk7XG5cbiAgICAgICAgLy8gc3RhdGljIC8vXG4gICAgICAgIHZhciBzdGF0aWNPZmZzZXQgPSAwO1xuXG4gICAgICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytfaSkge1xuICAgICAgICAgICAgdmFyIF9wcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tfaV07XG5cbiAgICAgICAgICAgIF9wcm9wZXJ0eS5vZmZzZXQgPSBzdGF0aWNPZmZzZXQ7XG4gICAgICAgICAgICBzdGF0aWNPZmZzZXQgKz0gX3Byb3BlcnR5LnNpemU7XG4gICAgICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSArPSBfcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGF0QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuc2l6ZSAqIHRoaXMuc3RhdGljU3RyaWRlICogNCAqIDQpO1xuXG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG5ldyBVaW50MzJBcnJheShzdGF0QnVmZmVyKTtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wsIHN0YXRCdWZmZXIsIGdsLlNUQVRJQ19EUkFXKTtcblxuICAgICAgICB0aGlzLnZhbyA9IG5ldyBfcGl4aUdsQ29yZTIuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdChnbCkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcik7XG5cbiAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsrX2kyKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BlcnR5MiA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbX2kyXTtcblxuICAgICAgICAgICAgaWYgKF9wcm9wZXJ0eTIudW5zaWduZWRCeXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YW8uYWRkQXR0cmlidXRlKHRoaXMuZHluYW1pY0J1ZmZlciwgX3Byb3BlcnR5Mi5hdHRyaWJ1dGUsIGdsLlVOU0lHTkVEX0JZVEUsIHRydWUsIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQsIF9wcm9wZXJ0eTIub2Zmc2V0ICogNCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvLmFkZEF0dHJpYnV0ZSh0aGlzLmR5bmFtaWNCdWZmZXIsIF9wcm9wZXJ0eTIuYXR0cmlidXRlLCBnbC5GTE9BVCwgZmFsc2UsIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQsIF9wcm9wZXJ0eTIub2Zmc2V0ICogNCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK19pMykge1xuICAgICAgICAgICAgdmFyIF9wcm9wZXJ0eTMgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbX2kzXTtcblxuICAgICAgICAgICAgaWYgKF9wcm9wZXJ0eTMudW5zaWduZWRCeXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YW8uYWRkQXR0cmlidXRlKHRoaXMuc3RhdGljQnVmZmVyLCBfcHJvcGVydHkzLmF0dHJpYnV0ZSwgZ2wuVU5TSUdORURfQllURSwgdHJ1ZSwgdGhpcy5zdGF0aWNTdHJpZGUgKiA0LCBfcHJvcGVydHkzLm9mZnNldCAqIDQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhby5hZGRBdHRyaWJ1dGUodGhpcy5zdGF0aWNCdWZmZXIsIF9wcm9wZXJ0eTMuYXR0cmlidXRlLCBnbC5GTE9BVCwgZmFsc2UsIHRoaXMuc3RhdGljU3RyaWRlICogNCwgX3Byb3BlcnR5My5vZmZzZXQgKiA0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBkeW5hbWljIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIFRoZSBjaGlsZHJlbiB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSBUaGUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBudW1iZXIgdG8gdXBsb2FkLlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUudXBsb2FkRHluYW1pYyA9IGZ1bmN0aW9uIHVwbG9hZER5bmFtaWMoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG5cbiAgICAgICAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIHByb3BlcnR5LnVuc2lnbmVkQnl0ZSA/IHRoaXMuZHluYW1pY0RhdGFVaW50MzIgOiB0aGlzLmR5bmFtaWNEYXRhLCB0aGlzLmR5bmFtaWNTdHJpZGUsIHByb3BlcnR5Lm9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIudXBsb2FkKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHN0YXRpYyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLnVwbG9hZFN0YXRpYyA9IGZ1bmN0aW9uIHVwbG9hZFN0YXRpYyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbaV07XG5cbiAgICAgICAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIHByb3BlcnR5LnVuc2lnbmVkQnl0ZSA/IHRoaXMuc3RhdGljRGF0YVVpbnQzMiA6IHRoaXMuc3RhdGljRGF0YSwgdGhpcy5zdGF0aWNTdHJpZGUsIHByb3BlcnR5Lm9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlci51cGxvYWQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIFBhcnRpY2xlQnVmZmVyLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5keW5hbWljUHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBhcnRpY2xlQnVmZmVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQYXJ0aWNsZUJ1ZmZlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnRpY2xlQnVmZmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9TaGFkZXIyID0gcmVxdWlyZSgnLi4vLi4vY29yZS9TaGFkZXInKTtcblxudmFyIF9TaGFkZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2hhZGVyMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVTaGFkZXIgPSBmdW5jdGlvbiAoX1NoYWRlcikge1xuICAgIF9pbmhlcml0cyhQYXJ0aWNsZVNoYWRlciwgX1NoYWRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBnbCAtIFRoZSB3ZWJnbCBzaGFkZXIgbWFuYWdlciB0aGlzIHNoYWRlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFydGljbGVTaGFkZXIoZ2wpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhcnRpY2xlU2hhZGVyKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1NoYWRlci5jYWxsKHRoaXMsIGdsLFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgIFsnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uOycsICdhdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkOycsICdhdHRyaWJ1dGUgdmVjNCBhQ29sb3I7JywgJ2F0dHJpYnV0ZSB2ZWMyIGFQb3NpdGlvbkNvb3JkOycsICdhdHRyaWJ1dGUgZmxvYXQgYVJvdGF0aW9uOycsICd1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDsnLCAndW5pZm9ybSB2ZWM0IHVDb2xvcjsnLCAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7JywgJ3ZhcnlpbmcgdmVjNCB2Q29sb3I7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnICAgZmxvYXQgeCA9IChhVmVydGV4UG9zaXRpb24ueCkgKiBjb3MoYVJvdGF0aW9uKSAtIChhVmVydGV4UG9zaXRpb24ueSkgKiBzaW4oYVJvdGF0aW9uKTsnLCAnICAgZmxvYXQgeSA9IChhVmVydGV4UG9zaXRpb24ueCkgKiBzaW4oYVJvdGF0aW9uKSArIChhVmVydGV4UG9zaXRpb24ueSkgKiBjb3MoYVJvdGF0aW9uKTsnLCAnICAgdmVjMiB2ID0gdmVjMih4LCB5KTsnLCAnICAgdiA9IHYgKyBhUG9zaXRpb25Db29yZDsnLCAnICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyh2LCAxLjApKS54eSwgMC4wLCAxLjApOycsICcgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDsnLCAnICAgdkNvbG9yID0gYUNvbG9yICogdUNvbG9yOycsICd9J10uam9pbignXFxuJyksXG4gICAgICAgIC8vIGhlbGxvXG4gICAgICAgIFsndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7JywgJ3ZhcnlpbmcgdmVjNCB2Q29sb3I7JywgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyOycsICd2b2lkIG1haW4odm9pZCl7JywgJyAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB2Q29sb3I7JywgJyAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7JywgJ30nXS5qb2luKCdcXG4nKSkpO1xuICAgIH1cblxuICAgIHJldHVybiBQYXJ0aWNsZVNoYWRlcjtcbn0oX1NoYWRlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBhcnRpY2xlU2hhZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFydGljbGVTaGFkZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX1BhcnRpY2xlU2hhZGVyID0gcmVxdWlyZSgnLi9QYXJ0aWNsZVNoYWRlcicpO1xuXG52YXIgX1BhcnRpY2xlU2hhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhcnRpY2xlU2hhZGVyKTtcblxudmFyIF9QYXJ0aWNsZUJ1ZmZlciA9IHJlcXVpcmUoJy4vUGFydGljbGVCdWZmZXInKTtcblxudmFyIF9QYXJ0aWNsZUJ1ZmZlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXJ0aWNsZUJ1ZmZlcik7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi9jb3JlL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0IHRoZXkgbm93XG4gKiBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBQYXJ0aWNsZVJlbmRlcmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZVJlbmRlcmVyLmphdmFcbiAqL1xuXG4vKipcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVSZW5kZXJlciA9IGZ1bmN0aW9uIChfY29yZSRPYmplY3RSZW5kZXJlcikge1xuICAgIF9pbmhlcml0cyhQYXJ0aWNsZVJlbmRlcmVyLCBfY29yZSRPYmplY3RSZW5kZXJlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBzcHJpdGUgYmF0Y2ggd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhcnRpY2xlUmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIDY1NTM1IGlzIG1heCB2ZXJ0ZXggaW5kZXggaW4gdGhlIGluZGV4IGJ1ZmZlciAoc2VlIFBhcnRpY2xlUmVuZGVyZXIpXG4gICAgICAgIC8vIHNvIG1heCBudW1iZXIgb2YgcGFydGljbGVzIGlzIDY1NTM2IC8gNCA9IDE2Mzg0XG4gICAgICAgIC8vIGFuZCBtYXggbnVtYmVyIG9mIGVsZW1lbnQgaW4gdGhlIGluZGV4IGJ1ZmZlciBpcyAxNjM4NCAqIDYgPSA5ODMwNFxuICAgICAgICAvLyBDcmVhdGluZyBhIGZ1bGwgaW5kZXggYnVmZmVyLCBvdmVyaGVhZCBpcyA5ODMwNCAqIDIgPSAxOTZLb1xuICAgICAgICAvLyBsZXQgbnVtSW5kaWNlcyA9IDk4MzA0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzaGFkZXIgdGhhdCBpcyB1c2VkIGlmIGEgc3ByaXRlIGRvZXNuJ3QgaGF2ZSBhIG1vcmUgc3BlY2lmaWMgb25lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJE9iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5wcm9wZXJ0aWVzID0gbnVsbDtcblxuICAgICAgICBfdGhpcy50ZW1wTWF0cml4ID0gbmV3IGNvcmUuTWF0cml4KCk7XG5cbiAgICAgICAgX3RoaXMuQ09OVEVYVF9VSUQgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGVyZSBpcyBhIFdlYkdMIGNvbnRleHQgY2hhbmdlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5vbkNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiBvbkNvbnRleHRDaGFuZ2UoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG5cbiAgICAgICAgLy8gc2V0dXAgZGVmYXVsdCBzaGFkZXJcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBuZXcgX1BhcnRpY2xlU2hhZGVyMi5kZWZhdWx0KGdsKTtcblxuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBbXG4gICAgICAgIC8vIHZlcnRpY2VzRGF0YVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWJ1dGU6IHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYVZlcnRleFBvc2l0aW9uLFxuICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFZlcnRpY2VzLFxuICAgICAgICAgICAgb2Zmc2V0OiAwXG4gICAgICAgIH0sXG4gICAgICAgIC8vIHBvc2l0aW9uRGF0YVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWJ1dGU6IHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYVBvc2l0aW9uQ29vcmQsXG4gICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkUG9zaXRpb24sXG4gICAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgLy8gcm90YXRpb25EYXRhXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogdGhpcy5zaGFkZXIuYXR0cmlidXRlcy5hUm90YXRpb24sXG4gICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkUm90YXRpb24sXG4gICAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgLy8gdXZzRGF0YVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWJ1dGU6IHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYVRleHR1cmVDb29yZCxcbiAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRVdnMsXG4gICAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgLy8gdGludERhdGFcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmlidXRlOiB0aGlzLnNoYWRlci5hdHRyaWJ1dGVzLmFDb2xvcixcbiAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICB1bnNpZ25lZEJ5dGU6IHRydWUsXG4gICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRUaW50LFxuICAgICAgICAgICAgb2Zmc2V0OiAwXG4gICAgICAgIH1dO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgYSBuZXcgcGFydGljbGUgYmF0Y2guXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5iaW5kU2hhZGVyKHRoaXMuc2hhZGVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgcGFydGljbGUgY29udGFpbmVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gY29udGFpbmVyLmNoaWxkcmVuO1xuICAgICAgICB2YXIgbWF4U2l6ZSA9IGNvbnRhaW5lci5fbWF4U2l6ZTtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgdG90YWxDaGlsZHJlbiA9IGNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgICBpZiAodG90YWxDaGlsZHJlbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKHRvdGFsQ2hpbGRyZW4gPiBtYXhTaXplKSB7XG4gICAgICAgICAgICB0b3RhbENoaWxkcmVuID0gbWF4U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBidWZmZXJzID0gY29udGFpbmVyLl9nbEJ1ZmZlcnNbcmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghYnVmZmVycykge1xuICAgICAgICAgICAgYnVmZmVycyA9IGNvbnRhaW5lci5fZ2xCdWZmZXJzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IHRoaXMuZ2VuZXJhdGVCdWZmZXJzKGNvbnRhaW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBjaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAvLyBpZiB0aGUgdXZzIGhhdmUgbm90IHVwZGF0ZWQgdGhlbiBubyBwb2ludCByZW5kZXJpbmcganVzdCB5ZXQhXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0QmxlbmRNb2RlKGNvcmUudXRpbHMuY29ycmVjdEJsZW5kTW9kZShjb250YWluZXIuYmxlbmRNb2RlLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpKTtcblxuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICB2YXIgbSA9IGNvbnRhaW5lci53b3JsZFRyYW5zZm9ybS5jb3B5KHRoaXMudGVtcE1hdHJpeCk7XG5cbiAgICAgICAgbS5wcmVwZW5kKHJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQucHJvamVjdGlvbk1hdHJpeCk7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IG0udG9BcnJheSh0cnVlKTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBjb3JlLnV0aWxzLnByZW11bHRpcGx5UmdiYShjb250YWluZXIudGludFJnYiwgY29udGFpbmVyLndvcmxkQWxwaGEsIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleHR1cmUucHJlbXVsdGlwbGllZEFscGhhKTtcblxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHRleHR1cmUgaXMgYm91bmQuLlxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IHJlbmRlcmVyLmJpbmRUZXh0dXJlKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICB2YXIgdXBkYXRlU3RhdGljID0gZmFsc2U7XG5cbiAgICAgICAgLy8gbm93IGxldHMgdXBsb2FkIGFuZCByZW5kZXIgdGhlIGJ1ZmZlcnMuLlxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPCB0b3RhbENoaWxkcmVuOyBpICs9IGJhdGNoU2l6ZSwgaiArPSAxKSB7XG4gICAgICAgICAgICB2YXIgYW1vdW50ID0gdG90YWxDaGlsZHJlbiAtIGk7XG5cbiAgICAgICAgICAgIGlmIChhbW91bnQgPiBiYXRjaFNpemUpIHtcbiAgICAgICAgICAgICAgICBhbW91bnQgPSBiYXRjaFNpemU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChqID49IGJ1ZmZlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb250YWluZXIuYXV0b1Jlc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnVmZmVycy5wdXNoKHRoaXMuX2dlbmVyYXRlT25lTW9yZUJ1ZmZlcihjb250YWluZXIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbal07XG5cbiAgICAgICAgICAgIC8vIHdlIGFsd2F5cyB1cGxvYWQgdGhlIGR5bmFtaWNcbiAgICAgICAgICAgIGJ1ZmZlci51cGxvYWREeW5hbWljKGNoaWxkcmVuLCBpLCBhbW91bnQpO1xuXG4gICAgICAgICAgICB2YXIgYmlkID0gY29udGFpbmVyLl9idWZmZXJVcGRhdGVJRHNbaV0gfHwgMDtcblxuICAgICAgICAgICAgdXBkYXRlU3RhdGljID0gdXBkYXRlU3RhdGljIHx8IGJ1ZmZlci5fdXBkYXRlSUQgPCBiaWQ7XG4gICAgICAgICAgICAvLyB3ZSBvbmx5IHVwbG9hZCB0aGUgc3RhdGljIGNvbnRlbnQgd2hlbiB3ZSBoYXZlIHRvIVxuICAgICAgICAgICAgaWYgKHVwZGF0ZVN0YXRpYykge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fdXBkYXRlSUQgPSBjb250YWluZXIuX3VwZGF0ZUlEO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci51cGxvYWRTdGF0aWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFZhbyhidWZmZXIudmFvKTtcbiAgICAgICAgICAgIGJ1ZmZlci52YW8uZHJhdyhnbC5UUklBTkdMRVMsIGFtb3VudCAqIDYpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb25lIHBhcnRpY2xlIGJ1ZmZlciBmb3IgZWFjaCBjaGlsZCBpbiB0aGUgY29udGFpbmVyIHdlIHdhbnQgdG8gcmVuZGVyIGFuZCB1cGRhdGVzIGludGVybmFsIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybiB7UElYSS5QYXJ0aWNsZUJ1ZmZlcltdfSBUaGUgYnVmZmVyc1xuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5nZW5lcmF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiBnZW5lcmF0ZUJ1ZmZlcnMoY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBidWZmZXJzID0gW107XG4gICAgICAgIHZhciBzaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciBkeW5hbWljUHJvcGVydHlGbGFncyA9IGNvbnRhaW5lci5fcHJvcGVydGllcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBidWZmZXJzLnB1c2gobmV3IF9QYXJ0aWNsZUJ1ZmZlcjIuZGVmYXVsdChnbCwgdGhpcy5wcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgYmF0Y2hTaXplKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnVmZmVycztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvbmUgbW9yZSBwYXJ0aWNsZSBidWZmZXIsIGJlY2F1c2UgY29udGFpbmVyIGhhcyBhdXRvUmVzaXplIGZlYXR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybiB7UElYSS5QYXJ0aWNsZUJ1ZmZlcn0gZ2VuZXJhdGVkIGJ1ZmZlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIgPSBmdW5jdGlvbiBfZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciBkeW5hbWljUHJvcGVydHlGbGFncyA9IGNvbnRhaW5lci5fcHJvcGVydGllcztcblxuICAgICAgICByZXR1cm4gbmV3IF9QYXJ0aWNsZUJ1ZmZlcjIuZGVmYXVsdChnbCwgdGhpcy5wcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgYmF0Y2hTaXplKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdmVydGljaWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgdmVydGljZXMgdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRWZXJ0aWNlcyA9IGZ1bmN0aW9uIHVwbG9hZFZlcnRpY2VzKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV07XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBzeCA9IHNwcml0ZS5zY2FsZS54O1xuICAgICAgICAgICAgdmFyIHN5ID0gc3ByaXRlLnNjYWxlLnk7XG4gICAgICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZCBhbmQgaXMgbm90IGEgdGlsaW5nc3ByaXRlIHRoZW4gd2UgbmVlZCB0byBhZGQgdGhlXG4gICAgICAgICAgICAgICAgLy8gZXh0cmEgc3BhY2UgYmVmb3JlIHRyYW5zZm9ybWluZyB0aGUgc3ByaXRlIGNvb3Jkcy4uXG4gICAgICAgICAgICAgICAgdzEgPSB0cmltLnggLSBzcHJpdGUuYW5jaG9yLnggKiBvcmlnLndpZHRoO1xuICAgICAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuXG4gICAgICAgICAgICAgICAgaDEgPSB0cmltLnkgLSBzcHJpdGUuYW5jaG9yLnkgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgICAgICAgICBoMCA9IGgxICsgdHJpbS5oZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHcwID0gb3JpZy53aWR0aCAqICgxIC0gc3ByaXRlLmFuY2hvci54KTtcbiAgICAgICAgICAgICAgICB3MSA9IG9yaWcud2lkdGggKiAtc3ByaXRlLmFuY2hvci54O1xuXG4gICAgICAgICAgICAgICAgaDAgPSBvcmlnLmhlaWdodCAqICgxIC0gc3ByaXRlLmFuY2hvci55KTtcbiAgICAgICAgICAgICAgICBoMSA9IG9yaWcuaGVpZ2h0ICogLXNwcml0ZS5hbmNob3IueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHcxICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IGgxICogc3k7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSBoMSAqIHN5O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyICsgMV0gPSBoMCAqIHN5O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzXSA9IHcxICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzICsgMV0gPSBoMCAqIHN5O1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHBvc2l0aW9ucyB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFBvc2l0aW9uID0gZnVuY3Rpb24gdXBsb2FkUG9zaXRpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGVQb3NpdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5wb3NpdGlvbjtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkUm90YXRpb24gPSBmdW5jdGlvbiB1cGxvYWRSb3RhdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNwcml0ZVJvdGF0aW9uID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLnJvdGF0aW9uO1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSBzcHJpdGVSb3RhdGlvbjtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFV2cyA9IGZ1bmN0aW9uIHVwbG9hZFV2cyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIHRleHR1cmVVdnMgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0uX3RleHR1cmUuX3V2cztcblxuICAgICAgICAgICAgaWYgKHRleHR1cmVVdnMpIHtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHRleHR1cmVVdnMueTA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gdGV4dHVyZVV2cy54MTtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHRleHR1cmVVdnMueTE7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHRleHR1cmVVdnMueDI7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMiArIDFdID0gdGV4dHVyZVV2cy55MjtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzICsgMV0gPSB0ZXh0dXJlVXZzLnkzO1xuXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8geW91IGtub3cgdGhpcyBjYW4gYmUgZWFzaWVyIVxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDJdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyICsgMV0gPSAwO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDMgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVGludCA9IGZ1bmN0aW9uIHVwbG9hZFRpbnQoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV07XG4gICAgICAgICAgICB2YXIgcHJlbXVsdGlwbGllZCA9IHNwcml0ZS5fdGV4dHVyZS5iYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGE7XG4gICAgICAgICAgICB2YXIgYWxwaGEgPSBzcHJpdGUuYWxwaGE7XG4gICAgICAgICAgICAvLyB3ZSBkb250IGNhbGwgZXh0cmEgZnVuY3Rpb24gaWYgYWxwaGEgaXMgMS4wLCB0aGF0J3MgZmFzdGVyXG4gICAgICAgICAgICB2YXIgYXJnYiA9IGFscGhhIDwgMS4wICYmIHByZW11bHRpcGxpZWQgPyAoMCwgX3V0aWxzLnByZW11bHRpcGx5VGludCkoc3ByaXRlLl90aW50UkdCLCBhbHBoYSkgOiBzcHJpdGUuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMl0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSBhcmdiO1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgUGFydGljbGVSZW5kZXJlci5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIuZ2wpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuZGVsZXRlQnVmZmVyKHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NvcmUkT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZW1wTWF0cml4ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBhcnRpY2xlUmVuZGVyZXI7XG59KGNvcmUuT2JqZWN0UmVuZGVyZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQYXJ0aWNsZVJlbmRlcmVyO1xuXG5cbmNvcmUuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbigncGFydGljbGUnLCBQYXJ0aWNsZVJlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnRpY2xlUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vY29yZS91dGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIFBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGlzIGEgcmVhbGx5IGZhc3QgdmVyc2lvbiBvZiB0aGUgQ29udGFpbmVyIGJ1aWx0IHNvbGVseSBmb3Igc3BlZWQsXG4gKiBzbyB1c2Ugd2hlbiB5b3UgbmVlZCBhIGxvdCBvZiBzcHJpdGVzIG9yIHBhcnRpY2xlcy4gVGhlIHRyYWRlb2ZmIG9mIHRoZSBQYXJ0aWNsZUNvbnRhaW5lciBpcyB0aGF0IG1vc3QgYWR2YW5jZWRcbiAqIGZ1bmN0aW9uYWxpdHkgd2lsbCBub3Qgd29yay4gUGFydGljbGVDb250YWluZXIgaW1wbGVtZW50cyB0aGUgYmFzaWMgb2JqZWN0IHRyYW5zZm9ybSAocG9zaXRpb24sIHNjYWxlLCByb3RhdGlvbilcbiAqIGFuZCBzb21lIGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgbGlrZSB0aW50IChhcyBvZiB2NC41LjYpLlxuICogT3RoZXIgbW9yZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgbWFza2luZywgY2hpbGRyZW4sIGZpbHRlcnMsIGV0YyB3aWxsIG5vdCB3b3JrIG9uIHNwcml0ZXMgaW4gdGhpcyBiYXRjaC5cbiAqXG4gKiBJdCdzIGV4dHJlbWVseSBlYXN5IHRvIHVzZSA6XG4gKlxuICogYGBganNcbiAqIGxldCBjb250YWluZXIgPSBuZXcgUGFydGljbGVDb250YWluZXIoKTtcbiAqXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgKytpKVxuICoge1xuICogICAgIGxldCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUuZnJvbUltYWdlKFwibXlJbWFnZS5wbmdcIik7XG4gKiAgICAgY29udGFpbmVyLmFkZENoaWxkKHNwcml0ZSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBBbmQgaGVyZSB5b3UgaGF2ZSBhIGh1bmRyZWQgc3ByaXRlcyB0aGF0IHdpbGwgYmUgcmVuZGVyZWQgYXQgdGhlIHNwZWVkIG9mIGxpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJLnBhcnRpY2xlc1xuICovXG52YXIgUGFydGljbGVDb250YWluZXIgPSBmdW5jdGlvbiAoX2NvcmUkQ29udGFpbmVyKSB7XG4gICAgX2luaGVyaXRzKFBhcnRpY2xlQ29udGFpbmVyLCBfY29yZSRDb250YWluZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhTaXplPTE1MDBdIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIHBhcnRpY2xlcyB0aGF0IGNhbiBiZSByZW5kZXJlZCBieSB0aGUgY29udGFpbmVyLlxuICAgICAqICBBZmZlY3RzIHNpemUgb2YgYWxsb2NhdGVkIGJ1ZmZlcnMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtwcm9wZXJ0aWVzXSAtIFRoZSBwcm9wZXJ0aWVzIG9mIGNoaWxkcmVuIHRoYXQgc2hvdWxkIGJlIHVwbG9hZGVkIHRvIHRoZSBncHUgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy52ZXJ0aWNlcz1mYWxzZV0gLSBXaGVuIHRydWUsIHZlcnRpY2VzIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqICAgICAgICAgICAgICAgICAgaWYgc3ByaXRlJ3MgYCBzY2FsZS9hbmNob3IvdHJpbS9mcmFtZS9vcmlnYCBpcyBkeW5hbWljLCBwbGVhc2Ugc2V0IGB0cnVlYC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnBvc2l0aW9uPXRydWVdIC0gV2hlbiB0cnVlLCBwb3NpdGlvbiBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnJvdGF0aW9uPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgcm90YXRpb24gYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy51dnM9ZmFsc2VdIC0gV2hlbiB0cnVlLCB1dnMgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy50aW50PWZhbHNlXSAtIFdoZW4gdHJ1ZSwgYWxwaGEgYW5kIHRpbnQgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiYXRjaFNpemU9MTYzODRdIC0gTnVtYmVyIG9mIHBhcnRpY2xlcyBwZXIgYmF0Y2guIElmIGxlc3MgdGhhbiBtYXhTaXplLCBpdCB1c2VzIG1heFNpemUgaW5zdGVhZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvUmVzaXplPWZhbHNlXSBJZiB0cnVlLCBjb250YWluZXIgYWxsb2NhdGVzIG1vcmUgYmF0Y2hlcyBpbiBjYXNlXG4gICAgICogIHRoZXJlIGFyZSBtb3JlIHRoYW4gYG1heFNpemVgIHBhcnRpY2xlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZUNvbnRhaW5lcigpIHtcbiAgICAgICAgdmFyIG1heFNpemUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDE1MDA7XG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gYXJndW1lbnRzWzFdO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxNjM4NDtcbiAgICAgICAgdmFyIGF1dG9SZXNpemUgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXJ0aWNsZUNvbnRhaW5lcik7XG5cbiAgICAgICAgLy8gTWFraW5nIHN1cmUgdGhlIGJhdGNoIHNpemUgaXMgdmFsaWRcbiAgICAgICAgLy8gNjU1MzUgaXMgbWF4IHZlcnRleCBpbmRleCBpbiB0aGUgaW5kZXggYnVmZmVyIChzZWUgUGFydGljbGVSZW5kZXJlcilcbiAgICAgICAgLy8gc28gbWF4IG51bWJlciBvZiBwYXJ0aWNsZXMgaXMgNjU1MzYgLyA0ID0gMTYzODRcbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkQ29udGFpbmVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIHZhciBtYXhCYXRjaFNpemUgPSAxNjM4NDtcblxuICAgICAgICBpZiAoYmF0Y2hTaXplID4gbWF4QmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBiYXRjaFNpemUgPSBtYXhCYXRjaFNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmF0Y2hTaXplID4gbWF4U2l6ZSkge1xuICAgICAgICAgICAgYmF0Y2hTaXplID0gbWF4U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgcHJvcGVydGllcyB0byBiZSBkeW5hbWljICh0cnVlKSAvIHN0YXRpYyAoZmFsc2UpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW5bXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wcm9wZXJ0aWVzID0gW2ZhbHNlLCB0cnVlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21heFNpemUgPSBtYXhTaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmF0Y2hTaXplID0gYmF0Y2hTaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBXZWJHTEJ1ZmZlcj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZ2xCdWZmZXJzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZvciBldmVyeSBiYXRjaCBzdG9yZXMgX3VwZGF0ZUlEIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGxhc3QgY2hhbmdlIGluIHRoYXQgYmF0Y2hcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHdoZW4gY2hpbGQgaW5zZXJ0ZWQsIHJlbW92ZWQgb3IgY2hhbmdlcyBwb3NpdGlvbiB0aGlzIG51bWJlciBnb2VzIHVwXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGBcbiAgICAgICAgICogdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBjb3JlLkJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSwgY29udGFpbmVyIGFsbG9jYXRlcyBtb3JlIGJhdGNoZXMgaW4gY2FzZSB0aGVyZSBhcmUgbW9yZSB0aGFuIGBtYXhTaXplYCBwYXJ0aWNsZXMuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvUmVzaXplID0gYXV0b1Jlc2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBmb3IgY2FudmFzIHJlbmRlcmVyaW5nLiBJZiB0cnVlIHRoZW4gdGhlIGVsZW1lbnRzIHdpbGwgYmUgcG9zaXRpb25lZCBhdCB0aGVcbiAgICAgICAgICogbmVhcmVzdCBwaXhlbC4gVGhpcyBwcm92aWRlcyBhIG5pY2Ugc3BlZWQgYm9vc3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWU7XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yb3VuZFBpeGVscyA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHVzZWQgdG8gcmVuZGVyIHRoZSBjaGlsZHJlbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge0Jhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgICAgICogVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50ID0gMDtcbiAgICAgICAgX3RoaXMudGludFJnYiA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgICAgIF90aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHByaXZhdGUgcHJvcGVydGllcyBhcnJheSB0byBkeW5hbWljIC8gc3RhdGljIGJhc2VkIG9uIHRoZSBwYXNzZWQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgdG8gYmUgdXBsb2FkZWRcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnNldFByb3BlcnRpZXMgPSBmdW5jdGlvbiBzZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpIHtcbiAgICAgICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMF0gPSAndmVydGljZXMnIGluIHByb3BlcnRpZXMgfHwgJ3NjYWxlJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnZlcnRpY2VzIHx8ICEhcHJvcGVydGllcy5zY2FsZSA6IHRoaXMuX3Byb3BlcnRpZXNbMF07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzFdID0gJ3Bvc2l0aW9uJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnBvc2l0aW9uIDogdGhpcy5fcHJvcGVydGllc1sxXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMl0gPSAncm90YXRpb24nIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucm90YXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzJdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1szXSA9ICd1dnMnIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMudXZzIDogdGhpcy5fcHJvcGVydGllc1szXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbNF0gPSAndGludCcgaW4gcHJvcGVydGllcyB8fCAnYWxwaGEnIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMudGludCB8fCAhIXByb3BlcnRpZXMuYWxwaGEgOiB0aGlzLl9wcm9wZXJ0aWVzWzRdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICAgICAgLy8gVE9ETyBkb24ndCBuZWVkIHRvIVxuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLy8gIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0uY2FsbCggdGhpcyApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBjb250YWluZXIuIFRoaXMgaXMgYSBoZXggdmFsdWUuXG4gICAgICogQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICoqIElNUE9SVEFOVDogVGhpcyBpcyBhIHdlYkdMIG9ubHkgZmVhdHVyZSBhbmQgd2lsbCBiZSBpZ25vcmVkIGJ5IHRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGNvbnRhaW5lciB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHdlYmdsIHJlbmRlcmVyXG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnJlbmRlcldlYkdMID0gZnVuY3Rpb24gcmVuZGVyV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMuY2hpbGRyZW4ubGVuZ3RoIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IHRoaXMuY2hpbGRyZW5bMF0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vbmNlKCd1cGRhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25DaGlsZHJlbkNoYW5nZSgwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnMucGFydGljbGUpO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBmbGFnIHRoYXQgc3RhdGljIGRhdGEgc2hvdWxkIGJlIHVwZGF0ZWQgdG8gdHJ1ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc21hbGxlc3RDaGlsZEluZGV4IC0gVGhlIHNtYWxsZXN0IGNoaWxkIGluZGV4XG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5vbkNoaWxkcmVuQ2hhbmdlID0gZnVuY3Rpb24gb25DaGlsZHJlbkNoYW5nZShzbWFsbGVzdENoaWxkSW5kZXgpIHtcbiAgICAgICAgdmFyIGJ1ZmZlckluZGV4ID0gTWF0aC5mbG9vcihzbWFsbGVzdENoaWxkSW5kZXggLyB0aGlzLl9iYXRjaFNpemUpO1xuXG4gICAgICAgIHdoaWxlICh0aGlzLl9idWZmZXJVcGRhdGVJRHMubGVuZ3RoIDwgYnVmZmVySW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcy5wdXNoKDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEc1tidWZmZXJJbmRleF0gPSArK3RoaXMuX3VwZGF0ZUlEO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIENhbnZhcyByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIGNhbnZhcyByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLmNoaWxkcmVuLmxlbmd0aCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29udGV4dCA9IHJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgaXNSb3RhdGVkID0gdHJ1ZTtcblxuICAgICAgICB2YXIgcG9zaXRpb25YID0gMDtcbiAgICAgICAgdmFyIHBvc2l0aW9uWSA9IDA7XG5cbiAgICAgICAgdmFyIGZpbmFsV2lkdGggPSAwO1xuICAgICAgICB2YXIgZmluYWxIZWlnaHQgPSAwO1xuXG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZSh0aGlzLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcblxuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmICghY2hpbGQudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZnJhbWUgPSBjaGlsZC5fdGV4dHVyZS5mcmFtZTtcblxuICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHRoaXMud29ybGRBbHBoYSAqIGNoaWxkLmFscGhhO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQucm90YXRpb24gJSAoTWF0aC5QSSAqIDIpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyB0aGUgZmFzdGVzdCAgd2F5IHRvIG9wdGltaXNlISAtIGlmIHJvdGF0aW9uIGlzIDAgdGhlbiB3ZSBjYW4gYXZvaWQgYW55IGtpbmQgb2Ygc2V0VHJhbnNmb3JtIGNhbGxcbiAgICAgICAgICAgICAgICBpZiAoaXNSb3RhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybS5hLCB0cmFuc2Zvcm0uYiwgdHJhbnNmb3JtLmMsIHRyYW5zZm9ybS5kLCB0cmFuc2Zvcm0udHggKiByZW5kZXJlci5yZXNvbHV0aW9uLCB0cmFuc2Zvcm0udHkgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICBpc1JvdGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwb3NpdGlvblggPSBjaGlsZC5hbmNob3IueCAqICgtZnJhbWUud2lkdGggKiBjaGlsZC5zY2FsZS54KSArIGNoaWxkLnBvc2l0aW9uLnggKyAwLjU7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25ZID0gY2hpbGQuYW5jaG9yLnkgKiAoLWZyYW1lLmhlaWdodCAqIGNoaWxkLnNjYWxlLnkpICsgY2hpbGQucG9zaXRpb24ueSArIDAuNTtcblxuICAgICAgICAgICAgICAgIGZpbmFsV2lkdGggPSBmcmFtZS53aWR0aCAqIGNoaWxkLnNjYWxlLng7XG4gICAgICAgICAgICAgICAgZmluYWxIZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiBjaGlsZC5zY2FsZS55O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzUm90YXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpc1JvdGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNoaWxkLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcblxuICAgICAgICAgICAgICAgIHZhciBjaGlsZFRyYW5zZm9ybSA9IGNoaWxkLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlcmVyLnJvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKGNoaWxkVHJhbnNmb3JtLmEsIGNoaWxkVHJhbnNmb3JtLmIsIGNoaWxkVHJhbnNmb3JtLmMsIGNoaWxkVHJhbnNmb3JtLmQsIGNoaWxkVHJhbnNmb3JtLnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiB8IDAsIGNoaWxkVHJhbnNmb3JtLnR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiB8IDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKGNoaWxkVHJhbnNmb3JtLmEsIGNoaWxkVHJhbnNmb3JtLmIsIGNoaWxkVHJhbnNmb3JtLmMsIGNoaWxkVHJhbnNmb3JtLmQsIGNoaWxkVHJhbnNmb3JtLnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgY2hpbGRUcmFuc2Zvcm0udHkgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwb3NpdGlvblggPSBjaGlsZC5hbmNob3IueCAqIC1mcmFtZS53aWR0aCArIDAuNTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSBjaGlsZC5hbmNob3IueSAqIC1mcmFtZS5oZWlnaHQgKyAwLjU7XG5cbiAgICAgICAgICAgICAgICBmaW5hbFdpZHRoID0gZnJhbWUud2lkdGg7XG4gICAgICAgICAgICAgICAgZmluYWxIZWlnaHQgPSBmcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gY2hpbGQuX3RleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoY2hpbGQuX3RleHR1cmUuYmFzZVRleHR1cmUuc291cmNlLCBmcmFtZS54ICogcmVzb2x1dGlvbiwgZnJhbWUueSAqIHJlc29sdXRpb24sIGZyYW1lLndpZHRoICogcmVzb2x1dGlvbiwgZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbiwgcG9zaXRpb25YICogcmVuZGVyZXIucmVzb2x1dGlvbiwgcG9zaXRpb25ZICogcmVuZGVyZXIucmVzb2x1dGlvbiwgZmluYWxXaWR0aCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGZpbmFsSGVpZ2h0ICogcmVuZGVyZXIucmVzb2x1dGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgX2NvcmUkQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlcnMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYnVmZmVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMgPSBudWxsO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoUGFydGljbGVDb250YWluZXIsIFt7XG4gICAgICAgIGtleTogJ3RpbnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgICgwLCBfdXRpbHMuaGV4MnJnYikodmFsdWUsIHRoaXMudGludFJnYik7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUGFydGljbGVDb250YWluZXI7XG59KGNvcmUuQ29udGFpbmVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUGFydGljbGVDb250YWluZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXJ0aWNsZUNvbnRhaW5lci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfUGFydGljbGVDb250YWluZXIgPSByZXF1aXJlKCcuL1BhcnRpY2xlQ29udGFpbmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUGFydGljbGVDb250YWluZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXJ0aWNsZUNvbnRhaW5lcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfUGFydGljbGVSZW5kZXJlciA9IHJlcXVpcmUoJy4vd2ViZ2wvUGFydGljbGVSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1BhcnRpY2xlUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXJ0aWNsZVJlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9NZXNoMiA9IHJlcXVpcmUoJy4vTWVzaCcpO1xuXG52YXIgX01lc2gzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaDIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIHJvcGUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW0gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgcm9wZSA9IG5ldyBQSVhJLlJvcGUoUElYSS5UZXh0dXJlLmZyb21JbWFnZShcInNuYWtlLnBuZ1wiKSwgcG9pbnRzKTtcbiAqICBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkubWVzaC5NZXNoXG4gKiBAbWVtYmVyb2YgUElYSS5tZXNoXG4gKlxuICovXG52YXIgUm9wZSA9IGZ1bmN0aW9uIChfTWVzaCkge1xuICAgIF9pbmhlcml0cyhSb3BlLCBfTWVzaCk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHVzZSBvbiB0aGUgcm9wZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnRbXX0gcG9pbnRzIC0gQW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuUG9pbnR9IG9iamVjdHMgdG8gY29uc3RydWN0IHRoaXMgcm9wZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3BlKHRleHR1cmUsIHBvaW50cykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUm9wZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHBvaW50cyB0aGF0IGRldGVybWluZSB0aGUgcm9wZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50W119XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfTWVzaC5jYWxsKHRoaXMsIHRleHR1cmUpKTtcblxuICAgICAgICBfdGhpcy5wb2ludHMgPSBwb2ludHM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHZlcnRpY2VzIHVzZWQgdG8gY29uc3RydWN0IHRoaXMgcm9wZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIFV2cyBvZiB0aGUgcm9wZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGNvbG9yIGNvbXBvbmVudHNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29sb3JzID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogMik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShwb2ludHMubGVuZ3RoICogMik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlZnJlc2hlcyB2ZXJ0aWNlcyBvbiBldmVyeSB1cGRhdGVUcmFuc2Zvcm1cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1VwZGF0ZSA9IHRydWU7XG5cbiAgICAgICAgX3RoaXMucmVmcmVzaCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgUm9wZS5wcm90b3R5cGUuX3JlZnJlc2ggPSBmdW5jdGlvbiBfcmVmcmVzaCgpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXG4gICAgICAgIC8vIGlmIHRvbyBsaXR0bGUgcG9pbnRzLCBvciB0ZXh0dXJlIGhhc24ndCBnb3QgVVZzIHNldCB5ZXQganVzdCBtb3ZlIG9uLlxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEgfHwgIXRoaXMuX3RleHR1cmUuX3V2cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlIG51bWJlciBvZiBwb2ludHMgaGFzIGNoYW5nZWQgd2Ugd2lsbCBuZWVkIHRvIHJlY3JlYXRlIHRoZSBhcnJheWJ1ZmZlcnNcbiAgICAgICAgaWYgKHRoaXMudmVydGljZXMubGVuZ3RoIC8gNCAhPT0gcG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuICAgICAgICAgICAgdGhpcy51dnMgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgICAgICAgIHRoaXMuY29sb3JzID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogMik7XG4gICAgICAgICAgICB0aGlzLmluZGljZXMgPSBuZXcgVWludDE2QXJyYXkocG9pbnRzLmxlbmd0aCAqIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHV2cyA9IHRoaXMudXZzO1xuXG4gICAgICAgIHZhciBpbmRpY2VzID0gdGhpcy5pbmRpY2VzO1xuICAgICAgICB2YXIgY29sb3JzID0gdGhpcy5jb2xvcnM7XG5cbiAgICAgICAgdXZzWzBdID0gMDtcbiAgICAgICAgdXZzWzFdID0gMDtcbiAgICAgICAgdXZzWzJdID0gMDtcbiAgICAgICAgdXZzWzNdID0gMTtcblxuICAgICAgICBjb2xvcnNbMF0gPSAxO1xuICAgICAgICBjb2xvcnNbMV0gPSAxO1xuXG4gICAgICAgIGluZGljZXNbMF0gPSAwO1xuICAgICAgICBpbmRpY2VzWzFdID0gMTtcblxuICAgICAgICB2YXIgdG90YWwgPSBwb2ludHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgICAgICAgLy8gdGltZSB0byBkbyBzb21lIHNtYXJ0IGRyYXdpbmchXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogNDtcbiAgICAgICAgICAgIHZhciBhbW91bnQgPSBpIC8gKHRvdGFsIC0gMSk7XG5cbiAgICAgICAgICAgIHV2c1tpbmRleF0gPSBhbW91bnQ7XG4gICAgICAgICAgICB1dnNbaW5kZXggKyAxXSA9IDA7XG5cbiAgICAgICAgICAgIHV2c1tpbmRleCArIDJdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgM10gPSAxO1xuXG4gICAgICAgICAgICBpbmRleCA9IGkgKiAyO1xuICAgICAgICAgICAgY29sb3JzW2luZGV4XSA9IDE7XG4gICAgICAgICAgICBjb2xvcnNbaW5kZXggKyAxXSA9IDE7XG5cbiAgICAgICAgICAgIGluZGV4ID0gaSAqIDI7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4XSA9IGluZGV4O1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleCArIDFdID0gaW5kZXggKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIGNoYW5nZXMgYXJlIHVwbG9hZGVkXG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgdGhpcy5pbmRleERpcnR5Kys7XG5cbiAgICAgICAgdGhpcy5tdWx0aXBseVV2cygpO1xuICAgICAgICB0aGlzLnJlZnJlc2hWZXJ0aWNlcygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiByZWZyZXNoZXMgdmVydGljZXMgb2YgUm9wZSBtZXNoXG4gICAgICovXG5cblxuICAgIFJvcGUucHJvdG90eXBlLnJlZnJlc2hWZXJ0aWNlcyA9IGZ1bmN0aW9uIHJlZnJlc2hWZXJ0aWNlcygpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxhc3RQb2ludCA9IHBvaW50c1swXTtcbiAgICAgICAgdmFyIG5leHRQb2ludCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHBlcnBYID0gMDtcbiAgICAgICAgdmFyIHBlcnBZID0gMDtcblxuICAgICAgICAvLyB0aGlzLmNvdW50IC09IDAuMjtcblxuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgICAgICB2YXIgdG90YWwgPSBwb2ludHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDQ7XG5cbiAgICAgICAgICAgIGlmIChpIDwgcG9pbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQgPSBwb2ludHNbaSArIDFdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGVycFkgPSAtKG5leHRQb2ludC54IC0gbGFzdFBvaW50LngpO1xuICAgICAgICAgICAgcGVycFggPSBuZXh0UG9pbnQueSAtIGxhc3RQb2ludC55O1xuXG4gICAgICAgICAgICB2YXIgcmF0aW8gPSAoMSAtIGkgLyAodG90YWwgLSAxKSkgKiAxMDtcblxuICAgICAgICAgICAgaWYgKHJhdGlvID4gMSkge1xuICAgICAgICAgICAgICAgIHJhdGlvID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBlcnBMZW5ndGggPSBNYXRoLnNxcnQocGVycFggKiBwZXJwWCArIHBlcnBZICogcGVycFkpO1xuICAgICAgICAgICAgdmFyIG51bSA9IHRoaXMuX3RleHR1cmUuaGVpZ2h0IC8gMjsgLy8gKDIwICsgTWF0aC5hYnMoTWF0aC5zaW4oKGkgKyB0aGlzLmNvdW50KSAqIDAuMykgKiA1MCkgKSogcmF0aW87XG5cbiAgICAgICAgICAgIHBlcnBYIC89IHBlcnBMZW5ndGg7XG4gICAgICAgICAgICBwZXJwWSAvPSBwZXJwTGVuZ3RoO1xuXG4gICAgICAgICAgICBwZXJwWCAqPSBudW07XG4gICAgICAgICAgICBwZXJwWSAqPSBudW07XG5cbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4XSA9IHBvaW50LnggKyBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgMV0gPSBwb2ludC55ICsgcGVycFk7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDJdID0gcG9pbnQueCAtIHBlcnBYO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAzXSA9IHBvaW50LnkgLSBwZXJwWTtcblxuICAgICAgICAgICAgbGFzdFBvaW50ID0gcG9pbnQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSb3BlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0oKSB7XG4gICAgICAgIGlmICh0aGlzLmF1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFZlcnRpY2VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJvcGU7XG59KF9NZXNoMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUm9wZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJvcGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX1BsYW5lMiA9IHJlcXVpcmUoJy4vUGxhbmUnKTtcblxudmFyIF9QbGFuZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QbGFuZTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBERUZBVUxUX0JPUkRFUl9TSVpFID0gMTA7XG5cbi8qKlxuICogVGhlIE5pbmVTbGljZVBsYW5lIGFsbG93cyB5b3UgdG8gc3RyZXRjaCBhIHRleHR1cmUgdXNpbmcgOS1zbGljZSBzY2FsaW5nLiBUaGUgY29ybmVycyB3aWxsIHJlbWFpbiB1bnNjYWxlZCAodXNlZnVsXG4gKiBmb3IgYnV0dG9ucyB3aXRoIHJvdW5kZWQgY29ybmVycyBmb3IgZXhhbXBsZSkgYW5kIHRoZSBvdGhlciBhcmVhcyB3aWxsIGJlIHNjYWxlZCBob3Jpem9udGFsbHkgYW5kIG9yIHZlcnRpY2FsbHlcbiAqXG4gKmBgYGpzXG4gKiBsZXQgUGxhbmU5ID0gbmV3IFBJWEkuTmluZVNsaWNlUGxhbmUoUElYSS5UZXh0dXJlLmZyb21JbWFnZSgnQm94V2l0aFJvdW5kZWRDb3JuZXJzLnBuZycpLCAxNSwgMTUsIDE1LCAxNSk7XG4gKiAgYGBgXG4gKiA8cHJlPlxuICogICAgICBBICAgICAgICAgICAgICAgICAgICAgICAgICBCXG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEMgfCAxIHwgICAgICAgICAgMiAgICAgICAgICAgfCAzIHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgfCA0IHwgICAgICAgICAgNSAgICAgICAgICAgfCA2IHxcbiAqICAgIHwgICB8ICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEQgfCA3IHwgICAgICAgICAgOCAgICAgICAgICAgfCA5IHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG5cbiAqICBXaGVuIGNoYW5naW5nIHRoaXMgb2JqZWN0cyB3aWR0aCBhbmQvb3IgaGVpZ2h0OlxuICogICAgIGFyZWFzIDEgMyA3IGFuZCA5IHdpbGwgcmVtYWluIHVuc2NhbGVkLlxuICogICAgIGFyZWFzIDIgYW5kIDggd2lsbCBiZSBzdHJldGNoZWQgaG9yaXpvbnRhbGx5XG4gKiAgICAgYXJlYXMgNCBhbmQgNiB3aWxsIGJlIHN0cmV0Y2hlZCB2ZXJ0aWNhbGx5XG4gKiAgICAgYXJlYSA1IHdpbGwgYmUgc3RyZXRjaGVkIGJvdGggaG9yaXpvbnRhbGx5IGFuZCB2ZXJ0aWNhbGx5XG4gKiA8L3ByZT5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkubWVzaC5QbGFuZVxuICogQG1lbWJlcm9mIFBJWEkubWVzaFxuICpcbiAqL1xuXG52YXIgTmluZVNsaWNlUGxhbmUgPSBmdW5jdGlvbiAoX1BsYW5lKSB7XG4gICAgX2luaGVyaXRzKE5pbmVTbGljZVBsYW5lLCBfUGxhbmUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIE5pbmVTbGljZVBsYW5lLlxuICAgICAqIEBwYXJhbSB7aW50fSBbbGVmdFdpZHRoPTEwXSBzaXplIG9mIHRoZSBsZWZ0IHZlcnRpY2FsIGJhciAoQSlcbiAgICAgKiBAcGFyYW0ge2ludH0gW3RvcEhlaWdodD0xMF0gc2l6ZSBvZiB0aGUgdG9wIGhvcml6b250YWwgYmFyIChDKVxuICAgICAqIEBwYXJhbSB7aW50fSBbcmlnaHRXaWR0aD0xMF0gc2l6ZSBvZiB0aGUgcmlnaHQgdmVydGljYWwgYmFyIChCKVxuICAgICAqIEBwYXJhbSB7aW50fSBbYm90dG9tSGVpZ2h0PTEwXSBzaXplIG9mIHRoZSBib3R0b20gaG9yaXpvbnRhbCBiYXIgKEQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gTmluZVNsaWNlUGxhbmUodGV4dHVyZSwgbGVmdFdpZHRoLCB0b3BIZWlnaHQsIHJpZ2h0V2lkdGgsIGJvdHRvbUhlaWdodCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTmluZVNsaWNlUGxhbmUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9QbGFuZS5jYWxsKHRoaXMsIHRleHR1cmUsIDQsIDQpKTtcblxuICAgICAgICBfdGhpcy5fb3JpZ1dpZHRoID0gdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICBfdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLk5pbmVTbGljZVBsYW5lI1xuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IF90aGlzLl9vcmlnV2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5OaW5lU2xpY2VQbGFuZSNcbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gX3RoaXMuX29yaWdIZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW4gKGEpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTmluZVNsaWNlUGxhbmUjXG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGVmdFdpZHRoID0gdHlwZW9mIGxlZnRXaWR0aCAhPT0gJ3VuZGVmaW5lZCcgPyBsZWZ0V2lkdGggOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJpZ2h0IGNvbHVtbiAoYilcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5OaW5lU2xpY2VQbGFuZSNcbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yaWdodFdpZHRoID0gdHlwZW9mIHJpZ2h0V2lkdGggIT09ICd1bmRlZmluZWQnID8gcmlnaHRXaWR0aCA6IERFRkFVTFRfQk9SREVSX1NJWkU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3cgKGMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTmluZVNsaWNlUGxhbmUjXG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG9wSGVpZ2h0ID0gdHlwZW9mIHRvcEhlaWdodCAhPT0gJ3VuZGVmaW5lZCcgPyB0b3BIZWlnaHQgOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93IChkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLk5pbmVTbGljZVBsYW5lI1xuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJvdHRvbUhlaWdodCA9IHR5cGVvZiBib3R0b21IZWlnaHQgIT09ICd1bmRlZmluZWQnID8gYm90dG9tSGVpZ2h0IDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICBfdGhpcy5yZWZyZXNoKHRydWUpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgaG9yaXpvbnRhbCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUudXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzID0gZnVuY3Rpb24gdXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzKCkge1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgICAgIHZlcnRpY2VzWzldID0gdmVydGljZXNbMTFdID0gdmVydGljZXNbMTNdID0gdmVydGljZXNbMTVdID0gdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB2ZXJ0aWNlc1sxN10gPSB2ZXJ0aWNlc1sxOV0gPSB2ZXJ0aWNlc1syMV0gPSB2ZXJ0aWNlc1syM10gPSB0aGlzLl9oZWlnaHQgLSB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgICAgIHZlcnRpY2VzWzI1XSA9IHZlcnRpY2VzWzI3XSA9IHZlcnRpY2VzWzI5XSA9IHZlcnRpY2VzWzMxXSA9IHRoaXMuX2hlaWdodDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdmVydGljYWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnVwZGF0ZVZlcnRpY2FsVmVydGljZXMgPSBmdW5jdGlvbiB1cGRhdGVWZXJ0aWNhbFZlcnRpY2VzKCkge1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbMTBdID0gdmVydGljZXNbMThdID0gdmVydGljZXNbMjZdID0gdGhpcy5fbGVmdFdpZHRoO1xuICAgICAgICB2ZXJ0aWNlc1s0XSA9IHZlcnRpY2VzWzEyXSA9IHZlcnRpY2VzWzIwXSA9IHZlcnRpY2VzWzI4XSA9IHRoaXMuX3dpZHRoIC0gdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgdmVydGljZXNbNl0gPSB2ZXJ0aWNlc1sxNF0gPSB2ZXJ0aWNlc1syMl0gPSB2ZXJ0aWNlc1szMF0gPSB0aGlzLl93aWR0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjYW52YXMgcmVuZGVyZXIgdG8gcmVuZGVyIHdpdGguXG4gICAgICovXG5cblxuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICB2YXIgY29udGV4dCA9IHJlbmRlcmVyLmNvbnRleHQ7XG5cbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICAgICAgcmVuZGVyZXIuc2V0QmxlbmRNb2RlKHRoaXMuYmxlbmRNb2RlKTtcblxuICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHJlcyA9IHJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHJlbmRlcmVyLnJvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlcywgdHJhbnNmb3JtLmIgKiByZXMsIHRyYW5zZm9ybS5jICogcmVzLCB0cmFuc2Zvcm0uZCAqIHJlcywgdHJhbnNmb3JtLnR4ICogcmVzIHwgMCwgdHJhbnNmb3JtLnR5ICogcmVzIHwgMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlcywgdHJhbnNmb3JtLmIgKiByZXMsIHRyYW5zZm9ybS5jICogcmVzLCB0cmFuc2Zvcm0uZCAqIHJlcywgdHJhbnNmb3JtLnR4ICogcmVzLCB0cmFuc2Zvcm0udHkgKiByZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJhc2UgPSB0aGlzLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgdGV4dHVyZVNvdXJjZSA9IGJhc2Uuc291cmNlO1xuICAgICAgICB2YXIgdyA9IGJhc2Uud2lkdGggKiBiYXNlLnJlc29sdXRpb247XG4gICAgICAgIHZhciBoID0gYmFzZS5oZWlnaHQgKiBiYXNlLnJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAwLCAxLCAxMCwgMTEpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDIsIDMsIDEyLCAxMyk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgNCwgNSwgMTQsIDE1KTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCA4LCA5LCAxOCwgMTkpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDEwLCAxMSwgMjAsIDIxKTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAxMiwgMTMsIDIyLCAyMyk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgMTYsIDE3LCAyNiwgMjcpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDE4LCAxOSwgMjgsIDI5KTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAyMCwgMjEsIDMwLCAzMSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgb25lIHNlZ21lbnQgb2YgdGhlIHBsYW5lLlxuICAgICAqIHRvIG1pbWljIHRoZSBleGFjdCBkcmF3aW5nIGJlaGF2aW9yIG9mIHN0cmV0Y2hpbmcgdGhlIGltYWdlIGxpa2UgV2ViR0wgZG9lcywgd2UgbmVlZCB0byBtYWtlIHN1cmVcbiAgICAgKiB0aGF0IHRoZSBzb3VyY2UgYXJlYSBpcyBhdCBsZWFzdCAxIHBpeGVsIGluIHNpemUsIG90aGVyd2lzZSBub3RoaW5nIGdldHMgZHJhd24gd2hlbiBhIHNsaWNlIHNpemUgb2YgMCBpcyB1c2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCAtIFRoZSBjb250ZXh0IHRvIGRyYXcgd2l0aC5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc0ltYWdlU291cmNlfSB0ZXh0dXJlU291cmNlIC0gVGhlIHNvdXJjZSB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3IC0gd2lkdGggb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaCAtIGhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIHggaW5kZXggMVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIHkgaW5kZXggMVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MiAtIHggaW5kZXggMlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MiAtIHkgaW5kZXggMlxuICAgICAqL1xuXG5cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuZHJhd1NlZ21lbnQgPSBmdW5jdGlvbiBkcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCB4MSwgeTEsIHgyLCB5Mikge1xuICAgICAgICAvLyBvdGhlcndpc2UgeW91IGdldCB3ZWlyZCByZXN1bHRzIHdoZW4gdXNpbmcgc2xpY2VzIG9mIHRoYXQgYXJlIDAgd2lkZSBvciBoaWdoLlxuICAgICAgICB2YXIgdXZzID0gdGhpcy51dnM7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG5cbiAgICAgICAgdmFyIHN3ID0gKHV2c1t4Ml0gLSB1dnNbeDFdKSAqIHc7XG4gICAgICAgIHZhciBzaCA9ICh1dnNbeTJdIC0gdXZzW3kxXSkgKiBoO1xuICAgICAgICB2YXIgZHcgPSB2ZXJ0aWNlc1t4Ml0gLSB2ZXJ0aWNlc1t4MV07XG4gICAgICAgIHZhciBkaCA9IHZlcnRpY2VzW3kyXSAtIHZlcnRpY2VzW3kxXTtcblxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHNvdXJjZSBpcyBhdCBsZWFzdCAxIHBpeGVsIHdpZGUgYW5kIGhpZ2gsIG90aGVyd2lzZSBub3RoaW5nIHdpbGwgYmUgZHJhd24uXG4gICAgICAgIGlmIChzdyA8IDEpIHtcbiAgICAgICAgICAgIHN3ID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaCA8IDEpIHtcbiAgICAgICAgICAgIHNoID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSBkZXN0aW5hdGlvbiBpcyBhdCBsZWFzdCAxIHBpeGVsIHdpZGUgYW5kIGhpZ2gsIG90aGVyd2lzZSB5b3UgZ2V0XG4gICAgICAgIC8vIGxpbmVzIHdoZW4gcmVuZGVyaW5nIGNsb3NlIHRvIG9yaWdpbmFsIHNpemUuXG4gICAgICAgIGlmIChkdyA8IDEpIHtcbiAgICAgICAgICAgIGR3ID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaCA8IDEpIHtcbiAgICAgICAgICAgIGRoID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRleHR1cmVTb3VyY2UsIHV2c1t4MV0gKiB3LCB1dnNbeTFdICogaCwgc3csIHNoLCB2ZXJ0aWNlc1t4MV0sIHZlcnRpY2VzW3kxXSwgZHcsIGRoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBOaW5lU2xpY2VQbGFuZSBjb29yZHMuIEFsbCBvZiB0aGVtLlxuICAgICAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS5fcmVmcmVzaCA9IGZ1bmN0aW9uIF9yZWZyZXNoKCkge1xuICAgICAgICBfUGxhbmUucHJvdG90eXBlLl9yZWZyZXNoLmNhbGwodGhpcyk7XG5cbiAgICAgICAgdmFyIHV2cyA9IHRoaXMudXZzO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICAgICAgdGhpcy5fb3JpZ1dpZHRoID0gdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB0aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcblxuICAgICAgICB2YXIgX3V2dyA9IDEuMCAvIHRoaXMuX29yaWdXaWR0aDtcbiAgICAgICAgdmFyIF91dmggPSAxLjAgLyB0aGlzLl9vcmlnSGVpZ2h0O1xuXG4gICAgICAgIHV2c1swXSA9IHV2c1s4XSA9IHV2c1sxNl0gPSB1dnNbMjRdID0gMDtcbiAgICAgICAgdXZzWzFdID0gdXZzWzNdID0gdXZzWzVdID0gdXZzWzddID0gMDtcbiAgICAgICAgdXZzWzZdID0gdXZzWzE0XSA9IHV2c1syMl0gPSB1dnNbMzBdID0gMTtcbiAgICAgICAgdXZzWzI1XSA9IHV2c1syN10gPSB1dnNbMjldID0gdXZzWzMxXSA9IDE7XG5cbiAgICAgICAgdXZzWzJdID0gdXZzWzEwXSA9IHV2c1sxOF0gPSB1dnNbMjZdID0gX3V2dyAqIHRoaXMuX2xlZnRXaWR0aDtcbiAgICAgICAgdXZzWzRdID0gdXZzWzEyXSA9IHV2c1syMF0gPSB1dnNbMjhdID0gMSAtIF91dncgKiB0aGlzLl9yaWdodFdpZHRoO1xuICAgICAgICB1dnNbOV0gPSB1dnNbMTFdID0gdXZzWzEzXSA9IHV2c1sxNV0gPSBfdXZoICogdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB1dnNbMTddID0gdXZzWzE5XSA9IHV2c1syMV0gPSB1dnNbMjNdID0gMSAtIF91dmggKiB0aGlzLl9ib3R0b21IZWlnaHQ7XG5cbiAgICAgICAgdGhpcy51cGRhdGVIb3Jpem9udGFsVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNhbFZlcnRpY2VzKCk7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHRoaXMubXVsdGlwbHlVdnMoKTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKE5pbmVTbGljZVBsYW5lLCBbe1xuICAgICAgICBrZXk6ICd3aWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGNvbHVtblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdsZWZ0V2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbGVmdFdpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmlnaHRXaWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmlnaHRXaWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndG9wSGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RvcEhlaWdodCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJvdHRvbSByb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYm90dG9tSGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdHRvbUhlaWdodCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIE5pbmVTbGljZVBsYW5lO1xufShfUGxhbmUzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBOaW5lU2xpY2VQbGFuZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5pbmVTbGljZVBsYW5lLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9NZXNoID0gcmVxdWlyZSgnLi4vTWVzaCcpO1xuXG52YXIgX01lc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogUmVuZGVyZXIgZGVkaWNhdGVkIHRvIG1lc2hlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWVzaFNwcml0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBkb3ducG9ydCB3b3JrcyBmb3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNZXNoU3ByaXRlUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1lc2hTcHJpdGVSZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIE1lc2hcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggLSB0aGUgTWVzaCB0byByZW5kZXJcbiAgICAgKi9cblxuXG4gICAgTWVzaFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIobWVzaCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgY29udGV4dCA9IHJlbmRlcmVyLmNvbnRleHQ7XG5cbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IG1lc2gud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciByZXMgPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChyZW5kZXJlci5yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0odHJhbnNmb3JtLmEgKiByZXMsIHRyYW5zZm9ybS5iICogcmVzLCB0cmFuc2Zvcm0uYyAqIHJlcywgdHJhbnNmb3JtLmQgKiByZXMsIHRyYW5zZm9ybS50eCAqIHJlcyB8IDAsIHRyYW5zZm9ybS50eSAqIHJlcyB8IDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0odHJhbnNmb3JtLmEgKiByZXMsIHRyYW5zZm9ybS5iICogcmVzLCB0cmFuc2Zvcm0uYyAqIHJlcywgdHJhbnNmb3JtLmQgKiByZXMsIHRyYW5zZm9ybS50eCAqIHJlcywgdHJhbnNmb3JtLnR5ICogcmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmNvbnRleHQuZ2xvYmFsQWxwaGEgPSBtZXNoLndvcmxkQWxwaGE7XG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZShtZXNoLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgaWYgKG1lc2guZHJhd01vZGUgPT09IF9NZXNoMi5kZWZhdWx0LkRSQVdfTU9ERVMuVFJJQU5HTEVfTUVTSCkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVHJpYW5nbGVNZXNoKG1lc2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVHJpYW5nbGVzKG1lc2gpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBvYmplY3QgaW4gVHJpYW5nbGUgTWVzaCBtb2RlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggLSB0aGUgTWVzaCB0byByZW5kZXJcbiAgICAgKi9cblxuXG4gICAgTWVzaFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5fcmVuZGVyVHJpYW5nbGVNZXNoID0gZnVuY3Rpb24gX3JlbmRlclRyaWFuZ2xlTWVzaChtZXNoKSB7XG4gICAgICAgIC8vIGRyYXcgdHJpYW5nbGVzISFcbiAgICAgICAgdmFyIGxlbmd0aCA9IG1lc2gudmVydGljZXMubGVuZ3RoIC8gMjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aCAtIDI7IGkrKykge1xuICAgICAgICAgICAgLy8gZHJhdyBzb21lIHRyaWFuZ2xlcyFcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiAyO1xuXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEcmF3VHJpYW5nbGUobWVzaCwgaW5kZXgsIGluZGV4ICsgMiwgaW5kZXggKyA0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgb2JqZWN0IGluIHRyaWFuZ2xlIG1vZGUgdXNpbmcgY2FudmFzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggLSB0aGUgY3VycmVudCBtZXNoXG4gICAgICovXG5cblxuICAgIE1lc2hTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuX3JlbmRlclRyaWFuZ2xlcyA9IGZ1bmN0aW9uIF9yZW5kZXJUcmlhbmdsZXMobWVzaCkge1xuICAgICAgICAvLyBkcmF3IHRyaWFuZ2xlcyEhXG4gICAgICAgIHZhciBpbmRpY2VzID0gbWVzaC5pbmRpY2VzO1xuICAgICAgICB2YXIgbGVuZ3RoID0gaW5kaWNlcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgLy8gZHJhdyBzb21lIHRyaWFuZ2xlcyFcbiAgICAgICAgICAgIHZhciBpbmRleDAgPSBpbmRpY2VzW2ldICogMjtcbiAgICAgICAgICAgIHZhciBpbmRleDEgPSBpbmRpY2VzW2kgKyAxXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kZXgyID0gaW5kaWNlc1tpICsgMl0gKiAyO1xuXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEcmF3VHJpYW5nbGUobWVzaCwgaW5kZXgwLCBpbmRleDEsIGluZGV4Mik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3Mgb25lIG9mIHRoZSB0cmlhbmdsZXMgdGhhdCBmcm9tIHRoZSBNZXNoXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggLSB0aGUgY3VycmVudCBtZXNoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4MCAtIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgdmVydGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4MSAtIHRoZSBpbmRleCBvZiB0aGUgc2Vjb25kIHZlcnRleFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleDIgLSB0aGUgaW5kZXggb2YgdGhlIHRoaXJkIHZlcnRleFxuICAgICAqL1xuXG5cbiAgICBNZXNoU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLl9yZW5kZXJEcmF3VHJpYW5nbGUgPSBmdW5jdGlvbiBfcmVuZGVyRHJhd1RyaWFuZ2xlKG1lc2gsIGluZGV4MCwgaW5kZXgxLCBpbmRleDIpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciB1dnMgPSBtZXNoLnV2cztcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gbWVzaC52ZXJ0aWNlcztcbiAgICAgICAgdmFyIHRleHR1cmUgPSBtZXNoLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJhc2UgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgdGV4dHVyZVNvdXJjZSA9IGJhc2Uuc291cmNlO1xuICAgICAgICB2YXIgdGV4dHVyZVdpZHRoID0gYmFzZS53aWR0aDtcbiAgICAgICAgdmFyIHRleHR1cmVIZWlnaHQgPSBiYXNlLmhlaWdodDtcblxuICAgICAgICB2YXIgdTAgPSB2b2lkIDA7XG4gICAgICAgIHZhciB1MSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHUyID0gdm9pZCAwO1xuICAgICAgICB2YXIgdjAgPSB2b2lkIDA7XG4gICAgICAgIHZhciB2MSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHYyID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChtZXNoLnVwbG9hZFV2VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB2YXIgdXQgPSBtZXNoLl91dlRyYW5zZm9ybS5tYXBDb29yZDtcblxuICAgICAgICAgICAgdTAgPSAodXZzW2luZGV4MF0gKiB1dC5hICsgdXZzW2luZGV4MCArIDFdICogdXQuYyArIHV0LnR4KSAqIGJhc2Uud2lkdGg7XG4gICAgICAgICAgICB1MSA9ICh1dnNbaW5kZXgxXSAqIHV0LmEgKyB1dnNbaW5kZXgxICsgMV0gKiB1dC5jICsgdXQudHgpICogYmFzZS53aWR0aDtcbiAgICAgICAgICAgIHUyID0gKHV2c1tpbmRleDJdICogdXQuYSArIHV2c1tpbmRleDIgKyAxXSAqIHV0LmMgKyB1dC50eCkgKiBiYXNlLndpZHRoO1xuICAgICAgICAgICAgdjAgPSAodXZzW2luZGV4MF0gKiB1dC5iICsgdXZzW2luZGV4MCArIDFdICogdXQuZCArIHV0LnR5KSAqIGJhc2UuaGVpZ2h0O1xuICAgICAgICAgICAgdjEgPSAodXZzW2luZGV4MV0gKiB1dC5iICsgdXZzW2luZGV4MSArIDFdICogdXQuZCArIHV0LnR5KSAqIGJhc2UuaGVpZ2h0O1xuICAgICAgICAgICAgdjIgPSAodXZzW2luZGV4Ml0gKiB1dC5iICsgdXZzW2luZGV4MiArIDFdICogdXQuZCArIHV0LnR5KSAqIGJhc2UuaGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdTAgPSB1dnNbaW5kZXgwXSAqIGJhc2Uud2lkdGg7XG4gICAgICAgICAgICB1MSA9IHV2c1tpbmRleDFdICogYmFzZS53aWR0aDtcbiAgICAgICAgICAgIHUyID0gdXZzW2luZGV4Ml0gKiBiYXNlLndpZHRoO1xuICAgICAgICAgICAgdjAgPSB1dnNbaW5kZXgwICsgMV0gKiBiYXNlLmhlaWdodDtcbiAgICAgICAgICAgIHYxID0gdXZzW2luZGV4MSArIDFdICogYmFzZS5oZWlnaHQ7XG4gICAgICAgICAgICB2MiA9IHV2c1tpbmRleDIgKyAxXSAqIGJhc2UuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHgwID0gdmVydGljZXNbaW5kZXgwXTtcbiAgICAgICAgdmFyIHgxID0gdmVydGljZXNbaW5kZXgxXTtcbiAgICAgICAgdmFyIHgyID0gdmVydGljZXNbaW5kZXgyXTtcbiAgICAgICAgdmFyIHkwID0gdmVydGljZXNbaW5kZXgwICsgMV07XG4gICAgICAgIHZhciB5MSA9IHZlcnRpY2VzW2luZGV4MSArIDFdO1xuICAgICAgICB2YXIgeTIgPSB2ZXJ0aWNlc1tpbmRleDIgKyAxXTtcblxuICAgICAgICB2YXIgY2FudmFzUGFkZGluZyA9IG1lc2guY2FudmFzUGFkZGluZyAvIHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAoY2FudmFzUGFkZGluZyA+IDApIHtcbiAgICAgICAgICAgIHZhciBwYWRkaW5nWCA9IGNhbnZhc1BhZGRpbmcgLyBNYXRoLmFicyhtZXNoLndvcmxkVHJhbnNmb3JtLmEpO1xuICAgICAgICAgICAgdmFyIHBhZGRpbmdZID0gY2FudmFzUGFkZGluZyAvIE1hdGguYWJzKG1lc2gud29ybGRUcmFuc2Zvcm0uZCk7XG4gICAgICAgICAgICB2YXIgY2VudGVyWCA9ICh4MCArIHgxICsgeDIpIC8gMztcbiAgICAgICAgICAgIHZhciBjZW50ZXJZID0gKHkwICsgeTEgKyB5MikgLyAzO1xuXG4gICAgICAgICAgICB2YXIgbm9ybVggPSB4MCAtIGNlbnRlclg7XG4gICAgICAgICAgICB2YXIgbm9ybVkgPSB5MCAtIGNlbnRlclk7XG5cbiAgICAgICAgICAgIHZhciBkaXN0ID0gTWF0aC5zcXJ0KG5vcm1YICogbm9ybVggKyBub3JtWSAqIG5vcm1ZKTtcblxuICAgICAgICAgICAgeDAgPSBjZW50ZXJYICsgbm9ybVggLyBkaXN0ICogKGRpc3QgKyBwYWRkaW5nWCk7XG4gICAgICAgICAgICB5MCA9IGNlbnRlclkgKyBub3JtWSAvIGRpc3QgKiAoZGlzdCArIHBhZGRpbmdZKTtcblxuICAgICAgICAgICAgLy9cblxuICAgICAgICAgICAgbm9ybVggPSB4MSAtIGNlbnRlclg7XG4gICAgICAgICAgICBub3JtWSA9IHkxIC0gY2VudGVyWTtcblxuICAgICAgICAgICAgZGlzdCA9IE1hdGguc3FydChub3JtWCAqIG5vcm1YICsgbm9ybVkgKiBub3JtWSk7XG4gICAgICAgICAgICB4MSA9IGNlbnRlclggKyBub3JtWCAvIGRpc3QgKiAoZGlzdCArIHBhZGRpbmdYKTtcbiAgICAgICAgICAgIHkxID0gY2VudGVyWSArIG5vcm1ZIC8gZGlzdCAqIChkaXN0ICsgcGFkZGluZ1kpO1xuXG4gICAgICAgICAgICBub3JtWCA9IHgyIC0gY2VudGVyWDtcbiAgICAgICAgICAgIG5vcm1ZID0geTIgLSBjZW50ZXJZO1xuXG4gICAgICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KG5vcm1YICogbm9ybVggKyBub3JtWSAqIG5vcm1ZKTtcbiAgICAgICAgICAgIHgyID0gY2VudGVyWCArIG5vcm1YIC8gZGlzdCAqIChkaXN0ICsgcGFkZGluZ1gpO1xuICAgICAgICAgICAgeTIgPSBjZW50ZXJZICsgbm9ybVkgLyBkaXN0ICogKGRpc3QgKyBwYWRkaW5nWSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICBjb250ZXh0Lm1vdmVUbyh4MCwgeTApO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyh4MSwgeTEpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyh4MiwgeTIpO1xuXG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG5cbiAgICAgICAgY29udGV4dC5jbGlwKCk7XG5cbiAgICAgICAgLy8gQ29tcHV0ZSBtYXRyaXggdHJhbnNmb3JtXG4gICAgICAgIHZhciBkZWx0YSA9IHUwICogdjEgKyB2MCAqIHUyICsgdTEgKiB2MiAtIHYxICogdTIgLSB2MCAqIHUxIC0gdTAgKiB2MjtcbiAgICAgICAgdmFyIGRlbHRhQSA9IHgwICogdjEgKyB2MCAqIHgyICsgeDEgKiB2MiAtIHYxICogeDIgLSB2MCAqIHgxIC0geDAgKiB2MjtcbiAgICAgICAgdmFyIGRlbHRhQiA9IHUwICogeDEgKyB4MCAqIHUyICsgdTEgKiB4MiAtIHgxICogdTIgLSB4MCAqIHUxIC0gdTAgKiB4MjtcbiAgICAgICAgdmFyIGRlbHRhQyA9IHUwICogdjEgKiB4MiArIHYwICogeDEgKiB1MiArIHgwICogdTEgKiB2MiAtIHgwICogdjEgKiB1MiAtIHYwICogdTEgKiB4MiAtIHUwICogeDEgKiB2MjtcbiAgICAgICAgdmFyIGRlbHRhRCA9IHkwICogdjEgKyB2MCAqIHkyICsgeTEgKiB2MiAtIHYxICogeTIgLSB2MCAqIHkxIC0geTAgKiB2MjtcbiAgICAgICAgdmFyIGRlbHRhRSA9IHUwICogeTEgKyB5MCAqIHUyICsgdTEgKiB5MiAtIHkxICogdTIgLSB5MCAqIHUxIC0gdTAgKiB5MjtcbiAgICAgICAgdmFyIGRlbHRhRiA9IHUwICogdjEgKiB5MiArIHYwICogeTEgKiB1MiArIHkwICogdTEgKiB2MiAtIHkwICogdjEgKiB1MiAtIHYwICogdTEgKiB5MiAtIHUwICogeTEgKiB2MjtcblxuICAgICAgICBjb250ZXh0LnRyYW5zZm9ybShkZWx0YUEgLyBkZWx0YSwgZGVsdGFEIC8gZGVsdGEsIGRlbHRhQiAvIGRlbHRhLCBkZWx0YUUgLyBkZWx0YSwgZGVsdGFDIC8gZGVsdGEsIGRlbHRhRiAvIGRlbHRhKTtcblxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0ZXh0dXJlU291cmNlLCAwLCAwLCB0ZXh0dXJlV2lkdGggKiBiYXNlLnJlc29sdXRpb24sIHRleHR1cmVIZWlnaHQgKiBiYXNlLnJlc29sdXRpb24sIDAsIDAsIHRleHR1cmVXaWR0aCwgdGV4dHVyZUhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuaW52YWxpZGF0ZUJsZW5kTW9kZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGEgZmxhdCBNZXNoXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggLSBUaGUgTWVzaCB0byByZW5kZXJcbiAgICAgKi9cblxuXG4gICAgTWVzaFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJNZXNoRmxhdCA9IGZ1bmN0aW9uIHJlbmRlck1lc2hGbGF0KG1lc2gpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IG1lc2gudmVydGljZXM7XG4gICAgICAgIHZhciBsZW5ndGggPSB2ZXJ0aWNlcy5sZW5ndGggLyAyO1xuXG4gICAgICAgIC8vIHRoaXMuY291bnQrKztcblxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoIC0gMjsgKytpKSB7XG4gICAgICAgICAgICAvLyBkcmF3IHNvbWUgdHJpYW5nbGVzIVxuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDI7XG5cbiAgICAgICAgICAgIHZhciB4MCA9IHZlcnRpY2VzW2luZGV4XTtcbiAgICAgICAgICAgIHZhciB5MCA9IHZlcnRpY2VzW2luZGV4ICsgMV07XG5cbiAgICAgICAgICAgIHZhciB4MSA9IHZlcnRpY2VzW2luZGV4ICsgMl07XG4gICAgICAgICAgICB2YXIgeTEgPSB2ZXJ0aWNlc1tpbmRleCArIDNdO1xuXG4gICAgICAgICAgICB2YXIgeDIgPSB2ZXJ0aWNlc1tpbmRleCArIDRdO1xuICAgICAgICAgICAgdmFyIHkyID0gdmVydGljZXNbaW5kZXggKyA1XTtcblxuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeDAsIHkwKTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHgxLCB5MSk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh4MiwgeTIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI0ZGMDAwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBkZXN0cm95IHRoZSB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgTWVzaFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBNZXNoU3ByaXRlUmVuZGVyZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE1lc2hTcHJpdGVSZW5kZXJlcjtcblxuXG5jb3JlLkNhbnZhc1JlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdtZXNoJywgTWVzaFNwcml0ZVJlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc01lc2hSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3BpeGlHbENvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGl4aUdsQ29yZSk7XG5cbnZhciBfTWVzaCA9IHJlcXVpcmUoJy4uL01lc2gnKTtcblxudmFyIF9NZXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIG1hdHJpeElkZW50aXR5ID0gY29yZS5NYXRyaXguSURFTlRJVFk7XG5cbi8qKlxuICogV2ViR0wgcmVuZGVyZXIgcGx1Z2luIGZvciB0aWxpbmcgc3ByaXRlc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xuXG52YXIgTWVzaFJlbmRlcmVyID0gZnVuY3Rpb24gKF9jb3JlJE9iamVjdFJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKE1lc2hSZW5kZXJlciwgX2NvcmUkT2JqZWN0UmVuZGVyZXIpO1xuXG4gICAgLyoqXG4gICAgICogY29uc3RydWN0b3IgZm9yIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIFRoZSByZW5kZXJlciB0aGlzIHRpbGluZyBhd2Vzb21lbmVzcyB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaFJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZXNoUmVuZGVyZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJE9iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBNZXNoUmVuZGVyZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICB0aGlzLnNoYWRlciA9IG5ldyBjb3JlLlNoYWRlcihnbCwgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcbicsICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHVDb2xvcjtcXG59XFxuJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHJlbmRlcnMgbWVzaFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLm1lc2guTWVzaH0gbWVzaCBtZXNoIGluc3RhbmNlXG4gICAgICovXG5cblxuICAgIE1lc2hSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKG1lc2gpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gbWVzaC5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBnbERhdGEgPSBtZXNoLl9nbERhdGFzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIWdsRGF0YSkge1xuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFZhbyhudWxsKTtcblxuICAgICAgICAgICAgZ2xEYXRhID0ge1xuICAgICAgICAgICAgICAgIHNoYWRlcjogdGhpcy5zaGFkZXIsXG4gICAgICAgICAgICAgICAgdmVydGV4QnVmZmVyOiBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wsIG1lc2gudmVydGljZXMsIGdsLlNUUkVBTV9EUkFXKSxcbiAgICAgICAgICAgICAgICB1dkJ1ZmZlcjogX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCBtZXNoLnV2cywgZ2wuU1RSRUFNX0RSQVcpLFxuICAgICAgICAgICAgICAgIGluZGV4QnVmZmVyOiBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcihnbCwgbWVzaC5pbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyksXG4gICAgICAgICAgICAgICAgLy8gYnVpbGQgdGhlIHZhbyBvYmplY3QgdGhhdCB3aWxsIHJlbmRlci4uXG4gICAgICAgICAgICAgICAgdmFvOiBudWxsLFxuICAgICAgICAgICAgICAgIGRpcnR5OiBtZXNoLmRpcnR5LFxuICAgICAgICAgICAgICAgIGluZGV4RGlydHk6IG1lc2guaW5kZXhEaXJ0eVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gYnVpbGQgdGhlIHZhbyBvYmplY3QgdGhhdCB3aWxsIHJlbmRlci4uXG4gICAgICAgICAgICBnbERhdGEudmFvID0gbmV3IF9waXhpR2xDb3JlMi5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KGdsKS5hZGRJbmRleChnbERhdGEuaW5kZXhCdWZmZXIpLmFkZEF0dHJpYnV0ZShnbERhdGEudmVydGV4QnVmZmVyLCBnbERhdGEuc2hhZGVyLmF0dHJpYnV0ZXMuYVZlcnRleFBvc2l0aW9uLCBnbC5GTE9BVCwgZmFsc2UsIDIgKiA0LCAwKS5hZGRBdHRyaWJ1dGUoZ2xEYXRhLnV2QnVmZmVyLCBnbERhdGEuc2hhZGVyLmF0dHJpYnV0ZXMuYVRleHR1cmVDb29yZCwgZ2wuRkxPQVQsIGZhbHNlLCAyICogNCwgMCk7XG5cbiAgICAgICAgICAgIG1lc2guX2dsRGF0YXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdID0gZ2xEYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFZhbyhnbERhdGEudmFvKTtcblxuICAgICAgICBpZiAobWVzaC5kaXJ0eSAhPT0gZ2xEYXRhLmRpcnR5KSB7XG4gICAgICAgICAgICBnbERhdGEuZGlydHkgPSBtZXNoLmRpcnR5O1xuICAgICAgICAgICAgZ2xEYXRhLnV2QnVmZmVyLnVwbG9hZChtZXNoLnV2cyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWVzaC5pbmRleERpcnR5ICE9PSBnbERhdGEuaW5kZXhEaXJ0eSkge1xuICAgICAgICAgICAgZ2xEYXRhLmluZGV4RGlydHkgPSBtZXNoLmluZGV4RGlydHk7XG4gICAgICAgICAgICBnbERhdGEuaW5kZXhCdWZmZXIudXBsb2FkKG1lc2guaW5kaWNlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBnbERhdGEudmVydGV4QnVmZmVyLnVwbG9hZChtZXNoLnZlcnRpY2VzKTtcblxuICAgICAgICByZW5kZXJlci5iaW5kU2hhZGVyKGdsRGF0YS5zaGFkZXIpO1xuXG4gICAgICAgIGdsRGF0YS5zaGFkZXIudW5pZm9ybXMudVNhbXBsZXIgPSByZW5kZXJlci5iaW5kVGV4dHVyZSh0ZXh0dXJlKTtcblxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoY29yZS51dGlscy5jb3JyZWN0QmxlbmRNb2RlKG1lc2guYmxlbmRNb2RlLCB0ZXh0dXJlLmJhc2VUZXh0dXJlLnByZW11bHRpcGxpZWRBbHBoYSkpO1xuXG4gICAgICAgIGlmIChnbERhdGEuc2hhZGVyLnVuaWZvcm1zLnVUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIGlmIChtZXNoLnVwbG9hZFV2VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgZ2xEYXRhLnNoYWRlci51bmlmb3Jtcy51VHJhbnNmb3JtID0gbWVzaC5fdXZUcmFuc2Zvcm0ubWFwQ29vcmQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2xEYXRhLnNoYWRlci51bmlmb3Jtcy51VHJhbnNmb3JtID0gbWF0cml4SWRlbnRpdHkudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnbERhdGEuc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gbWVzaC53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuXG4gICAgICAgIGdsRGF0YS5zaGFkZXIudW5pZm9ybXMudUNvbG9yID0gY29yZS51dGlscy5wcmVtdWx0aXBseVJnYmEobWVzaC50aW50UmdiLCBtZXNoLndvcmxkQWxwaGEsIGdsRGF0YS5zaGFkZXIudW5pZm9ybXMudUNvbG9yLCB0ZXh0dXJlLmJhc2VUZXh0dXJlLnByZW11bHRpcGxpZWRBbHBoYSk7XG5cbiAgICAgICAgdmFyIGRyYXdNb2RlID0gbWVzaC5kcmF3TW9kZSA9PT0gX01lc2gyLmRlZmF1bHQuRFJBV19NT0RFUy5UUklBTkdMRV9NRVNIID8gZ2wuVFJJQU5HTEVfU1RSSVAgOiBnbC5UUklBTkdMRVM7XG5cbiAgICAgICAgZ2xEYXRhLnZhby5kcmF3KGRyYXdNb2RlLCBtZXNoLmluZGljZXMubGVuZ3RoLCAwKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIE1lc2hSZW5kZXJlcjtcbn0oY29yZS5PYmplY3RSZW5kZXJlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE1lc2hSZW5kZXJlcjtcblxuXG5jb3JlLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ21lc2gnLCBNZXNoUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVzaFJlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9NZXNoID0gcmVxdWlyZSgnLi9NZXNoJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnTWVzaCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX01lc2hSZW5kZXJlciA9IHJlcXVpcmUoJy4vd2ViZ2wvTWVzaFJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnTWVzaFJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaFJlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9DYW52YXNNZXNoUmVuZGVyZXIgPSByZXF1aXJlKCcuL2NhbnZhcy9DYW52YXNNZXNoUmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDYW52YXNNZXNoUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNNZXNoUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1BsYW5lID0gcmVxdWlyZSgnLi9QbGFuZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1BsYW5lJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGxhbmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX05pbmVTbGljZVBsYW5lID0gcmVxdWlyZSgnLi9OaW5lU2xpY2VQbGFuZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ05pbmVTbGljZVBsYW5lJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTmluZVNsaWNlUGxhbmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1JvcGUgPSByZXF1aXJlKCcuL1JvcGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSb3BlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm9wZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5ibG9iTWlkZGxld2FyZUZhY3RvcnkgPSBibG9iTWlkZGxld2FyZUZhY3Rvcnk7XG5cbnZhciBfUmVzb3VyY2UgPSByZXF1aXJlKCcuLi8uLi9SZXNvdXJjZScpO1xuXG52YXIgX1Jlc291cmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Jlc291cmNlKTtcblxudmFyIF9iID0gcmVxdWlyZSgnLi4vLi4vYjY0Jyk7XG5cbnZhciBfYjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFVybCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDtcblxuLy8gYSBtaWRkbGV3YXJlIGZvciB0cmFuc2Zvcm1pbmcgWEhSIGxvYWRlZCBCbG9icyBpbnRvIG1vcmUgdXNlZnVsIG9iamVjdHNcbmZ1bmN0aW9uIGJsb2JNaWRkbGV3YXJlRmFjdG9yeSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYmxvYk1pZGRsZXdhcmUocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgaWYgKCFyZXNvdXJjZS5kYXRhKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoaXMgd2FzIGFuIFhIUiBsb2FkIG9mIGEgYmxvYlxuICAgICAgICBpZiAocmVzb3VyY2UueGhyICYmIHJlc291cmNlLnhoclR5cGUgPT09IF9SZXNvdXJjZTIuZGVmYXVsdC5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBibG9iIHN1cHBvcnQgd2UgcHJvYmFibHkgZ290IGEgYmluYXJ5IHN0cmluZyBiYWNrXG4gICAgICAgICAgICBpZiAoIXdpbmRvdy5CbG9iIHx8IHR5cGVvZiByZXNvdXJjZS5kYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gcmVzb3VyY2UueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTtcblxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYW4gaW1hZ2UsIGNvbnZlcnQgdGhlIGJpbmFyeSBzdHJpbmcgaW50byBhIGRhdGEgdXJsXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgJiYgdHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSAnZGF0YTonICsgdHlwZSArICc7YmFzZTY0LCcgKyBfYjIuZGVmYXVsdC5lbmNvZGVCaW5hcnkocmVzb3VyY2UueGhyLnJlc3BvbnNlVGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UudHlwZSA9IF9SZXNvdXJjZTIuZGVmYXVsdC5UWVBFLklNQUdFO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdhaXQgdW50aWwgdGhlIGltYWdlIGxvYWRzIGFuZCB0aGVuIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBjb250ZW50IHR5cGUgc2F5cyB0aGlzIGlzIGFuIGltYWdlLCB0aGVuIHdlIHNob3VsZCB0cmFuc2Zvcm0gdGhlIGJsb2IgaW50byBhbiBJbWFnZSBvYmplY3RcbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc291cmNlLmRhdGEudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNyYyA9IFVybC5jcmVhdGVPYmplY3RVUkwocmVzb3VyY2UuZGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmJsb2IgPSByZXNvdXJjZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBzcmM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLnR5cGUgPSBfUmVzb3VyY2UyLmRlZmF1bHQuVFlQRS5JTUFHRTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2xlYW51cCB0aGUgbm8gbG9uZ2VyIHVzZWQgYmxvYiBhZnRlciB0aGUgaW1hZ2UgbG9hZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IElzIHRoaXMgY29ycmVjdD8gV2lsbCB0aGUgaW1hZ2UgYmUgaW52YWxpZCBhZnRlciByZXZva2luZz9cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVybC5yZXZva2VPYmplY3RVUkwoc3JjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBuZXh0IHdpbGwgYmUgY2FsbGVkIG9uIGxvYWQuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY6IHZvaWQgMFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIF9yZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKF9yZXQpKSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQudjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0KCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJsb2IuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3Jlc291cmNlTG9hZGVyID0gcmVxdWlyZSgncmVzb3VyY2UtbG9hZGVyJyk7XG5cbnZhciBfcmVzb3VyY2VMb2FkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzb3VyY2VMb2FkZXIpO1xuXG52YXIgX2Jsb2IgPSByZXF1aXJlKCdyZXNvdXJjZS1sb2FkZXIvbGliL21pZGRsZXdhcmVzL3BhcnNpbmcvYmxvYicpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxudmFyIF90ZXh0dXJlUGFyc2VyID0gcmVxdWlyZSgnLi90ZXh0dXJlUGFyc2VyJyk7XG5cbnZhciBfdGV4dHVyZVBhcnNlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90ZXh0dXJlUGFyc2VyKTtcblxudmFyIF9zcHJpdGVzaGVldFBhcnNlciA9IHJlcXVpcmUoJy4vc3ByaXRlc2hlZXRQYXJzZXInKTtcblxudmFyIF9zcHJpdGVzaGVldFBhcnNlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zcHJpdGVzaGVldFBhcnNlcik7XG5cbnZhciBfYml0bWFwRm9udFBhcnNlciA9IHJlcXVpcmUoJy4vYml0bWFwRm9udFBhcnNlcicpO1xuXG52YXIgX2JpdG1hcEZvbnRQYXJzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYml0bWFwRm9udFBhcnNlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKlxuICogVGhlIG5ldyBsb2FkZXIsIGV4dGVuZHMgUmVzb3VyY2UgTG9hZGVyIGJ5IENoYWQgRW5nbGVyOiBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGxvYWRlciA9IFBJWEkubG9hZGVyOyAvLyBQaXhpSlMgZXhwb3NlcyBhIHByZW1hZGUgaW5zdGFuY2UgZm9yIHlvdSB0byB1c2UuXG4gKiAvL29yXG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgUElYSS5sb2FkZXJzLkxvYWRlcigpOyAvLyB5b3UgY2FuIGFsc28gY3JlYXRlIHlvdXIgb3duIGlmIHlvdSB3YW50XG4gKlxuICogY29uc3Qgc3ByaXRlcyA9IHt9O1xuICpcbiAqIC8vIENoYWluYWJsZSBgYWRkYCB0byBlbnF1ZXVlIGEgcmVzb3VyY2VcbiAqIGxvYWRlci5hZGQoJ2J1bm55JywgJ2RhdGEvYnVubnkucG5nJylcbiAqICAgICAgIC5hZGQoJ3NwYWNlc2hpcCcsICdhc3NldHMvc3ByaXRlc2hlZXQuanNvbicpO1xuICogbG9hZGVyLmFkZCgnc2NvcmVGb250JywgJ2Fzc2V0cy9zY29yZS5mbnQnKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHByZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICpiZWZvcmUqIGxvYWRpbmcgdGhhdCByZXNvdXJjZS5cbiAqIC8vIFRoaXMgaXMgdXNlZnVsIHRvIGltcGxlbWVudCBjdXN0b20gY2FjaGluZyBtb2R1bGVzICh1c2luZyBmaWxlc3lzdGVtLCBpbmRleGVkZGIsIG1lbW9yeSwgZXRjKS5cbiAqIGxvYWRlci5wcmUoY2FjaGluZ01pZGRsZXdhcmUpO1xuICpcbiAqIC8vIENoYWluYWJsZSBgdXNlYCB0byBhZGQgYSBtaWRkbGV3YXJlIHRoYXQgcnVucyBmb3IgZWFjaCByZXNvdXJjZSwgKmFmdGVyKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIHBhcnNpbmcgbW9kdWxlcyAobGlrZSBzcHJpdGVzaGVldCBwYXJzZXJzLCBzcGluZSBwYXJzZXIsIGV0YykuXG4gKiBsb2FkZXIudXNlKHBhcnNpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBUaGUgYGxvYWRgIG1ldGhvZCBsb2FkcyB0aGUgcXVldWUgb2YgcmVzb3VyY2VzLCBhbmQgY2FsbHMgdGhlIHBhc3NlZCBpbiBjYWxsYmFjayBjYWxsZWQgb25jZSBhbGxcbiAqIC8vIHJlc291cmNlcyBoYXZlIGxvYWRlZC5cbiAqIGxvYWRlci5sb2FkKChsb2FkZXIsIHJlc291cmNlcykgPT4ge1xuICogICAgIC8vIHJlc291cmNlcyBpcyBhbiBvYmplY3Qgd2hlcmUgdGhlIGtleSBpcyB0aGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgbG9hZGVkIGFuZCB0aGUgdmFsdWUgaXMgdGhlIHJlc291cmNlIG9iamVjdC5cbiAqICAgICAvLyBUaGV5IGhhdmUgYSBjb3VwbGUgZGVmYXVsdCBwcm9wZXJ0aWVzOlxuICogICAgIC8vIC0gYHVybGA6IFRoZSBVUkwgdGhhdCB0aGUgcmVzb3VyY2Ugd2FzIGxvYWRlZCBmcm9tXG4gKiAgICAgLy8gLSBgZXJyb3JgOiBUaGUgZXJyb3IgdGhhdCBoYXBwZW5lZCB3aGVuIHRyeWluZyB0byBsb2FkIChpZiBhbnkpXG4gKiAgICAgLy8gLSBgZGF0YWA6IFRoZSByYXcgZGF0YSB0aGF0IHdhcyBsb2FkZWRcbiAqICAgICAvLyBhbHNvIG1heSBjb250YWluIG90aGVyIHByb3BlcnRpZXMgYmFzZWQgb24gdGhlIG1pZGRsZXdhcmUgdGhhdCBydW5zLlxuICogICAgIHNwcml0ZXMuYnVubnkgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLmJ1bm55LnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc3BhY2VzaGlwID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zcGFjZXNoaXAudGV4dHVyZSk7XG4gKiAgICAgc3ByaXRlcy5zY29yZUZvbnQgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLnNjb3JlRm9udC50ZXh0dXJlKTtcbiAqIH0pO1xuICpcbiAqIC8vIHRocm91Z2hvdXQgdGhlIHByb2Nlc3MgbXVsdGlwbGUgc2lnbmFscyBjYW4gYmUgZGlzcGF0Y2hlZC5cbiAqIGxvYWRlci5vblByb2dyZXNzLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQvZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25FcnJvci5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25Mb2FkLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQgZmlsZVxuICogbG9hZGVyLm9uQ29tcGxldGUuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2Ugd2hlbiB0aGUgcXVldWVkIHJlc291cmNlcyBhbGwgbG9hZC5cbiAqIGBgYFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgbW9kdWxlOnJlc291cmNlLWxvYWRlci5SZXNvdXJjZUxvYWRlclxuICogQG1lbWJlcm9mIFBJWEkubG9hZGVyc1xuICovXG52YXIgTG9hZGVyID0gZnVuY3Rpb24gKF9SZXNvdXJjZUxvYWRlcikge1xuICAgIF9pbmhlcml0cyhMb2FkZXIsIF9SZXNvdXJjZUxvYWRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvYWRlcihiYXNlVXJsLCBjb25jdXJyZW5jeSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9hZGVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVzb3VyY2VMb2FkZXIuY2FsbCh0aGlzLCBiYXNlVXJsLCBjb25jdXJyZW5jeSkpO1xuXG4gICAgICAgIF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQuY2FsbChfdGhpcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMb2FkZXIuX3BpeGlNaWRkbGV3YXJlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBfdGhpcy51c2UoTG9hZGVyLl9waXhpTWlkZGxld2FyZVtpXSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbXBhdCBsYXllciwgdHJhbnNsYXRlIHRoZSBuZXcgdjIgc2lnbmFscyBpbnRvIG9sZCB2MSBldmVudHMuXG4gICAgICAgIF90aGlzLm9uU3RhcnQuYWRkKGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZW1pdCgnc3RhcnQnLCBsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLm9uUHJvZ3Jlc3MuYWRkKGZ1bmN0aW9uIChsLCByKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZW1pdCgncHJvZ3Jlc3MnLCBsLCByKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLm9uRXJyb3IuYWRkKGZ1bmN0aW9uIChlLCBsLCByKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZW1pdCgnZXJyb3InLCBlLCBsLCByKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLm9uTG9hZC5hZGQoZnVuY3Rpb24gKGwsIHIpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5lbWl0KCdsb2FkJywgbCwgcik7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5vbkNvbXBsZXRlLmFkZChmdW5jdGlvbiAobCwgcikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoJ2NvbXBsZXRlJywgbCwgcik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGRlZmF1bHQgbWlkZGxld2FyZSB0byB0aGUgUGl4aUpTIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIHRvIGFkZC5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLmFkZFBpeGlNaWRkbGV3YXJlID0gZnVuY3Rpb24gYWRkUGl4aU1pZGRsZXdhcmUoZm4pIHtcbiAgICAgICAgTG9hZGVyLl9waXhpTWlkZGxld2FyZS5wdXNoKGZuKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgbG9hZGVyLCByZW1vdmVzIHJlZmVyZW5jZXMuXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIExvYWRlcjtcbn0oX3Jlc291cmNlTG9hZGVyMi5kZWZhdWx0KTtcblxuLy8gQ29weSBFRTMgcHJvdG90eXBlIChtaXhpbilcblxuXG5leHBvcnRzLmRlZmF1bHQgPSBMb2FkZXI7XG5mb3IgKHZhciBrIGluIF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQucHJvdG90eXBlKSB7XG4gICAgTG9hZGVyLnByb3RvdHlwZVtrXSA9IF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQucHJvdG90eXBlW2tdO1xufVxuXG5Mb2FkZXIuX3BpeGlNaWRkbGV3YXJlID0gW1xuLy8gcGFyc2UgYW55IGJsb2IgaW50byBtb3JlIHVzYWJsZSBvYmplY3RzIChlLmcuIEltYWdlKVxuX2Jsb2IuYmxvYk1pZGRsZXdhcmVGYWN0b3J5LFxuLy8gcGFyc2UgYW55IEltYWdlIG9iamVjdHMgaW50byB0ZXh0dXJlc1xuX3RleHR1cmVQYXJzZXIyLmRlZmF1bHQsXG4vLyBwYXJzZSBhbnkgc3ByaXRlc2hlZXQgZGF0YSBpbnRvIG11bHRpcGxlIHRleHR1cmVzXG5fc3ByaXRlc2hlZXRQYXJzZXIyLmRlZmF1bHQsXG4vLyBwYXJzZSBiaXRtYXAgZm9udCBkYXRhIGludG8gbXVsdGlwbGUgdGV4dHVyZXNcbl9iaXRtYXBGb250UGFyc2VyMi5kZWZhdWx0XTtcblxuLy8gQWRkIGN1c3RvbSBleHRlbnRpb25zXG52YXIgUmVzb3VyY2UgPSBfcmVzb3VyY2VMb2FkZXIyLmRlZmF1bHQuUmVzb3VyY2U7XG5cblJlc291cmNlLnNldEV4dGVuc2lvblhoclR5cGUoJ2ZudCcsIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9taW5pU2lnbmFscyA9IHJlcXVpcmUoJ21pbmktc2lnbmFscycpO1xuXG52YXIgX21pbmlTaWduYWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21pbmlTaWduYWxzKTtcblxudmFyIF9wYXJzZVVyaSA9IHJlcXVpcmUoJ3BhcnNlLXVyaScpO1xuXG52YXIgX3BhcnNlVXJpMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcnNlVXJpKTtcblxudmFyIF9hc3luYyA9IHJlcXVpcmUoJy4vYXN5bmMnKTtcblxudmFyIGFzeW5jID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2FzeW5jKTtcblxudmFyIF9SZXNvdXJjZSA9IHJlcXVpcmUoJy4vUmVzb3VyY2UnKTtcblxudmFyIF9SZXNvdXJjZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZXNvdXJjZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8vIHNvbWUgY29uc3RhbnRzXG52YXIgTUFYX1BST0dSRVNTID0gMTAwO1xudmFyIHJneEV4dHJhY3RVcmxIYXNoID0gLygjW1xcdy1dKyk/JC87XG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgbXVsdGlwbGUgcmVzb3VyY2VzIHRvIGxvYWQuXG4gKlxuICogQGNsYXNzXG4gKi9cblxudmFyIExvYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvYWRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICB2YXIgYmFzZVVybCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgICAgIHZhciBjb25jdXJyZW5jeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTA7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvYWRlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcm9ncmVzcyBwZXJjZW50IG9mIHRoZSBsb2FkZXIgZ29pbmcgdGhyb3VnaCB0aGUgcXVldWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2FkaW5nIHN0YXRlIG9mIHRoZSBsb2FkZXIsIHRydWUgaWYgaXQgaXMgY3VycmVudGx5IGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcXVlcnlzdHJpbmcgdG8gYXBwZW5kIHRvIGV2ZXJ5IFVSTCBhZGRlZCB0byB0aGUgbG9hZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIHNob3VsZCBiZSBhIHZhbGlkIHF1ZXJ5IHN0cmluZyAqd2l0aG91dCogdGhlIHF1ZXN0aW9uLW1hcmsgKGA/YCkuIFRoZSBsb2FkZXIgd2lsbFxuICAgICAgICAgKiBhbHNvICpub3QqIGVzY2FwZSB2YWx1ZXMgZm9yIHlvdS4gTWFrZSBzdXJlIHRvIGVzY2FwZSB5b3VyIHBhcmFtZXRlcnMgd2l0aFxuICAgICAgICAgKiBbYGVuY29kZVVSSUNvbXBvbmVudGBdKGh0dHBzOi8vbWRuLmlvL2VuY29kZVVSSUNvbXBvbmVudCkgYmVmb3JlIGFzc2lnbmluZyB0aGlzIHByb3BlcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjb25zdCBsb2FkZXIgPSBuZXcgTG9hZGVyKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIGxvYWRlci5kZWZhdWx0UXVlcnlTdHJpbmcgPSAndXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3VzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAgICAgKiBsb2FkZXIuYWRkKCdpbWFnZS5wbmcnKS5sb2FkKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIGxvYWRlci5yZXNldCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3Y9MSZ1c2VyPW1lJnBhc3N3b3JkPXNlY3JldCdcbiAgICAgICAgICogbG9hZGVyLmFkZCgnaWFtZ2UucG5nP3Y9MScpLmxvYWQoKTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nID0gJyc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtaWRkbGV3YXJlIHRvIHJ1biBiZWZvcmUgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYWZ0ZXIgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0cmFja3MgdGhlIHJlc291cmNlcyB3ZSBhcmUgY3VycmVudGx5IGNvbXBsZXRpbmcgcGFyc2luZyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX2xvYWRSZXNvdXJjZWAgZnVuY3Rpb24gYm91bmQgd2l0aCB0aGlzIG9iamVjdCBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gciAtIFRoZSByZXNvdXJjZSB0byBsb2FkXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGQgLSBUaGUgZGVxdWV1ZSBmdW5jdGlvblxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSA9IGZ1bmN0aW9uIChyLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuX2xvYWRSZXNvdXJjZShyLCBkKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc291cmNlcyB3YWl0aW5nIHRvIGJlIGxvYWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3F1ZXVlID0gYXN5bmMucXVldWUodGhpcy5fYm91bmRMb2FkUmVzb3VyY2UsIGNvbmN1cnJlbmN5KTtcblxuICAgICAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbGwgdGhlIHJlc291cmNlcyBmb3IgdGhpcyBsb2FkZXIga2V5ZWQgYnkgbmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PHN0cmluZywgUmVzb3VyY2U+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgb3IgZXJyb3JlZCByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblByb2dyZXNzID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25FcnJvclNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FcnJvciA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Mb2FkU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkxvYWQgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgbG9hZGVyIGJlZ2lucyB0byBwcm9jZXNzIHRoZSBxdWV1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PblN0YXJ0U2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblN0YXJ0ID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgcHJvZ3Jlc3MgY2hhbmdlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAgICAgKiBAY2FsbGJhY2sgT25Qcm9ncmVzc1NpZ25hbFxuICAgICAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgcHJvZ3Jlc3MgaXMgYWR2YW5jaW5nIG9uLlxuICAgICAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgb3IgZmFpbGVkIHRvIGNhdXNlIHRoZSBwcm9ncmVzcyB0byBhZHZhbmNlLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBhbiBlcnJvciBvY2N1cnJzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICAgICAqIEBjYWxsYmFjayBPbkVycm9yU2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoZSBlcnJvciBoYXBwZW5lZCBpbi5cbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBjYXVzZWQgdGhlIGVycm9yLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBhIGxvYWQgY29tcGxldGVzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICAgICAqIEBjYWxsYmFjayBPbkxvYWRTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBsYW9kZWQgdGhlIHJlc291cmNlLlxuICAgICAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgbG9hZGluZy5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gdGhlIGxvYWRlciBzdGFydHMgbG9hZGluZyByZXNvdXJjZXMgaXQgZGlzcGF0Y2hlcyB0aGlzIGNhbGxiYWNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICAgICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgaGFzIHN0YXJ0ZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSBsb2FkZXIgY29tcGxldGVzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAgICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgICAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGhhcyBmaW5pc2hlZCBsb2FkaW5nIHJlc291cmNlcy5cbiAgICAgICAgICovXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHJlc291cmNlIChvciBtdWx0aXBsZSByZXNvdXJjZXMpIHRvIHRoZSBsb2FkZXIgcXVldWUuXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiB0YWtlIGEgd2lkZSB2YXJpZXR5IG9mIGRpZmZlcmVudCBwYXJhbWV0ZXJzLiBUaGUgb25seSB0aGluZyB0aGF0IGlzIGFsd2F5c1xuICAgICAqIHJlcXVpcmVkIHRoZSB1cmwgdG8gbG9hZC4gQWxsIHRoZSBmb2xsb3dpbmcgd2lsbCB3b3JrOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBsb2FkZXJcbiAgICAgKiAgICAgLy8gbm9ybWFsIHBhcmFtIHN5bnRheFxuICAgICAqICAgICAuYWRkKCdrZXknLCAnaHR0cDovLy4uLicsIGZ1bmN0aW9uICgpIHt9KVxuICAgICAqICAgICAuYWRkKCdodHRwOi8vLi4uJywgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nKVxuICAgICAqXG4gICAgICogICAgIC8vIG9iamVjdCBzeW50YXhcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICBuYW1lOiAna2V5MicsXG4gICAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICBuYW1lOiAna2V5MycsXG4gICAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgICAqICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge31cbiAgICAgKiAgICAgfSlcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICB1cmw6ICdodHRwczovLy4uLicsXG4gICAgICogICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgKiAgICAgICAgIGNyb3NzT3JpZ2luOiB0cnVlXG4gICAgICogICAgIH0pXG4gICAgICpcbiAgICAgKiAgICAgLy8geW91IGNhbiBhbHNvIHBhc3MgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzIG9yIGJvdGhcbiAgICAgKiAgICAgLmFkZChbXG4gICAgICogICAgICAgICB7IG5hbWU6ICdrZXk0JywgdXJsOiAnaHR0cDovLy4uLicsIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9IH0sXG4gICAgICogICAgICAgICB7IHVybDogJ2h0dHA6Ly8uLi4nLCBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSB9LFxuICAgICAqICAgICAgICAgJ2h0dHA6Ly8uLi4nXG4gICAgICogICAgIF0pXG4gICAgICpcbiAgICAgKiAgICAgLy8gYW5kIHlvdSBjYW4gdXNlIGJvdGggcGFyYW1zIGFuZCBvcHRpb25zXG4gICAgICogICAgIC5hZGQoJ2tleScsICdodHRwOi8vLi4uJywgeyBjcm9zc09yaWdpbjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicsIHsgY3Jvc3NPcmlnaW46IHRydWUgfSwgZnVuY3Rpb24gKCkge30pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLCBpZiBub3QgcGFzc2VkIHRoZSB1cmwgaXMgdXNlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3VybF0gLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0byBkZXRlcm1pbmUgYXV0b21hdGljYWxseS5cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLkxPQURfVFlQRX0gW29wdGlvbnMubG9hZFR5cGU9UmVzb3VyY2UuTE9BRF9UWVBFLlhIUl0gLSBIb3cgc2hvdWxkIHRoaXMgcmVzb3VyY2UgYmUgbG9hZGVkP1xuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFtvcHRpb25zLnhoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3cgc2hvdWxkXG4gICAgICogICAgICB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLm1ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxBdWRpb0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW29wdGlvbnMubWV0YWRhdGEubG9hZEVsZW1lbnQ9bnVsbF0gLSBUaGVcbiAgICAgKiAgICAgIGVsZW1lbnQgdG8gdXNlIGZvciBsb2FkaW5nLCBpbnN0ZWFkIG9mIGNyZWF0aW5nIG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm1ldGFkYXRhLnNraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAgICogICAgICBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAgdGhhdCB5b3UgYWxyZWFkeSBhZGRlZCBsb2FkIHNvdXJjZXMgdG8uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NiXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAgICAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKG5hbWUsIHVybCwgb3B0aW9ucywgY2IpIHtcbiAgICAgICAgLy8gc3BlY2lhbCBjYXNlIG9mIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJsc1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQobmFtZVtpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgYW4gb2JqZWN0IGlzIHBhc3NlZCBpbnN0ZWFkIG9mIHBhcmFtc1xuICAgICAgICBpZiAoKHR5cGVvZiBuYW1lID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihuYW1lKSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjYiA9IHVybCB8fCBuYW1lLmNhbGxiYWNrIHx8IG5hbWUub25Db21wbGV0ZTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBuYW1lO1xuICAgICAgICAgICAgdXJsID0gbmFtZS51cmw7XG4gICAgICAgICAgICBuYW1lID0gbmFtZS5uYW1lIHx8IG5hbWUua2V5IHx8IG5hbWUudXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FzZSB3aGVyZSBubyBuYW1lIGlzIHBhc3NlZCBzaGlmdCBhbGwgYXJncyBvdmVyIGJ5IG9uZS5cbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjYiA9IG9wdGlvbnM7XG4gICAgICAgICAgICBvcHRpb25zID0gdXJsO1xuICAgICAgICAgICAgdXJsID0gbmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vdyB0aGF0IHdlIHNoaWZ0ZWQgbWFrZSBzdXJlIHdlIGhhdmUgYSBwcm9wZXIgdXJsLlxuICAgICAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXJsIHBhc3NlZCB0byBhZGQgcmVzb3VyY2UgdG8gbG9hZGVyLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb3B0aW9ucyBhcmUgb3B0aW9uYWwgc28gcGVvcGxlIG1pZ2h0IHBhc3MgYSBmdW5jdGlvbiBhbmQgbm8gb3B0aW9uc1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgbG9hZGluZyBhbHJlYWR5IHlvdSBjYW4gb25seSBhZGQgcmVzb3VyY2VzIHRoYXQgaGF2ZSBhIHBhcmVudC5cbiAgICAgICAgaWYgKHRoaXMubG9hZGluZyAmJiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMucGFyZW50UmVzb3VyY2UpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhZGQgcmVzb3VyY2VzIHdoaWxlIHRoZSBsb2FkZXIgaXMgcnVubmluZy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGlmIHJlc291cmNlIGFscmVhZHkgZXhpc3RzLlxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZXNbbmFtZV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVzb3VyY2UgbmFtZWQgXCInICsgbmFtZSArICdcIiBhbHJlYWR5IGV4aXN0cy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBiYXNlIHVybCBpZiB0aGlzIGlzbid0IGFuIGFic29sdXRlIHVybFxuICAgICAgICB1cmwgPSB0aGlzLl9wcmVwYXJlVXJsKHVybCk7XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBzdG9yZSB0aGUgcmVzb3VyY2VcbiAgICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0gPSBuZXcgX1Jlc291cmNlMi5kZWZhdWx0KG5hbWUsIHVybCwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0ub25BZnRlck1pZGRsZXdhcmUub25jZShjYik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBhY3RpdmVseSBsb2FkaW5nLCBtYWtlIHN1cmUgdG8gYWRqdXN0IHByb2dyZXNzIGNodW5rcyBmb3IgdGhhdCBwYXJlbnQgYW5kIGl0cyBjaGlsZHJlblxuICAgICAgICBpZiAodGhpcy5sb2FkaW5nKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gb3B0aW9ucy5wYXJlbnRSZXNvdXJjZTtcbiAgICAgICAgICAgIHZhciBpbmNvbXBsZXRlQ2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7ICsrX2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudC5jaGlsZHJlbltfaV0uaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW4ucHVzaChwYXJlbnQuY2hpbGRyZW5bX2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBmdWxsQ2h1bmsgPSBwYXJlbnQucHJvZ3Jlc3NDaHVuayAqIChpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoICsgMSk7IC8vICsxIGZvciBwYXJlbnRcbiAgICAgICAgICAgIHZhciBlYWNoQ2h1bmsgPSBmdWxsQ2h1bmsgLyAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDIpOyAvLyArMiBmb3IgcGFyZW50ICYgbmV3IGNoaWxkXG5cbiAgICAgICAgICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcbiAgICAgICAgICAgIHBhcmVudC5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoOyArK19pMikge1xuICAgICAgICAgICAgICAgIGluY29tcGxldGVDaGlsZHJlbltfaTJdLnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzW25hbWVdLnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdGhlIHJlc291cmNlIHRvIHRoZSBxdWV1ZVxuICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYmVmb3JlKiB0aGVcbiAgICAgKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIGJlZm9yZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAgICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5wcmUgPSBmdW5jdGlvbiBwcmUoZm4pIHtcbiAgICAgICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICAgICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBhbGlhcyB1c2VcbiAgICAgKiBAbWV0aG9kIGFmdGVyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICAgKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmbikge1xuICAgICAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgcXVldWUgb2YgdGhlIGxvYWRlciB0byBwcmVwYXJlIGZvciBhIG5ldyBsb2FkLlxuICAgICAqXG4gICAgICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fcXVldWUua2lsbCgpO1xuICAgICAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuXG4gICAgICAgIC8vIGFib3J0IGFsbCByZXNvdXJjZSBsb2Fkc1xuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gdGhpcy5yZXNvdXJjZXNba107XG5cbiAgICAgICAgICAgIGlmIChyZXMuX29uTG9hZEJpbmRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXMuX29uTG9hZEJpbmRpbmcuZGV0YWNoKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZXMuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVzLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc291cmNlcyA9IHt9O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgbG9hZGluZyB0aGUgcXVldWVkIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0aGF0IHdpbGwgYmUgYm91bmQgdG8gdGhlIGBjb21wbGV0ZWAgZXZlbnQuXG4gICAgICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZChjYikge1xuICAgICAgICAvLyByZWdpc3RlciBjb21wbGV0ZSBjYWxsYmFjayBpZiB0aGV5IHBhc3Mgb25lXG4gICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZS5vbmNlKGNiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSBxdWV1ZSBoYXMgYWxyZWFkeSBzdGFydGVkIHdlIGFyZSBkb25lIGhlcmVcbiAgICAgICAgaWYgKHRoaXMubG9hZGluZykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcXVldWUuaWRsZSgpKSB7XG4gICAgICAgICAgICB0aGlzLl9vblN0YXJ0KCk7XG4gICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBkaXN0cmlidXRlIHByb2dyZXNzIGNodW5rc1xuICAgICAgICAgICAgdmFyIG51bVRhc2tzID0gdGhpcy5fcXVldWUuX3Rhc2tzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBjaHVuayA9IDEwMCAvIG51bVRhc2tzO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXVlLl90YXNrc1tpXS5kYXRhLnByb2dyZXNzQ2h1bmsgPSBjaHVuaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbm90aWZ5IHdlIGFyZSBzdGFydGluZ1xuICAgICAgICAgICAgdGhpcy5fb25TdGFydCgpO1xuXG4gICAgICAgICAgICAvLyBzdGFydCBsb2FkaW5nXG4gICAgICAgICAgICB0aGlzLl9xdWV1ZS5yZXN1bWUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlcyBhIHVybCBmb3IgdXNhZ2UgYmFzZWQgb24gdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gcHJlcGFyZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBwcmVwYXJlZCB1cmwuXG4gICAgICovXG4gICAgTG9hZGVyLnByb3RvdHlwZS5fcHJlcGFyZVVybCA9IGZ1bmN0aW9uIF9wcmVwYXJlVXJsKHVybCkge1xuICAgICAgICB2YXIgcGFyc2VkVXJsID0gKDAsIF9wYXJzZVVyaTIuZGVmYXVsdCkodXJsLCB7IHN0cmljdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIHZhciByZXN1bHQgPSB2b2lkIDA7XG5cbiAgICAgICAgLy8gYWJzb2x1dGUgdXJsLCBqdXN0IHVzZSBpdCBhcyBpcy5cbiAgICAgICAgaWYgKHBhcnNlZFVybC5wcm90b2NvbCB8fCAhcGFyc2VkVXJsLnBhdGggfHwgdXJsLmluZGV4T2YoJy8vJykgPT09IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHVybDtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBiYXNlVXJsIGRvZXNuJ3QgZW5kIGluIHNsYXNoIGFuZCB1cmwgZG9lc24ndCBzdGFydCB3aXRoIHNsYXNoLCB0aGVuIGFkZCBhIHNsYXNoIGluYmV0d2VlblxuICAgICAgICBlbHNlIGlmICh0aGlzLmJhc2VVcmwubGVuZ3RoICYmIHRoaXMuYmFzZVVybC5sYXN0SW5kZXhPZignLycpICE9PSB0aGlzLmJhc2VVcmwubGVuZ3RoIC0gMSAmJiB1cmwuY2hhckF0KDApICE9PSAnLycpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJhc2VVcmwgKyAnLycgKyB1cmw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVVybCArIHVybDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAvLyBpZiB3ZSBuZWVkIHRvIGFkZCBhIGRlZmF1bHQgcXVlcnlzdHJpbmcsIHRoZXJlIGlzIGEgYml0IG1vcmUgd29ya1xuICAgICAgICBpZiAodGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciBoYXNoID0gcmd4RXh0cmFjdFVybEhhc2guZXhlYyhyZXN1bHQpWzBdO1xuXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc3Vic3RyKDAsIHJlc3VsdC5sZW5ndGggLSBoYXNoLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQuaW5kZXhPZignPycpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnJicgKyB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICc/JyArIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN1bHQgKz0gaGFzaDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIGEgc2luZ2xlIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGRlcXVldWUgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHdlIG5lZWQgdG8gZGVxdWV1ZSB0aGlzIGl0ZW0uXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuX2xvYWRSZXNvdXJjZSA9IGZ1bmN0aW9uIF9sb2FkUmVzb3VyY2UocmVzb3VyY2UsIGRlcXVldWUpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgcmVzb3VyY2UuX2RlcXVldWUgPSBkZXF1ZXVlO1xuXG4gICAgICAgIC8vIHJ1biBiZWZvcmUgbWlkZGxld2FyZVxuICAgICAgICBhc3luYy5lYWNoU2VyaWVzKHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUsIGZ1bmN0aW9uIChmbiwgbmV4dCkge1xuICAgICAgICAgICAgZm4uY2FsbChfdGhpczIsIHJlc291cmNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGJlZm9yZSBtaWRkbGV3YXJlIG1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZSxcbiAgICAgICAgICAgICAgICAvLyBicmVhayBhbmQgZG9uJ3QgcHJvY2VzcyBhbnkgbW9yZSBiZWZvcmUgbWlkZGxld2FyZVxuICAgICAgICAgICAgICAgIG5leHQocmVzb3VyY2UuaXNDb21wbGV0ZSA/IHt9IDogbnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHJlc291cmNlLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIuX29uTG9hZChyZXNvdXJjZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKF90aGlzMi5fb25Mb2FkLCBfdGhpczIpO1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbmNlIGxvYWRpbmcgaGFzIHN0YXJ0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLl9vblN0YXJ0ID0gZnVuY3Rpb24gX29uU3RhcnQoKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbmNlIGVhY2ggcmVzb3VyY2UgaGFzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuX29uQ29tcGxldGUgPSBmdW5jdGlvbiBfb25Db21wbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IE1BWF9QUk9HUkVTUztcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzLCB0aGlzLnJlc291cmNlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBlYWNoIHRpbWUgYSByZXNvdXJjZXMgaXMgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHdhcyBsb2FkZWRcbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5fb25Mb2FkID0gZnVuY3Rpb24gX29uTG9hZChyZXNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICByZXNvdXJjZS5fb25Mb2FkQmluZGluZyA9IG51bGw7XG5cbiAgICAgICAgLy8gcmVtb3ZlIHRoaXMgcmVzb3VyY2UgZnJvbSB0aGUgYXN5bmMgcXVldWUsIGFuZCBhZGQgaXQgdG8gb3VyIGxpc3Qgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGJlaW5nIHBhcnNlZFxuICAgICAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nLnB1c2gocmVzb3VyY2UpO1xuICAgICAgICByZXNvdXJjZS5fZGVxdWV1ZSgpO1xuXG4gICAgICAgIC8vIHJ1biBhbGwgdGhlIGFmdGVyIG1pZGRsZXdhcmUgZm9yIHRoaXMgcmVzb3VyY2VcbiAgICAgICAgYXN5bmMuZWFjaFNlcmllcyh0aGlzLl9hZnRlck1pZGRsZXdhcmUsIGZ1bmN0aW9uIChmbiwgbmV4dCkge1xuICAgICAgICAgICAgZm4uY2FsbChfdGhpczMsIHJlc291cmNlLCBuZXh0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzb3VyY2Uub25BZnRlck1pZGRsZXdhcmUuZGlzcGF0Y2gocmVzb3VyY2UpO1xuXG4gICAgICAgICAgICBfdGhpczMucHJvZ3Jlc3MgKz0gcmVzb3VyY2UucHJvZ3Jlc3NDaHVuaztcbiAgICAgICAgICAgIF90aGlzMy5vblByb2dyZXNzLmRpc3BhdGNoKF90aGlzMywgcmVzb3VyY2UpO1xuXG4gICAgICAgICAgICBpZiAocmVzb3VyY2UuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpczMub25FcnJvci5kaXNwYXRjaChyZXNvdXJjZS5lcnJvciwgX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzMy5vbkxvYWQuZGlzcGF0Y2goX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5zcGxpY2UoX3RoaXMzLl9yZXNvdXJjZXNQYXJzaW5nLmluZGV4T2YocmVzb3VyY2UpLCAxKTtcblxuICAgICAgICAgICAgLy8gZG8gY29tcGxldGlvbiBjaGVja1xuICAgICAgICAgICAgaWYgKF90aGlzMy5fcXVldWUuaWRsZSgpICYmIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBfdGhpczMuX29uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhMb2FkZXIsIFt7XG4gICAgICAgIGtleTogJ2NvbmN1cnJlbmN5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUuY29uY3VycmVuY3k7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChjb25jdXJyZW5jeSkge1xuICAgICAgICAgICAgdGhpcy5fcXVldWUuY29uY3VycmVuY3kgPSBjb25jdXJyZW5jeTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IExvYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxvYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLnNoYXJlZCA9IGV4cG9ydHMuUmVzb3VyY2UgPSBleHBvcnRzLnRleHR1cmVQYXJzZXIgPSBleHBvcnRzLmdldFJlc291cmNlUGF0aCA9IGV4cG9ydHMuc3ByaXRlc2hlZXRQYXJzZXIgPSBleHBvcnRzLnBhcnNlQml0bWFwRm9udERhdGEgPSBleHBvcnRzLmJpdG1hcEZvbnRQYXJzZXIgPSBleHBvcnRzLkxvYWRlciA9IHVuZGVmaW5lZDtcblxudmFyIF9iaXRtYXBGb250UGFyc2VyID0gcmVxdWlyZSgnLi9iaXRtYXBGb250UGFyc2VyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnYml0bWFwRm9udFBhcnNlcicsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYml0bWFwRm9udFBhcnNlcikuZGVmYXVsdDtcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAncGFyc2VCaXRtYXBGb250RGF0YScsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2JpdG1hcEZvbnRQYXJzZXIucGFyc2U7XG4gICAgfVxufSk7XG5cbnZhciBfc3ByaXRlc2hlZXRQYXJzZXIgPSByZXF1aXJlKCcuL3Nwcml0ZXNoZWV0UGFyc2VyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnc3ByaXRlc2hlZXRQYXJzZXInLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Nwcml0ZXNoZWV0UGFyc2VyKS5kZWZhdWx0O1xuICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdnZXRSZXNvdXJjZVBhdGgnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9zcHJpdGVzaGVldFBhcnNlci5nZXRSZXNvdXJjZVBhdGg7XG4gICAgfVxufSk7XG5cbnZhciBfdGV4dHVyZVBhcnNlciA9IHJlcXVpcmUoJy4vdGV4dHVyZVBhcnNlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3RleHR1cmVQYXJzZXInLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RleHR1cmVQYXJzZXIpLmRlZmF1bHQ7XG4gICAgfVxufSk7XG5cbnZhciBfcmVzb3VyY2VMb2FkZXIgPSByZXF1aXJlKCdyZXNvdXJjZS1sb2FkZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSZXNvdXJjZScsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3Jlc291cmNlTG9hZGVyLlJlc291cmNlO1xuICAgIH1cbn0pO1xuXG52YXIgX0FwcGxpY2F0aW9uID0gcmVxdWlyZSgnLi4vY29yZS9BcHBsaWNhdGlvbicpO1xuXG52YXIgX0FwcGxpY2F0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FwcGxpY2F0aW9uKTtcblxudmFyIF9sb2FkZXIgPSByZXF1aXJlKCcuL2xvYWRlcicpO1xuXG52YXIgX2xvYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2FkZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIFRoaXMgbmFtZXNwYWNlIGNvbnRhaW5zIEFQSXMgd2hpY2ggZXh0ZW5kcyB0aGUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXIgcmVzb3VyY2UtbG9hZGVyfSBtb2R1bGVcbiAqIGZvciBsb2FkaW5nIGFzc2V0cywgZGF0YSwgYW5kIG90aGVyIHJlc291cmNlcyBkeW5hbWljYWxseS5cbiAqIEBleGFtcGxlXG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgUElYSS5sb2FkZXJzLkxvYWRlcigpO1xuICogbG9hZGVyLmFkZCgnYnVubnknLCAnZGF0YS9idW5ueS5wbmcnKVxuICogICAgICAgLmFkZCgnc3BhY2VzaGlwJywgJ2Fzc2V0cy9zcHJpdGVzaGVldC5qc29uJyk7XG4gKiBsb2FkZXIubG9hZCgobG9hZGVyLCByZXNvdXJjZXMpID0+IHtcbiAqICAgIC8vIHJlc291cmNlcy5idW5ueVxuICogICAgLy8gcmVzb3VyY2VzLnNwYWNlc2hpcFxuICogfSk7XG4gKiBAbmFtZXNwYWNlIFBJWEkubG9hZGVyc1xuICovXG5leHBvcnRzLkxvYWRlciA9IF9sb2FkZXIyLmRlZmF1bHQ7XG5cblxuLyoqXG4gKiBBIHByZW1hZGUgaW5zdGFuY2Ugb2YgdGhlIGxvYWRlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGxvYWQgcmVzb3VyY2VzLlxuICogQG5hbWUgc2hhcmVkXG4gKiBAbWVtYmVyb2YgUElYSS5sb2FkZXJzXG4gKiBAdHlwZSB7UElYSS5sb2FkZXJzLkxvYWRlcn1cbiAqL1xudmFyIHNoYXJlZCA9IG5ldyBfbG9hZGVyMi5kZWZhdWx0KCk7XG5cbnNoYXJlZC5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIHByb3RlY3QgZGVzdHJveWluZyBzaGFyZWQgbG9hZGVyXG59O1xuXG5leHBvcnRzLnNoYXJlZCA9IHNoYXJlZDtcblxuLy8gTWl4aW4gdGhlIGxvYWRlciBjb25zdHJ1Y3Rpb25cblxudmFyIEFwcFByb3RvdHlwZSA9IF9BcHBsaWNhdGlvbjIuZGVmYXVsdC5wcm90b3R5cGU7XG5cbkFwcFByb3RvdHlwZS5fbG9hZGVyID0gbnVsbDtcblxuLyoqXG4gKiBMb2FkZXIgaW5zdGFuY2UgdG8gaGVscCB3aXRoIGFzc2V0IGxvYWRpbmcuXG4gKiBAbmFtZSBQSVhJLkFwcGxpY2F0aW9uI2xvYWRlclxuICogQHR5cGUge1BJWEkubG9hZGVycy5Mb2FkZXJ9XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBQcm90b3R5cGUsICdsb2FkZXInLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbG9hZGVyKSB7XG4gICAgICAgICAgICB2YXIgc2hhcmVkTG9hZGVyID0gdGhpcy5fb3B0aW9ucy5zaGFyZWRMb2FkZXI7XG5cbiAgICAgICAgICAgIHRoaXMuX2xvYWRlciA9IHNoYXJlZExvYWRlciA/IHNoYXJlZCA6IG5ldyBfbG9hZGVyMi5kZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZGVyO1xuICAgIH1cbn0pO1xuXG4vLyBPdmVycmlkZSB0aGUgZGVzdHJveSBmdW5jdGlvblxuLy8gbWFraW5nIHN1cmUgdG8gZGVzdHJveSB0aGUgY3VycmVudCBMb2FkZXJcbkFwcFByb3RvdHlwZS5fcGFyZW50RGVzdHJveSA9IEFwcFByb3RvdHlwZS5kZXN0cm95O1xuQXBwUHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZVZpZXcpIHtcbiAgICBpZiAodGhpcy5fbG9hZGVyKSB7XG4gICAgICAgIHRoaXMuX2xvYWRlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2xvYWRlciA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuX3BhcmVudERlc3Ryb3kocmVtb3ZlVmlldyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfSW50ZXJhY3Rpb25EYXRhID0gcmVxdWlyZSgnLi9JbnRlcmFjdGlvbkRhdGEnKTtcblxudmFyIF9JbnRlcmFjdGlvbkRhdGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25EYXRhKTtcblxudmFyIF9JbnRlcmFjdGlvbkV2ZW50ID0gcmVxdWlyZSgnLi9JbnRlcmFjdGlvbkV2ZW50Jyk7XG5cbnZhciBfSW50ZXJhY3Rpb25FdmVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnRlcmFjdGlvbkV2ZW50KTtcblxudmFyIF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YSA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEnKTtcblxudmFyIF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YSk7XG5cbnZhciBfZXZlbnRlbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xuXG52YXIgX2V2ZW50ZW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudGVtaXR0ZXIpO1xuXG52YXIgX2ludGVyYWN0aXZlVGFyZ2V0ID0gcmVxdWlyZSgnLi9pbnRlcmFjdGl2ZVRhcmdldCcpO1xuXG52YXIgX2ludGVyYWN0aXZlVGFyZ2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludGVyYWN0aXZlVGFyZ2V0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vLyBNaXggaW50ZXJhY3RpdmVUYXJnZXQgaW50byBjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLCBhZnRlciBkZXByZWNhdGlvbiBoYXMgYmVlbiBoYW5kbGVkXG5jb3JlLnV0aWxzLm1peGlucy5kZWxheU1peGluKGNvcmUuRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIF9pbnRlcmFjdGl2ZVRhcmdldDIuZGVmYXVsdCk7XG5cbnZhciBNT1VTRV9QT0lOVEVSX0lEID0gMTtcblxuLy8gaGVscGVycyBmb3IgaGl0VGVzdCgpIC0gb25seSB1c2VkIGluc2lkZSBoaXRUZXN0KClcbnZhciBoaXRUZXN0RXZlbnQgPSB7XG4gICAgdGFyZ2V0OiBudWxsLFxuICAgIGRhdGE6IHtcbiAgICAgICAgZ2xvYmFsOiBudWxsXG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgaW50ZXJhY3Rpb24gbWFuYWdlciBkZWFscyB3aXRoIG1vdXNlLCB0b3VjaCBhbmQgcG9pbnRlciBldmVudHMuIEFueSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBpbnRlcmFjdGl2ZVxuICogaWYgaXRzIGludGVyYWN0aXZlIHBhcmFtZXRlciBpcyBzZXQgdG8gdHJ1ZVxuICogVGhpcyBtYW5hZ2VyIGFsc28gc3VwcG9ydHMgbXVsdGl0b3VjaC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IHJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb25cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xuXG52YXIgSW50ZXJhY3Rpb25NYW5hZ2VyID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgICBfaW5oZXJpdHMoSW50ZXJhY3Rpb25NYW5hZ2VyLCBfRXZlbnRFbWl0dGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcnxQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0PXRydWVdIC0gU2hvdWxkIHRoZSBtYW5hZ2VyIGF1dG9tYXRpY2FsbHkgcHJldmVudCBkZWZhdWx0IGJyb3dzZXIgYWN0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaW50ZXJhY3Rpb25GcmVxdWVuY3k9MTBdIC0gRnJlcXVlbmN5IGluY3JlYXNlcyB0aGUgaW50ZXJhY3Rpb24gZXZlbnRzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnRlcmFjdGlvbk1hbmFnZXIocmVuZGVyZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludGVyYWN0aW9uTWFuYWdlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50RW1pdHRlci5jYWxsKHRoaXMpKTtcblxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgaW50ZXJhY3Rpb24gbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3lzdGVtUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMgYXV0b21hdGljYWxseSBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqIERvZXMgbm90IGFwcGx5IHRvIHBvaW50ZXIgZXZlbnRzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICAgKiBwcmV2ZW50RGVmYXVsdCBvbiBwb2ludGVyIGV2ZW50cyBzdG9wcyBtb3VzZSBldmVudHMgZnJvbSBmaXJpbmdcbiAgICAgICAgICogVGh1cywgZm9yIGV2ZXJ5IHBvaW50ZXIgZXZlbnQsIHRoZXJlIHdpbGwgYWx3YXlzIGJlIGVpdGhlciBhIG1vdXNlIG9mIHRvdWNoIGV2ZW50IGFsb25nc2lkZSBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1ByZXZlbnREZWZhdWx0ID0gb3B0aW9ucy5hdXRvUHJldmVudERlZmF1bHQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0IDogdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnJlcXVlbmN5IGluIG1pbGxpc2Vjb25kcyB0aGF0IHRoZSBtb3VzZW1vdmUsIG1vdmVvdmVyICYgbW91c2VvdXQgaW50ZXJhY3Rpb24gZXZlbnRzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgPSBvcHRpb25zLmludGVyYWN0aW9uRnJlcXVlbmN5IHx8IDEwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbW91c2UgZGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vdXNlID0gbmV3IF9JbnRlcmFjdGlvbkRhdGEyLmRlZmF1bHQoKTtcbiAgICAgICAgX3RoaXMubW91c2UuaWRlbnRpZmllciA9IE1PVVNFX1BPSU5URVJfSUQ7XG5cbiAgICAgICAgLy8gc2V0dGluZyB0aGUgbW91c2UgdG8gc3RhcnQgb2ZmIGZhciBvZmYgc2NyZWVuIHdpbGwgbWVhbiB0aGF0IG1vdXNlIG92ZXIgZG9lc1xuICAgICAgICAvLyAgbm90IGdldCBjYWxsZWQgYmVmb3JlIHdlIGV2ZW4gbW92ZSB0aGUgbW91c2UuXG4gICAgICAgIF90aGlzLm1vdXNlLmdsb2JhbC5zZXQoLTk5OTk5OSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2ZWx5IHRyYWNrZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48bnVtYmVyLFBJWEkuaW50ZXJhdGlvbi5JbnRlcmFjdGlvbkRhdGE+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhID0ge307XG4gICAgICAgIF90aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtNT1VTRV9QT0lOVEVSX0lEXSA9IF90aGlzLm1vdXNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIHVudXNlZCBJbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5pbnRlcmF0aW9uLkludGVyYWN0aW9uRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbCA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBldmVudCBkYXRhIG9iamVjdCB0byBoYW5kbGUgYWxsIHRoZSBldmVudCB0cmFja2luZy9kaXNwYXRjaGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ldmVudERhdGEgPSBuZXcgX0ludGVyYWN0aW9uRXZlbnQyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIERPTSBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBwcm9wZXJ0eSBkZXRlcm1pbmVzIGlmIG1vdXNlbW92ZSBhbmQgdG91Y2htb3ZlIGV2ZW50cyBhcmUgZmlyZWQgb25seSB3aGVuIHRoZSBjdXJzb3JcbiAgICAgICAgICogaXMgb3ZlciB0aGUgb2JqZWN0LlxuICAgICAgICAgKiBTZXR0aW5nIHRvIHRydWUgd2lsbCBtYWtlIHRoaW5ncyB3b3JrIG1vcmUgaW4gbGluZSB3aXRoIGhvdyB0aGUgRE9NIHZlcmlzb24gd29ya3MuXG4gICAgICAgICAqIFNldHRpbmcgdG8gZmFsc2UgY2FuIG1ha2UgdGhpbmdzIGVhc2llciBmb3IgdGhpbmdzIGxpa2UgZHJhZ2dpbmdcbiAgICAgICAgICogSXQgaXMgY3VycmVudGx5IHNldCB0byBmYWxzZSBhcyB0aGlzIGlzIGhvdyBQaXhpSlMgdXNlZCB0byB3b3JrLiBUaGlzIHdpbGwgYmUgc2V0IHRvIHRydWUgaW5cbiAgICAgICAgICogZnV0dXJlIHZlcnNpb25zIG9mIHBpeGkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3ZlV2hlbkluc2lkZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYXZlIGV2ZW50cyBiZWVuIGF0dGFjaGVkIHRvIHRoZSBkb20gZWxlbWVudD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV2ZW50c0FkZGVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSBtb3VzZSBob3ZlcmluZyBvdmVyIHRoZSByZW5kZXJlcj9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhlIGRldmljZSBzdXBwb3J0IHRvdWNoIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvVFIvdG91Y2gtZXZlbnRzL1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3c7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhlIGRldmljZSBzdXBwb3J0IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgICAqIGh0dHBzOi8vd3d3LnczLm9yZy9TdWJtaXNzaW9uL3BvaW50ZXItZXZlbnRzL1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyA9ICEhd2luZG93LlBvaW50ZXJFdmVudDtcblxuICAgICAgICAvLyB0aGlzIHdpbGwgbWFrZSBpdCBzbyB0aGF0IHlvdSBkb24ndCBoYXZlIHRvIGNhbGwgYmluZCBhbGwgdGhlIHRpbWVcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJVcCA9IF90aGlzLm9uUG9pbnRlclVwLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlclVwID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJVcC5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJDYW5jZWwgPSBfdGhpcy5vblBvaW50ZXJDYW5jZWwuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwuYmluZChfdGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyRG93biA9IF90aGlzLm9uUG9pbnRlckRvd24uYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyRG93biA9IF90aGlzLnByb2Nlc3NQb2ludGVyRG93bi5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJNb3ZlID0gX3RoaXMub25Qb2ludGVyTW92ZS5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlLmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlck91dCA9IF90aGlzLm9uUG9pbnRlck91dC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlck92ZXIgPSBfdGhpcy5vblBvaW50ZXJPdmVyLmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWN0aW9uYXJ5IG9mIGhvdyBkaWZmZXJlbnQgY3Vyc29yIG1vZGVzIGFyZSBoYW5kbGVkLiBTdHJpbmdzIGFyZSBoYW5kbGVkIGFzIENTUyBjdXJzb3JcbiAgICAgICAgICogdmFsdWVzLCBvYmplY3RzIGFyZSBoYW5kbGVkIGFzIGRpY3Rpb25hcmllcyBvZiBDU1MgdmFsdWVzIGZvciBpbnRlcmFjdGlvbkRPTUVsZW1lbnQsXG4gICAgICAgICAqIGFuZCBmdW5jdGlvbnMgYXJlIGNhbGxlZCBpbnN0ZWFkIG9mIGNoYW5naW5nIHRoZSBDU1MuXG4gICAgICAgICAqIERlZmF1bHQgQ1NTIGN1cnNvciB2YWx1ZXMgYXJlIHByb3ZpZGVkIGZvciAnZGVmYXVsdCcgYW5kICdwb2ludGVyJyBtb2Rlcy5cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0LjxzdHJpbmcsIChzdHJpbmd8RnVuY3Rpb258T2JqZWN0LjxzdHJpbmcsIHN0cmluZz4pPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnNvclN0eWxlcyA9IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdpbmhlcml0JyxcbiAgICAgICAgICAgIHBvaW50ZXI6ICdwb2ludGVyJ1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbW9kZSBvZiB0aGUgY3Vyc29yIHRoYXQgaXMgYmVpbmcgdXNlZC5cbiAgICAgICAgICogVGhlIHZhbHVlIG9mIHRoaXMgaXMgYSBrZXkgZnJvbSB0aGUgY3Vyc29yU3R5bGVzIGRpY3Rpb25hcnkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgY2FjaGVkIGxldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3Vyc29yID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgY2FjaGVkIGxldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZW1wUG9pbnQgPSBuZXcgY29yZS5Qb2ludCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSAxO1xuXG4gICAgICAgIF90aGlzLnNldFRhcmdldEVsZW1lbnQoX3RoaXMucmVuZGVyZXIudmlldywgX3RoaXMucmVuZGVyZXIucmVzb2x1dGlvbik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZWRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNldXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0dXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb25cbiAgICAgICAgICogdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodGNsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlXG4gICAgICAgICAqIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbbW91c2Vkb3duXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZWRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2V1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW3JpZ2h0ZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6cmlnaHRkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0dXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSBwb2ludGVyIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6cG9pbnRlcmRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVybW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hzdGFydFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgdG91Y2hcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIGFuZCByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnRvdWNoc3RhcnR9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2htb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkuXG4gICAgICAgICAqIG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2V1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodHVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0Y2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICogZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFttb3VzZWRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDptb3VzZWRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZXVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbcmlnaHRkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6cmlnaHRkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSBwb2ludGVyIGV2ZW50LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnRhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3BvaW50ZXJkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6cG9pbnRlcmRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgdG91Y2guXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIGFuZCByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIG91dHNpZGUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbdG91Y2hzdGFydF17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnRvdWNoc3RhcnR9LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBtb3ZlZCBhbG9uZyB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpdCB0ZXN0cyBhIHBvaW50IGFnYWluc3QgdGhlIGRpc3BsYXkgdHJlZSwgcmV0dXJuaW5nIHRoZSBmaXJzdCBpbnRlcmFjdGl2ZSBvYmplY3QgdGhhdCBpcyBoaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IGdsb2JhbFBvaW50IC0gQSBwb2ludCB0byBoaXQgdGVzdCB3aXRoLCBpbiBnbG9iYWwgc3BhY2UuXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gW3Jvb3RdIC0gVGhlIHJvb3QgZGlzcGxheSBvYmplY3QgdG8gc3RhcnQgZnJvbS4gSWYgb21pdHRlZCwgZGVmYXVsdHNcbiAgICAgKiB0byB0aGUgbGFzdCByZW5kZXJlZCByb290IG9mIHRoZSBhc3NvY2lhdGVkIHJlbmRlcmVyLlxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGhpdCBkaXNwbGF5IG9iamVjdCwgaWYgYW55LlxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmhpdFRlc3QgPSBmdW5jdGlvbiBoaXRUZXN0KGdsb2JhbFBvaW50LCByb290KSB7XG4gICAgICAgIC8vIGNsZWFyIHRoZSB0YXJnZXQgZm9yIG91ciBoaXQgdGVzdFxuICAgICAgICBoaXRUZXN0RXZlbnQudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLy8gYXNzaWduIHRoZSBnbG9iYWwgcG9pbnRcbiAgICAgICAgaGl0VGVzdEV2ZW50LmRhdGEuZ2xvYmFsID0gZ2xvYmFsUG9pbnQ7XG4gICAgICAgIC8vIGVuc3VyZSBzYWZldHkgb2YgdGhlIHJvb3RcbiAgICAgICAgaWYgKCFyb290KSB7XG4gICAgICAgICAgICByb290ID0gdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJ1biB0aGUgaGl0IHRlc3RcbiAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaGl0VGVzdEV2ZW50LCByb290LCBudWxsLCB0cnVlKTtcbiAgICAgICAgLy8gcmV0dXJuIG91ciBmb3VuZCBvYmplY3QgLSBpdCdsbCBiZSBudWxsIGlmIHdlIGRpZG4ndCBoaXQgYW55dGhpbmdcblxuICAgICAgICByZXR1cm4gaGl0VGVzdEV2ZW50LnRhcmdldDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgRE9NIGVsZW1lbnQgd2hpY2ggd2lsbCByZWNlaXZlIG1vdXNlL3RvdWNoIGV2ZW50cy4gVGhpcyBpcyB1c2VmdWwgZm9yIHdoZW4geW91IGhhdmVcbiAgICAgKiBvdGhlciBET00gZWxlbWVudHMgb24gdG9wIG9mIHRoZSByZW5kZXJlcnMgQ2FudmFzIGVsZW1lbnQuIFdpdGggdGhpcyB5b3UnbGwgYmUgYmFsZSB0byBkZWxldGVnYXRlXG4gICAgICogYW5vdGhlciBET00gZWxlbWVudCB0byByZWNlaXZlIHRob3NlIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGVsZW1lbnQgLSB0aGUgRE9NIGVsZW1lbnQgd2hpY2ggd2lsbCByZWNlaXZlIG1vdXNlIGFuZCB0b3VjaCBldmVudHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIG5ldyBlbGVtZW50IChyZWxhdGl2ZSB0byB0aGUgY2FudmFzKS5cbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5zZXRUYXJnZXRFbGVtZW50ID0gZnVuY3Rpb24gc2V0VGFyZ2V0RWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5hZGRFdmVudHMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGFsbCB0aGUgRE9NIGV2ZW50c1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5hZGRFdmVudHMgPSBmdW5jdGlvbiBhZGRFdmVudHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvcmUudGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMsIGNvcmUuVVBEQVRFX1BSSU9SSVRZLklOVEVSQUNUSU9OKTtcblxuICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLWNvbnRlbnQtem9vbWluZyddID0gJ25vbmUnO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy10b3VjaC1hY3Rpb24nXSA9ICdub25lJztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJ3RvdWNoLWFjdGlvbiddID0gJ25vbmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZXNlIGV2ZW50cyBhcmUgYWRkZWQgZmlyc3QsIHNvIHRoYXQgaWYgcG9pbnRlciBldmVudHMgYXJlIG5vcm1hbGlzZWQsIHRoZXkgYXJlIGZpcmVkXG4gICAgICAgICAqIGluIHRoZSBzYW1lIG9yZGVyIGFzIG5vbi1ub3JtYWxpc2VkIGV2ZW50cy4gaWUuIHBvaW50ZXIgZXZlbnQgMXN0LCBtb3VzZSAvIHRvdWNoIDJuZFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgLy8gcG9pbnRlcm91dCBpcyBmaXJlZCBpbiBhZGRpdGlvbiB0byBwb2ludGVydXAgKGZvciB0b3VjaCBldmVudHMpIGFuZCBwb2ludGVyY2FuY2VsXG4gICAgICAgICAgICAvLyB3ZSBhbHJlYWR5IGhhbmRsZSB0aG9zZSwgc28gZm9yIHRoZSBwdXJwb3NlcyBvZiB3aGF0IHdlIGRvIGluIG9uUG9pbnRlck91dCwgd2Ugb25seVxuICAgICAgICAgICAgLy8gY2FyZSBhYm91dCB0aGUgcG9pbnRlcmxlYXZlIGV2ZW50XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhbHdheXMgbG9vayBkaXJlY3RseSBmb3IgdG91Y2ggZXZlbnRzIHNvIHRoYXQgd2UgY2FuIHByb3ZpZGUgb3JpZ2luYWwgZGF0YVxuICAgICAgICAvLyBJbiBhIGZ1dHVyZSB2ZXJzaW9uIHdlIHNob3VsZCBjaGFuZ2UgdGhpcyB0byBiZWluZyBqdXN0IGEgZmFsbGJhY2sgYW5kIHJlbHkgc29sZWx5IG9uXG4gICAgICAgIC8vIFBvaW50ZXJFdmVudHMgd2hlbmV2ZXIgYXZhaWxhYmxlXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB0aGUgRE9NIGV2ZW50cyB0aGF0IHdlcmUgcHJldmlvdXNseSByZWdpc3RlcmVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50cyA9IGZ1bmN0aW9uIHJlbW92ZUV2ZW50cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29yZS50aWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy1jb250ZW50LXpvb21pbmcnXSA9ICcnO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy10b3VjaC1hY3Rpb24nXSA9ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsndG91Y2gtYWN0aW9uJ10gPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHN0YXRlIG9mIGludGVyYWN0aXZlIG9iamVjdHMuXG4gICAgICogSW52b2tlZCBieSBhIHRocm90dGxlZCB0aWNrZXIgdXBkYXRlIGZyb20ge0BsaW5rIFBJWEkudGlja2VyLnNoYXJlZH0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gdGltZSBkZWx0YSBzaW5jZSBsYXN0IHRpY2tcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoZGVsdGFUaW1lKSB7XG4gICAgICAgIHRoaXMuX2RlbHRhVGltZSArPSBkZWx0YVRpbWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2RlbHRhVGltZSA8IHRoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RlbHRhVGltZSA9IDA7XG5cbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgbW92ZSB0aGUgbW91c2UgdGhpcyBjaGVjayBoYXMgYWxyZWFkeSBiZWVuIGRvbmUgdXNpbmcgdGhlIG1vdXNlIG1vdmUhXG4gICAgICAgIGlmICh0aGlzLmRpZE1vdmUpIHtcbiAgICAgICAgICAgIHRoaXMuZGlkTW92ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG5cbiAgICAgICAgLy8gUmVzZXRzIHRoZSBmbGFnIGFzIHNldCBieSBhIHN0b3BQcm9wYWdhdGlvbiBjYWxsLiBUaGlzIGZsYWcgaXMgdXN1YWxseSByZXNldCBieSBhIHVzZXIgaW50ZXJhY3Rpb24gb2YgYW55IGtpbmQsXG4gICAgICAgIC8vIGJ1dCB0aGVyZSB3YXMgYSBzY2VuYXJpbyBvZiBhIGRpc3BsYXkgb2JqZWN0IG1vdmluZyB1bmRlciBhIHN0YXRpYyBtb3VzZSBjdXJzb3IuXG4gICAgICAgIC8vIEluIHRoaXMgY2FzZSwgbW91c2VvdmVyIGFuZCBtb3VzZWV2ZW50cyB3b3VsZCBub3QgcGFzcyB0aGUgZmxhZyB0ZXN0IGluIGRpc3BhdGNoRXZlbnQgZnVuY3Rpb25cbiAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW2tdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50ICYmIGludGVyYWN0aW9uRGF0YS5wb2ludGVyVHlwZSAhPT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuXG4gICAgICAgIC8vIFRPRE9cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBjdXJzb3IgbW9kZSwgaGFuZGxpbmcgYW55IGNhbGxiYWNrcyBvciBDU1Mgc3R5bGUgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gY3Vyc29yIG1vZGUsIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuc2V0Q3Vyc29yTW9kZSA9IGZ1bmN0aW9uIHNldEN1cnNvck1vZGUobW9kZSkge1xuICAgICAgICBtb2RlID0gbW9kZSB8fCAnZGVmYXVsdCc7XG4gICAgICAgIC8vIGlmIHRoZSBtb2RlIGRpZG4ndCBhY3R1YWxseSBjaGFuZ2UsIGJhaWwgZWFybHlcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEN1cnNvck1vZGUgPT09IG1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gbW9kZTtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5jdXJzb3JTdHlsZXNbbW9kZV07XG5cbiAgICAgICAgLy8gb25seSBkbyB0aGluZ3MgaWYgdGhlcmUgaXMgYSBjdXJzb3Igc3R5bGUgZm9yIGl0XG4gICAgICAgIGlmIChzdHlsZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2Ygc3R5bGUgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHN0eWxlKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0cmluZyBzdHlsZXMgYXJlIGhhbmRsZWQgYXMgY3Vyc29yIENTU1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBzdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgICAgICAvLyBmdW5jdGlvbnMgYXJlIGp1c3QgY2FsbGVkLCBhbmQgcGFzc2VkIHRoZSBjdXJzb3IgbW9kZVxuICAgICAgICAgICAgICAgICAgICBzdHlsZShtb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQgaXMgYW4gb2JqZWN0LCBhc3N1bWUgdGhhdCBpdCBpcyBhIGRpY3Rpb25hcnkgb2YgQ1NTIHN0eWxlcyxcbiAgICAgICAgICAgICAgICAgICAgLy8gYXBwbHkgaXQgdG8gdGhlIGludGVyYWN0aW9uRE9NRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLCBzdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2RlID09PSAnc3RyaW5nJyAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY3Vyc29yU3R5bGVzLCBtb2RlKSkge1xuICAgICAgICAgICAgLy8gaWYgaXQgbW9kZSBpcyBhIHN0cmluZyAobm90IGEgU3ltYm9sKSBhbmQgY3Vyc29yU3R5bGVzIGRvZXNuJ3QgaGF2ZSBhbnkgZW50cnlcbiAgICAgICAgICAgIC8vIGZvciB0aGUgbW9kZSwgdGhlbiBhc3N1bWUgdGhhdCB0aGUgZGV2IHdhbnRzIGl0IHRvIGJlIENTUyBmb3IgdGhlIGN1cnNvci5cbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvciA9IG1vZGU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCBvbiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgaW50ZXJhY3RlZCB3aXRoXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5IG9iamVjdCBpbiBxdWVzdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFN0cmluZyAtIHRoZSBuYW1lIG9mIHRoZSBldmVudCAoZS5nLCBtb3VzZWRvd24pXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50RGF0YSAtIHRoZSBldmVudCBkYXRhIG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSkge1xuICAgICAgICBpZiAoIWV2ZW50RGF0YS5zdG9wcGVkKSB7XG4gICAgICAgICAgICBldmVudERhdGEuY3VycmVudFRhcmdldCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgICAgICBldmVudERhdGEudHlwZSA9IGV2ZW50U3RyaW5nO1xuXG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LmVtaXQoZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSk7XG5cbiAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0W2V2ZW50U3RyaW5nXSkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3RbZXZlbnRTdHJpbmddKGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFwcyB4IGFuZCB5IGNvb3JkcyBmcm9tIGEgRE9NIG9iamVjdCBhbmQgbWFwcyB0aGVtIGNvcnJlY3RseSB0byB0aGUgUGl4aUpTIHZpZXcuIFRoZVxuICAgICAqIHJlc3VsdGluZyB2YWx1ZSBpcyBzdG9yZWQgaW4gdGhlIHBvaW50LiBUaGlzIHRha2VzIGludG8gYWNjb3VudCB0aGUgZmFjdCB0aGF0IHRoZSBET01cbiAgICAgKiBlbGVtZW50IGNvdWxkIGJlIHNjYWxlZCBhbmQgcG9zaXRpb25lZCBhbnl3aGVyZSBvbiB0aGUgc2NyZWVuLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdGhhdCB0aGUgcmVzdWx0IHdpbGwgYmUgc3RvcmVkIGluXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB4IC0gdGhlIHggY29vcmQgb2YgdGhlIHBvc2l0aW9uIHRvIG1hcFxuICAgICAqIEBwYXJhbSAge251bWJlcn0geSAtIHRoZSB5IGNvb3JkIG9mIHRoZSBwb3NpdGlvbiB0byBtYXBcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5tYXBQb3NpdGlvblRvUG9pbnQgPSBmdW5jdGlvbiBtYXBQb3NpdGlvblRvUG9pbnQocG9pbnQsIHgsIHkpIHtcbiAgICAgICAgdmFyIHJlY3QgPSB2b2lkIDA7XG5cbiAgICAgICAgLy8gSUUgMTEgZml4XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgcmVjdCA9IHsgeDogMCwgeTogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVjdCA9IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc29sdXRpb25NdWx0aXBsaWVyID0gbmF2aWdhdG9yLmlzQ29jb29uSlMgPyB0aGlzLnJlc29sdXRpb24gOiAxLjAgLyB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgcG9pbnQueCA9ICh4IC0gcmVjdC5sZWZ0KSAqICh0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC53aWR0aCAvIHJlY3Qud2lkdGgpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgICAgIHBvaW50LnkgPSAoeSAtIHJlY3QudG9wKSAqICh0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5oZWlnaHQgLyByZWN0LmhlaWdodCkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBwcm92aWRlcyBhIG5lYXQgd2F5IG9mIGNyYXdsaW5nIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBydW5uaW5nIGFcbiAgICAgKiBzcGVjaWZpZWQgZnVuY3Rpb24gb24gYWxsIGludGVyYWN0aXZlIG9iamVjdHMgaXQgZmluZHMuIEl0IHdpbGwgYWxzbyB0YWtlIGNhcmUgb2YgaGl0XG4gICAgICogdGVzdGluZyB0aGUgaW50ZXJhY3RpdmUgb2JqZWN0cyBhbmQgcGFzc2VzIHRoZSBoaXQgYWNyb3NzIGluIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBldmVudCBjb250YWluaW5nIHRoZSBwb2ludCB0aGF0XG4gICAgICogIGlzIHRlc3RlZCBmb3IgY29sbGlzaW9uXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdFxuICAgICAqICB0aGF0IHdpbGwgYmUgaGl0IHRlc3QgKHJlY3Vyc2l2ZWx5IGNyYXdscyBpdHMgY2hpbGRyZW4pXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2Z1bmNdIC0gdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBpbnRlcmFjdGl2ZSBvYmplY3QuIFRoZVxuICAgICAqICBpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0IGFuZCBoaXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaGl0VGVzdF0gLSB0aGlzIGluZGljYXRlcyBpZiB0aGUgb2JqZWN0cyBpbnNpZGUgc2hvdWxkIGJlIGhpdCB0ZXN0IGFnYWluc3QgdGhlIHBvaW50XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaW50ZXJhY3RpdmVdIC0gV2hldGhlciB0aGUgZGlzcGxheU9iamVjdCBpcyBpbnRlcmFjdGl2ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHJldHVybnMgdHJ1ZSBpZiB0aGUgZGlzcGxheU9iamVjdCBoaXQgdGhlIHBvaW50XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc0ludGVyYWN0aXZlID0gZnVuY3Rpb24gcHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QsIGludGVyYWN0aXZlKSB7XG4gICAgICAgIGlmICghZGlzcGxheU9iamVjdCB8fCAhZGlzcGxheU9iamVjdC52aXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcG9pbnQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuZ2xvYmFsO1xuXG4gICAgICAgIC8vIFRvb2sgYSBsaXR0bGUgd2hpbGUgdG8gcmV3b3JrIHRoaXMgZnVuY3Rpb24gY29ycmVjdGx5ISBCdXQgbm93IGl0IGlzIGRvbmUgYW5kIG5pY2UgYW5kIG9wdGltaXNlZC4gXl9eXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBub3cgbG9vcCB0aHJvdWdoIGFsbCBvYmplY3RzIGFuZCB0aGVuIG9ubHkgaGl0IHRlc3QgdGhlIG9iamVjdHMgaXQgSEFTXG4gICAgICAgIC8vIHRvLCBub3QgYWxsIG9mIHRoZW0uIE1VQ0ggZmFzdGVyLi5cbiAgICAgICAgLy8gQW4gb2JqZWN0IHdpbGwgYmUgaGl0IHRlc3QgaWYgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxuICAgICAgICAvL1xuICAgICAgICAvLyAxOiBJdCBpcyBpbnRlcmFjdGl2ZS5cbiAgICAgICAgLy8gMjogSXQgYmVsb25ncyB0byBhIHBhcmVudCB0aGF0IGlzIGludGVyYWN0aXZlIEFORCBvbmUgb2YgdGhlIHBhcmVudHMgY2hpbGRyZW4gaGF2ZSBub3QgYWxyZWFkeSBiZWVuIGhpdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gQXMgYW5vdGhlciBsaXR0bGUgb3B0aW1pc2F0aW9uIG9uY2UgYW4gaW50ZXJhY3RpdmUgb2JqZWN0IGhhcyBiZWVuIGhpdCB3ZSBjYW4gY2Fycnkgb25cbiAgICAgICAgLy8gdGhyb3VnaCB0aGUgc2NlbmVncmFwaCwgYnV0IHdlIGtub3cgdGhhdCB0aGVyZSB3aWxsIGJlIG5vIG1vcmUgaGl0cyEgU28gd2UgY2FuIGF2b2lkIGV4dHJhIGhpdCB0ZXN0c1xuICAgICAgICAvLyBBIGZpbmFsIG9wdGltaXNhdGlvbiBpcyB0aGF0IGFuIG9iamVjdCBpcyBub3QgaGl0IHRlc3QgZGlyZWN0bHkgaWYgYSBjaGlsZCBoYXMgYWxyZWFkeSBiZWVuIGhpdC5cblxuICAgICAgICBpbnRlcmFjdGl2ZSA9IGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUgfHwgaW50ZXJhY3RpdmU7XG5cbiAgICAgICAgdmFyIGhpdCA9IGZhbHNlO1xuICAgICAgICB2YXIgaW50ZXJhY3RpdmVQYXJlbnQgPSBpbnRlcmFjdGl2ZTtcblxuICAgICAgICAvLyBGbGFnIGhlcmUgY2FuIHNldCB0byBmYWxzZSBpZiB0aGUgZXZlbnQgaXMgb3V0c2lkZSB0aGUgcGFyZW50cyBoaXRBcmVhIG9yIG1hc2tcbiAgICAgICAgdmFyIGhpdFRlc3RDaGlsZHJlbiA9IHRydWU7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBoaXRBcmVhLCBubyBuZWVkIHRvIHRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIGhpdEFyZWFcbiAgICAgICAgLy8gVGhlcmUgaXMgYWxzbyBubyBsb25nZXIgYSBuZWVkIHRvIGhpdFRlc3QgY2hpbGRyZW4uXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmhpdEFyZWEpIHtcbiAgICAgICAgICAgIGlmIChoaXRUZXN0KSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRoaXMuX3RlbXBQb2ludCk7XG4gICAgICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LmhpdEFyZWEuY29udGFpbnModGhpcy5fdGVtcFBvaW50LngsIHRoaXMuX3RlbXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3RDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW50ZXJhY3RpdmVQYXJlbnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIG1hc2ssIG5vIG5lZWQgdG8gdGVzdCBhZ2FpbnN0IGFueXRoaW5nIGVsc2UgaWYgdGhlIHBvaW50ZXIgaXMgbm90IHdpdGhpbiB0aGUgbWFza1xuICAgICAgICBlbHNlIGlmIChkaXNwbGF5T2JqZWN0Ll9tYXNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0Ll9tYXNrLmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXRUZXN0Q2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAvLyAqKiBGUkVFIFRJUCAqKiEgSWYgYW4gb2JqZWN0IGlzIG5vdCBpbnRlcmFjdGl2ZSBvciBoYXMgbm8gYnV0dG9ucyBpbiBpdFxuICAgICAgICAvLyAoc3VjaCBhcyBhIGdhbWUgc2NlbmUhKSBzZXQgaW50ZXJhY3RpdmVDaGlsZHJlbiB0byBmYWxzZSBmb3IgdGhhdCBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAvLyBUaGlzIHdpbGwgYWxsb3cgUGl4aUpTIHRvIGNvbXBsZXRlbHkgaWdub3JlIGFuZCBieXBhc3MgY2hlY2tpbmcgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuLlxuICAgICAgICBpZiAoaGl0VGVzdENoaWxkcmVuICYmIGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmVDaGlsZHJlbiAmJiBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgICAgIC8vIHRpbWUgdG8gZ2V0IHJlY3Vyc2l2ZS4uIGlmIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gaWYgc29tZXRoaW5nIGlzIGhpdC4uXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkSGl0ID0gdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgY2hpbGQsIGZ1bmMsIGhpdFRlc3QsIGludGVyYWN0aXZlUGFyZW50KTtcblxuICAgICAgICAgICAgICAgIGlmIChjaGlsZEhpdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpdHMgYSBnb29kIGlkZWEgdG8gY2hlY2sgaWYgYSBjaGlsZCBoYXMgbG9zdCBpdHMgcGFyZW50LlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1lYW5zIGl0IGhhcyBiZWVuIHJlbW92ZWQgd2hpbHN0IGxvb3Bpbmcgc28gaXRzIGJlc3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gaGl0IHRlc3QgYW55IG1vcmUgb2JqZWN0cyBpbiB0aGlzIGNvbnRhaW5lciBhcyB3ZSB3ZVxuICAgICAgICAgICAgICAgICAgICAvLyBub3cga25vdyB0aGUgcGFyZW50IGhhcyBiZWVuIGhpdFxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZVBhcmVudCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjaGlsZCBpcyBpbnRlcmFjdGl2ZSAsIHRoYXQgbWVhbnMgdGhhdCB0aGUgb2JqZWN0IGhpdCB3YXMgYWN0dWFsbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJhY3RpdmUgYW5kIG5vdCBqdXN0IHRoZSBjaGlsZCBvZiBhbiBpbnRlcmFjdGl2ZSBvYmplY3QuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgbWVhbnMgd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gaGl0IHRlc3QgYW55dGhpbmcgZWxzZS4gV2Ugc3RpbGwgbmVlZCB0byBydW5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhyb3VnaCBhbGwgb2JqZWN0cywgYnV0IHdlIGRvbid0IG5lZWQgdG8gcGVyZm9ybSBhbnkgaGl0IHRlc3RzLlxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZEhpdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uRXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIHBvaW50IHJ1bm5pbmcgdGhpcyBpZiB0aGUgaXRlbSBpcyBub3QgaW50ZXJhY3RpdmUgb3IgZG9lcyBub3QgaGF2ZSBhbiBpbnRlcmFjdGl2ZSBwYXJlbnQuXG4gICAgICAgIGlmIChpbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGhpdCB0ZXN0aW5nIChhcyBpbiB3ZSBoYXZlIG5vIGhpdCBhbnkgb2JqZWN0cyB5ZXQpXG4gICAgICAgICAgICAvLyBXZSBhbHNvIGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgaGl0IHRlc3RpbmcgaWYgb25jZSBvZiB0aGUgZGlzcGxheU9iamVjdHMgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIGhhcyBhbHJlYWR5IGJlZW4gaGl0IC0gYnV0IG9ubHkgaWYgaXQgd2FzIGludGVyYWN0aXZlLCBvdGhlcndpc2Ugd2UgbmVlZCB0byBrZWVwXG4gICAgICAgICAgICAvLyBsb29raW5nIGZvciBhbiBpbnRlcmFjdGl2ZSBjaGlsZCwganVzdCBpbiBjYXNlIHdlIGhpdCBvbmVcbiAgICAgICAgICAgIGlmIChoaXRUZXN0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgdGVzdGVkIGFnYWluc3QgaGl0QXJlYSBpZiBpdCBpcyBkZWZpbmVkXG4gICAgICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LmhpdEFyZWEgJiYgZGlzcGxheU9iamVjdC5jb250YWluc1BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGlmIChoaXQgJiYgIWludGVyYWN0aW9uRXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQudGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZnVuYykge1xuICAgICAgICAgICAgICAgICAgICBmdW5jKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsICEhaGl0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaGl0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcHJlc3NlZCBkb3duIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHByZXNzZWQgZG93blxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlckRvd24gPSBmdW5jdGlvbiBvblBvaW50ZXJEb3duKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vIG5lZWQgdG8gcHJldmVudCBkZWZhdWx0IG9uIG5hdHVyYWwgcG9pbnRlciBldmVudHMsIGFzIHRoZXJlIGFyZSBubyBzaWRlIGVmZmVjdHNcbiAgICAgICAgICogTm9ybWFsaXplZCBldmVudHMsIGhvd2V2ZXIsIG1heSBoYXZlIHRoZSBkb3VibGUgbW91c2Vkb3duL3RvdWNoc3RhcnQgaXNzdWUgb24gdGhlIG5hdGl2ZSBhbmRyb2lkIGJyb3dzZXIsXG4gICAgICAgICAqIHNvIHN0aWxsIG5lZWQgdG8gYmUgcHJldmVudGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvLyBHdWFyYW50ZWVkIHRoYXQgdGhlcmUgd2lsbCBiZSBhdCBsZWFzdCBvbmUgZXZlbnQgaW4gZXZlbnRzLCBhbmQgYWxsIGV2ZW50cyBtdXN0IGhhdmUgdGhlIHNhbWUgcG9pbnRlciB0eXBlXG5cbiAgICAgICAgaWYgKHRoaXMuYXV0b1ByZXZlbnREZWZhdWx0ICYmIGV2ZW50c1swXS5pc05vcm1hbGl6ZWQpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24sIHRydWUpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3RvdWNoc3RhcnQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVtaXQgYSBtb3VzZSBldmVudCBmb3IgXCJwZW5cIiBwb2ludGVycywgdGhlIHdheSBhIGJyb3dzZXIgd291bGQgZW1pdCBhIGZhbGxiYWNrIGV2ZW50XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBldmVudC5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyAncmlnaHRkb3duJyA6ICdtb3VzZWRvd24nLCB0aGlzLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIGRvd24gY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJEb3duID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJEb3duKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0pIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gPSBuZXcgX0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhMi5kZWZhdWx0KGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcmRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoc3RhcnQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0ucmlnaHREb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0ubGVmdERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0ZG93bicgOiAnbW91c2Vkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHJlbGVhc2VkIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjYW5jZWxsZWQgLSB0cnVlIGlmIHRoZSBwb2ludGVyIGlzIGNhbmNlbGxlZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgLSBGdW5jdGlvbiBwYXNzZWQgdG8ge0BsaW5rIHByb2Nlc3NJbnRlcmFjdGl2ZX1cbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJDb21wbGV0ZSA9IGZ1bmN0aW9uIG9uUG9pbnRlckNvbXBsZXRlKG9yaWdpbmFsRXZlbnQsIGNhbmNlbGxlZCwgZnVuYykge1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgLy8gaWYgdGhlIGV2ZW50IHdhc24ndCB0YXJnZXRpbmcgb3VyIGNhbnZhcywgdGhlbiBjb25zaWRlciBpdCB0byBiZSBwb2ludGVydXBvdXRzaWRlXG4gICAgICAgIC8vIGluIGFsbCBjYXNlcyAodW5sZXNzIGl0IHdhcyBhIHBvaW50ZXJjYW5jZWwpXG4gICAgICAgIHZhciBldmVudEFwcGVuZCA9IG9yaWdpbmFsRXZlbnQudGFyZ2V0ICE9PSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA/ICdvdXRzaWRlJyA6ICcnO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuXG4gICAgICAgICAgICAvLyBwZXJmb3JtIGhpdCB0ZXN0aW5nIGZvciBldmVudHMgdGFyZ2V0aW5nIG91ciBjYW52YXMgb3IgY2FuY2VsIGV2ZW50c1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCBmdW5jLCBjYW5jZWxsZWQgfHwgIWV2ZW50QXBwZW5kKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KGNhbmNlbGxlZCA/ICdwb2ludGVyY2FuY2VsJyA6ICdwb2ludGVydXAnICsgZXZlbnRBcHBlbmQsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBldmVudC5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwJyArIGV2ZW50QXBwZW5kIDogJ21vdXNldXAnICsgZXZlbnRBcHBlbmQsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChjYW5jZWxsZWQgPyAndG91Y2hjYW5jZWwnIDogJ3RvdWNoZW5kJyArIGV2ZW50QXBwZW5kLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQucG9pbnRlcklkLCBpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBjYW5jZWxsZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24gb25Qb2ludGVyQ2FuY2VsKGV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDb21wbGV0ZShldmVudCwgdHJ1ZSwgdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIGNhbmNlbCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlckNhbmNlbChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcmNhbmNlbCcsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hjYW5jZWwnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcmVsZWFzZWQgb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyVXAgPSBmdW5jdGlvbiBvblBvaW50ZXJVcChldmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ29tcGxldGUoZXZlbnQsIGZhbHNlLCB0aGlzLnByb2Nlc3NQb2ludGVyVXApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciB1cCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlclVwID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJVcChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgdmFyIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcblxuICAgICAgICB2YXIgaXNUb3VjaCA9IGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG5cbiAgICAgICAgdmFyIGlzTW91c2UgPSBkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nO1xuXG4gICAgICAgIC8vIE1vdXNlIG9ubHlcbiAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgIHZhciBmbGFncyA9IF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YTIuZGVmYXVsdC5GTEFHUztcblxuICAgICAgICAgICAgdmFyIHRlc3QgPSBpc1JpZ2h0QnV0dG9uID8gZmxhZ3MuUklHSFRfRE9XTiA6IGZsYWdzLkxFRlRfRE9XTjtcblxuICAgICAgICAgICAgdmFyIGlzRG93biA9IHRyYWNraW5nRGF0YSAhPT0gdW5kZWZpbmVkICYmIHRyYWNraW5nRGF0YS5mbGFncyAmIHRlc3Q7XG5cbiAgICAgICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwJyA6ICdtb3VzZXVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0Y2xpY2snIDogJ2NsaWNrJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0Rvd24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwb3V0c2lkZScgOiAnbW91c2V1cG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgZG93biBzdGF0ZSBvZiB0aGUgdHJhY2tpbmcgZGF0YVxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1JpZ2h0QnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5yaWdodERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEubGVmdERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQb2ludGVycyBhbmQgVG91Y2hlcywgYW5kIE1vdXNlXG4gICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaCkgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZCcsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydGFwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0YXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG91Y2hlcyBhcmUgbm8gbG9uZ2VyIG92ZXIgKGlmIHRoZXkgZXZlciB3ZXJlKSB3aGVuIHdlIGdldCB0aGUgdG91Y2hlbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGVuc3VyZSB0aGF0IHdlIGRvbid0IGtlZXAgcHJldGVuZGluZyB0aGF0IHRoZXkgYXJlXG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaCkgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPbmx5IHJlbW92ZSB0aGUgdHJhY2tpbmcgZGF0YSBpZiB0aGVyZSBpcyBubyBvdmVyL2Rvd24gc3RhdGUgc3RpbGwgYXNzb2NpYXRlZCB3aXRoIGl0XG4gICAgICAgIGlmICh0cmFja2luZ0RhdGEgJiYgdHJhY2tpbmdEYXRhLm5vbmUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgbW92aW5nXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyTW92ZSA9IGZ1bmN0aW9uIG9uUG9pbnRlck1vdmUob3JpZ2luYWxFdmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMuZGlkTW92ZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGl2ZSA9IGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnID8gdGhpcy5tb3ZlV2hlbkluc2lkZSA6IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUsIGludGVyYWN0aXZlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgdGhpcy5lbWl0KCd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHRoaXMuZW1pdCgnbW91c2Vtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuXG4gICAgICAgICAgICAvLyBUT0RPIEJVRyBmb3IgcGFyZW50cyBpbnRlcmFjdGl2ZSBvYmplY3QgKGJvcmRlciBvcmRlciBpc3N1ZSlcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBtb3ZlIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyTW92ZSA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyTW92ZShpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgdmFyIGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuXG4gICAgICAgIHZhciBpc01vdXNlID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJztcblxuICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5tb3ZlV2hlbkluc2lkZSB8fCBoaXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKSB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNobW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzTW91c2UpIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2Vtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92ZWQgb3V0IG9mIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYmVpbmcgbW92ZWQgb3V0XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyT3V0ID0gZnVuY3Rpb24gb25Qb2ludGVyT3V0KG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgLy8gT25seSBtb3VzZSBhbmQgcG9pbnRlciBjYW4gY2FsbCBvblBvaW50ZXJPdXQsIHNvIGV2ZW50cyB3aWxsIGFsd2F5cyBiZSBsZW5ndGggMVxuICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbMF07XG5cbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG5cbiAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB3ZSBjYW4gZ2V0IHRvdWNobGVhdmUgZXZlbnRzIGFmdGVyIHRvdWNoZW5kLCBzbyB3ZSB3YW50IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gaW50cm9kdWNlIG1lbW9yeSBsZWFrc1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGludGVyYWN0aW9uRGF0YS5pZGVudGlmaWVyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBvdmVyL291dCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlck92ZXJPdXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIHZhciBpc01vdXNlID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJztcblxuICAgICAgICB2YXIgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuXG4gICAgICAgIC8vIGlmIHdlIGp1c3QgbW91c2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LCB0aGVuIHdlIG5lZWQgdG8gdHJhY2sgdGhhdCBzdGF0ZVxuICAgICAgICBpZiAoaGl0ICYmICF0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSA9IG5ldyBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEyLmRlZmF1bHQoaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGhpdCAmJiB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyKSB7XG4gICAgICAgICAgICBpZiAoIXRyYWNraW5nRGF0YS5vdmVyKSB7XG4gICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb25seSBjaGFuZ2UgdGhlIGN1cnNvciBpZiBpdCBoYXMgbm90IGFscmVhZHkgYmVlbiBjaGFuZ2VkIChieSBzb21ldGhpbmcgZGVlcGVyIGluIHRoZVxuICAgICAgICAgICAgLy8gZGlzcGxheSB0cmVlKVxuICAgICAgICAgICAgaWYgKGlzTW91c2UgJiYgdGhpcy5jdXJzb3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvciA9IGRpc3BsYXlPYmplY3QuY3Vyc29yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRyYWNraW5nRGF0YS5vdmVyKSB7XG4gICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyb3V0JywgdGhpcy5ldmVudERhdGEpO1xuICAgICAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBtb3VzZSBkb3duIGluZm9ybWF0aW9uIGZvciB0aGUgcG9pbnRlciwgdGhlbiBpdCBpcyBzYWZlIHRvIGRlbGV0ZVxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YS5ub25lKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBpbnRvIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIG1vdmVkIGludG8gdGhlIHJlbmRlcmVyIHZpZXdcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJPdmVyID0gZnVuY3Rpb24gb25Qb2ludGVyT3ZlcihvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgLy8gT25seSBtb3VzZSBhbmQgcG9pbnRlciBjYW4gY2FsbCBvblBvaW50ZXJPdmVyLCBzbyBldmVudHMgd2lsbCBhbHdheXMgYmUgbGVuZ3RoIDFcbiAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzWzBdO1xuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBldmVudDtcblxuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCBJbnRlcmFjdGlvbkRhdGEgZm9yIGEgZ2l2ZW4gcG9pbnRlcklkLiBTdG9yZSB0aGF0IGRhdGEgYXMgd2VsbFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBOb3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIG91dHB1dCBmcm9tIG5vcm1hbGl6ZVRvUG9pbnRlckRhdGFcbiAgICAgKiBAcmV0dXJuIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX0gLSBJbnRlcmFjdGlvbiBkYXRhIGZvciB0aGUgZ2l2ZW4gcG9pbnRlciBpZGVudGlmaWVyXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkID0gZnVuY3Rpb24gZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KSB7XG4gICAgICAgIHZhciBwb2ludGVySWQgPSBldmVudC5wb2ludGVySWQ7XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHZvaWQgMDtcblxuICAgICAgICBpZiAocG9pbnRlcklkID09PSBNT1VTRV9QT0lOVEVSX0lEIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLm1vdXNlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0pIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucG9wKCkgfHwgbmV3IF9JbnRlcmFjdGlvbkRhdGEyLmRlZmF1bHQoKTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5pZGVudGlmaWVyID0gcG9pbnRlcklkO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXSA9IGludGVyYWN0aW9uRGF0YTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb3B5IHByb3BlcnRpZXMgZnJvbSB0aGUgZXZlbnQsIHNvIHRoYXQgd2UgY2FuIG1ha2Ugc3VyZSB0aGF0IHRvdWNoL3BvaW50ZXIgc3BlY2lmaWNcbiAgICAgICAgLy8gZGF0YSBpcyBhdmFpbGFibGVcbiAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmNvcHlFdmVudChldmVudCk7XG5cbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uRGF0YTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHVudXNlZCBJbnRlcmFjdGlvbkRhdGEgdG8gdGhlIHBvb2wsIGZvciBhIGdpdmVuIHBvaW50ZXJJZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRlcklkIC0gSWRlbnRpZmllciBmcm9tIGEgcG9pbnRlciBldmVudFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQgPSBmdW5jdGlvbiByZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKHBvaW50ZXJJZCkge1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcblxuICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sLnB1c2goaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmUgYW4gSW50ZXJhY3Rpb25FdmVudCB0byB3cmFwIGEgRE9NIFBvaW50ZXJFdmVudCBhbmQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGV2ZW50IHRvIGJlIGNvbmZpZ3VyZWRcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IC0gVGhlIERPTSBldmVudCB0aGF0IHdpbGwgYmUgcGFpcmVkIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhfSBpbnRlcmFjdGlvbkRhdGEgLSBUaGUgSW50ZXJhY3Rpb25EYXRhIHRoYXQgd2lsbCBiZSBwYWlyZWRcbiAgICAgKiAgICAgICAgd2l0aCB0aGUgSW50ZXJhY3Rpb25FdmVudFxuICAgICAqIEByZXR1cm4ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gdGhlIGludGVyYWN0aW9uIGV2ZW50IHRoYXQgd2FzIHBhc3NlZCBpblxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCA9IGZ1bmN0aW9uIGNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudChpbnRlcmFjdGlvbkV2ZW50LCBwb2ludGVyRXZlbnQsIGludGVyYWN0aW9uRGF0YSkge1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEgPSBpbnRlcmFjdGlvbkRhdGE7XG5cbiAgICAgICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoaW50ZXJhY3Rpb25EYXRhLmdsb2JhbCwgcG9pbnRlckV2ZW50LmNsaWVudFgsIHBvaW50ZXJFdmVudC5jbGllbnRZKTtcblxuICAgICAgICAvLyBUaGlzIGlzIHRoZSB3YXkgSW50ZXJhY3Rpb25NYW5hZ2VyIHByb2Nlc3NlZCB0b3VjaCBldmVudHMgYmVmb3JlIHRoZSByZWZhY3RvcmluZywgc28gSSd2ZSBrZXB0XG4gICAgICAgIC8vIGl0IGhlcmUuIEJ1dCBpdCBkb2Vzbid0IG1ha2UgdGhhdCBtdWNoIHNlbnNlIHRvIG1lLCBzaW5jZSBtYXBQb3NpdGlvblRvUG9pbnQgYWxyZWFkeSBmYWN0b3JzXG4gICAgICAgIC8vIGluIHRoaXMucmVzb2x1dGlvbiwgc28gdGhpcyBqdXN0IGRpdmlkZXMgYnkgdGhpcy5yZXNvbHV0aW9uIHR3aWNlIGZvciB0b3VjaCBldmVudHMuLi5cbiAgICAgICAgaWYgKG5hdmlnYXRvci5pc0NvY29vbkpTICYmIHBvaW50ZXJFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC54ID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC54IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55ID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90IHJlYWxseSBzdXJlIHdoeSB0aGlzIGlzIGhhcHBlbmluZywgYnV0IGl0J3MgaG93IGEgcHJldmlvdXMgdmVyc2lvbiBoYW5kbGVkIHRoaW5nc1xuICAgICAgICBpZiAocG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWCA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueDtcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudC5nbG9iYWxZID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55O1xuICAgICAgICB9XG5cbiAgICAgICAgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgPSBwb2ludGVyRXZlbnQ7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQucmVzZXQoKTtcblxuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25FdmVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGF0IHRoZSBvcmlnaW5hbCBldmVudCBvYmplY3QgY29udGFpbnMgYWxsIGRhdGEgdGhhdCBhIHJlZ3VsYXIgcG9pbnRlciBldmVudCB3b3VsZCBoYXZlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VG91Y2hFdmVudHxNb3VzZUV2ZW50fFBvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgb3JpZ2luYWwgZXZlbnQgZGF0YSBmcm9tIGEgdG91Y2ggb3IgbW91c2UgZXZlbnRcbiAgICAgKiBAcmV0dXJuIHtQb2ludGVyRXZlbnRbXX0gQW4gYXJyYXkgY29udGFpbmluZyBhIHNpbmdsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIGluIHRoZSBjYXNlIG9mIGEgcG9pbnRlclxuICAgICAqICBvciBtb3VzZSBldmVudCwgb3IgYSBtdWx0aXBsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnRzIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBjaGFuZ2VkIHRvdWNoZXNcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5ub3JtYWxpemVUb1BvaW50ZXJEYXRhID0gZnVuY3Rpb24gbm9ybWFsaXplVG9Qb2ludGVyRGF0YShldmVudCkge1xuICAgICAgICB2YXIgbm9ybWFsaXplZEV2ZW50cyA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGkgPSBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkgPCBsaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbiA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmJ1dHRvbiA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b25zID09PSAndW5kZWZpbmVkJykgdG91Y2guYnV0dG9ucyA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5pc1ByaW1hcnkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoLmlzUHJpbWFyeSA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAxICYmIGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLndpZHRoID0gdG91Y2gucmFkaXVzWCB8fCAxO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guaGVpZ2h0ID09PSAndW5kZWZpbmVkJykgdG91Y2guaGVpZ2h0ID0gdG91Y2gucmFkaXVzWSB8fCAxO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGlsdFggPT09ICd1bmRlZmluZWQnKSB0b3VjaC50aWx0WCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WSA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnRpbHRZID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJykgdG91Y2gucG9pbnRlclR5cGUgPSAndG91Y2gnO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucG9pbnRlcklkID09PSAndW5kZWZpbmVkJykgdG91Y2gucG9pbnRlcklkID0gdG91Y2guaWRlbnRpZmllciB8fCAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5wcmVzc3VyZSA9IHRvdWNoLmZvcmNlIHx8IDAuNTtcbiAgICAgICAgICAgICAgICB0b3VjaC50d2lzdCA9IDA7XG4gICAgICAgICAgICAgICAgdG91Y2gudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgdGhlc2UsIGFzIGxheWVyWC9ZIGlzIG5vdCBhIHN0YW5kYXJkLCBpcyBkZXByZWNhdGVkLCBoYXMgdW5ldmVuXG4gICAgICAgICAgICAgICAgLy8gc3VwcG9ydCwgYW5kIHRoZSBmaWxsIGlucyBhcmUgbm90IHF1aXRlIHRoZSBzYW1lXG4gICAgICAgICAgICAgICAgLy8gb2Zmc2V0WC9ZIG1pZ2h0IGJlIG9rYXksIGJ1dCBpcyBub3QgdGhlIHNhbWUgYXMgY2xpZW50WC9ZIHdoZW4gdGhlIGNhbnZhcydzIHRvcFxuICAgICAgICAgICAgICAgIC8vIGxlZnQgaXMgbm90IDAsMCBvbiB0aGUgcGFnZVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJYID09PSAndW5kZWZpbmVkJykgdG91Y2gubGF5ZXJYID0gdG91Y2gub2Zmc2V0WCA9IHRvdWNoLmNsaWVudFg7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclkgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5sYXllclkgPSB0b3VjaC5vZmZzZXRZID0gdG91Y2guY2xpZW50WTtcblxuICAgICAgICAgICAgICAgIC8vIG1hcmsgdGhlIHRvdWNoIGFzIG5vcm1hbGl6ZWQsIGp1c3Qgc28gdGhhdCB3ZSBrbm93IHdlIGRpZCBpdFxuICAgICAgICAgICAgICAgIHRvdWNoLmlzTm9ybWFsaXplZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2godG91Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGFyZW50bHkgUG9pbnRlckV2ZW50IHN1YmNsYXNzZXMgTW91c2VFdmVudCwgc28geWF5XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCAmJiAoIXRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzIHx8ICEoZXZlbnQgaW5zdGFuY2VvZiB3aW5kb3cuUG9pbnRlckV2ZW50KSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LmlzUHJpbWFyeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LndpZHRoID0gMTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LmhlaWdodCA9IDE7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnRpbHRYID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnRpbHRZID09PSAndW5kZWZpbmVkJykgZXZlbnQudGlsdFkgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucG9pbnRlclR5cGUgPT09ICd1bmRlZmluZWQnKSBldmVudC5wb2ludGVyVHlwZSA9ICdtb3VzZSc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKSBldmVudC5wb2ludGVySWQgPSBNT1VTRV9QT0lOVEVSX0lEO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKSBldmVudC5wcmVzc3VyZSA9IDAuNTtcbiAgICAgICAgICAgICAgICBldmVudC50d2lzdCA9IDA7XG4gICAgICAgICAgICAgICAgZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcblxuICAgICAgICAgICAgICAgIC8vIG1hcmsgdGhlIG1vdXNlIGV2ZW50IGFzIG5vcm1hbGl6ZWQsIGp1c3Qgc28gdGhhdCB3ZSBrbm93IHdlIGRpZCBpdFxuICAgICAgICAgICAgICAgIGV2ZW50LmlzTm9ybWFsaXplZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub3JtYWxpemVkRXZlbnRzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgaW50ZXJhY3Rpb24gbWFuYWdlclxuICAgICAqXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLm1vdXNlID0gbnVsbDtcblxuICAgICAgICB0aGlzLmV2ZW50RGF0YSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyRG93biA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlclVwID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlclVwID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckNhbmNlbCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyTW92ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck91dCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck92ZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3RlbXBQb2ludCA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBJbnRlcmFjdGlvbk1hbmFnZXI7XG59KF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBJbnRlcmFjdGlvbk1hbmFnZXI7XG5cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdpbnRlcmFjdGlvbicsIEludGVyYWN0aW9uTWFuYWdlcik7XG5jb3JlLkNhbnZhc1JlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdpbnRlcmFjdGlvbicsIEludGVyYWN0aW9uTWFuYWdlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnRlcmFjdGlvbk1hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0ludGVyYWN0aW9uRGF0YSA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25EYXRhJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnSW50ZXJhY3Rpb25EYXRhJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25EYXRhKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9JbnRlcmFjdGlvbk1hbmFnZXIgPSByZXF1aXJlKCcuL0ludGVyYWN0aW9uTWFuYWdlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0ludGVyYWN0aW9uTWFuYWdlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludGVyYWN0aW9uTWFuYWdlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfaW50ZXJhY3RpdmVUYXJnZXQgPSByZXF1aXJlKCcuL2ludGVyYWN0aXZlVGFyZ2V0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnaW50ZXJhY3RpdmVUYXJnZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnRlcmFjdGl2ZVRhcmdldCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEgPSByZXF1aXJlKCcuL0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfSW50ZXJhY3Rpb25FdmVudCA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25FdmVudCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0ludGVyYWN0aW9uRXZlbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnRlcmFjdGlvbkV2ZW50KS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogU2ltcGxlc3QgZmlsdGVyIC0gYXBwbGllcyBhbHBoYVxuICpcbiAqIFVzZSB0aGlzIGluc3RlYWQgb2YgQ29udGFpbmVyJ3MgYWxwaGEgcHJvcGVydHkgdG8gYXZvaWQgdmlzdWFsIGxheWVyaW5nIG9mIGluZGl2aWR1YWwgZWxlbWVudHMuXG4gKiBBbHBoYUZpbHRlciBhcHBsaWVzIGFscGhhIGV2ZW5seSBhY3Jvc3MgdGhlIGVudGlyZSBkaXNwbGF5IG9iamVjdCBhbmQgYW55IG9wYXF1ZSBlbGVtZW50cyBpdCBjb250YWlucy5cbiAqIElmIGVsZW1lbnRzIGFyZSBub3Qgb3BhcXVlLCB0aGV5IHdpbGwgYmxlbmQgd2l0aCBlYWNoIG90aGVyIGFueXdheS5cbiAqXG4gKiBWZXJ5IGhhbmR5IGlmIHlvdSB3YW50IHRvIHVzZSBjb21tb24gZmVhdHVyZXMgb2YgYWxsIGZpbHRlcnM6XG4gKlxuICogMS4gQXNzaWduIGEgYmxlbmRNb2RlIHRvIHRoaXMgZmlsdGVyLCBibGVuZCBhbGwgZWxlbWVudHMgaW5zaWRlIGRpc3BsYXkgb2JqZWN0IHdpdGggYmFja2dyb3VuZC5cbiAqXG4gKiAyLiBUbyB1c2UgY2xpcHBpbmcgaW4gZGlzcGxheSBjb29yZGluYXRlcywgYXNzaWduIGEgZmlsdGVyQXJlYSB0byB0aGUgc2FtZSBjb250YWluZXIgdGhhdCBoYXMgdGhpcyBmaWx0ZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQWxwaGFGaWx0ZXIgPSBmdW5jdGlvbiAoX2NvcmUkRmlsdGVyKSB7XG4gICAgX2luaGVyaXRzKEFscGhhRmlsdGVyLCBfY29yZSRGaWx0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSBBbW91bnQgb2YgYWxwaGEgZnJvbSAwIHRvIDEsIHdoZXJlIDAgaXMgdHJhbnNwYXJlbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBbHBoYUZpbHRlcigpIHtcbiAgICAgICAgdmFyIGFscGhhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxLjA7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFscGhhRmlsdGVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRGaWx0ZXIuY2FsbCh0aGlzLFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgICdhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG59JyxcbiAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHVBbHBoYTtcXG59XFxuJykpO1xuXG4gICAgICAgIF90aGlzLmFscGhhID0gYWxwaGE7XG4gICAgICAgIF90aGlzLmdsU2hhZGVyS2V5ID0gJ2FscGhhJztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvZWZmaWNpZW50IGZvciBhbHBoYSBtdWx0aXBsaWNhdGlvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEFscGhhRmlsdGVyLCBbe1xuICAgICAgICBrZXk6ICdhbHBoYScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudUFscGhhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudUFscGhhID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQWxwaGFGaWx0ZXI7XG59KGNvcmUuRmlsdGVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQWxwaGFGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbHBoYUZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBDb2xvck1hdHJpeEZpbHRlciBjbGFzcyBsZXRzIHlvdSBhcHBseSBhIDV4NCBtYXRyaXggdHJhbnNmb3JtYXRpb24gb24gdGhlIFJHQkFcbiAqIGNvbG9yIGFuZCBhbHBoYSB2YWx1ZXMgb2YgZXZlcnkgcGl4ZWwgb24geW91ciBkaXNwbGF5T2JqZWN0IHRvIHByb2R1Y2UgYSByZXN1bHRcbiAqIHdpdGggYSBuZXcgc2V0IG9mIFJHQkEgY29sb3IgYW5kIGFscGhhIHZhbHVlcy4gSXQncyBwcmV0dHkgcG93ZXJmdWwhXG4gKlxuICogYGBganNcbiAqICBsZXQgY29sb3JNYXRyaXggPSBuZXcgUElYSS5maWx0ZXJzLkNvbG9yTWF0cml4RmlsdGVyKCk7XG4gKiAgY29udGFpbmVyLmZpbHRlcnMgPSBbY29sb3JNYXRyaXhdO1xuICogIGNvbG9yTWF0cml4LmNvbnRyYXN0KDIpO1xuICogYGBgXG4gKiBAYXV0aG9yIENsw6ltZW50IENoZW5lYmF1bHQgPGNsZW1lbnRAZ29vZGJveWRpZ2l0YWwuY29tPlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQ29sb3JNYXRyaXhGaWx0ZXIgPSBmdW5jdGlvbiAoX2NvcmUkRmlsdGVyKSB7XG4gICAgX2luaGVyaXRzKENvbG9yTWF0cml4RmlsdGVyLCBfY29yZSRGaWx0ZXIpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb2xvck1hdHJpeEZpbHRlcigpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbG9yTWF0cml4RmlsdGVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRGaWx0ZXIuY2FsbCh0aGlzLFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgICdhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG59JyxcbiAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGZsb2F0IG1bMjBdO1xcbnVuaWZvcm0gZmxvYXQgdUFscGhhO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjNCBjID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG5cXG4gICAgaWYgKHVBbHBoYSA9PSAwLjApIHtcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IGM7XFxuICAgICAgICByZXR1cm47XFxuICAgIH1cXG5cXG4gICAgLy8gVW4tcHJlbXVsdGlwbHkgYWxwaGEgYmVmb3JlIGFwcGx5aW5nIHRoZSBjb2xvciBtYXRyaXguIFNlZSBpc3N1ZSAjMzUzOS5cXG4gICAgaWYgKGMuYSA+IDAuMCkge1xcbiAgICAgIGMucmdiIC89IGMuYTtcXG4gICAgfVxcblxcbiAgICB2ZWM0IHJlc3VsdDtcXG5cXG4gICAgcmVzdWx0LnIgPSAobVswXSAqIGMucik7XFxuICAgICAgICByZXN1bHQuciArPSAobVsxXSAqIGMuZyk7XFxuICAgICAgICByZXN1bHQuciArPSAobVsyXSAqIGMuYik7XFxuICAgICAgICByZXN1bHQuciArPSAobVszXSAqIGMuYSk7XFxuICAgICAgICByZXN1bHQuciArPSBtWzRdO1xcblxcbiAgICByZXN1bHQuZyA9IChtWzVdICogYy5yKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzZdICogYy5nKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzddICogYy5iKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzhdICogYy5hKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IG1bOV07XFxuXFxuICAgIHJlc3VsdC5iID0gKG1bMTBdICogYy5yKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTFdICogYy5nKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTJdICogYy5iKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTNdICogYy5hKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gbVsxNF07XFxuXFxuICAgIHJlc3VsdC5hID0gKG1bMTVdICogYy5yKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMTZdICogYy5nKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMTddICogYy5iKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMThdICogYy5hKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gbVsxOV07XFxuXFxuICAgIHZlYzMgcmdiID0gbWl4KGMucmdiLCByZXN1bHQucmdiLCB1QWxwaGEpO1xcblxcbiAgICAvLyBQcmVtdWx0aXBseSBhbHBoYSBhZ2Fpbi5cXG4gICAgcmdiICo9IHJlc3VsdC5hO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHJnYiwgcmVzdWx0LmEpO1xcbn1cXG4nKSk7XG5cbiAgICAgICAgX3RoaXMudW5pZm9ybXMubSA9IFsxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICBfdGhpcy5hbHBoYSA9IDE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGN1cnJlbnQgbWF0cml4IGFuZCBzZXQgdGhlIG5ldyBvbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG1hdHJpeCAtIDV4NCBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9sb2FkTWF0cml4ID0gZnVuY3Rpb24gX2xvYWRNYXRyaXgobWF0cml4KSB7XG4gICAgICAgIHZhciBtdWx0aXBseSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG5cbiAgICAgICAgdmFyIG5ld01hdHJpeCA9IG1hdHJpeDtcblxuICAgICAgICBpZiAobXVsdGlwbHkpIHtcbiAgICAgICAgICAgIHRoaXMuX211bHRpcGx5KG5ld01hdHJpeCwgdGhpcy51bmlmb3Jtcy5tLCBtYXRyaXgpO1xuICAgICAgICAgICAgbmV3TWF0cml4ID0gdGhpcy5fY29sb3JNYXRyaXgobmV3TWF0cml4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCB0aGUgbmV3IG1hdHJpeFxuICAgICAgICB0aGlzLnVuaWZvcm1zLm0gPSBuZXdNYXRyaXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdHdvIG1hdDUnc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBvdXQgLSA1eDQgbWF0cml4IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYSAtIDV4NCBtYXRyaXggdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBiIC0gNXg0IG1hdHJpeCB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyW119IDV4NCBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9tdWx0aXBseSA9IGZ1bmN0aW9uIF9tdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgICAgICAgLy8gUmVkIENoYW5uZWxcbiAgICAgICAgb3V0WzBdID0gYVswXSAqIGJbMF0gKyBhWzFdICogYls1XSArIGFbMl0gKiBiWzEwXSArIGFbM10gKiBiWzE1XTtcbiAgICAgICAgb3V0WzFdID0gYVswXSAqIGJbMV0gKyBhWzFdICogYls2XSArIGFbMl0gKiBiWzExXSArIGFbM10gKiBiWzE2XTtcbiAgICAgICAgb3V0WzJdID0gYVswXSAqIGJbMl0gKyBhWzFdICogYls3XSArIGFbMl0gKiBiWzEyXSArIGFbM10gKiBiWzE3XTtcbiAgICAgICAgb3V0WzNdID0gYVswXSAqIGJbM10gKyBhWzFdICogYls4XSArIGFbMl0gKiBiWzEzXSArIGFbM10gKiBiWzE4XTtcbiAgICAgICAgb3V0WzRdID0gYVswXSAqIGJbNF0gKyBhWzFdICogYls5XSArIGFbMl0gKiBiWzE0XSArIGFbM10gKiBiWzE5XSArIGFbNF07XG5cbiAgICAgICAgLy8gR3JlZW4gQ2hhbm5lbFxuICAgICAgICBvdXRbNV0gPSBhWzVdICogYlswXSArIGFbNl0gKiBiWzVdICsgYVs3XSAqIGJbMTBdICsgYVs4XSAqIGJbMTVdO1xuICAgICAgICBvdXRbNl0gPSBhWzVdICogYlsxXSArIGFbNl0gKiBiWzZdICsgYVs3XSAqIGJbMTFdICsgYVs4XSAqIGJbMTZdO1xuICAgICAgICBvdXRbN10gPSBhWzVdICogYlsyXSArIGFbNl0gKiBiWzddICsgYVs3XSAqIGJbMTJdICsgYVs4XSAqIGJbMTddO1xuICAgICAgICBvdXRbOF0gPSBhWzVdICogYlszXSArIGFbNl0gKiBiWzhdICsgYVs3XSAqIGJbMTNdICsgYVs4XSAqIGJbMThdO1xuICAgICAgICBvdXRbOV0gPSBhWzVdICogYls0XSArIGFbNl0gKiBiWzldICsgYVs3XSAqIGJbMTRdICsgYVs4XSAqIGJbMTldICsgYVs5XTtcblxuICAgICAgICAvLyBCbHVlIENoYW5uZWxcbiAgICAgICAgb3V0WzEwXSA9IGFbMTBdICogYlswXSArIGFbMTFdICogYls1XSArIGFbMTJdICogYlsxMF0gKyBhWzEzXSAqIGJbMTVdO1xuICAgICAgICBvdXRbMTFdID0gYVsxMF0gKiBiWzFdICsgYVsxMV0gKiBiWzZdICsgYVsxMl0gKiBiWzExXSArIGFbMTNdICogYlsxNl07XG4gICAgICAgIG91dFsxMl0gPSBhWzEwXSAqIGJbMl0gKyBhWzExXSAqIGJbN10gKyBhWzEyXSAqIGJbMTJdICsgYVsxM10gKiBiWzE3XTtcbiAgICAgICAgb3V0WzEzXSA9IGFbMTBdICogYlszXSArIGFbMTFdICogYls4XSArIGFbMTJdICogYlsxM10gKyBhWzEzXSAqIGJbMThdO1xuICAgICAgICBvdXRbMTRdID0gYVsxMF0gKiBiWzRdICsgYVsxMV0gKiBiWzldICsgYVsxMl0gKiBiWzE0XSArIGFbMTNdICogYlsxOV0gKyBhWzE0XTtcblxuICAgICAgICAvLyBBbHBoYSBDaGFubmVsXG4gICAgICAgIG91dFsxNV0gPSBhWzE1XSAqIGJbMF0gKyBhWzE2XSAqIGJbNV0gKyBhWzE3XSAqIGJbMTBdICsgYVsxOF0gKiBiWzE1XTtcbiAgICAgICAgb3V0WzE2XSA9IGFbMTVdICogYlsxXSArIGFbMTZdICogYls2XSArIGFbMTddICogYlsxMV0gKyBhWzE4XSAqIGJbMTZdO1xuICAgICAgICBvdXRbMTddID0gYVsxNV0gKiBiWzJdICsgYVsxNl0gKiBiWzddICsgYVsxN10gKiBiWzEyXSArIGFbMThdICogYlsxN107XG4gICAgICAgIG91dFsxOF0gPSBhWzE1XSAqIGJbM10gKyBhWzE2XSAqIGJbOF0gKyBhWzE3XSAqIGJbMTNdICsgYVsxOF0gKiBiWzE4XTtcbiAgICAgICAgb3V0WzE5XSA9IGFbMTVdICogYls0XSArIGFbMTZdICogYls5XSArIGFbMTddICogYlsxNF0gKyBhWzE4XSAqIGJbMTldICsgYVsxOV07XG5cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgRmxvYXQzMiBBcnJheSBhbmQgbm9ybWFsaXplIHRoZSBvZmZzZXQgY29tcG9uZW50IHRvIDAtMVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBtYXRyaXggLSA1eDQgbWF0cml4XG4gICAgICogQHJldHVybiB7bnVtYmVyW119IDV4NCBtYXRyaXggd2l0aCBhbGwgdmFsdWVzIGJldHdlZW4gMC0xXG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fY29sb3JNYXRyaXggPSBmdW5jdGlvbiBfY29sb3JNYXRyaXgobWF0cml4KSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgICAgdmFyIG0gPSBuZXcgRmxvYXQzMkFycmF5KG1hdHJpeCk7XG5cbiAgICAgICAgbVs0XSAvPSAyNTU7XG4gICAgICAgIG1bOV0gLz0gMjU1O1xuICAgICAgICBtWzE0XSAvPSAyNTU7XG4gICAgICAgIG1bMTldIC89IDI1NTtcblxuICAgICAgICByZXR1cm4gbTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRqdXN0cyBicmlnaHRuZXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYiAtIHZhbHVlIG9mIHRoZSBicmlndGhuZXNzICgwLTEsIHdoZXJlIDAgaXMgYmxhY2spXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5icmlnaHRuZXNzID0gZnVuY3Rpb24gYnJpZ2h0bmVzcyhiLCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW2IsIDAsIDAsIDAsIDAsIDAsIGIsIDAsIDAsIDAsIDAsIDAsIGIsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbWF0cmljZXMgaW4gZ3JleSBzY2FsZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIHZhbHVlIG9mIHRoZSBncmV5ICgwLTEsIHdoZXJlIDAgaXMgYmxhY2spXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmV5c2NhbGUgPSBmdW5jdGlvbiBncmV5c2NhbGUoc2NhbGUsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCwgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCwgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBibGFjayBhbmQgd2hpdGUgbWF0cmljZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYmxhY2tBbmRXaGl0ZSA9IGZ1bmN0aW9uIGJsYWNrQW5kV2hpdGUobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFswLjMsIDAuNiwgMC4xLCAwLCAwLCAwLjMsIDAuNiwgMC4xLCAwLCAwLCAwLjMsIDAuNiwgMC4xLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGh1ZSBwcm9wZXJ0eSBvZiB0aGUgY29sb3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIGluIGRlZ3JlZXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmh1ZSA9IGZ1bmN0aW9uIGh1ZShyb3RhdGlvbiwgbXVsdGlwbHkpIHtcbiAgICAgICAgcm90YXRpb24gPSAocm90YXRpb24gfHwgMCkgLyAxODAgKiBNYXRoLlBJO1xuXG4gICAgICAgIHZhciBjb3NSID0gTWF0aC5jb3Mocm90YXRpb24pO1xuICAgICAgICB2YXIgc2luUiA9IE1hdGguc2luKHJvdGF0aW9uKTtcbiAgICAgICAgdmFyIHNxcnQgPSBNYXRoLnNxcnQ7XG5cbiAgICAgICAgLyogYSBnb29kIGFwcHJveGltYXRpb24gZm9yIGh1ZSByb3RhdGlvblxuICAgICAgICAgVGhpcyBtYXRyaXggaXMgZmFyIGJldHRlciB0aGFuIHRoZSB2ZXJzaW9ucyB3aXRoIG1hZ2ljIGx1bWluYW5jZSBjb25zdGFudHNcbiAgICAgICAgIGZvcm1lcmx5IHVzZWQgaGVyZSwgYnV0IGFsc28gdXNlZCBpbiB0aGUgc3RhcmxpbmcgZnJhbWV3b3JrIChmbGFzaCkgYW5kIGtub3duIGZyb20gdGhpc1xuICAgICAgICAgb2xkIHBhcnQgb2YgdGhlIGludGVybmV0OiBxdWFzaW1vbmRvLmNvbS9hcmNoaXZlcy8wMDA1NjUucGhwXG4gICAgICAgICAgVGhpcyBuZXcgbWF0cml4IGlzIGJhc2VkIG9uIHJnYiBjdWJlIHJvdGF0aW9uIGluIHNwYWNlLiBMb29rIGhlcmUgZm9yIGEgbW9yZSBkZXNjcmlwdGl2ZVxuICAgICAgICAgaW1wbGVtZW50YXRpb24gYXMgYSBzaGFkZXIgbm90IGEgZ2VuZXJhbCBtYXRyaXg6XG4gICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vZXZhbncvZ2xmeC5qcy9ibG9iLzU4ODQxYzIzOTE5YmQ1OTc4N2VmZmMwMzMzYTQ4OTdiNDM4MzU0MTIvc3JjL2ZpbHRlcnMvYWRqdXN0L2h1ZXNhdHVyYXRpb24uanNcbiAgICAgICAgICBUaGlzIGlzIHRoZSBzb3VyY2UgZm9yIHRoZSBjb2RlOlxuICAgICAgICAgc2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODUwNzg4NS9zaGlmdC1odWUtb2YtYW4tcmdiLWNvbG9yLzg1MTA3NTEjODUxMDc1MVxuICAgICAgICAgKi9cblxuICAgICAgICB2YXIgdyA9IDEgLyAzO1xuICAgICAgICB2YXIgc3FyVyA9IHNxcnQodyk7IC8vIHdlaWdodCBpc1xuXG4gICAgICAgIHZhciBhMDAgPSBjb3NSICsgKDEuMCAtIGNvc1IpICogdztcbiAgICAgICAgdmFyIGEwMSA9IHcgKiAoMS4wIC0gY29zUikgLSBzcXJXICogc2luUjtcbiAgICAgICAgdmFyIGEwMiA9IHcgKiAoMS4wIC0gY29zUikgKyBzcXJXICogc2luUjtcblxuICAgICAgICB2YXIgYTEwID0gdyAqICgxLjAgLSBjb3NSKSArIHNxclcgKiBzaW5SO1xuICAgICAgICB2YXIgYTExID0gY29zUiArIHcgKiAoMS4wIC0gY29zUik7XG4gICAgICAgIHZhciBhMTIgPSB3ICogKDEuMCAtIGNvc1IpIC0gc3FyVyAqIHNpblI7XG5cbiAgICAgICAgdmFyIGEyMCA9IHcgKiAoMS4wIC0gY29zUikgLSBzcXJXICogc2luUjtcbiAgICAgICAgdmFyIGEyMSA9IHcgKiAoMS4wIC0gY29zUikgKyBzcXJXICogc2luUjtcbiAgICAgICAgdmFyIGEyMiA9IGNvc1IgKyB3ICogKDEuMCAtIGNvc1IpO1xuXG4gICAgICAgIHZhciBtYXRyaXggPSBbYTAwLCBhMDEsIGEwMiwgMCwgMCwgYTEwLCBhMTEsIGExMiwgMCwgMCwgYTIwLCBhMjEsIGEyMiwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjb250cmFzdCBtYXRyaXgsIGluY3JlYXNlIHRoZSBzZXBhcmF0aW9uIGJldHdlZW4gZGFyayBhbmQgYnJpZ2h0XG4gICAgICogSW5jcmVhc2UgY29udHJhc3QgOiBzaGFkb3dzIGRhcmtlciBhbmQgaGlnaGxpZ2h0cyBicmlnaHRlclxuICAgICAqIERlY3JlYXNlIGNvbnRyYXN0IDogYnJpbmcgdGhlIHNoYWRvd3MgdXAgYW5kIHRoZSBoaWdobGlnaHRzIGRvd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB2YWx1ZSBvZiB0aGUgY29udHJhc3QgKDAtMSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmNvbnRyYXN0ID0gZnVuY3Rpb24gY29udHJhc3QoYW1vdW50LCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgdiA9IChhbW91bnQgfHwgMCkgKyAxO1xuICAgICAgICB2YXIgbyA9IC0wLjUgKiAodiAtIDEpO1xuXG4gICAgICAgIHZhciBtYXRyaXggPSBbdiwgMCwgMCwgMCwgbywgMCwgdiwgMCwgMCwgbywgMCwgMCwgdiwgMCwgbywgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzYXR1cmF0aW9uIG1hdHJpeCwgaW5jcmVhc2UgdGhlIHNlcGFyYXRpb24gYmV0d2VlbiBjb2xvcnNcbiAgICAgKiBJbmNyZWFzZSBzYXR1cmF0aW9uIDogaW5jcmVhc2UgY29udHJhc3QsIGJyaWdodG5lc3MsIGFuZCBzaGFycG5lc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgc2F0dXJhdGlvbiBhbW91bnQgKDAtMSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnNhdHVyYXRlID0gZnVuY3Rpb24gc2F0dXJhdGUoKSB7XG4gICAgICAgIHZhciBhbW91bnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICAgIHZhciBtdWx0aXBseSA9IGFyZ3VtZW50c1sxXTtcblxuICAgICAgICB2YXIgeCA9IGFtb3VudCAqIDIgLyAzICsgMTtcbiAgICAgICAgdmFyIHkgPSAoeCAtIDEpICogLTAuNTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gW3gsIHksIHksIDAsIDAsIHksIHgsIHksIDAsIDAsIHksIHksIHgsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc2F0dXJhdGUgaW1hZ2UgKHJlbW92ZSBjb2xvcilcbiAgICAgKlxuICAgICAqIENhbGwgdGhlIHNhdHVyYXRlIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmRlc2F0dXJhdGUgPSBmdW5jdGlvbiBkZXNhdHVyYXRlKCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHtcbiAgICAgICAgdGhpcy5zYXR1cmF0ZSgtMSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE5lZ2F0aXZlIGltYWdlIChpbnZlcnNlIG9mIGNsYXNzaWMgcmdiIG1hdHJpeClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUubmVnYXRpdmUgPSBmdW5jdGlvbiBuZWdhdGl2ZShtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWy0xLCAwLCAwLCAxLCAwLCAwLCAtMSwgMCwgMSwgMCwgMCwgMCwgLTEsIDEsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNlcGlhIGltYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnNlcGlhID0gZnVuY3Rpb24gc2VwaWEobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFswLjM5MywgMC43Njg5OTk5LCAwLjE4ODk5OTk5LCAwLCAwLCAwLjM0OSwgMC42ODU5OTk5LCAwLjE2Nzk5OTk5LCAwLCAwLCAwLjI3MiwgMC41MzM5OTk5LCAwLjEzMDk5OTk5LCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb2xvciBtb3Rpb24gcGljdHVyZSBwcm9jZXNzIGludmVudGVkIGluIDE5MTYgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnRlY2huaWNvbG9yID0gZnVuY3Rpb24gdGVjaG5pY29sb3IobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFsxLjkxMjUyNzc4OTE0NTYwODMsIC0wLjg1NDUzNDQ5NzY5NTE2NDUsIC0wLjA5MTU1NTA4NDgyNzU1NTg1LCAwLCAxMS43OTM2MDM0MzQzNzczMzcsIC0wLjMwODc4MzMzODU5MjgwOTcsIDEuNzY1ODkwODU1NTQ1ODQyOCwgLTAuMTA2MDE3NDMwNzQ3MjIyNDUsIDAsIC03MC4zNTIwNTE2MTQ2MTM5OCwgLTAuMjMxMTAzMzc3NTQ4NjE2LCAtMC43NTAxODk5MTk3NDQwMjEyLCAxLjg0NzU5NzgxNjEwODE4OSwgMCwgMzAuOTUwOTQwODY5NDkxMTM4LCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQb2xhcm9pZCBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucG9sYXJvaWQgPSBmdW5jdGlvbiBwb2xhcm9pZChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzEuNDM4LCAtMC4wNjIsIC0wLjA2MiwgMCwgMCwgLTAuMTIyLCAxLjM3OCwgLTAuMTIyLCAwLCAwLCAtMC4wMTYsIC0wLjAxNiwgMS40ODMsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB3aG8gdHJhbnNmb3JtcyA6IFJlZCAtPiBCbHVlIGFuZCBCbHVlIC0+IFJlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS50b0JHUiA9IGZ1bmN0aW9uIHRvQkdSKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMCwgMCwgMSwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29sb3IgcmV2ZXJzYWwgZmlsbSBpbnRyb2R1Y2VkIGJ5IEVhc3RtYW4gS29kYWsgaW4gMTkzNS4gKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmtvZGFjaHJvbWUgPSBmdW5jdGlvbiBrb2RhY2hyb21lKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMS4xMjg1NTgyMzk2NTkzNTI1LCAtMC4zOTY3MzgyMjgzNjAxMzQ4LCAtMC4wMzk5MjU1OTE3MjkyMTc5MywgMCwgNjMuNzI5NTg3NjIxOTY1MDIsIC0wLjE2NDA0MzM5OTYyMjQ0NjE2LCAxLjA4MzUyNTE1NjYyOTEzMDQsIC0wLjA1NDk4ODA1MTE1NjMzMTMyLCAwLCAyNC43MzI0MDc4OTY3MDYyMDMsIC0wLjE2Nzg2MDEwNzA2MTU1NzYzLCAtMC41NjAzNDE2Mjc3Njk1MjQ4LCAxLjYwMTQ4NTA3NjE5NjQ5NDMsIDAsIDM1LjYyOTgyODA3NDYwOTQ2LCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCcm93biBkZWxpY2lvdXMgYnJvd25pIGZpbHRlciAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYnJvd25pID0gZnVuY3Rpb24gYnJvd25pKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMC41OTk3MDIzNDk4MTU5NzE1LCAwLjM0NTUzMjQzMDQ4MzkxMjYzLCAtMC4yNzA4Mjk4Njc0NTM4MDQyLCAwLCA0Ny40MzE5Mjg1NTYwMDg3MywgLTAuMDM3NzAzMjQ5ODM3NzgzMTU3LCAwLjg2MDk1Nzc1ODc5OTI2NDEsIDAuMTUwNTk1NTIzODg0NTk5MTMsIDAsIC0zNi45Njg0MTQ5ODMxOTEyNywgMC4yNDExMzYzNTEyODE1MzMzNSwgLTAuMDc0NDEwMzc5MDg0MjI0OTIsIDAuNDQ5NzIxODIwNjQ4NzcxNTMsIDAsIC03LjU2MjA3NTI3NzU5MTI4MywgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmludGFnZSBmaWx0ZXIgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnZpbnRhZ2UgPSBmdW5jdGlvbiB2aW50YWdlKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMC42Mjc5MzQ1NjM1NjA1OTk0LCAwLjMyMDIxODM0MjA4MTkzNjcsIC0wLjAzOTY1NDA4MjExMzEyNDUzLCAwLCA5LjY1MTI4NTgzNTI5NDEyMywgMC4wMjU3ODM5NzcwNDgwODg2OCwgMC42NDQxMTg4NjQ0Mzc0NzcxLCAwLjAzMjU5MTI3NjE2MTQ5Mjk0LCAwLCA3LjQ2MjgyOTE3NjQ3MDU5MSwgMC4wNDY2MDU1NTU2NzgyNzE5LCAtMC4wODUxMjMyOTg3MjQ3ODkxLCAwLjUyNDE2NDgwMTg3MDA0NjUsIDAsIDUuMTU5MTkwNTg4MjM1Mjk2LCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXZSBkb24ndCBrbm93IGV4YWN0bHkgd2hhdCBpdCBkb2VzLCBraW5kIG9mIGdyYWRpZW50IG1hcCwgYnV0IGZ1bm55IHRvIHBsYXkgd2l0aCFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXNhdHVyYXRpb24gLSBUb25lIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9uZWQgLSBUb25lIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGlnaHRDb2xvciAtIFRvbmUgdmFsdWVzLCBleGFtcGxlOiBgMHhGRkU1ODBgXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhcmtDb2xvciAtIFRvbmUgdmFsdWVzLCBleGFtcGxlOiBgMHhGRkU1ODBgXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5jb2xvclRvbmUgPSBmdW5jdGlvbiBjb2xvclRvbmUoZGVzYXR1cmF0aW9uLCB0b25lZCwgbGlnaHRDb2xvciwgZGFya0NvbG9yLCBtdWx0aXBseSkge1xuICAgICAgICBkZXNhdHVyYXRpb24gPSBkZXNhdHVyYXRpb24gfHwgMC4yO1xuICAgICAgICB0b25lZCA9IHRvbmVkIHx8IDAuMTU7XG4gICAgICAgIGxpZ2h0Q29sb3IgPSBsaWdodENvbG9yIHx8IDB4RkZFNTgwO1xuICAgICAgICBkYXJrQ29sb3IgPSBkYXJrQ29sb3IgfHwgMHgzMzgwMDA7XG5cbiAgICAgICAgdmFyIGxSID0gKGxpZ2h0Q29sb3IgPj4gMTYgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGxHID0gKGxpZ2h0Q29sb3IgPj4gOCAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgbEIgPSAobGlnaHRDb2xvciAmIDB4RkYpIC8gMjU1O1xuXG4gICAgICAgIHZhciBkUiA9IChkYXJrQ29sb3IgPj4gMTYgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRHID0gKGRhcmtDb2xvciA+PiA4ICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBkQiA9IChkYXJrQ29sb3IgJiAweEZGKSAvIDI1NTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gWzAuMywgMC41OSwgMC4xMSwgMCwgMCwgbFIsIGxHLCBsQiwgZGVzYXR1cmF0aW9uLCAwLCBkUiwgZEcsIGRCLCB0b25lZCwgMCwgbFIgLSBkUiwgbEcgLSBkRywgbEIgLSBkQiwgMCwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTmlnaHQgZWZmZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZW5zaXR5IC0gVGhlIGludGVuc2l0eSBvZiB0aGUgbmlnaHQgZWZmZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUubmlnaHQgPSBmdW5jdGlvbiBuaWdodChpbnRlbnNpdHksIG11bHRpcGx5KSB7XG4gICAgICAgIGludGVuc2l0eSA9IGludGVuc2l0eSB8fCAwLjE7XG4gICAgICAgIHZhciBtYXRyaXggPSBbaW50ZW5zaXR5ICogLTIuMCwgLWludGVuc2l0eSwgMCwgMCwgMCwgLWludGVuc2l0eSwgMCwgaW50ZW5zaXR5LCAwLCAwLCAwLCBpbnRlbnNpdHksIGludGVuc2l0eSAqIDIuMCwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJlZGF0b3IgZWZmZWN0XG4gICAgICpcbiAgICAgKiBFcmFzZSB0aGUgY3VycmVudCBtYXRyaXggYnkgc2V0dGluZyBhIG5ldyBpbmRlcGVudCBvbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBob3cgbXVjaCB0aGUgcHJlZGF0b3IgZmVlbHMgaGlzIGZ1dHVyZSB2aWN0aW1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnByZWRhdG9yID0gZnVuY3Rpb24gcHJlZGF0b3IoYW1vdW50LCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAvLyByb3cgMVxuICAgICAgICAxMS4yMjQxMzA2MzA0OTMxNjQgKiBhbW91bnQsIC00Ljc5NDQ4Njk5OTUxMTcxOSAqIGFtb3VudCwgLTIuODc0NjExODU0NTUzMjIyNyAqIGFtb3VudCwgMCAqIGFtb3VudCwgMC40MDM0MjQzODIyMDk3Nzc4MyAqIGFtb3VudCxcbiAgICAgICAgLy8gcm93IDJcbiAgICAgICAgLTMuNjMzMDY5NzUzNjQ2ODUwNiAqIGFtb3VudCwgOS4xOTMxNTcxOTYwNDQ5MjIgKiBhbW91bnQsIC0yLjk1MTgxMDgzNjc5MTk5MiAqIGFtb3VudCwgMCAqIGFtb3VudCwgLTEuMzE2MTM1MDQ4ODY2MjcyICogYW1vdW50LFxuICAgICAgICAvLyByb3cgM1xuICAgICAgICAtMy4yMTg0MTk3OTAyNjc5NDQzICogYW1vdW50LCAtNC4yMzc1MDMwNTE3NTc4MTI1ICogYW1vdW50LCA3LjQ3NjQ0ODA1OTA4MjAzMSAqIGFtb3VudCwgMCAqIGFtb3VudCwgMC44MDQ0NDU5MjIzNzQ3MjUzICogYW1vdW50LFxuICAgICAgICAvLyByb3cgNFxuICAgICAgICAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMU0QgZWZmZWN0XG4gICAgICpcbiAgICAgKiBNdWx0aXBseSB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUubHNkID0gZnVuY3Rpb24gbHNkKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMiwgLTAuNCwgMC41LCAwLCAwLCAtMC41LCAyLCAtMC40LCAwLCAwLCAtMC40LCAtMC41LCAzLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFcmFzZSB0aGUgY3VycmVudCBtYXRyaXggYnkgc2V0dGluZyB0aGUgZGVmYXVsdCBvbmVcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFsxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgZmFsc2UpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF0cml4IG9mIHRoZSBjb2xvciBtYXRyaXggZmlsdGVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKiBAZGVmYXVsdCBbMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKENvbG9yTWF0cml4RmlsdGVyLCBbe1xuICAgICAgICBrZXk6ICdtYXRyaXgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLm07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9wYWNpdHkgdmFsdWUgdG8gdXNlIHdoZW4gbWl4aW5nIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0YW50IGNvbG9ycy5cbiAgICAgICAgICpcbiAgICAgICAgICogV2hlbiB0aGUgdmFsdWUgaXMgMCwgdGhlIG9yaWdpbmFsIGNvbG9yIGlzIHVzZWQgd2l0aG91dCBtb2RpZmljYXRpb24uXG4gICAgICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDEsIHRoZSByZXN1bHQgY29sb3IgaXMgdXNlZC5cbiAgICAgICAgICogV2hlbiBpbiB0aGUgcmFuZ2UgKDAsIDEpIHRoZSBjb2xvciBpcyBpbnRlcnBvbGF0ZWQgYmV0d2VlbiB0aGUgb3JpZ2luYWwgYW5kIHJlc3VsdCBieSB0aGlzIGFtb3VudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhbHBoYScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudUFscGhhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudUFscGhhID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ29sb3JNYXRyaXhGaWx0ZXI7XG59KGNvcmUuRmlsdGVyKTtcblxuLy8gQW1lcmljYW5pemVkIGFsaWFzXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gQ29sb3JNYXRyaXhGaWx0ZXI7XG5Db2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JheXNjYWxlID0gQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyZXlzY2FsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbG9yTWF0cml4RmlsdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9CbHVyWEZpbHRlciA9IHJlcXVpcmUoJy4vQmx1clhGaWx0ZXInKTtcblxudmFyIF9CbHVyWEZpbHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CbHVyWEZpbHRlcik7XG5cbnZhciBfQmx1cllGaWx0ZXIgPSByZXF1aXJlKCcuL0JsdXJZRmlsdGVyJyk7XG5cbnZhciBfQmx1cllGaWx0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmx1cllGaWx0ZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIEJsdXJGaWx0ZXIgYXBwbGllcyBhIEdhdXNzaWFuIGJsdXIgdG8gYW4gb2JqZWN0LlxuICogVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyIGNhbiBiZSBzZXQgZm9yIHgtIGFuZCB5LWF4aXMgc2VwYXJhdGVseS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBCbHVyRmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhCbHVyRmlsdGVyLCBfY29yZSRGaWx0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmVuZ3RoIC0gVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcXVhbGl0eSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2tlcm5lbFNpemU9NV0gLSBUaGUga2VybmVsU2l6ZSBvZiB0aGUgYmx1ciBmaWx0ZXIuT3B0aW9uczogNSwgNywgOSwgMTEsIDEzLCAxNS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCbHVyRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCbHVyRmlsdGVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRGaWx0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMuYmx1clhGaWx0ZXIgPSBuZXcgX0JsdXJYRmlsdGVyMi5kZWZhdWx0KHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKTtcbiAgICAgICAgX3RoaXMuYmx1cllGaWx0ZXIgPSBuZXcgX0JsdXJZRmlsdGVyMi5kZWZhdWx0KHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKTtcblxuICAgICAgICBfdGhpcy5wYWRkaW5nID0gMDtcbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgY29yZS5zZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICBfdGhpcy5xdWFsaXR5ID0gcXVhbGl0eSB8fCA0O1xuICAgICAgICBfdGhpcy5ibHVyID0gc3RyZW5ndGggfHwgODtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJNYW5hZ2VyfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqL1xuXG5cbiAgICBCbHVyRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQpIHtcbiAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0UmVuZGVyVGFyZ2V0KHRydWUpO1xuXG4gICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIHJlbmRlclRhcmdldCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgcmVuZGVyVGFyZ2V0LCBvdXRwdXQsIGZhbHNlKTtcblxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVyblJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiBib3RoIHRoZSBibHVyWCBhbmQgYmx1clkgcHJvcGVydGllcyBzaW11bHRhbmVvdXNseVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEJsdXJGaWx0ZXIsIFt7XG4gICAgICAgIGtleTogJ2JsdXInLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLm1heChNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKSwgTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCkpICogMjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgcGFzc2VzIGZvciBibHVyLiBNb3JlIHBhc3NlcyBtZWFucyBoaWdoZXIgcXVhaWxpdHkgYmx1cmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdxdWFsaXR5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eSA9IHRoaXMuYmx1cllGaWx0ZXIucXVhbGl0eSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWCBwcm9wZXJ0eVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDJcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JsdXJYJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCksIE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKSAqIDI7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgdGhlIGJsdXJZIHByb3BlcnR5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMlxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYmx1clknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJZRmlsdGVyLmJsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLm1heChNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKSwgTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCkpICogMjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBibGVuZG1vZGUgb2YgdGhlIGZpbHRlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdibGVuZE1vZGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJZRmlsdGVyLl9ibGVuZE1vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5fYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQmx1ckZpbHRlcjtcbn0oY29yZS5GaWx0ZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBCbHVyRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qmx1ckZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBEaXNwbGFjZW1lbnRGaWx0ZXIgY2xhc3MgdXNlcyB0aGUgcGl4ZWwgdmFsdWVzIGZyb20gdGhlIHNwZWNpZmllZCB0ZXh0dXJlXG4gKiAoY2FsbGVkIHRoZSBkaXNwbGFjZW1lbnQgbWFwKSB0byBwZXJmb3JtIGEgZGlzcGxhY2VtZW50IG9mIGFuIG9iamVjdC4gWW91IGNhblxuICogdXNlIHRoaXMgZmlsdGVyIHRvIGFwcGx5IGFsbCBtYW5vciBvZiBjcmF6eSB3YXJwaW5nIGVmZmVjdHMuIEN1cnJlbnRseSB0aGUgclxuICogcHJvcGVydHkgb2YgdGhlIHRleHR1cmUgaXMgdXNlZCB0byBvZmZzZXQgdGhlIHggYW5kIHRoZSBnIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlXG4gKiBpcyB1c2VkIHRvIG9mZnNldCB0aGUgeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBEaXNwbGFjZW1lbnRGaWx0ZXIgPSBmdW5jdGlvbiAoX2NvcmUkRmlsdGVyKSB7XG4gICAgX2luaGVyaXRzKERpc3BsYWNlbWVudEZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIFRoZSBzcHJpdGUgdXNlZCBmb3IgdGhlIGRpc3BsYWNlbWVudCBtYXAuIChtYWtlIHN1cmUgaXRzIGFkZGVkIHRvIHRoZSBzY2VuZSEpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIC0gVGhlIHNjYWxlIG9mIHRoZSBkaXNwbGFjZW1lbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEaXNwbGFjZW1lbnRGaWx0ZXIoc3ByaXRlLCBzY2FsZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGlzcGxhY2VtZW50RmlsdGVyKTtcblxuICAgICAgICB2YXIgbWFza01hdHJpeCA9IG5ldyBjb3JlLk1hdHJpeCgpO1xuXG4gICAgICAgIHNwcml0ZS5yZW5kZXJhYmxlID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIGZpbHRlck1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICB2RmlsdGVyQ29vcmQgPSAoIGZpbHRlck1hdHJpeCAqIHZlYzMoIGFUZXh0dXJlQ29vcmQsIDEuMCkgICkueHk7XFxuICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufScsXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICAndmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzIgc2NhbGU7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWFwU2FtcGxlcjtcXG5cXG51bmlmb3JtIHZlYzQgZmlsdGVyQXJlYTtcXG51bmlmb3JtIHZlYzQgZmlsdGVyQ2xhbXA7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgdmVjNCBtYXAgPSAgdGV4dHVyZTJEKG1hcFNhbXBsZXIsIHZGaWx0ZXJDb29yZCk7XFxuXFxuICBtYXAgLT0gMC41O1xcbiAgbWFwLnh5ICo9IHNjYWxlIC8gZmlsdGVyQXJlYS54eTtcXG5cXG4gIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgY2xhbXAodmVjMih2VGV4dHVyZUNvb3JkLnggKyBtYXAueCwgdlRleHR1cmVDb29yZC55ICsgbWFwLnkpLCBmaWx0ZXJDbGFtcC54eSwgZmlsdGVyQ2xhbXAuencpKTtcXG59XFxuJykpO1xuXG4gICAgICAgIF90aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG4gICAgICAgIF90aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuXG4gICAgICAgIF90aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXIgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgICAgIF90aGlzLnVuaWZvcm1zLmZpbHRlck1hdHJpeCA9IG1hc2tNYXRyaXg7XG4gICAgICAgIF90aGlzLnVuaWZvcm1zLnNjYWxlID0geyB4OiAxLCB5OiAxIH07XG5cbiAgICAgICAgaWYgKHNjYWxlID09PSBudWxsIHx8IHNjYWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNjYWxlID0gMjA7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5zY2FsZSA9IG5ldyBjb3JlLlBvaW50KHNjYWxlLCBzY2FsZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyTWFuYWdlcn0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKi9cblxuXG4gICAgRGlzcGxhY2VtZW50RmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQpIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5maWx0ZXJNYXRyaXggPSBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCh0aGlzLm1hc2tNYXRyaXgsIHRoaXMubWFza1Nwcml0ZSk7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc2NhbGUueCA9IHRoaXMuc2NhbGUueDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zY2FsZS55ID0gdGhpcy5zY2FsZS55O1xuXG4gICAgICAgIC8vIGRyYXcgdGhlIGZpbHRlci4uLlxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIGZvciB0aGUgZGlzcGxhY2VtZW50IG1hcC4gTXVzdCBiZSBwb3dlciBvZiAyIHNpemVkIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhEaXNwbGFjZW1lbnRGaWx0ZXIsIFt7XG4gICAgICAgIGtleTogJ21hcCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXIgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBEaXNwbGFjZW1lbnRGaWx0ZXI7XG59KGNvcmUuRmlsdGVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gRGlzcGxhY2VtZW50RmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGlzcGxhY2VtZW50RmlsdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQGF1dGhvciBWaWNvIEB2aWNvY290ZWFcbiAqIG9yaWdpbmFsIGZpbHRlcjogaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi9tYXN0ZXIvc3JjL2ZpbHRlcnMvYWRqdXN0L25vaXNlLmpzXG4gKi9cblxuLyoqXG4gKiBBIE5vaXNlIGVmZmVjdCBmaWx0ZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgTm9pc2VGaWx0ZXIgPSBmdW5jdGlvbiAoX2NvcmUkRmlsdGVyKSB7XG4gICAgX2luaGVyaXRzKE5vaXNlRmlsdGVyLCBfY29yZSRGaWx0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG5vaXNlIC0gVGhlIG5vaXNlIGludGVuc2l0eSwgc2hvdWxkIGJlIGEgbm9ybWFsaXplZCB2YWx1ZSBpbiB0aGUgcmFuZ2UgWzAsIDFdLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWVkIC0gQSByYW5kb20gc2VlZCBmb3IgdGhlIG5vaXNlIGdlbmVyYXRpb24uIERlZmF1bHQgaXMgYE1hdGgucmFuZG9tKClgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE5vaXNlRmlsdGVyKCkge1xuICAgICAgICB2YXIgbm9pc2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDAuNTtcbiAgICAgICAgdmFyIHNlZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IE1hdGgucmFuZG9tKCk7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vaXNlRmlsdGVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRGaWx0ZXIuY2FsbCh0aGlzLFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgICdhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG59JyxcbiAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG51bmlmb3JtIGZsb2F0IHVOb2lzZTtcXG51bmlmb3JtIGZsb2F0IHVTZWVkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbmZsb2F0IHJhbmQodmVjMiBjbylcXG57XFxuICAgIHJldHVybiBmcmFjdChzaW4oZG90KGNvLnh5LCB2ZWMyKDEyLjk4OTgsIDc4LjIzMykpKSAqIDQzNzU4LjU0NTMpO1xcbn1cXG5cXG52b2lkIG1haW4oKVxcbntcXG4gICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIGZsb2F0IHJhbmRvbVZhbHVlID0gcmFuZChnbF9GcmFnQ29vcmQueHkgKiB1U2VlZCk7XFxuICAgIGZsb2F0IGRpZmYgPSAocmFuZG9tVmFsdWUgLSAwLjUpICogdU5vaXNlO1xcblxcbiAgICAvLyBVbi1wcmVtdWx0aXBseSBhbHBoYSBiZWZvcmUgYXBwbHlpbmcgdGhlIGNvbG9yIG1hdHJpeC4gU2VlIGlzc3VlICMzNTM5LlxcbiAgICBpZiAoY29sb3IuYSA+IDAuMCkge1xcbiAgICAgICAgY29sb3IucmdiIC89IGNvbG9yLmE7XFxuICAgIH1cXG5cXG4gICAgY29sb3IuciArPSBkaWZmO1xcbiAgICBjb2xvci5nICs9IGRpZmY7XFxuICAgIGNvbG9yLmIgKz0gZGlmZjtcXG5cXG4gICAgLy8gUHJlbXVsdGlwbHkgYWxwaGEgYWdhaW4uXFxuICAgIGNvbG9yLnJnYiAqPSBjb2xvci5hO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XFxuJykpO1xuXG4gICAgICAgIF90aGlzLm5vaXNlID0gbm9pc2U7XG4gICAgICAgIF90aGlzLnNlZWQgPSBzZWVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiBub2lzZSB0byBhcHBseSwgdGhpcyB2YWx1ZSBzaG91bGQgYmUgaW4gdGhlIHJhbmdlICgwLCAxXS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKE5vaXNlRmlsdGVyLCBbe1xuICAgICAgICBrZXk6ICdub2lzZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudU5vaXNlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudU5vaXNlID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBzZWVkIHZhbHVlIHRvIGFwcGx5IHRvIHRoZSByYW5kb20gbm9pc2UgZ2VuZXJhdGlvbi4gYE1hdGgucmFuZG9tKClgIGlzIGEgZ29vZCB2YWx1ZSB0byB1c2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NlZWQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVTZWVkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVNlZWQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBOb2lzZUZpbHRlcjtcbn0oY29yZS5GaWx0ZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBOb2lzZUZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vaXNlRmlsdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICpcbiAqIEJhc2ljIEZYQUEgaW1wbGVtZW50YXRpb24gYmFzZWQgb24gdGhlIGNvZGUgb24gZ2Vla3MzZC5jb20gd2l0aCB0aGVcbiAqIG1vZGlmaWNhdGlvbiB0aGF0IHRoZSB0ZXh0dXJlMkRMb2Qgc3R1ZmYgd2FzIHJlbW92ZWQgc2luY2UgaXQnc1xuICogdW5zdXBwb3J0ZWQgYnkgV2ViR0wuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWl0c3VoaWtvL3dlYmdsLW1laW5jcmFmdFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqXG4gKi9cbnZhciBGWEFBRmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhGWEFBRmlsdGVyLCBfY29yZSRGaWx0ZXIpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGWEFBRmlsdGVyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRlhBQUZpbHRlcik7XG5cbiAgICAgICAgLy8gVE9ETyAtIG5lZWRzIHdvcmtcbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgJ1xcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2X3JnYk5XO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk5FO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNXO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNFO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk07XFxuXFxudW5pZm9ybSB2ZWM0IGZpbHRlckFyZWE7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudmVjMiBtYXBDb29yZCggdmVjMiBjb29yZCApXFxue1xcbiAgICBjb29yZCAqPSBmaWx0ZXJBcmVhLnh5O1xcbiAgICBjb29yZCArPSBmaWx0ZXJBcmVhLnp3O1xcblxcbiAgICByZXR1cm4gY29vcmQ7XFxufVxcblxcbnZlYzIgdW5tYXBDb29yZCggdmVjMiBjb29yZCApXFxue1xcbiAgICBjb29yZCAtPSBmaWx0ZXJBcmVhLnp3O1xcbiAgICBjb29yZCAvPSBmaWx0ZXJBcmVhLnh5O1xcblxcbiAgICByZXR1cm4gY29vcmQ7XFxufVxcblxcbnZvaWQgdGV4Y29vcmRzKHZlYzIgZnJhZ0Nvb3JkLCB2ZWMyIHJlc29sdXRpb24sXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JOVywgb3V0IHZlYzIgdl9yZ2JORSxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYlNXLCBvdXQgdmVjMiB2X3JnYlNFLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiTSkge1xcbiAgICB2ZWMyIGludmVyc2VWUCA9IDEuMCAvIHJlc29sdXRpb24ueHk7XFxuICAgIHZfcmdiTlcgPSAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAtMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiTkUgPSAoZnJhZ0Nvb3JkICsgdmVjMigxLjAsIC0xLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JTVyA9IChmcmFnQ29vcmQgKyB2ZWMyKC0xLjAsIDEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYlNFID0gKGZyYWdDb29yZCArIHZlYzIoMS4wLCAxLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JNID0gdmVjMihmcmFnQ29vcmQgKiBpbnZlcnNlVlApO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcbiAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcblxcbiAgIHZlYzIgZnJhZ0Nvb3JkID0gdlRleHR1cmVDb29yZCAqIGZpbHRlckFyZWEueHk7XFxuXFxuICAgdGV4Y29vcmRzKGZyYWdDb29yZCwgZmlsdGVyQXJlYS54eSwgdl9yZ2JOVywgdl9yZ2JORSwgdl9yZ2JTVywgdl9yZ2JTRSwgdl9yZ2JNKTtcXG59JyxcbiAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdl9yZ2JOVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JORTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTRTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JNO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCBmaWx0ZXJBcmVhO1xcblxcbi8qKlxcbiBCYXNpYyBGWEFBIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tIHdpdGggdGhlXFxuIG1vZGlmaWNhdGlvbiB0aGF0IHRoZSB0ZXh0dXJlMkRMb2Qgc3R1ZmYgd2FzIHJlbW92ZWQgc2luY2UgaXRcXCdzXFxuIHVuc3VwcG9ydGVkIGJ5IFdlYkdMLlxcbiBcXG4gLS1cXG4gXFxuIEZyb206XFxuIGh0dHBzOi8vZ2l0aHViLmNvbS9taXRzdWhpa28vd2ViZ2wtbWVpbmNyYWZ0XFxuIFxcbiBDb3B5cmlnaHQgKGMpIDIwMTEgYnkgQXJtaW4gUm9uYWNoZXIuXFxuIFxcbiBTb21lIHJpZ2h0cyByZXNlcnZlZC5cXG4gXFxuIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxcbiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXFxuIG1ldDpcXG4gXFxuICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcXG4gbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxcbiBcXG4gKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXFxuIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXFxuIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxcbiB3aXRoIHRoZSBkaXN0cmlidXRpb24uXFxuIFxcbiAqIFRoZSBuYW1lcyBvZiB0aGUgY29udHJpYnV0b3JzIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yXFxuIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpY1xcbiBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXFxuIFxcbiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXFxuIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcXG4gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXFxuIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXFxuIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxcbiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXFxuIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxcbiBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcXG4gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxcbiAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0VcXG4gT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cXG4gKi9cXG5cXG4jaWZuZGVmIEZYQUFfUkVEVUNFX01JTlxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTUlOICAgKDEuMC8gMTI4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1JFRFVDRV9NVUxcXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01VTCAgICgxLjAgLyA4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1NQQU5fTUFYXFxuI2RlZmluZSBGWEFBX1NQQU5fTUFYICAgICA4LjBcXG4jZW5kaWZcXG5cXG4vL29wdGltaXplZCB2ZXJzaW9uIGZvciBtb2JpbGUsIHdoZXJlIGRlcGVuZGVudFxcbi8vdGV4dHVyZSByZWFkcyBjYW4gYmUgYSBib3R0bGVuZWNrXFxudmVjNCBmeGFhKHNhbXBsZXIyRCB0ZXgsIHZlYzIgZnJhZ0Nvb3JkLCB2ZWMyIHJlc29sdXRpb24sXFxuICAgICAgICAgIHZlYzIgdl9yZ2JOVywgdmVjMiB2X3JnYk5FLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiU1csIHZlYzIgdl9yZ2JTRSxcXG4gICAgICAgICAgdmVjMiB2X3JnYk0pIHtcXG4gICAgdmVjNCBjb2xvcjtcXG4gICAgbWVkaXVtcCB2ZWMyIGludmVyc2VWUCA9IHZlYzIoMS4wIC8gcmVzb2x1dGlvbi54LCAxLjAgLyByZXNvbHV0aW9uLnkpO1xcbiAgICB2ZWMzIHJnYk5XID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JOVykueHl6O1xcbiAgICB2ZWMzIHJnYk5FID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JORSkueHl6O1xcbiAgICB2ZWMzIHJnYlNXID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTVykueHl6O1xcbiAgICB2ZWMzIHJnYlNFID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTRSkueHl6O1xcbiAgICB2ZWM0IHRleENvbG9yID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JNKTtcXG4gICAgdmVjMyByZ2JNICA9IHRleENvbG9yLnh5ejtcXG4gICAgdmVjMyBsdW1hID0gdmVjMygwLjI5OSwgMC41ODcsIDAuMTE0KTtcXG4gICAgZmxvYXQgbHVtYU5XID0gZG90KHJnYk5XLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU5FID0gZG90KHJnYk5FLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNXID0gZG90KHJnYlNXLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNFID0gZG90KHJnYlNFLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU0gID0gZG90KHJnYk0sICBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU1pbiA9IG1pbihsdW1hTSwgbWluKG1pbihsdW1hTlcsIGx1bWFORSksIG1pbihsdW1hU1csIGx1bWFTRSkpKTtcXG4gICAgZmxvYXQgbHVtYU1heCA9IG1heChsdW1hTSwgbWF4KG1heChsdW1hTlcsIGx1bWFORSksIG1heChsdW1hU1csIGx1bWFTRSkpKTtcXG4gICAgXFxuICAgIG1lZGl1bXAgdmVjMiBkaXI7XFxuICAgIGRpci54ID0gLSgobHVtYU5XICsgbHVtYU5FKSAtIChsdW1hU1cgKyBsdW1hU0UpKTtcXG4gICAgZGlyLnkgPSAgKChsdW1hTlcgKyBsdW1hU1cpIC0gKGx1bWFORSArIGx1bWFTRSkpO1xcbiAgICBcXG4gICAgZmxvYXQgZGlyUmVkdWNlID0gbWF4KChsdW1hTlcgKyBsdW1hTkUgKyBsdW1hU1cgKyBsdW1hU0UpICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICgwLjI1ICogRlhBQV9SRURVQ0VfTVVMKSwgRlhBQV9SRURVQ0VfTUlOKTtcXG4gICAgXFxuICAgIGZsb2F0IHJjcERpck1pbiA9IDEuMCAvIChtaW4oYWJzKGRpci54KSwgYWJzKGRpci55KSkgKyBkaXJSZWR1Y2UpO1xcbiAgICBkaXIgPSBtaW4odmVjMihGWEFBX1NQQU5fTUFYLCBGWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgIG1heCh2ZWMyKC1GWEFBX1NQQU5fTUFYLCAtRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICAgICAgZGlyICogcmNwRGlyTWluKSkgKiBpbnZlcnNlVlA7XFxuICAgIFxcbiAgICB2ZWMzIHJnYkEgPSAwLjUgKiAoXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAoMS4wIC8gMy4wIC0gMC41KSkueHl6ICtcXG4gICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqICgyLjAgLyAzLjAgLSAwLjUpKS54eXopO1xcbiAgICB2ZWMzIHJnYkIgPSByZ2JBICogMC41ICsgMC4yNSAqIChcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogLTAuNSkueHl6ICtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogMC41KS54eXopO1xcbiAgICBcXG4gICAgZmxvYXQgbHVtYUIgPSBkb3QocmdiQiwgbHVtYSk7XFxuICAgIGlmICgobHVtYUIgPCBsdW1hTWluKSB8fCAobHVtYUIgPiBsdW1hTWF4KSlcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JBLCB0ZXhDb2xvci5hKTtcXG4gICAgZWxzZVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkIsIHRleENvbG9yLmEpO1xcbiAgICByZXR1cm4gY29sb3I7XFxufVxcblxcbnZvaWQgbWFpbigpIHtcXG5cXG4gICAgICB2ZWMyIGZyYWdDb29yZCA9IHZUZXh0dXJlQ29vcmQgKiBmaWx0ZXJBcmVhLnh5O1xcblxcbiAgICAgIHZlYzQgY29sb3I7XFxuXFxuICAgIGNvbG9yID0gZnhhYSh1U2FtcGxlciwgZnJhZ0Nvb3JkLCBmaWx0ZXJBcmVhLnh5LCB2X3JnYk5XLCB2X3JnYk5FLCB2X3JnYlNXLCB2X3JnYlNFLCB2X3JnYk0pO1xcblxcbiAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cXG4nKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIEZYQUFGaWx0ZXI7XG59KGNvcmUuRmlsdGVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gRlhBQUZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZYQUFGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0ZYQUFGaWx0ZXIgPSByZXF1aXJlKCcuL2Z4YWEvRlhBQUZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0ZYQUFGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GWEFBRmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Ob2lzZUZpbHRlciA9IHJlcXVpcmUoJy4vbm9pc2UvTm9pc2VGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdOb2lzZUZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX05vaXNlRmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9EaXNwbGFjZW1lbnRGaWx0ZXIgPSByZXF1aXJlKCcuL2Rpc3BsYWNlbWVudC9EaXNwbGFjZW1lbnRGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdEaXNwbGFjZW1lbnRGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaXNwbGFjZW1lbnRGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0JsdXJGaWx0ZXIgPSByZXF1aXJlKCcuL2JsdXIvQmx1ckZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0JsdXJGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CbHVyRmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9CbHVyWEZpbHRlciA9IHJlcXVpcmUoJy4vYmx1ci9CbHVyWEZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0JsdXJYRmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmx1clhGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0JsdXJZRmlsdGVyID0gcmVxdWlyZSgnLi9ibHVyL0JsdXJZRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQmx1cllGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CbHVyWUZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ29sb3JNYXRyaXhGaWx0ZXIgPSByZXF1aXJlKCcuL2NvbG9ybWF0cml4L0NvbG9yTWF0cml4RmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ29sb3JNYXRyaXhGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2xvck1hdHJpeEZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQWxwaGFGaWx0ZXIgPSByZXF1aXJlKCcuL2FscGhhL0FscGhhRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQWxwaGFGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BbHBoYUZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZ2xvYmFsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0LiBEb2VzIG5vdCBkZXBlbmQgb24gb2JqZWN0IHNjYWxlLCByb3RhdGlvbiBhbmQgcGl2b3QuXG4gKlxuICogQG1ldGhvZCBnZXRHbG9iYWxQb3NpdGlvblxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRvIHdyaXRlIHRoZSBnbG9iYWwgdmFsdWUgdG8uIElmIG51bGwgYSBuZXcgcG9pbnQgd2lsbCBiZSByZXR1cm5lZFxuICogQHBhcmFtIHtib29sZWFufSBza2lwVXBkYXRlIC0gc2V0dGluZyB0byB0cnVlIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdFxuICogQHJldHVybiB7UG9pbnR9IFRoZSB1cGRhdGVkIHBvaW50XG4gKi9cbmNvcmUuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0R2xvYmFsUG9zaXRpb24gPSBmdW5jdGlvbiBnZXRHbG9iYWxQb3NpdGlvbigpIHtcbiAgICB2YXIgcG9pbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG5ldyBjb3JlLlBvaW50KCk7XG4gICAgdmFyIHNraXBVcGRhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50LnRvR2xvYmFsKHRoaXMucG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwb2ludC54ID0gdGhpcy5wb3NpdGlvbi54O1xuICAgICAgICBwb2ludC55ID0gdGhpcy5wb3NpdGlvbi55O1xuICAgIH1cblxuICAgIHJldHVybiBwb2ludDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRHbG9iYWxQb3NpdGlvbi5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8qKlxuICogVGhlIGluc3RhbmNlIG5hbWUgb2YgdGhlIG9iamVjdC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQG1lbWJlciB7c3RyaW5nfSBuYW1lXG4gKi9cbmNvcmUuRGlzcGxheU9iamVjdC5wcm90b3R5cGUubmFtZSA9IG51bGw7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGlzcGxheSBvYmplY3QgaW4gdGhlIGNvbnRhaW5lclxuICpcbiAqIEBtZXRob2QgZ2V0Q2hpbGRCeU5hbWVcbiAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gaW5zdGFuY2UgbmFtZVxuICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKi9cbmNvcmUuQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEJ5TmFtZSA9IGZ1bmN0aW9uIGdldENoaWxkQnlOYW1lKG5hbWUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baV0ubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRDaGlsZEJ5TmFtZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfVGV4dHVyZSA9IHJlcXVpcmUoJy4uL2NvcmUvdGV4dHVyZXMvVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSk7XG5cbnZhciBfQmFzZVRleHR1cmUgPSByZXF1aXJlKCcuLi9jb3JlL3RleHR1cmVzL0Jhc2VUZXh0dXJlJyk7XG5cbnZhciBfQmFzZVRleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVRleHR1cmUpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vY29yZS91dGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgRGlzcGxheU9iamVjdCA9IGNvcmUuRGlzcGxheU9iamVjdDtcbnZhciBfdGVtcE1hdHJpeCA9IG5ldyBjb3JlLk1hdHJpeCgpO1xuXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlRGF0YSA9IGZhbHNlO1xuXG4vLyBmaWd1cmVkIHRoZXJlcyBubyBwb2ludCBhZGRpbmcgQUxMIHRoZSBleHRyYSB2YXJpYWJsZXMgdG8gcHJvdG90eXBlLlxuLy8gdGhpcyBtb2RlbCBjYW4gaG9sZCB0aGUgaW5mb3JtYXRpb24gbmVlZGVkLiBUaGlzIGNhbiBhbHNvIGJlIGdlbmVyYXRlZCBvbiBkZW1hbmQgYXNcbi8vIG1vc3Qgb2JqZWN0cyBhcmUgbm90IGNhY2hlZCBhcyBiaXRtYXBzLlxuLyoqXG4gKiBAY2xhc3NcbiAqIEBpZ25vcmVcbiAqL1xuXG52YXIgQ2FjaGVEYXRhID1cbi8qKlxuICpcbiAqL1xuZnVuY3Rpb24gQ2FjaGVEYXRhKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYWNoZURhdGEpO1xuXG4gICAgdGhpcy50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG5cbiAgICB0aGlzLm9yaWdpbmFsUmVuZGVyV2ViR0wgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxSZW5kZXJDYW52YXMgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxHZXRMb2NhbEJvdW5kcyA9IG51bGw7XG5cbiAgICB0aGlzLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsSGl0VGVzdCA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbERlc3Ryb3kgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxNYXNrID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsRmlsdGVyQXJlYSA9IG51bGw7XG4gICAgdGhpcy5zcHJpdGUgPSBudWxsO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIHtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhpcyB0byB0cnVlIGlmIHlvdSB3YW50IHRoaXMgZGlzcGxheSBvYmplY3QgdG8gYmUgY2FjaGVkIGFzIGEgYml0bWFwLlxuICAgICAqIFRoaXMgYmFzaWNhbGx5IHRha2VzIGEgc25hcCBzaG90IG9mIHRoZSBkaXNwbGF5IG9iamVjdCBhcyBpdCBpcyBhdCB0aGF0IG1vbWVudC4gSXQgY2FuXG4gICAgICogcHJvdmlkZSBhIHBlcmZvcm1hbmNlIGJlbmVmaXQgZm9yIGNvbXBsZXggc3RhdGljIGRpc3BsYXlPYmplY3RzLlxuICAgICAqIFRvIHJlbW92ZSBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gJ2ZhbHNlJ1xuICAgICAqXG4gICAgICogSU1QT1JUQU5UIEdPVENIQSAtIG1ha2Ugc3VyZSB0aGF0IGFsbCB5b3VyIHRleHR1cmVzIGFyZSBwcmVsb2FkZWQgQkVGT1JFIHNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byB0cnVlXG4gICAgICogYXMgaXQgd2lsbCB0YWtlIGEgc25hcHNob3Qgb2Ygd2hhdCBpcyBjdXJyZW50bHkgdGhlcmUuIElmIHRoZSB0ZXh0dXJlcyBoYXZlIG5vdCBsb2FkZWQgdGhlbiB0aGV5IHdpbGwgbm90IGFwcGVhci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBjYWNoZUFzQml0bWFwOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlQXNCaXRtYXA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVBc0JpdG1hcCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2NhY2hlQXNCaXRtYXAgPSB2YWx1ZTtcblxuICAgICAgICAgICAgdmFyIGRhdGEgPSB2b2lkIDA7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FjaGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlRGF0YSA9IG5ldyBDYWNoZURhdGEoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fY2FjaGVEYXRhO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlcldlYkdMID0gdGhpcy5yZW5kZXJXZWJHTDtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gdGhpcy5yZW5kZXJDYW52YXM7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gdGhpcy51cGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUJvdW5kcztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbERlc3Ryb3kgPSB0aGlzLmRlc3Ryb3k7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsQ29udGFpbnNQb2ludCA9IHRoaXMuY29udGFpbnNQb2ludDtcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxNYXNrID0gdGhpcy5fbWFzaztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsRmlsdGVyQXJlYSA9IHRoaXMuZmlsdGVyQXJlYTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyV2ViR0wgPSB0aGlzLl9yZW5kZXJDYWNoZWRXZWJHTDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX3JlbmRlckNhY2hlZENhbnZhcztcblxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IHRoaXMuX2NhY2hlQXNCaXRtYXBEZXN0cm95O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fY2FjaGVEYXRhO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc3ByaXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJXZWJHTCA9IGRhdGEub3JpZ2luYWxSZW5kZXJXZWJHTDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IGRhdGEub3JpZ2luYWxSZW5kZXJDYW52YXM7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzID0gZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcztcbiAgICAgICAgICAgICAgICB0aGlzLmdldExvY2FsQm91bmRzID0gZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gZGF0YS5vcmlnaW5hbERlc3Ryb3k7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluc1BvaW50ID0gZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9tYXNrID0gZGF0YS5vcmlnaW5hbE1hc2s7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gZGF0YS5vcmlnaW5hbEZpbHRlckFyZWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLyoqXG4gKiBSZW5kZXJzIGEgY2FjaGVkIHZlcnNpb24gb2YgdGhlIHNwcml0ZSB3aXRoIFdlYkdMXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZFdlYkdMID0gZnVuY3Rpb24gX3JlbmRlckNhY2hlZFdlYkdMKHJlbmRlcmVyKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3QocmVuZGVyZXIpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fcmVuZGVyV2ViR0wocmVuZGVyZXIpO1xufTtcblxuLyoqXG4gKiBQcmVwYXJlcyB0aGUgV2ViR0wgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcikge1xuICAgIGlmICh0aGlzLl9jYWNoZURhdGEgJiYgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gbWFrZSBzdXJlIGFscGhhIGlzIHNldCB0byAxIG90aGVyd2lzZSBpdCB3aWxsIGdldCByZW5kZXJlZCBhcyBpbnZpc2libGUhXG4gICAgdmFyIGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuXG4gICAgdGhpcy5hbHBoYSA9IDE7XG5cbiAgICAvLyBmaXJzdCB3ZSBmbHVzaCBhbnl0aGluZyBsZWZ0IGluIHRoZSByZW5kZXJlciAob3RoZXJ3aXNlIGl0IHdvdWxkIGdldCByZW5kZXJlZCB0byB0aGUgY2FjaGVkIHRleHR1cmUpXG4gICAgcmVuZGVyZXIuY3VycmVudFJlbmRlcmVyLmZsdXNoKCk7XG4gICAgLy8gdGhpcy5maWx0ZXJzPSBbXTtcblxuICAgIC8vIG5leHQgd2UgZmluZCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgdW50cmFuc2Zvcm1lZCBvYmplY3RcbiAgICAvLyB0aGlzIGZ1bmN0aW9uIGFsc28gY2FsbHMgdXBkYXRldHJhbnNmb3JtIG9uIGFsbCBpdHMgY2hpbGRyZW4gYXMgcGFydCBvZiB0aGUgbWVhc3VyaW5nLlxuICAgIC8vIFRoaXMgbWVhbnMgd2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIHRyYW5zZm9ybSBhZ2FpbiBpbiB0aGlzIGZ1bmN0aW9uXG4gICAgLy8gVE9ETyBwYXNzIGFuIG9iamVjdCB0byBjbG9uZSB0b28/IHNhdmVzIGhhdmluZyB0byBjcmVhdGUgYSBuZXcgb25lIGVhY2ggdGltZSFcbiAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLmNsb25lKCk7XG5cbiAgICAvLyBhZGQgc29tZSBwYWRkaW5nIVxuICAgIGlmICh0aGlzLl9maWx0ZXJzKSB7XG4gICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy5fZmlsdGVyc1swXS5wYWRkaW5nO1xuXG4gICAgICAgIGJvdW5kcy5wYWQocGFkZGluZyk7XG4gICAgfVxuXG4gICAgLy8gZm9yIG5vdyB3ZSBjYWNoZSB0aGUgY3VycmVudCByZW5kZXJUYXJnZXQgdGhhdCB0aGUgd2ViR0wgcmVuZGVyZXIgaXMgY3VycmVudGx5IHVzaW5nLlxuICAgIC8vIHRoaXMgY291bGQgYmUgbW9yZSBlbGVnZW50Li5cbiAgICB2YXIgY2FjaGVkUmVuZGVyVGFyZ2V0ID0gcmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldDtcbiAgICAvLyBXZSBhbHNvIHN0b3JlIHRoZSBmaWx0ZXIgc3RhY2sgLSBJIHdpbGwgZGVmaW5pdGVseSBsb29rIHRvIGNoYW5nZSBob3cgdGhpcyB3b3JrcyBhIGxpdHRsZSBsYXRlciBkb3duIHRoZSBsaW5lLlxuICAgIHZhciBzdGFjayA9IHJlbmRlcmVyLmZpbHRlck1hbmFnZXIuZmlsdGVyU3RhY2s7XG5cbiAgICAvLyB0aGlzIHJlbmRlclRleHR1cmUgd2lsbCBiZSB1c2VkIHRvIHN0b3JlIHRoZSBjYWNoZWQgRGlzcGxheU9iamVjdFxuXG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBjb3JlLlJlbmRlclRleHR1cmUuY3JlYXRlKGJvdW5kcy53aWR0aCB8IDAsIGJvdW5kcy5oZWlnaHQgfCAwKTtcblxuICAgIHZhciB0ZXh0dXJlQ2FjaGVJZCA9ICdjYWNoZUFzQml0bWFwXycgKyAoMCwgX3V0aWxzLnVpZCkoKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IHRleHR1cmVDYWNoZUlkO1xuXG4gICAgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIF9UZXh0dXJlMi5kZWZhdWx0LmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuXG4gICAgLy8gbmVlZCB0byBzZXQgLy9cbiAgICB2YXIgbSA9IF90ZW1wTWF0cml4O1xuXG4gICAgbS50eCA9IC1ib3VuZHMueDtcbiAgICBtLnR5ID0gLWJvdW5kcy55O1xuXG4gICAgLy8gcmVzZXRcbiAgICB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS5pZGVudGl0eSgpO1xuXG4gICAgLy8gc2V0IGFsbCBwcm9wZXJ0aWVzIHRvIHRoZXJlIG9yaWdpbmFsIHNvIHdlIGNhbiByZW5kZXIgdG8gYSB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXJXZWJHTCA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlcldlYkdMO1xuXG4gICAgcmVuZGVyZXIucmVuZGVyKHRoaXMsIHJlbmRlclRleHR1cmUsIHRydWUsIG0sIHRydWUpO1xuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuXG4gICAgcmVuZGVyZXIuYmluZFJlbmRlclRhcmdldChjYWNoZWRSZW5kZXJUYXJnZXQpO1xuXG4gICAgcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5maWx0ZXJTdGFjayA9IHN0YWNrO1xuXG4gICAgdGhpcy5yZW5kZXJXZWJHTCA9IHRoaXMuX3JlbmRlckNhY2hlZFdlYkdMO1xuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuXG4gICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgIC8vIGNyZWF0ZSBvdXIgY2FjaGVkIHNwcml0ZVxuICAgIHZhciBjYWNoZWRTcHJpdGUgPSBuZXcgY29yZS5TcHJpdGUocmVuZGVyVGV4dHVyZSk7XG5cbiAgICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci55ID0gLShib3VuZHMueSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG5cbiAgICAvLyBlYXN5IGJvdW5kcy4uXG4gICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG5cbiAgICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAvLyByZXN0b3JlIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhY2hlZCBzcHJpdGUgdG8gYXZvaWQgdGhlIG5hc3R5IGZsaWNrZXIuLlxuICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSByZW5kZXJlci5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIC8vIG1hcCB0aGUgaGl0IHRlc3QuLlxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG5cbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBjYW52YXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVuZGVyQ2FjaGVkQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhY2hlZENhbnZhcyhyZW5kZXJlcikge1xuICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzKHJlbmRlcmVyKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUucmVuZGVyQ2FudmFzKHJlbmRlcmVyKTtcbn07XG5cbi8vIFRPRE8gdGhpcyBjYW4gYmUgdGhlIHNhbWUgYXMgdGhlIHdlYkdMIHZlcmlzb24uLiB3aWxsIG5lZWQgdG8gZG8gYSBsaXR0bGUgdHdlYWtpbmcgZmlyc3QgdGhvdWdoLi5cbi8qKlxuICogUHJlcGFyZXMgdGhlIENhbnZhcyByZW5kZXJlciB0byBjYWNoZSB0aGUgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzID0gZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzKHJlbmRlcmVyKSB7XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBnZXQgYm91bmRzIGFjdHVhbGx5IHRyYW5zZm9ybXMgdGhlIG9iamVjdCBmb3IgdXMgYWxyZWFkeSFcbiAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpO1xuXG4gICAgdmFyIGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuXG4gICAgdGhpcy5hbHBoYSA9IDE7XG5cbiAgICB2YXIgY2FjaGVkUmVuZGVyVGFyZ2V0ID0gcmVuZGVyZXIuY29udGV4dDtcblxuICAgIHZhciByZW5kZXJUZXh0dXJlID0gY29yZS5SZW5kZXJUZXh0dXJlLmNyZWF0ZShib3VuZHMud2lkdGggfCAwLCBib3VuZHMuaGVpZ2h0IHwgMCk7XG5cbiAgICB2YXIgdGV4dHVyZUNhY2hlSWQgPSAnY2FjaGVBc0JpdG1hcF8nICsgKDAsIF91dGlscy51aWQpKCk7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSB0ZXh0dXJlQ2FjaGVJZDtcblxuICAgIF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICBfVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcblxuICAgIC8vIG5lZWQgdG8gc2V0IC8vXG4gICAgdmFyIG0gPSBfdGVtcE1hdHJpeDtcblxuICAgIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLmNvcHkobSk7XG4gICAgbS5pbnZlcnQoKTtcblxuICAgIG0udHggLT0gYm91bmRzLng7XG4gICAgbS50eSAtPSBib3VuZHMueTtcblxuICAgIC8vIG0uYXBwZW5kKHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLilcbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcztcblxuICAgIC8vIHJlbmRlclRleHR1cmUucmVuZGVyKHRoaXMsIG0sIHRydWUpO1xuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCByZW5kZXJUZXh0dXJlLCB0cnVlLCBtLCBmYWxzZSk7XG5cbiAgICAvLyBub3cgcmVzdG9yZSB0aGUgc3RhdGUgYmUgc2V0dGluZyB0aGUgbmV3IHByb3BlcnRpZXNcbiAgICByZW5kZXJlci5jb250ZXh0ID0gY2FjaGVkUmVuZGVyVGFyZ2V0O1xuXG4gICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9yZW5kZXJDYWNoZWRDYW52YXM7XG4gICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuXG4gICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgIC8vIGNyZWF0ZSBvdXIgY2FjaGVkIHNwcml0ZVxuICAgIHZhciBjYWNoZWRTcHJpdGUgPSBuZXcgY29yZS5TcHJpdGUocmVuZGVyVGV4dHVyZSk7XG5cbiAgICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci55ID0gLShib3VuZHMueSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIGNhY2hlZFNwcml0ZS5fYm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG5cbiAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcmVuZGVyZXIuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG5cbiAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBjYWNoZWRTcHJpdGUuY29udGFpbnNQb2ludC5iaW5kKGNhY2hlZFNwcml0ZSk7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgY2FjaGVkIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQ2FjaGVkQm91bmRzKCkge1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX2NhbGN1bGF0ZUJvdW5kcygpO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBib3VuZHMgb2YgdGhlIGNhY2hlZCBzcHJpdGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge1JlY3RhbmdsZX0gVGhlIGxvY2FsIGJvdW5kcy5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2dldENhY2hlZExvY2FsQm91bmRzID0gZnVuY3Rpb24gX2dldENhY2hlZExvY2FsQm91bmRzKCkge1xuICAgIHJldHVybiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLmdldExvY2FsQm91bmRzKCk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBjYWNoZWQgc3ByaXRlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCgpIHtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl90ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IG51bGw7XG5cbiAgICBfQmFzZVRleHR1cmUyLmRlZmF1bHQucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCk7XG4gICAgX1RleHR1cmUyLmRlZmF1bHQucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCk7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZS5cbiAqICBVc2VkIHdoZW4gZGVzdHJveWluZyBjb250YWluZXJzLCBzZWUgdGhlIENvbnRhaW5lci5kZXN0cm95IG1ldGhvZC5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXBEZXN0cm95ID0gZnVuY3Rpb24gX2NhY2hlQXNCaXRtYXBEZXN0cm95KG9wdGlvbnMpIHtcbiAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbiAgICB0aGlzLmRlc3Ryb3kob3B0aW9ucyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FjaGVBc0JpdG1hcC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfT2JzZXJ2YWJsZVBvaW50ID0gcmVxdWlyZSgnLi4vY29yZS9tYXRoL09ic2VydmFibGVQb2ludCcpO1xuXG52YXIgX09ic2VydmFibGVQb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYnNlcnZhYmxlUG9pbnQpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vY29yZS91dGlscycpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vY29yZS9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEEgQml0bWFwVGV4dCBvYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQgdXNpbmcgYml0bWFwIGZvbnQuIFRvXG4gKiBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicsICdcXHInIG9yICdcXHJcXG4nIGluIHlvdXIgc3RyaW5nLiBZb3UgY2FuIGdlbmVyYXRlIHRoZSBmbnQgZmlsZXMgdXNpbmc6XG4gKlxuICogQSBCaXRtYXBUZXh0IGNhbiBvbmx5IGJlIGNyZWF0ZWQgd2hlbiB0aGUgZm9udCBpcyBsb2FkZWRcbiAqXG4gKiBgYGBqc1xuICogLy8gaW4gdGhpcyBjYXNlIHRoZSBmb250IGlzIGluIGEgZmlsZSBjYWxsZWQgJ2Rlc3lyZWwuZm50J1xuICogbGV0IGJpdG1hcFRleHQgPSBuZXcgUElYSS5leHRyYXMuQml0bWFwVGV4dChcInRleHQgdXNpbmcgYSBmYW5jeSBmb250IVwiLCB7Zm9udDogXCIzNXB4IERlc3lyZWxcIiwgYWxpZ246IFwicmlnaHRcIn0pO1xuICogYGBgXG4gKlxuICogaHR0cDovL3d3dy5hbmdlbGNvZGUuY29tL3Byb2R1Y3RzL2JtZm9udC8gZm9yIHdpbmRvd3Mgb3JcbiAqIGh0dHA6Ly93d3cuYm1nbHlwaC5jb20vIGZvciBtYWMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFzXG4gKi9cbnZhciBCaXRtYXBUZXh0ID0gZnVuY3Rpb24gKF9jb3JlJENvbnRhaW5lcikge1xuICAgIF9pbmhlcml0cyhCaXRtYXBUZXh0LCBfY29yZSRDb250YWluZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgY29weSB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSB0ZXh0IHRvIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gc3R5bGUuZm9udCAtIFRoZSBmb250IGRlc2NyaXB0b3IgZm9yIHRoZSBvYmplY3QsIGNhbiBiZSBwYXNzZWQgYXMgYSBzdHJpbmcgb2YgZm9ybVxuICAgICAqICAgICAgXCIyNHB4IEZvbnROYW1lXCIgb3IgXCJGb250TmFtZVwiIG9yIGFzIGFuIG9iamVjdCB3aXRoIGV4cGxpY2l0IG5hbWUvc2l6ZSBwcm9wZXJ0aWVzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udC5uYW1lXSAtIFRoZSBiaXRtYXAgZm9udCBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZm9udC5zaXplXSAtIFRoZSBzaXplIG9mIHRoZSBmb250IGluIHBpeGVscywgZS5nLiAyNFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuYWxpZ249J2xlZnQnXSAtIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksIGRvZXMgbm90IGFmZmVjdFxuICAgICAqICAgICAgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUudGludD0weEZGRkZGRl0gLSBUaGUgdGludCBjb2xvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJpdG1hcFRleHQodGV4dCkge1xuICAgICAgICB2YXIgc3R5bGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCaXRtYXBUZXh0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRDb250YWluZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMuX3RleHRXaWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGhlaWdodCBvZiB0aGUgb3ZlcmFsbCB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0SGVpZ2h0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgbGV0dGVyIHNwcml0ZSBwb29sLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2dseXBocyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZm9udCA9IHtcbiAgICAgICAgICAgIHRpbnQ6IHN0eWxlLnRpbnQgIT09IHVuZGVmaW5lZCA/IHN0eWxlLnRpbnQgOiAweEZGRkZGRixcbiAgICAgICAgICAgIGFsaWduOiBzdHlsZS5hbGlnbiB8fCAnbGVmdCcsXG4gICAgICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICAgICAgc2l6ZTogMFxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZvbnQgPSBzdHlsZS5mb250OyAvLyBydW4gZm9udCBzZXR0ZXJcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dCA9IHRleHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB2YWx1ZSB0byAwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXhXaWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAgICAgKiBpZTogd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21heExpbmVIZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0IGFuY2hvci4gcmVhZC1vbmx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FuY2hvciA9IG5ldyBfT2JzZXJ2YWJsZVBvaW50Mi5kZWZhdWx0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSwgX3RoaXMsIDAsIDApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGlydHkgc3RhdGUgb2YgdGhpcyBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIF90aGlzLnVwZGF0ZVRleHQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGV4dCBhbmQgdXBkYXRlcyBpdCB3aGVuIG5lZWRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uIHVwZGF0ZVRleHQoKSB7XG4gICAgICAgIHZhciBkYXRhID0gQml0bWFwVGV4dC5mb250c1t0aGlzLl9mb250Lm5hbWVdO1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9mb250LnNpemUgLyBkYXRhLnNpemU7XG4gICAgICAgIHZhciBwb3MgPSBuZXcgY29yZS5Qb2ludCgpO1xuICAgICAgICB2YXIgY2hhcnMgPSBbXTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBbXTtcblxuICAgICAgICB2YXIgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RMaW5lV2lkdGggPSAwO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gMDtcbiAgICAgICAgdmFyIGxpbmUgPSAwO1xuICAgICAgICB2YXIgbGFzdFNwYWNlID0gLTE7XG4gICAgICAgIHZhciBsYXN0U3BhY2VXaWR0aCA9IDA7XG4gICAgICAgIHZhciBzcGFjZXNSZW1vdmVkID0gMDtcbiAgICAgICAgdmFyIG1heExpbmVIZWlnaHQgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSB0aGlzLnRleHQuY2hhckNvZGVBdChpKTtcblxuICAgICAgICAgICAgaWYgKC8oXFxzKS8udGVzdCh0aGlzLnRleHQuY2hhckF0KGkpKSkge1xuICAgICAgICAgICAgICAgIGxhc3RTcGFjZSA9IGk7XG4gICAgICAgICAgICAgICAgbGFzdFNwYWNlV2lkdGggPSBsYXN0TGluZVdpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoLyg/OlxcclxcbnxcXHJ8XFxuKS8udGVzdCh0aGlzLnRleHQuY2hhckF0KGkpKSkge1xuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgIGxpbmUrKztcblxuICAgICAgICAgICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgICAgICAgICBwb3MueSArPSBkYXRhLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGxhc3RTcGFjZSAhPT0gLTEgJiYgdGhpcy5fbWF4V2lkdGggPiAwICYmIHBvcy54ICogc2NhbGUgPiB0aGlzLl9tYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgIGNvcmUudXRpbHMucmVtb3ZlSXRlbXMoY2hhcnMsIGxhc3RTcGFjZSAtIHNwYWNlc1JlbW92ZWQsIGkgLSBsYXN0U3BhY2UpO1xuICAgICAgICAgICAgICAgIGkgPSBsYXN0U3BhY2U7XG4gICAgICAgICAgICAgICAgbGFzdFNwYWNlID0gLTE7XG4gICAgICAgICAgICAgICAgKytzcGFjZXNSZW1vdmVkO1xuXG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RTcGFjZVdpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RTcGFjZVdpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lKys7XG5cbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjaGFyRGF0YSA9IGRhdGEuY2hhcnNbY2hhckNvZGVdO1xuXG4gICAgICAgICAgICBpZiAoIWNoYXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcmV2Q2hhckNvZGUgJiYgY2hhckRhdGEua2VybmluZ1twcmV2Q2hhckNvZGVdKSB7XG4gICAgICAgICAgICAgICAgcG9zLnggKz0gY2hhckRhdGEua2VybmluZ1twcmV2Q2hhckNvZGVdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGFycy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBjaGFyRGF0YS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgIGxpbmU6IGxpbmUsXG4gICAgICAgICAgICAgICAgY2hhckNvZGU6IGNoYXJDb2RlLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgY29yZS5Qb2ludChwb3MueCArIGNoYXJEYXRhLnhPZmZzZXQsIHBvcy55ICsgY2hhckRhdGEueU9mZnNldClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IHBvcy54ICsgKGNoYXJEYXRhLnRleHR1cmUud2lkdGggKyBjaGFyRGF0YS54T2Zmc2V0KTtcbiAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLnhBZHZhbmNlO1xuICAgICAgICAgICAgbWF4TGluZUhlaWdodCA9IE1hdGgubWF4KG1heExpbmVIZWlnaHQsIGNoYXJEYXRhLnlPZmZzZXQgKyBjaGFyRGF0YS50ZXh0dXJlLmhlaWdodCk7XG4gICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBjaGFyQ29kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0TGluZVdpZHRoKTtcblxuICAgICAgICB2YXIgbGluZUFsaWduT2Zmc2V0cyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPD0gbGluZTsgX2krKykge1xuICAgICAgICAgICAgdmFyIGFsaWduT2Zmc2V0ID0gMDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnQuYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbX2ldO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9mb250LmFsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbX2ldKSAvIDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpbmVBbGlnbk9mZnNldHMucHVzaChhbGlnbk9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGVuQ2hhcnMgPSBjaGFycy5sZW5ndGg7XG4gICAgICAgIHZhciB0aW50ID0gdGhpcy50aW50O1xuXG4gICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGxlbkNoYXJzOyBfaTIrKykge1xuICAgICAgICAgICAgdmFyIGMgPSB0aGlzLl9nbHlwaHNbX2kyXTsgLy8gZ2V0IHRoZSBuZXh0IGdseXBoIHNwcml0ZVxuXG4gICAgICAgICAgICBpZiAoYykge1xuICAgICAgICAgICAgICAgIGMudGV4dHVyZSA9IGNoYXJzW19pMl0udGV4dHVyZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYyA9IG5ldyBjb3JlLlNwcml0ZShjaGFyc1tfaTJdLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dseXBocy5wdXNoKGMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjLnBvc2l0aW9uLnggPSAoY2hhcnNbX2kyXS5wb3NpdGlvbi54ICsgbGluZUFsaWduT2Zmc2V0c1tjaGFyc1tfaTJdLmxpbmVdKSAqIHNjYWxlO1xuICAgICAgICAgICAgYy5wb3NpdGlvbi55ID0gY2hhcnNbX2kyXS5wb3NpdGlvbi55ICogc2NhbGU7XG4gICAgICAgICAgICBjLnNjYWxlLnggPSBjLnNjYWxlLnkgPSBzY2FsZTtcbiAgICAgICAgICAgIGMudGludCA9IHRpbnQ7XG5cbiAgICAgICAgICAgIGlmICghYy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIHVubmVjZXNzYXJ5IGNoaWxkcmVuLlxuICAgICAgICBmb3IgKHZhciBfaTMgPSBsZW5DaGFyczsgX2kzIDwgdGhpcy5fZ2x5cGhzLmxlbmd0aDsgKytfaTMpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodGhpcy5fZ2x5cGhzW19pM10pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdGV4dFdpZHRoID0gbWF4TGluZVdpZHRoICogc2NhbGU7XG4gICAgICAgIHRoaXMuX3RleHRIZWlnaHQgPSAocG9zLnkgKyBkYXRhLmxpbmVIZWlnaHQpICogc2NhbGU7XG5cbiAgICAgICAgLy8gYXBwbHkgYW5jaG9yXG4gICAgICAgIGlmICh0aGlzLmFuY2hvci54ICE9PSAwIHx8IHRoaXMuYW5jaG9yLnkgIT09IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pNCA9IDA7IF9pNCA8IGxlbkNoYXJzOyBfaTQrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2dseXBoc1tfaTRdLnggLT0gdGhpcy5fdGV4dFdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICAgICAgICAgICAgICB0aGlzLl9nbHlwaHNbX2k0XS55IC09IHRoaXMuX3RleHRIZWlnaHQgKiB0aGlzLmFuY2hvci55O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21heExpbmVIZWlnaHQgPSBtYXhMaW5lSGVpZ2h0ICogc2NhbGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0ZXh0IGJlZm9yZSBjYWxsaW5nIHBhcmVudCdzIGdldExvY2FsQm91bmRzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWFcbiAgICAgKi9cblxuXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcygpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiBfY29yZSRDb250YWluZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dCB3aGVuIG5lZWRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCgpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGJpdG1hcCBmb250IHdpdGggZGF0YSBhbmQgYSB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7WE1MRG9jdW1lbnR9IHhtbCAtIFRoZSBYTUwgZG9jdW1lbnQgZGF0YS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgd2l0aCBhbGwgc3ltYm9scy5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFJlc3VsdCBmb250IG9iamVjdCB3aXRoIGZvbnQsIHNpemUsIGxpbmVIZWlnaHQgYW5kIGNoYXIgZmllbGRzLlxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucmVnaXN0ZXJGb250ID0gZnVuY3Rpb24gcmVnaXN0ZXJGb250KHhtbCwgdGV4dHVyZSkge1xuICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICB2YXIgaW5mbyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpWzBdO1xuICAgICAgICB2YXIgY29tbW9uID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjb21tb24nKVswXTtcbiAgICAgICAgdmFyIGZpbGVOYW1lID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJylbMF0uZ2V0QXR0cmlidXRlKCdmaWxlJyk7XG4gICAgICAgIHZhciByZXMgPSAoMCwgX3V0aWxzLmdldFJlc29sdXRpb25PZlVybCkoZmlsZU5hbWUsIF9zZXR0aW5nczIuZGVmYXVsdC5SRVNPTFVUSU9OKTtcblxuICAgICAgICBkYXRhLmZvbnQgPSBpbmZvLmdldEF0dHJpYnV0ZSgnZmFjZScpO1xuICAgICAgICBkYXRhLnNpemUgPSBwYXJzZUludChpbmZvLmdldEF0dHJpYnV0ZSgnc2l6ZScpLCAxMCk7XG4gICAgICAgIGRhdGEubGluZUhlaWdodCA9IHBhcnNlSW50KGNvbW1vbi5nZXRBdHRyaWJ1dGUoJ2xpbmVIZWlnaHQnKSwgMTApIC8gcmVzO1xuICAgICAgICBkYXRhLmNoYXJzID0ge307XG5cbiAgICAgICAgLy8gcGFyc2UgbGV0dGVyc1xuICAgICAgICB2YXIgbGV0dGVycyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2hhcicpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV0dGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGxldHRlciA9IGxldHRlcnNbaV07XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdpZCcpLCAxMCk7XG5cbiAgICAgICAgICAgIHZhciB0ZXh0dXJlUmVjdCA9IG5ldyBjb3JlLlJlY3RhbmdsZShwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4JyksIDEwKSAvIHJlcyArIHRleHR1cmUuZnJhbWUueCAvIHJlcywgcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneScpLCAxMCkgLyByZXMgKyB0ZXh0dXJlLmZyYW1lLnkgLyByZXMsIHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyksIDEwKSAvIHJlcywgcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnaGVpZ2h0JyksIDEwKSAvIHJlcyk7XG5cbiAgICAgICAgICAgIGRhdGEuY2hhcnNbY2hhckNvZGVdID0ge1xuICAgICAgICAgICAgICAgIHhPZmZzZXQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3hvZmZzZXQnKSwgMTApIC8gcmVzLFxuICAgICAgICAgICAgICAgIHlPZmZzZXQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3lvZmZzZXQnKSwgMTApIC8gcmVzLFxuICAgICAgICAgICAgICAgIHhBZHZhbmNlOiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4YWR2YW5jZScpLCAxMCkgLyByZXMsXG4gICAgICAgICAgICAgICAga2VybmluZzoge30sXG4gICAgICAgICAgICAgICAgdGV4dHVyZTogbmV3IGNvcmUuVGV4dHVyZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCB0ZXh0dXJlUmVjdClcblxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhcnNlIGtlcm5pbmdzXG4gICAgICAgIHZhciBrZXJuaW5ncyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgna2VybmluZycpO1xuXG4gICAgICAgIGZvciAodmFyIF9pNSA9IDA7IF9pNSA8IGtlcm5pbmdzLmxlbmd0aDsgX2k1KyspIHtcbiAgICAgICAgICAgIHZhciBrZXJuaW5nID0ga2VybmluZ3NbX2k1XTtcbiAgICAgICAgICAgIHZhciBmaXJzdCA9IHBhcnNlSW50KGtlcm5pbmcuZ2V0QXR0cmlidXRlKCdmaXJzdCcpLCAxMCkgLyByZXM7XG4gICAgICAgICAgICB2YXIgc2Vjb25kID0gcGFyc2VJbnQoa2VybmluZy5nZXRBdHRyaWJ1dGUoJ3NlY29uZCcpLCAxMCkgLyByZXM7XG4gICAgICAgICAgICB2YXIgYW1vdW50ID0gcGFyc2VJbnQoa2VybmluZy5nZXRBdHRyaWJ1dGUoJ2Ftb3VudCcpLCAxMCkgLyByZXM7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLmNoYXJzW3NlY29uZF0pIHtcbiAgICAgICAgICAgICAgICBkYXRhLmNoYXJzW3NlY29uZF0ua2VybmluZ1tmaXJzdF0gPSBhbW91bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJJ20gbGVhdmluZyB0aGlzIGFzIGEgdGVtcG9yYXJ5IGZpeCBzbyB3ZSBjYW4gdGVzdCB0aGUgYml0bWFwIGZvbnRzIGluIHYzXG4gICAgICAgIC8vIGJ1dCBpdCdzIHZlcnkgbGlrZWx5IHRvIGNoYW5nZVxuICAgICAgICBCaXRtYXBUZXh0LmZvbnRzW2RhdGEuZm9udF0gPSBkYXRhO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoQml0bWFwVGV4dCwgW3tcbiAgICAgICAga2V5OiAndGludCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnQudGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250LnRpbnQgPSB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlID49IDAgPyB2YWx1ZSA6IDB4RkZGRkZGO1xuXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWxpZ25tZW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdsZWZ0J1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYWxpZ24nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250LmFsaWduO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnQuYWxpZ24gPSB2YWx1ZSB8fCAnbGVmdCc7XG5cbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNob3Igc2V0cyB0aGUgb3JpZ2luIHBvaW50IG9mIHRoZSB0ZXh0LlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyAwLDAgdGhpcyBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDAuNSwwLjUgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgY2VudGVyZWRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDEsMSB3b3VsZCBtZWFuIHRoZSB0ZXh0J3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludCB8IG51bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2FuY2hvcicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FuY2hvci5zZXQodmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgZGVzY3JpcHRvciBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfG9iamVjdH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZvbnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zcGxpdCgnICcpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udC5uYW1lID0gdmFsdWUubGVuZ3RoID09PSAxID8gdmFsdWVbMF0gOiB2YWx1ZS5zbGljZSgxKS5qb2luKCcgJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udC5zaXplID0gdmFsdWUubGVuZ3RoID49IDIgPyBwYXJzZUludCh2YWx1ZVswXSwgMTApIDogQml0bWFwVGV4dC5mb250c1t0aGlzLl9mb250Lm5hbWVdLnNpemU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnQubmFtZSA9IHZhbHVlLm5hbWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udC5zaXplID0gdHlwZW9mIHZhbHVlLnNpemUgPT09ICdudW1iZXInID8gdmFsdWUuc2l6ZSA6IHBhcnNlSW50KHZhbHVlLnNpemUsIDEwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RleHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKSB8fCAnICc7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGV4dCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90ZXh0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoaXMgYml0bWFwIHRleHQgaW4gcGl4ZWxzLiBJZiB0aGUgdGV4dCBwcm92aWRlZCBpcyBsb25nZXIgdGhhbiB0aGVcbiAgICAgICAgICogdmFsdWUgcHJvdmlkZWQsIGxpbmUgYnJlYWtzIHdpbGwgYmUgYXV0b21hdGljYWxseSBpbnNlcnRlZCBpbiB0aGUgbGFzdCB3aGl0ZXNwYWNlLlxuICAgICAgICAgKiBEaXNhYmxlIGJ5IHNldHRpbmcgdmFsdWUgdG8gMFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdtYXhXaWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXhXaWR0aCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYXhXaWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCBsaW5lIGhlaWdodC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB0cnlpbmcgdG8gdXNlIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIFRleHQsXG4gICAgICAgICAqIGllOiB3aGVuIHRyeWluZyB0byB2ZXJ0aWNhbGx5IGFsaWduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbWF4TGluZUhlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWF4TGluZUhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGV4dFdpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0V2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0ZXh0SGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0SGVpZ2h0O1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEJpdG1hcFRleHQ7XG59KGNvcmUuQ29udGFpbmVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQml0bWFwVGV4dDtcblxuXG5CaXRtYXBUZXh0LmZvbnRzID0ge307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CaXRtYXBUZXh0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvcmUvY29uc3QnKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciB0ZW1wTWF0ID0gbmV3IGNvcmUuTWF0cml4KCk7XG5cbi8qKlxuICogV2ViR0wgcmVuZGVyZXIgcGx1Z2luIGZvciB0aWxpbmcgc3ByaXRlc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFzXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cblxudmFyIFRpbGluZ1Nwcml0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKF9jb3JlJE9iamVjdFJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKFRpbGluZ1Nwcml0ZVJlbmRlcmVyLCBfY29yZSRPYmplY3RSZW5kZXJlcik7XG5cbiAgICAvKipcbiAgICAgKiBjb25zdHJ1Y3RvciBmb3IgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgVGhlIHJlbmRlcmVyIHRoaXMgdGlsaW5nIGF3ZXNvbWVuZXNzIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxpbmdTcHJpdGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlsaW5nU3ByaXRlUmVuZGVyZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJE9iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5zaW1wbGVTaGFkZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5xdWFkID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICB0aGlzLnNoYWRlciA9IG5ldyBjb3JlLlNoYWRlcihnbCwgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcbicsICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcbnVuaWZvcm0gbWF0MyB1TWFwQ29vcmQ7XFxudW5pZm9ybSB2ZWM0IHVDbGFtcEZyYW1lO1xcbnVuaWZvcm0gdmVjMiB1Q2xhbXBPZmZzZXQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWMyIGNvb3JkID0gbW9kKHZUZXh0dXJlQ29vcmQgLSB1Q2xhbXBPZmZzZXQsIHZlYzIoMS4wLCAxLjApKSArIHVDbGFtcE9mZnNldDtcXG4gICAgY29vcmQgPSAodU1hcENvb3JkICogdmVjMyhjb29yZCwgMS4wKSkueHk7XFxuICAgIGNvb3JkID0gY2xhbXAoY29vcmQsIHVDbGFtcEZyYW1lLnh5LCB1Q2xhbXBGcmFtZS56dyk7XFxuXFxuICAgIHZlYzQgc2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjb29yZCk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHNhbXBsZSAqIHVDb2xvcjtcXG59XFxuJyk7XG4gICAgICAgIHRoaXMuc2ltcGxlU2hhZGVyID0gbmV3IGNvcmUuU2hhZGVyKGdsLCAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuJywgJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IHNhbXBsZSA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHNhbXBsZSAqIHVDb2xvcjtcXG59XFxuJyk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5iaW5kVmFvKG51bGwpO1xuICAgICAgICB0aGlzLnF1YWQgPSBuZXcgY29yZS5RdWFkKGdsLCB0aGlzLnJlbmRlcmVyLnN0YXRlLmF0dHJpYlN0YXRlKTtcbiAgICAgICAgdGhpcy5xdWFkLmluaXRWYW8odGhpcy5zaGFkZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSB0cyB0aWxpbmdTcHJpdGUgdG8gYmUgcmVuZGVyZWRcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcih0cykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgcXVhZCA9IHRoaXMucXVhZDtcblxuICAgICAgICByZW5kZXJlci5iaW5kVmFvKHF1YWQudmFvKTtcblxuICAgICAgICB2YXIgdmVydGljZXMgPSBxdWFkLnZlcnRpY2VzO1xuXG4gICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSB0cy5fd2lkdGggKiAtdHMuYW5jaG9yLng7XG4gICAgICAgIHZlcnRpY2VzWzFdID0gdmVydGljZXNbM10gPSB0cy5faGVpZ2h0ICogLXRzLmFuY2hvci55O1xuXG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbNF0gPSB0cy5fd2lkdGggKiAoMS4wIC0gdHMuYW5jaG9yLngpO1xuICAgICAgICB2ZXJ0aWNlc1s1XSA9IHZlcnRpY2VzWzddID0gdHMuX2hlaWdodCAqICgxLjAgLSB0cy5hbmNob3IueSk7XG5cbiAgICAgICAgaWYgKHRzLnV2UmVzcGVjdEFuY2hvcikge1xuICAgICAgICAgICAgdmVydGljZXMgPSBxdWFkLnV2cztcblxuICAgICAgICAgICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9IC10cy5hbmNob3IueDtcbiAgICAgICAgICAgIHZlcnRpY2VzWzFdID0gdmVydGljZXNbM10gPSAtdHMuYW5jaG9yLnk7XG5cbiAgICAgICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbNF0gPSAxLjAgLSB0cy5hbmNob3IueDtcbiAgICAgICAgICAgIHZlcnRpY2VzWzVdID0gdmVydGljZXNbN10gPSAxLjAgLSB0cy5hbmNob3IueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHF1YWQudXBsb2FkKCk7XG5cbiAgICAgICAgdmFyIHRleCA9IHRzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgYmFzZVRleCA9IHRleC5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGx0ID0gdHMudGlsZVRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHV2ID0gdHMudXZUcmFuc2Zvcm07XG4gICAgICAgIHZhciBpc1NpbXBsZSA9IGJhc2VUZXguaXNQb3dlck9mVHdvICYmIHRleC5mcmFtZS53aWR0aCA9PT0gYmFzZVRleC53aWR0aCAmJiB0ZXguZnJhbWUuaGVpZ2h0ID09PSBiYXNlVGV4LmhlaWdodDtcblxuICAgICAgICAvLyBhdXRvLCBmb3JjZSByZXBlYXQgd3JhcE1vZGUgZm9yIGJpZyB0aWxpbmcgdGV4dHVyZXNcbiAgICAgICAgaWYgKGlzU2ltcGxlKSB7XG4gICAgICAgICAgICBpZiAoIWJhc2VUZXguX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJhc2VUZXgud3JhcE1vZGUgPT09IF9jb25zdC5XUkFQX01PREVTLkNMQU1QKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXgud3JhcE1vZGUgPSBfY29uc3QuV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc1NpbXBsZSA9IGJhc2VUZXgud3JhcE1vZGUgIT09IF9jb25zdC5XUkFQX01PREVTLkNMQU1QO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNoYWRlciA9IGlzU2ltcGxlID8gdGhpcy5zaW1wbGVTaGFkZXIgOiB0aGlzLnNoYWRlcjtcblxuICAgICAgICByZW5kZXJlci5iaW5kU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgdmFyIHcgPSB0ZXgud2lkdGg7XG4gICAgICAgIHZhciBoID0gdGV4LmhlaWdodDtcbiAgICAgICAgdmFyIFcgPSB0cy5fd2lkdGg7XG4gICAgICAgIHZhciBIID0gdHMuX2hlaWdodDtcblxuICAgICAgICB0ZW1wTWF0LnNldChsdC5hICogdyAvIFcsIGx0LmIgKiB3IC8gSCwgbHQuYyAqIGggLyBXLCBsdC5kICogaCAvIEgsIGx0LnR4IC8gVywgbHQudHkgLyBIKTtcblxuICAgICAgICAvLyB0aGF0IHBhcnQgaXMgdGhlIHNhbWUgYXMgYWJvdmU6XG4gICAgICAgIC8vIHRlbXBNYXQuaWRlbnRpdHkoKTtcbiAgICAgICAgLy8gdGVtcE1hdC5zY2FsZSh0ZXgud2lkdGgsIHRleC5oZWlnaHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnByZXBlbmQobHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnNjYWxlKDEuMCAvIHRzLl93aWR0aCwgMS4wIC8gdHMuX2hlaWdodCk7XG5cbiAgICAgICAgdGVtcE1hdC5pbnZlcnQoKTtcbiAgICAgICAgaWYgKGlzU2ltcGxlKSB7XG4gICAgICAgICAgICB0ZW1wTWF0LnByZXBlbmQodXYubWFwQ29vcmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVNYXBDb29yZCA9IHV2Lm1hcENvb3JkLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wRnJhbWUgPSB1di51Q2xhbXBGcmFtZTtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBPZmZzZXQgPSB1di51Q2xhbXBPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBzaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSA9IHRlbXBNYXQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IGNvcmUudXRpbHMucHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRzLnRpbnQsIHRzLndvcmxkQWxwaGEsIHNoYWRlci51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXgucHJlbXVsdGlwbGllZEFscGhhKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdHMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG5cbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gcmVuZGVyZXIuYmluZFRleHR1cmUodGV4KTtcblxuICAgICAgICByZW5kZXJlci5zZXRCbGVuZE1vZGUoY29yZS51dGlscy5jb3JyZWN0QmxlbmRNb2RlKHRzLmJsZW5kTW9kZSwgYmFzZVRleC5wcmVtdWx0aXBsaWVkQWxwaGEpKTtcblxuICAgICAgICBxdWFkLnZhby5kcmF3KHRoaXMucmVuZGVyZXIuZ2wuVFJJQU5HTEVTLCA2LCAwKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRpbGluZ1Nwcml0ZVJlbmRlcmVyO1xufShjb3JlLk9iamVjdFJlbmRlcmVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG5cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCd0aWxpbmdTcHJpdGUnLCBUaWxpbmdTcHJpdGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxpbmdTcHJpdGVSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfQ2FudmFzVGludGVyID0gcmVxdWlyZSgnLi4vY29yZS9zcHJpdGVzL2NhbnZhcy9DYW52YXNUaW50ZXInKTtcblxudmFyIF9DYW52YXNUaW50ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzVGludGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgdGVtcFBvaW50ID0gbmV3IGNvcmUuUG9pbnQoKTtcblxuLyoqXG4gKiBBIHRpbGluZyBzcHJpdGUgaXMgYSBmYXN0IHdheSBvZiByZW5kZXJpbmcgYSB0aWxpbmcgaW1hZ2VcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSS5leHRyYXNcbiAqL1xuXG52YXIgVGlsaW5nU3ByaXRlID0gZnVuY3Rpb24gKF9jb3JlJFNwcml0ZSkge1xuICAgIF9pbmhlcml0cyhUaWxpbmdTcHJpdGUsIF9jb3JlJFNwcml0ZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0xMDBdIC0gdGhlIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MTAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxpbmdTcHJpdGUodGV4dHVyZSkge1xuICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwMDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTAwO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaWxpbmdTcHJpdGUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaWxlIHRyYW5zZm9ybVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybVN0YXRpY31cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJFNwcml0ZS5jYWxsKHRoaXMsIHRleHR1cmUpKTtcblxuICAgICAgICBfdGhpcy50aWxlVHJhbnNmb3JtID0gbmV3IGNvcmUuVHJhbnNmb3JtU3RhdGljKCk7XG5cbiAgICAgICAgLy8gLy8vIHByaXZhdGVcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3dpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FudmFzIHBhdHRlcm5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0NhbnZhc1BhdHRlcm59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY2FudmFzUGF0dGVybiA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRyYW5zZm9ybSB0aGF0IGlzIGFwcGxpZWQgdG8gVVYgdG8gZ2V0IHRoZSB0ZXh0dXJlIGNvb3Jkc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dlRyYW5zZm9ybSA9IHRleHR1cmUudHJhbnNmb3JtIHx8IG5ldyBjb3JlLlRleHR1cmVNYXRyaXgodGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXJXZWJHTCcgbWV0aG9kLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICd0aWxpbmdTcHJpdGUnXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5OYW1lID0gJ3RpbGluZ1Nwcml0ZSc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IGFuY2hvciBhZmZlY3RzIHV2c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZSZXNwZWN0QW5jaG9yID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZyBpbiBjb3JyZXNwb25kaW5nIHRleHR1cmVUcmFuc2Zvcm0sIHNob3J0Y3V0XG4gICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gX29uVGV4dHVyZVVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudXZUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHRoaXMudXZUcmFuc2Zvcm0udGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIHR3ZWFrIG91ciB0ZXh0dXJlIHRlbXBvcmFyaWx5Li5cbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4dHVyZSB8fCAhdGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnVwZGF0ZUxvY2FsVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMudXZUcmFuc2Zvcm0udXBkYXRlKCk7XG5cbiAgICAgICAgcmVuZGVyZXIuc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIGEgcmVmZXJlbmNlIHRvIHRoZSBjYW52YXMgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSByZW5kZXJlci5jb250ZXh0O1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmVSZXNvbHV0aW9uID0gYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG1vZFggPSB0aGlzLnRpbGVQb3NpdGlvbi54IC8gdGhpcy50aWxlU2NhbGUueCAlIHRleHR1cmUuX2ZyYW1lLndpZHRoICogYmFzZVRleHR1cmVSZXNvbHV0aW9uO1xuICAgICAgICB2YXIgbW9kWSA9IHRoaXMudGlsZVBvc2l0aW9uLnkgLyB0aGlzLnRpbGVTY2FsZS55ICUgdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBhIG5pY2Ugc2hpbnkgcGF0dGVybiFcbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmVJRCAhPT0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQgfHwgdGhpcy5jYWNoZWRUaW50ICE9PSB0aGlzLnRpbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEO1xuICAgICAgICAgICAgLy8gY3V0IGFuIG9iamVjdCBmcm9tIGEgc3ByaXRlc2hlZXQuLlxuICAgICAgICAgICAgdmFyIHRlbXBDYW52YXMgPSBuZXcgY29yZS5DYW52YXNSZW5kZXJUYXJnZXQodGV4dHVyZS5fZnJhbWUud2lkdGgsIHRleHR1cmUuX2ZyYW1lLmhlaWdodCwgYmFzZVRleHR1cmVSZXNvbHV0aW9uKTtcblxuICAgICAgICAgICAgLy8gVGludCB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAgICAgICAgaWYgKHRoaXMudGludCAhPT0gMHhGRkZGRkYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbnRlZFRleHR1cmUgPSBfQ2FudmFzVGludGVyMi5kZWZhdWx0LmdldFRpbnRlZFRleHR1cmUodGhpcywgdGhpcy50aW50KTtcbiAgICAgICAgICAgICAgICB0ZW1wQ2FudmFzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMudGludGVkVGV4dHVyZSwgMCwgMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRlbXBDYW52YXMuY29udGV4dC5kcmF3SW1hZ2UoYmFzZVRleHR1cmUuc291cmNlLCAtdGV4dHVyZS5fZnJhbWUueCAqIGJhc2VUZXh0dXJlUmVzb2x1dGlvbiwgLXRleHR1cmUuX2ZyYW1lLnkgKiBiYXNlVGV4dHVyZVJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gdGhpcy50aW50O1xuICAgICAgICAgICAgdGhpcy5fY2FudmFzUGF0dGVybiA9IHRlbXBDYW52YXMuY29udGV4dC5jcmVhdGVQYXR0ZXJuKHRlbXBDYW52YXMuY2FudmFzLCAncmVwZWF0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgY29udGV4dCBzdGF0ZS4uXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybS5hICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmIgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uYyAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5kICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLnR4ICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLnR5ICogcmVzb2x1dGlvbik7XG5cbiAgICAgICAgcmVuZGVyZXIuc2V0QmxlbmRNb2RlKHRoaXMuYmxlbmRNb2RlKTtcblxuICAgICAgICAvLyBmaWxsIHRoZSBwYXR0ZXJuIVxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuX2NhbnZhc1BhdHRlcm47XG5cbiAgICAgICAgLy8gVE9ETyAtIHRoaXMgc2hvdWxkIGJlIHJvbGxlZCBpbnRvIHRoZSBzZXRUcmFuc2Zvcm0gYWJvdmUuLlxuICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMudGlsZVNjYWxlLnggLyBiYXNlVGV4dHVyZVJlc29sdXRpb24sIHRoaXMudGlsZVNjYWxlLnkgLyBiYXNlVGV4dHVyZVJlc29sdXRpb24pO1xuXG4gICAgICAgIHZhciBhbmNob3JYID0gdGhpcy5hbmNob3IueCAqIC10aGlzLl93aWR0aDtcbiAgICAgICAgdmFyIGFuY2hvclkgPSB0aGlzLmFuY2hvci55ICogLXRoaXMuX2hlaWdodDtcblxuICAgICAgICBpZiAodGhpcy51dlJlc3BlY3RBbmNob3IpIHtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKG1vZFgsIG1vZFkpO1xuXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KC1tb2RYICsgYW5jaG9yWCwgLW1vZFkgKyBhbmNob3JZLCB0aGlzLl93aWR0aCAvIHRoaXMudGlsZVNjYWxlLnggKiBiYXNlVGV4dHVyZVJlc29sdXRpb24sIHRoaXMuX2hlaWdodCAvIHRoaXMudGlsZVNjYWxlLnkgKiBiYXNlVGV4dHVyZVJlc29sdXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUobW9kWCArIGFuY2hvclgsIG1vZFkgKyBhbmNob3JZKTtcblxuICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgtbW9kWCwgLW1vZFksIHRoaXMuX3dpZHRoIC8gdGhpcy50aWxlU2NhbGUueCAqIGJhc2VUZXh0dXJlUmVzb2x1dGlvbiwgdGhpcy5faGVpZ2h0IC8gdGhpcy50aWxlU2NhbGUueSAqIGJhc2VUZXh0dXJlUmVzb2x1dGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSB0aWxpbmcgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcygpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5faGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLl93aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gZ2V0TG9jYWxCb3VuZHMocmVjdCkge1xuICAgICAgICAvLyB3ZSBjYW4gZG8gYSBmYXN0IGxvY2FsIGJvdW5kcyBpZiB0aGUgc3ByaXRlIGhhcyBubyBjaGlsZHJlbiFcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gdGhpcy5faGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhYID0gdGhpcy5fd2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcblxuICAgICAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IGNvcmUuUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX2NvcmUkU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyB0aWxpbmcgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBzcHJpdGUgY29udGFpbnMgdGhlIHBvaW50LlxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3dpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5faGVpZ2h0O1xuICAgICAgICB2YXIgeDEgPSAtd2lkdGggKiB0aGlzLmFuY2hvci5feDtcblxuICAgICAgICBpZiAodGVtcFBvaW50LnggPj0geDEgJiYgdGVtcFBvaW50LnggPCB4MSArIHdpZHRoKSB7XG4gICAgICAgICAgICB2YXIgeTEgPSAtaGVpZ2h0ICogdGhpcy5hbmNob3IuX3k7XG5cbiAgICAgICAgICAgIGlmICh0ZW1wUG9pbnQueSA+PSB5MSAmJiB0ZW1wUG9pbnQueSA8IHkxICsgaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgc3ByaXRlIGFuZCBvcHRpb25hbGx5IGl0cyB0ZXh0dXJlIGFuZCBjaGlsZHJlblxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgICBfY29yZSRTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB0aGlzLnV2VHJhbnNmb3JtID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyB0aWxpbmcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8UElYSS5CYXNlVGV4dHVyZXxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgLSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5mcm9tID0gZnVuY3Rpb24gZnJvbShzb3VyY2UsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaWxpbmdTcHJpdGUoY29yZS5UZXh0dXJlLmZyb20oc291cmNlKSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSB0aWxpbmcgc3ByaXRlIHRoYXQgd2lsbCB1c2UgYSB0ZXh0dXJlIGZyb20gdGhlIFRleHR1cmVDYWNoZSBiYXNlZCBvbiB0aGUgZnJhbWVJZFxuICAgICAqIFRoZSBmcmFtZSBpZHMgYXJlIGNyZWF0ZWQgd2hlbiBhIFRleHR1cmUgcGFja2VyIGZpbGUgaGFzIGJlZW4gbG9hZGVkXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZyYW1lSWQgLSBUaGUgZnJhbWUgSWQgb2YgdGhlIHRleHR1cmUgaW4gdGhlIGNhY2hlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IEEgbmV3IFRpbGluZ1Nwcml0ZSB1c2luZyBhIHRleHR1cmUgZnJvbSB0aGUgdGV4dHVyZSBjYWNoZSBtYXRjaGluZyB0aGUgZnJhbWVJZFxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUuZnJvbUZyYW1lID0gZnVuY3Rpb24gZnJvbUZyYW1lKGZyYW1lSWQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBjb3JlLnV0aWxzLlRleHR1cmVDYWNoZVtmcmFtZUlkXTtcblxuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGZyYW1lSWQgXCInICsgZnJhbWVJZCArICdcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGUgdGV4dHVyZSBjYWNoZSAnICsgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFRpbGluZ1Nwcml0ZSh0ZXh0dXJlLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIHNwcml0ZSB0aGF0IHdpbGwgY29udGFpbiBhIHRleHR1cmUgYmFzZWQgb24gYW4gaW1hZ2UgdXJsXG4gICAgICogSWYgdGhlIGltYWdlIGlzIG5vdCBpbiB0aGUgdGV4dHVyZSBjYWNoZSBpdCB3aWxsIGJlIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZUlkIC0gVGhlIGltYWdlIHVybCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY3Jvc3NvcmlnaW5dIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgY3Jvc3Mtb3JpZ2luIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSBzY2FsZSBtb2RlLFxuICAgICAqICBzZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IEEgbmV3IFRpbGluZ1Nwcml0ZSB1c2luZyBhIHRleHR1cmUgZnJvbSB0aGUgdGV4dHVyZSBjYWNoZSBtYXRjaGluZyB0aGUgaW1hZ2UgaWRcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLmZyb21JbWFnZSA9IGZ1bmN0aW9uIGZyb21JbWFnZShpbWFnZUlkLCB3aWR0aCwgaGVpZ2h0LCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKGNvcmUuVGV4dHVyZS5mcm9tSW1hZ2UoaW1hZ2VJZCwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFRpbGluZ1Nwcml0ZSwgW3tcbiAgICAgICAga2V5OiAnY2xhbXBNYXJnaW4nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnV2VHJhbnNmb3JtLmNsYW1wTWFyZ2luO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXZUcmFuc2Zvcm0uY2xhbXBNYXJnaW4gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXZUcmFuc2Zvcm0udXBkYXRlKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsaW5nIG9mIHRoZSBpbWFnZSB0aGF0IGlzIGJlaW5nIHRpbGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGlsZVNjYWxlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZS5jb3B5KHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2Zmc2V0IG9mIHRoZSBpbWFnZSB0aGF0IGlzIGJlaW5nIHRpbGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGlsZVBvc2l0aW9uJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnBvc2l0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnd2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRpbGluZ1Nwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRpbGluZ1Nwcml0ZTtcbn0oY29yZS5TcHJpdGUpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUaWxpbmdTcHJpdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxpbmdTcHJpdGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQHR5cGVkZWYgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGV+RnJhbWVPYmplY3RcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB7QGxpbmsgUElYSS5UZXh0dXJlfSBvZiB0aGUgZnJhbWVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lIC0gdGhlIGR1cmF0aW9uIG9mIHRoZSBmcmFtZSBpbiBtc1xuICovXG5cbi8qKlxuICogQW4gQW5pbWF0ZWRTcHJpdGUgaXMgYSBzaW1wbGUgd2F5IHRvIGRpc3BsYXkgYW4gYW5pbWF0aW9uIGRlcGljdGVkIGJ5IGEgbGlzdCBvZiB0ZXh0dXJlcy5cbiAqXG4gKiBgYGBqc1xuICogbGV0IGFsaWVuSW1hZ2VzID0gW1wiaW1hZ2Vfc2VxdWVuY2VfMDEucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wMi5wbmdcIixcImltYWdlX3NlcXVlbmNlXzAzLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDQucG5nXCJdO1xuICogbGV0IHRleHR1cmVBcnJheSA9IFtdO1xuICpcbiAqIGZvciAobGV0IGk9MDsgaSA8IDQ7IGkrKylcbiAqIHtcbiAqICAgICAgbGV0IHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbUltYWdlKGFsaWVuSW1hZ2VzW2ldKTtcbiAqICAgICAgdGV4dHVyZUFycmF5LnB1c2godGV4dHVyZSk7XG4gKiB9O1xuICpcbiAqIGxldCBtYyA9IG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHRleHR1cmVBcnJheSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSS5leHRyYXNcbiAqL1xudmFyIEFuaW1hdGVkU3ByaXRlID0gZnVuY3Rpb24gKF9jb3JlJFNwcml0ZSkge1xuICAgIF9pbmhlcml0cyhBbmltYXRlZFNwcml0ZSwgX2NvcmUkU3ByaXRlKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlW118UElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGV+RnJhbWVPYmplY3RbXX0gdGV4dHVyZXMgLSBhbiBhcnJheSBvZiB7QGxpbmsgUElYSS5UZXh0dXJlfSBvciBmcmFtZVxuICAgICAqICBvYmplY3RzIHRoYXQgbWFrZSB1cCB0aGUgYW5pbWF0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1VwZGF0ZT10cnVlXSAtIFdoZXRoZXIgdG8gdXNlIFBJWEkudGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcywgYXV0b1VwZGF0ZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQW5pbWF0ZWRTcHJpdGUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkU3ByaXRlLmNhbGwodGhpcywgdGV4dHVyZXNbMF0gaW5zdGFuY2VvZiBjb3JlLlRleHR1cmUgPyB0ZXh0dXJlc1swXSA6IHRleHR1cmVzWzBdLnRleHR1cmUpKTtcblxuICAgICAgICBfdGhpcy5fdGV4dHVyZXMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2R1cmF0aW9ucyA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMudGV4dHVyZXMgPSB0ZXh0dXJlcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIHVzZXMgUElYSS50aWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2F1dG9VcGRhdGUgPSBhdXRvVXBkYXRlICE9PSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNwZWVkIHRoYXQgdGhlIEFuaW1hdGVkU3ByaXRlIHdpbGwgcGxheSBhdC4gSGlnaGVyIGlzIGZhc3RlciwgbG93ZXIgaXMgc2xvd2VyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYW5pbWF0aW9uU3BlZWQgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgYW5pbWF0ZSBzcHJpdGUgcmVwZWF0cyBhZnRlciBwbGF5aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5sb29wID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGEgQW5pbWF0ZWRTcHJpdGUgZmluaXNoZXMgcGxheWluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uQ29tcGxldGUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiB0byBjYWxsIHdoZW4gYSBBbmltYXRlZFNwcml0ZSBjaGFuZ2VzIHdoaWNoIHRleHR1cmUgaXMgYmVpbmcgcmVuZGVyZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbkZyYW1lQ2hhbmdlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgKiBGdW5jdGlvbiB0byBjYWxsIHdoZW4gJ2xvb3AnIGlzIHRydWUsIGFuZCBhbiBBbmltYXRlZFNwcml0ZSBpcyBwbGF5ZWQgYW5kIGxvb3BzIGFyb3VuZCB0byBzdGFydCBhZ2FpblxuICAgICAgICAqXG4gICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICovXG4gICAgICAgIF90aGlzLm9uTG9vcCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVsYXBzZWQgdGltZSBzaW5jZSBhbmltYXRpb24gaGFzIGJlZW4gc3RhcnRlZCwgdXNlZCBpbnRlcm5hbGx5IHRvIGRpc3BsYXkgY3VycmVudCB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9jdXJyZW50VGltZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgQW5pbWF0ZWRTcHJpdGUgaXMgY3VycmVudGx5IHBsYXlpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGVcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIGlmICghdGhpcy5wbGF5aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgIGNvcmUudGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBsYXlzIHRoZSBBbmltYXRlZFNwcml0ZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24gcGxheSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgIGNvcmUudGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMsIGNvcmUuVVBEQVRFX1BSSU9SSVRZLkhJR0gpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZSBhbmQgZ29lcyB0byBhIHNwZWNpZmljIGZyYW1lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJhbWVOdW1iZXIgLSBmcmFtZSBpbmRleCB0byBzdG9wIGF0XG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5nb3RvQW5kU3RvcCA9IGZ1bmN0aW9uIGdvdG9BbmRTdG9wKGZyYW1lTnVtYmVyKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBmcmFtZU51bWJlcjtcblxuICAgICAgICBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdvZXMgdG8gYSBzcGVjaWZpYyBmcmFtZSBhbmQgYmVnaW5zIHBsYXlpbmcgdGhlIEFuaW1hdGVkU3ByaXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJhbWVOdW1iZXIgLSBmcmFtZSBpbmRleCB0byBzdGFydCBhdFxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZ290b0FuZFBsYXkgPSBmdW5jdGlvbiBnb3RvQW5kUGxheShmcmFtZU51bWJlcikge1xuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gZnJhbWVOdW1iZXI7XG5cbiAgICAgICAgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSBUaW1lIHNpbmNlIGxhc3QgdGljay5cbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShkZWx0YVRpbWUpIHtcbiAgICAgICAgdmFyIGVsYXBzZWQgPSB0aGlzLmFuaW1hdGlvblNwZWVkICogZGVsdGFUaW1lO1xuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuXG4gICAgICAgIGlmICh0aGlzLl9kdXJhdGlvbnMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBsYWcgPSB0aGlzLl9jdXJyZW50VGltZSAlIDEgKiB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuXG4gICAgICAgICAgICBsYWcgKz0gZWxhcHNlZCAvIDYwICogMTAwMDtcblxuICAgICAgICAgICAgd2hpbGUgKGxhZyA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZS0tO1xuICAgICAgICAgICAgICAgIGxhZyArPSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc2lnbiA9IE1hdGguc2lnbih0aGlzLmFuaW1hdGlvblNwZWVkICogZGVsdGFUaW1lKTtcblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBNYXRoLmZsb29yKHRoaXMuX2N1cnJlbnRUaW1lKTtcblxuICAgICAgICAgICAgd2hpbGUgKGxhZyA+PSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdKSB7XG4gICAgICAgICAgICAgICAgbGFnIC09IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV0gKiBzaWduO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IHNpZ247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IGxhZyAvIHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBlbGFwc2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRUaW1lIDwgMCAmJiAhdGhpcy5sb29wKSB7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKDApO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fY3VycmVudFRpbWUgPj0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoICYmICF0aGlzLmxvb3ApIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AodGhpcy5fdGV4dHVyZXMubGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMubG9vcCAmJiB0aGlzLm9uTG9vcCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblNwZWVkID4gMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA8IHByZXZpb3VzRnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvb3AoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPCAwICYmIHRoaXMuY3VycmVudEZyYW1lID4gcHJldmlvdXNGcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZGlzcGxheWVkIHRleHR1cmUgdG8gbWF0Y2ggdGhlIGN1cnJlbnQgZnJhbWUgaW5kZXhcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZSgpIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRoaXMuX3RleHR1cmVzW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIGlmICh0aGlzLm9uRnJhbWVDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMub25GcmFtZUNoYW5nZSh0aGlzLmN1cnJlbnRGcmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlIGFuZCBkZXN0cm95cyBpdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICBfY29yZSRTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhIG1vdmllY2xpcCBmcm9tIGFuIGFycmF5IG9mIGZyYW1lIGlkc1xuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGZyYW1lcyAtIFRoZSBhcnJheSBvZiBmcmFtZXMgaWRzIHRoZSBtb3ZpZWNsaXAgd2lsbCB1c2UgYXMgaXRzIHRleHR1cmUgZnJhbWVzXG4gICAgICogQHJldHVybiB7QW5pbWF0ZWRTcHJpdGV9IFRoZSBuZXcgYW5pbWF0ZWQgc3ByaXRlIHdpdGggdGhlIHNwZWNpZmllZCBmcmFtZXMuXG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLmZyb21GcmFtZXMgPSBmdW5jdGlvbiBmcm9tRnJhbWVzKGZyYW1lcykge1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYW1lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGV4dHVyZXMucHVzaChjb3JlLlRleHR1cmUuZnJvbUZyYW1lKGZyYW1lc1tpXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYSBtb3ZpZWNsaXAgZnJvbSBhbiBhcnJheSBvZiBpbWFnZSBpZHNcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBpbWFnZXMgLSB0aGUgYXJyYXkgb2YgaW1hZ2UgdXJscyB0aGUgbW92aWVjbGlwIHdpbGwgdXNlIGFzIGl0cyB0ZXh0dXJlIGZyYW1lc1xuICAgICAqIEByZXR1cm4ge0FuaW1hdGVkU3ByaXRlfSBUaGUgbmV3IGFuaW1hdGUgc3ByaXRlIHdpdGggdGhlIHNwZWNpZmllZCBpbWFnZXMgYXMgZnJhbWVzLlxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5mcm9tSW1hZ2VzID0gZnVuY3Rpb24gZnJvbUltYWdlcyhpbWFnZXMpIHtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2goY29yZS5UZXh0dXJlLmZyb21JbWFnZShpbWFnZXNbaV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiB0b3RhbEZyYW1lcyBpcyB0aGUgdG90YWwgbnVtYmVyIG9mIGZyYW1lcyBpbiB0aGUgQW5pbWF0ZWRTcHJpdGUuIFRoaXMgaXMgdGhlIHNhbWUgYXMgbnVtYmVyIG9mIHRleHR1cmVzXG4gICAgICogYXNzaWduZWQgdG8gdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEFuaW1hdGVkU3ByaXRlLCBbe1xuICAgICAgICBrZXk6ICd0b3RhbEZyYW1lcycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2YgdGV4dHVyZXMgdXNlZCBmb3IgdGhpcyBBbmltYXRlZFNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVbXX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RleHR1cmVzJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHZhbHVlWzBdIGluc3RhbmNlb2YgY29yZS5UZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlcy5wdXNoKHZhbHVlW2ldLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMucHVzaCh2YWx1ZVtpXS50aW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKDApO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBUaGUgQW5pbWF0ZWRTcHJpdGVzIGN1cnJlbnQgZnJhbWUgaW5kZXhcbiAgICAgICAgKlxuICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY3VycmVudEZyYW1lJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEZyYW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSkgJSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50RnJhbWUgPCAwKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudEZyYW1lICs9IHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRGcmFtZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBbmltYXRlZFNwcml0ZTtcbn0oY29yZS5TcHJpdGUpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBBbmltYXRlZFNwcml0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFuaW1hdGVkU3ByaXRlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFRFTVBfUkVDVCA9IG5ldyBjb3JlLlJlY3RhbmdsZSgpO1xuXG4vKipcbiAqIFRoZSBleHRyYWN0IG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byBleHBvcnQgY29udGVudCBmcm9tIHRoZSByZW5kZXJlcnMuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCByZW5kZXJlci5wbHVnaW5zLmV4dHJhY3RcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmV4dHJhY3RcbiAqL1xuXG52YXIgQ2FudmFzRXh0cmFjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNFeHRyYWN0KHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNFeHRyYWN0KTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIG1ldGhvZHMgZm9yIGV4dHJhY3RpbmcgZGF0YSAoaW1hZ2UsIHBpeGVscywgZXRjLikgZnJvbSBhIGRpc3BsYXkgb2JqZWN0IG9yIHJlbmRlciB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuZXh0cmFjdC5DYW52YXNFeHRyYWN0fSBleHRyYWN0XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkNhbnZhc1JlbmRlcmVyI1xuICAgICAgICAgKiBAc2VlIFBJWEkuZXh0cmFjdC5DYW52YXNFeHRyYWN0XG4gICAgICAgICAqL1xuICAgICAgICByZW5kZXJlci5leHRyYWN0ID0gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgICAqL1xuXG5cbiAgICBDYW52YXNFeHRyYWN0LnByb3RvdHlwZS5pbWFnZSA9IGZ1bmN0aW9uIGltYWdlKHRhcmdldCkge1xuICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICBpbWFnZS5zcmMgPSB0aGlzLmJhc2U2NCh0YXJnZXQpO1xuXG4gICAgICAgIHJldHVybiBpbWFnZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGlzIHRhcmdldC4gSXQgd29ya3MgYnkgY2FsbGluZ1xuICAgICAqICBgQ2FudmFzRXh0cmFjdC5nZXRDYW52YXNgIGFuZCB0aGVuIHJ1bm5pbmcgdG9EYXRhVVJMIG9uIHRoYXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBBIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzRXh0cmFjdC5wcm90b3R5cGUuYmFzZTY0ID0gZnVuY3Rpb24gYmFzZTY0KHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXModGFyZ2V0KS50b0RhdGFVUkwoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50LCByZW5kZXJzIHRoaXMgdGFyZ2V0IHRvIGl0IGFuZCB0aGVuIHJldHVybnMgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEEgQ2FudmFzIGVsZW1lbnQgd2l0aCB0aGUgdGV4dHVyZSByZW5kZXJlZCBvbi5cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzRXh0cmFjdC5wcm90b3R5cGUuY2FudmFzID0gZnVuY3Rpb24gY2FudmFzKHRhcmdldCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgY29udGV4dCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB2b2lkIDA7XG4gICAgICAgIHZhciBmcmFtZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIGNvcmUuUmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSByZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LmNvbnRleHQ7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gcmVuZGVyZXIucm9vdENvbnRleHQ7XG5cbiAgICAgICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICAgICAgZnJhbWUud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd2lkdGggPSBmcmFtZS53aWR0aCAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBoZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgIHZhciBjYW52YXNCdWZmZXIgPSBuZXcgY29yZS5DYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHZhciBjYW52YXNEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoZnJhbWUueCAqIHJlc29sdXRpb24sIGZyYW1lLnkgKiByZXNvbHV0aW9uLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBjYW52YXNCdWZmZXIuY29udGV4dC5wdXRJbWFnZURhdGEoY2FudmFzRGF0YSwgMCwgMCk7XG5cbiAgICAgICAgLy8gc2VuZCB0aGUgY2FudmFzIGJhY2suLlxuICAgICAgICByZXR1cm4gY2FudmFzQnVmZmVyLmNhbnZhcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBvbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmUgaW4gUkdCQVxuICAgICAqIG9yZGVyLCB3aXRoIGludGVnZXIgdmFsdWVzIGJldHdlZW4gMCBhbmQgMjU1IChpbmNsdWRlZCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7VWludDhDbGFtcGVkQXJyYXl9IE9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBDYW52YXNFeHRyYWN0LnByb3RvdHlwZS5waXhlbHMgPSBmdW5jdGlvbiBwaXhlbHModGFyZ2V0KSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdm9pZCAwO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGZyYW1lID0gdm9pZCAwO1xuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IHZvaWQgMDtcblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgY29yZS5SZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQuY29udGV4dDtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSByZW5kZXJlci5yb290Q29udGV4dDtcblxuICAgICAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgICAgICBmcmFtZS53aWR0aCA9IHJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0ID0gcmVuZGVyZXIuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIGZyYW1lLndpZHRoICogcmVzb2x1dGlvbiwgZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbikuZGF0YTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGV4dHJhY3RcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNFeHRyYWN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5leHRyYWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNFeHRyYWN0O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNFeHRyYWN0O1xuXG5cbmNvcmUuQ2FudmFzUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2V4dHJhY3QnLCBDYW52YXNFeHRyYWN0KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc0V4dHJhY3QuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgVEVNUF9SRUNUID0gbmV3IGNvcmUuUmVjdGFuZ2xlKCk7XG52YXIgQllURVNfUEVSX1BJWEVMID0gNDtcblxuLyoqXG4gKiBUaGUgZXh0cmFjdCBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gZXhwb3J0IGNvbnRlbnQgZnJvbSB0aGUgcmVuZGVyZXJzLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgcmVuZGVyZXIucGx1Z2lucy5leHRyYWN0XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5leHRyYWN0XG4gKi9cblxudmFyIFdlYkdMRXh0cmFjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdlYkdMRXh0cmFjdChyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xFeHRyYWN0KTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIG1ldGhvZHMgZm9yIGV4dHJhY3RpbmcgZGF0YSAoaW1hZ2UsIHBpeGVscywgZXRjLikgZnJvbSBhIGRpc3BsYXkgb2JqZWN0IG9yIHJlbmRlciB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3R9IGV4dHJhY3RcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuV2ViR0xSZW5kZXJlciNcbiAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhY3QuV2ViR0xFeHRyYWN0XG4gICAgICAgICAqL1xuICAgICAgICByZW5kZXJlci5leHRyYWN0ID0gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgICAqL1xuXG5cbiAgICBXZWJHTEV4dHJhY3QucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24gaW1hZ2UodGFyZ2V0KSB7XG4gICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgIGltYWdlLnNyYyA9IHRoaXMuYmFzZTY0KHRhcmdldCk7XG5cbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoaXMgdGFyZ2V0LiBJdCB3b3JrcyBieSBjYWxsaW5nXG4gICAgICogIGBXZWJHTEV4dHJhY3QuZ2V0Q2FudmFzYCBhbmQgdGhlbiBydW5uaW5nIHRvRGF0YVVSTCBvbiB0aGF0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gQSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIFdlYkdMRXh0cmFjdC5wcm90b3R5cGUuYmFzZTY0ID0gZnVuY3Rpb24gYmFzZTY0KHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXModGFyZ2V0KS50b0RhdGFVUkwoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50LCByZW5kZXJzIHRoaXMgdGFyZ2V0IHRvIGl0IGFuZCB0aGVuIHJldHVybnMgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEEgQ2FudmFzIGVsZW1lbnQgd2l0aCB0aGUgdGV4dHVyZSByZW5kZXJlZCBvbi5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xFeHRyYWN0LnByb3RvdHlwZS5jYW52YXMgPSBmdW5jdGlvbiBjYW52YXModGFyZ2V0KSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciB0ZXh0dXJlQnVmZmVyID0gdm9pZCAwO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGZyYW1lID0gdm9pZCAwO1xuICAgICAgICB2YXIgZmxpcFkgPSBmYWxzZTtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSB2b2lkIDA7XG4gICAgICAgIHZhciBnZW5lcmF0ZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgY29yZS5SZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRleHR1cmVCdWZmZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgICAgIGZsaXBZID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyID0gdGhpcy5yZW5kZXJlci5yb290UmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRleHR1cmVCdWZmZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZsaXBZID0gdHJ1ZTtcblxuICAgICAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgICAgICBmcmFtZS53aWR0aCA9IHRleHR1cmVCdWZmZXIuc2l6ZS53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCA9IHRleHR1cmVCdWZmZXIuc2l6ZS5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd2lkdGggPSBmcmFtZS53aWR0aCAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBoZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgIHZhciBjYW52YXNCdWZmZXIgPSBuZXcgY29yZS5DYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgaWYgKHRleHR1cmVCdWZmZXIpIHtcbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFJlbmRlclRhcmdldCh0ZXh0dXJlQnVmZmVyKTtcblxuICAgICAgICAgICAgLy8gc2V0IHVwIGFuIGFycmF5IG9mIHBpeGVsc1xuICAgICAgICAgICAgdmFyIHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuXG4gICAgICAgICAgICAvLyByZWFkIHBpeGVscyB0byB0aGUgYXJyYXlcbiAgICAgICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgICAgICBnbC5yZWFkUGl4ZWxzKGZyYW1lLnggKiByZXNvbHV0aW9uLCBmcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgd2ViZ2xQaXhlbHMpO1xuXG4gICAgICAgICAgICAvLyBhZGQgdGhlIHBpeGVscyB0byB0aGUgY2FudmFzXG4gICAgICAgICAgICB2YXIgY2FudmFzRGF0YSA9IGNhbnZhc0J1ZmZlci5jb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAgICAgY2FudmFzRGF0YS5kYXRhLnNldCh3ZWJnbFBpeGVscyk7XG5cbiAgICAgICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LnB1dEltYWdlRGF0YShjYW52YXNEYXRhLCAwLCAwKTtcblxuICAgICAgICAgICAgLy8gcHVsbGluZyBwaXhlbHNcbiAgICAgICAgICAgIGlmIChmbGlwWSkge1xuICAgICAgICAgICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LnNjYWxlKDEsIC0xKTtcbiAgICAgICAgICAgICAgICBjYW52YXNCdWZmZXIuY29udGV4dC5kcmF3SW1hZ2UoY2FudmFzQnVmZmVyLmNhbnZhcywgMCwgLWhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2VuZXJhdGVkKSB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2VuZCB0aGUgY2FudmFzIGJhY2suLlxuXG4gICAgICAgIHJldHVybiBjYW52YXNCdWZmZXIuY2FudmFzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIG9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZSBpbiBSR0JBXG4gICAgICogb3JkZXIsIHdpdGggaW50ZWdlciB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNTUgKGluY2x1ZGVkKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtVaW50OENsYW1wZWRBcnJheX0gT25lLWRpbWVuc2lvbmFsIGFycmF5IGNvbnRhaW5pbmcgdGhlIHBpeGVsIGRhdGEgb2YgdGhlIGVudGlyZSB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFdlYkdMRXh0cmFjdC5wcm90b3R5cGUucGl4ZWxzID0gZnVuY3Rpb24gcGl4ZWxzKHRhcmdldCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgdGV4dHVyZUJ1ZmZlciA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB2b2lkIDA7XG4gICAgICAgIHZhciBmcmFtZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSB2b2lkIDA7XG4gICAgICAgIHZhciBnZW5lcmF0ZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgY29yZS5SZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRleHR1cmVCdWZmZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRleHR1cmVCdWZmZXIgPSB0aGlzLnJlbmRlcmVyLnJvb3RSZW5kZXJUYXJnZXQ7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gdGV4dHVyZUJ1ZmZlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gdGV4dHVyZUJ1ZmZlci5zaXplLndpZHRoO1xuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0ID0gdGV4dHVyZUJ1ZmZlci5zaXplLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3aWR0aCA9IGZyYW1lLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGhlaWdodCA9IGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb247XG5cbiAgICAgICAgdmFyIHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlQnVmZmVyKSB7XG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBidWZmZXJcbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRSZW5kZXJUYXJnZXQodGV4dHVyZUJ1ZmZlcik7XG4gICAgICAgICAgICAvLyByZWFkIHBpeGVscyB0byB0aGUgYXJyYXlcbiAgICAgICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgICAgICBnbC5yZWFkUGl4ZWxzKGZyYW1lLnggKiByZXNvbHV0aW9uLCBmcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgd2ViZ2xQaXhlbHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdlbmVyYXRlZCkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHdlYmdsUGl4ZWxzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgZXh0cmFjdFxuICAgICAqXG4gICAgICovXG5cblxuICAgIFdlYkdMRXh0cmFjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZXh0cmFjdCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gV2ViR0xFeHRyYWN0O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBXZWJHTEV4dHJhY3Q7XG5cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdleHRyYWN0JywgV2ViR0xFeHRyYWN0KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlYkdMRXh0cmFjdC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfV2ViR0xFeHRyYWN0ID0gcmVxdWlyZSgnLi93ZWJnbC9XZWJHTEV4dHJhY3QnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd3ZWJnbCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMRXh0cmFjdCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzRXh0cmFjdCA9IHJlcXVpcmUoJy4vY2FudmFzL0NhbnZhc0V4dHJhY3QnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdjYW52YXMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNFeHRyYWN0KS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9pc21vYmlsZWpzID0gcmVxdWlyZSgnaXNtb2JpbGVqcycpO1xuXG52YXIgX2lzbW9iaWxlanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNtb2JpbGVqcyk7XG5cbnZhciBfYWNjZXNzaWJsZVRhcmdldCA9IHJlcXVpcmUoJy4vYWNjZXNzaWJsZVRhcmdldCcpO1xuXG52YXIgX2FjY2Vzc2libGVUYXJnZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWNjZXNzaWJsZVRhcmdldCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8vIGFkZCBzb21lIGV4dHJhIHZhcmlhYmxlcyB0byB0aGUgY29udGFpbmVyLi5cbmNvcmUudXRpbHMubWl4aW5zLmRlbGF5TWl4aW4oY29yZS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgX2FjY2Vzc2libGVUYXJnZXQyLmRlZmF1bHQpO1xuXG52YXIgS0VZX0NPREVfVEFCID0gOTtcblxudmFyIERJVl9UT1VDSF9TSVpFID0gMTAwO1xudmFyIERJVl9UT1VDSF9QT1NfWCA9IDA7XG52YXIgRElWX1RPVUNIX1BPU19ZID0gMDtcbnZhciBESVZfVE9VQ0hfWklOREVYID0gMjtcblxudmFyIERJVl9IT09LX1NJWkUgPSAxO1xudmFyIERJVl9IT09LX1BPU19YID0gLTEwMDA7XG52YXIgRElWX0hPT0tfUE9TX1kgPSAtMTAwMDtcbnZhciBESVZfSE9PS19aSU5ERVggPSAyO1xuXG4vKipcbiAqIFRoZSBBY2Nlc3NpYmlsaXR5IG1hbmFnZXIgcmVjcmVhdGVzIHRoZSBhYmlsaXR5IHRvIHRhYiBhbmQgaGF2ZSBjb250ZW50IHJlYWQgYnkgc2NyZWVuXG4gKiByZWFkZXJzLiBUaGlzIGlzIHZlcnkgaW1wb3J0YW50IGFzIGl0IGNhbiBwb3NzaWJseSBoZWxwIHBlb3BsZSB3aXRoIGRpc2FiaWxpdGllcyBhY2Nlc3MgcGl4aVxuICogY29udGVudC5cbiAqXG4gKiBNdWNoIGxpa2UgaW50ZXJhY3Rpb24gYW55IERpc3BsYXlPYmplY3QgY2FuIGJlIG1hZGUgYWNjZXNzaWJsZS4gVGhpcyBtYW5hZ2VyIHdpbGwgbWFwIHRoZVxuICogZXZlbnRzIGFzIGlmIHRoZSBtb3VzZSB3YXMgYmVpbmcgdXNlZCwgbWluaW1pemluZyB0aGUgZWZmb3J0IHJlcXVpcmVkIHRvIGltcGxlbWVudC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IHJlbmRlcmVyLnBsdWdpbnMuYWNjZXNzaWJpbGl0eVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuYWNjZXNzaWJpbGl0eVxuICovXG5cbnZhciBBY2Nlc3NpYmlsaXR5TWFuYWdlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ8UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQWNjZXNzaWJpbGl0eU1hbmFnZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKTtcblxuICAgICAgICBpZiAoKF9pc21vYmlsZWpzMi5kZWZhdWx0LnRhYmxldCB8fCBfaXNtb2JpbGVqczIuZGVmYXVsdC5waG9uZSkgJiYgIW5hdmlnYXRvci5pc0NvY29vbkpTKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVRvdWNoSG9vaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmlyc3Qgd2UgY3JlYXRlIGEgZGl2IHRoYXQgd2lsbCBzaXQgb3ZlciB0aGUgUGl4aUpTIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgdGhlIGRpdiBvdmVybGF5cyB3aWxsIGdvLlxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gRElWX1RPVUNIX1NJWkUgKyAncHgnO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gRElWX1RPVUNIX1NJWkUgKyAncHgnO1xuICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gRElWX1RPVUNIX1BPU19YICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBESVZfVE9VQ0hfUE9TX1kgKyAncHgnO1xuICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgZG9tIGVsZW1lbnQgdGhhdCB3aWxsIHNpdCBvdmVyIHRoZSBQaXhpSlMgZWxlbWVudC4gVGhpcyBpcyB3aGVyZSB0aGUgZGl2IG92ZXJsYXlzIHdpbGwgZ28uXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGl2ID0gZGl2O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNpbXBsZSBwb29sIGZvciBzdG9yaW5nIGRpdnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHsqfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb29sID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgYSB0aWNrIHVzZWQgdG8gY2hlY2sgaWYgYW4gb2JqZWN0IGlzIG5vIGxvbmdlciBiZWluZyByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVySWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXR0aW5nIHRoaXMgdG8gdHJ1ZSB3aWxsIHZpc3VhbGx5IHNob3cgdGhlIGRpdnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBhY2Nlc3NpYmlsaXR5IG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN5c3RlbVJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2YgY3VycmVudGx5IGFjdGl2ZSBhY2Nlc3NpYmxlIGl0ZW1zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogcHJlLWJpbmQgdGhlIGZ1bmN0aW9uc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25LZXlEb3duID0gdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX29uTW91c2VNb3ZlID0gdGhpcy5fb25Nb3VzZU1vdmUuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogc3RvcmVzIHRoZSBzdGF0ZSBvZiB0aGUgbWFuYWdlci4gSWYgdGhlcmUgYXJlIG5vIGFjY2Vzc2libGUgb2JqZWN0cyBvciB0aGUgbW91c2UgaXMgbW92aW5nLCB0aGlzIHdpbGwgYmUgZmFsc2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PCo+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzTW9iaWxlQWNjZXNzYWJpbGxpdHkgPSBmYWxzZTtcblxuICAgICAgICAvLyBsZXQgbGlzdGVuIGZvciB0YWIuLiBvbmNlIHByZXNzZWQgd2UgY2FuIGZpcmUgdXAgYW5kIHNob3cgdGhlIGFjY2Vzc2liaWxpdHkgbGF5ZXJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSB0b3VjaCBob29rcy5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuY3JlYXRlVG91Y2hIb29rID0gZnVuY3Rpb24gY3JlYXRlVG91Y2hIb29rKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHZhciBob29rRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICAgICAgaG9va0Rpdi5zdHlsZS53aWR0aCA9IERJVl9IT09LX1NJWkUgKyAncHgnO1xuICAgICAgICBob29rRGl2LnN0eWxlLmhlaWdodCA9IERJVl9IT09LX1NJWkUgKyAncHgnO1xuICAgICAgICBob29rRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgaG9va0Rpdi5zdHlsZS50b3AgPSBESVZfSE9PS19QT1NfWCArICdweCc7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUubGVmdCA9IERJVl9IT09LX1BPU19ZICsgJ3B4JztcbiAgICAgICAgaG9va0Rpdi5zdHlsZS56SW5kZXggPSBESVZfSE9PS19aSU5ERVg7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNGRjAwMDAnO1xuICAgICAgICBob29rRGl2LnRpdGxlID0gJ0hPT0sgRElWJztcblxuICAgICAgICBob29rRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuaXNNb2JpbGVBY2Nlc3NhYmlsbGl0eSA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5hY3RpdmF0ZSgpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChob29rRGl2KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChob29rRGl2KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIHNob3duLiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlclxuICAgICAqIHByZXNlcyB0aGUgdGFiIGtleS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9uKCdwb3N0cmVuZGVyJywgdGhpcy51cGRhdGUsIHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci52aWV3LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlYWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIGhpZGRlbi4gVGhpcyBpcyBjYWxsZWQgd2hlbiBhIHVzZXIgbW92ZXNcbiAgICAgKiB0aGUgbW91c2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uIGRlYWN0aXZhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSB8fCB0aGlzLmlzTW9iaWxlQWNjZXNzYWJpbGxpdHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIub2ZmKCdwb3N0cmVuZGVyJywgdGhpcy51cGRhdGUpO1xuXG4gICAgICAgIGlmICh0aGlzLmRpdi5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHJlY3Vyc2l2ZSBmdW5jdGlvbiB3aWxsIHJ1biB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgYWRkIGFueSBuZXcgYWNjZXNzaWJsZSBvYmplY3RzIHRvIHRoZSBET00gbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0byBjaGVjay5cbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzID0gZnVuY3Rpb24gdXBkYXRlQWNjZXNzaWJsZU9iamVjdHMoZGlzcGxheU9iamVjdCkge1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QudmlzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZSAmJiBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGRpc3BsYXlPYmplY3QpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcklkID0gdGhpcy5yZW5kZXJJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCZWZvcmUgZWFjaCByZW5kZXIgdGhpcyBmdW5jdGlvbiB3aWxsIGVuc3VyZSB0aGF0IGFsbCBkaXZzIGFyZSBtYXBwZWQgY29ycmVjdGx5IHRvIHRoZWlyIERpc3BsYXlPYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgY2hpbGRyZW4uLi5cbiAgICAgICAgdGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyh0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQpO1xuXG4gICAgICAgIHZhciByZWN0ID0gdGhpcy5yZW5kZXJlci52aWV3LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgc3ggPSByZWN0LndpZHRoIC8gdGhpcy5yZW5kZXJlci53aWR0aDtcbiAgICAgICAgdmFyIHN5ID0gcmVjdC5oZWlnaHQgLyB0aGlzLnJlbmRlcmVyLmhlaWdodDtcblxuICAgICAgICB2YXIgZGl2ID0gdGhpcy5kaXY7XG5cbiAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSByZWN0LmxlZnQgKyAncHgnO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gcmVjdC50b3AgKyAncHgnO1xuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0ICsgJ3B4JztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmIChjaGlsZC5yZW5kZXJJZCAhPT0gdGhpcy5yZW5kZXJJZCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlQWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnV0aWxzLnJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGksIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGl2LnJlbW92ZUNoaWxkKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvb2wucHVzaChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgICAgICAgICAgY2hpbGQuX2FjY2Vzc2libGVEaXYgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaS0tO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbWFwIGRpdiB0byBkaXNwbGF5Li5cbiAgICAgICAgICAgICAgICBkaXYgPSBjaGlsZC5fYWNjZXNzaWJsZURpdjtcbiAgICAgICAgICAgICAgICB2YXIgaGl0QXJlYSA9IGNoaWxkLmhpdEFyZWE7XG4gICAgICAgICAgICAgICAgdmFyIHd0ID0gY2hpbGQud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuaGl0QXJlYSkge1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9ICh3dC50eCArIGhpdEFyZWEueCAqIHd0LmEpICogc3ggKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gKHd0LnR5ICsgaGl0QXJlYS55ICogd3QuZCkgKiBzeSArICdweCc7XG5cbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gaGl0QXJlYS53aWR0aCAqIHd0LmEgKiBzeCArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBoaXRBcmVhLmhlaWdodCAqIHd0LmQgKiBzeSArICdweCc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0QXJlYSA9IGNoaWxkLmdldEJvdW5kcygpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FwSGl0QXJlYShoaXRBcmVhKTtcblxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9IGhpdEFyZWEueCAqIHN4ICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9IGhpdEFyZWEueSAqIHN5ICsgJ3B4JztcblxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBoaXRBcmVhLndpZHRoICogc3ggKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gaGl0QXJlYS5oZWlnaHQgKiBzeSArICdweCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW5jcmVtZW50IHRoZSByZW5kZXIgaWQuLlxuICAgICAgICB0aGlzLnJlbmRlcklkKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRPRE86IGRvY3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gaGl0QXJlYSAtIFRPRE8gZG9jc1xuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuY2FwSGl0QXJlYSA9IGZ1bmN0aW9uIGNhcEhpdEFyZWEoaGl0QXJlYSkge1xuICAgICAgICBpZiAoaGl0QXJlYS54IDwgMCkge1xuICAgICAgICAgICAgaGl0QXJlYS53aWR0aCArPSBoaXRBcmVhLng7XG4gICAgICAgICAgICBoaXRBcmVhLnggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpdEFyZWEueSA8IDApIHtcbiAgICAgICAgICAgIGhpdEFyZWEuaGVpZ2h0ICs9IGhpdEFyZWEueTtcbiAgICAgICAgICAgIGhpdEFyZWEueSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGl0QXJlYS54ICsgaGl0QXJlYS53aWR0aCA+IHRoaXMucmVuZGVyZXIud2lkdGgpIHtcbiAgICAgICAgICAgIGhpdEFyZWEud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoIC0gaGl0QXJlYS54O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpdEFyZWEueSArIGhpdEFyZWEuaGVpZ2h0ID4gdGhpcy5yZW5kZXJlci5oZWlnaHQpIHtcbiAgICAgICAgICAgIGhpdEFyZWEuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQgLSBoaXRBcmVhLnk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIERpc3BsYXlPYmplY3QgdG8gdGhlIGFjY2Vzc2liaWxpdHkgbWFuYWdlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Rpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgY2hpbGQgdG8gbWFrZSBhY2Nlc3NpYmxlLlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiBhZGRDaGlsZChkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIC8vICAgIHRoaXMuYWN0aXZhdGUoKTtcblxuICAgICAgICB2YXIgZGl2ID0gdGhpcy5wb29sLnBvcCgpO1xuXG4gICAgICAgIGlmICghZGl2KSB7XG4gICAgICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gRElWX1RPVUNIX1NJWkUgKyAncHgnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IERJVl9UT1VDSF9TSVpFICsgJ3B4JztcbiAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmRlYnVnID8gJ3JnYmEoMjU1LDAsMCwwLjUpJyA6ICd0cmFuc3BhcmVudCc7XG4gICAgICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IERJVl9UT1VDSF9aSU5ERVg7XG4gICAgICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9vbkZvY3VzLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgdGhpcy5fb25Gb2N1c091dC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZSkge1xuICAgICAgICAgICAgZGl2LnRpdGxlID0gZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgIH0gZWxzZSBpZiAoIWRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlICYmICFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50KSB7XG4gICAgICAgICAgICBkaXYudGl0bGUgPSAnZGlzcGxheU9iamVjdCAnICsgdGhpcy50YWJJbmRleDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50KSB7XG4gICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL1xuXG4gICAgICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVBY3RpdmUgPSB0cnVlO1xuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2ID0gZGl2O1xuICAgICAgICBkaXYuZGlzcGxheU9iamVjdCA9IGRpc3BsYXlPYmplY3Q7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGRpc3BsYXlPYmplY3QpO1xuICAgICAgICB0aGlzLmRpdi5hcHBlbmRDaGlsZChkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdi50YWJJbmRleCA9IGRpc3BsYXlPYmplY3QudGFiSW5kZXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBidXR0b24gcHJlc3MgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAoY2xpY2spXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFRoZSBjbGljayBldmVudC5cbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkNsaWNrID0gZnVuY3Rpb24gX29uQ2xpY2soZSkge1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuXG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdjbGljaycsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgZm9jdXMgZXZlbnRzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKG1vdXNlb3ZlcilcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGb2N1c0V2ZW50fSBlIC0gVGhlIGZvY3VzIGV2ZW50LlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uRm9jdXMgPSBmdW5jdGlvbiBfb25Gb2N1cyhlKSB7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG5cbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgZm9jdXMgZXZlbnRzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKG1vdXNlb3V0KVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGUgLSBUaGUgZm9jdXNvdXQgZXZlbnQuXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Gb2N1c091dCA9IGZ1bmN0aW9uIF9vbkZvY3VzT3V0KGUpIHtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcblxuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnbW91c2VvdXQnLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gYSBrZXkgaXMgcHJlc3NlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGUgLSBUaGUga2V5ZG93biBldmVudC5cbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbktleURvd24gPSBmdW5jdGlvbiBfb25LZXlEb3duKGUpIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSAhPT0gS0VZX0NPREVfVEFCKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBtb3VzZSBtb3ZlcyBhY3Jvc3MgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Nb3VzZU1vdmUgPSBmdW5jdGlvbiBfb25Nb3VzZU1vdmUoKSB7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmRpdiA9IG51bGw7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLmRpdiA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bik7XG5cbiAgICAgICAgdGhpcy5wb29sID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQWNjZXNzaWJpbGl0eU1hbmFnZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEFjY2Vzc2liaWxpdHlNYW5hZ2VyO1xuXG5cbmNvcmUuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbignYWNjZXNzaWJpbGl0eScsIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKTtcbmNvcmUuQ2FudmFzUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2FjY2Vzc2liaWxpdHknLCBBY2Nlc3NpYmlsaXR5TWFuYWdlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BY2Nlc3NpYmlsaXR5TWFuYWdlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfYWNjZXNzaWJsZVRhcmdldCA9IHJlcXVpcmUoJy4vYWNjZXNzaWJsZVRhcmdldCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2FjY2Vzc2libGVUYXJnZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hY2Nlc3NpYmxlVGFyZ2V0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9BY2Nlc3NpYmlsaXR5TWFuYWdlciA9IHJlcXVpcmUoJy4vQWNjZXNzaWJpbGl0eU1hbmFnZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdBY2Nlc3NpYmlsaXR5TWFuYWdlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FjY2Vzc2liaWxpdHlNYW5hZ2VyKS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRlcHJlY2F0aW9uO1xuLy8gcHJvdmlkZSBtZXRob2QgdG8gZ2l2ZSBhIHN0YWNrIHRyYWNrIGZvciB3YXJuaW5nc1xuLy8gdXNlZnVsIGZvciB0cmFja2luZy1kb3duIHdoZXJlIGRlcHJlY2F0ZWQgbWV0aG9kcy9wcm9wZXJ0aWVzL2NsYXNzZXNcbi8vIGFyZSBiZWluZyB1c2VkIHdpdGhpbiB0aGUgY29kZVxuXG4vLyBBIG1hcCBvZiB3YXJuaW5nIG1lc3NhZ2VzIGFscmVhZHkgZmlyZWRcbnZhciB3YXJuaW5ncyA9IHt9O1xuXG4vLyBwcm92aWRlIG1ldGhvZCB0byBnaXZlIGEgc3RhY2sgdHJhY2sgZm9yIHdhcm5pbmdzXG4vLyB1c2VmdWwgZm9yIHRyYWNraW5nLWRvd24gd2hlcmUgZGVwcmVjYXRlZCBtZXRob2RzL3Byb3BlcnRpZXMvY2xhc3Nlc1xuLy8gYXJlIGJlaW5nIHVzZWQgd2l0aGluIHRoZSBjb2RlXG5mdW5jdGlvbiB3YXJuKG1zZykge1xuICAgIC8vIElnbm9yZSBkdXBsaWNhdFxuICAgIGlmICh3YXJuaW5nc1ttc2ddKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgdmFyIHN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG5cbiAgICAvLyBIYW5kbGUgSUUgPCAxMCBhbmQgU2FmYXJpIDwgNlxuICAgIGlmICh0eXBlb2Ygc3RhY2sgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRpb24gV2FybmluZzogJywgbXNnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjaG9wIG9mZiB0aGUgc3RhY2sgdHJhY2Ugd2hpY2ggaW5jbHVkZXMgcGl4aS5qcyBpbnRlcm5hbCBjYWxsc1xuICAgICAgICBzdGFjayA9IHN0YWNrLnNwbGl0KCdcXG4nKS5zcGxpY2UoMykuam9pbignXFxuJyk7XG5cbiAgICAgICAgaWYgKGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoJyVjRGVwcmVjYXRpb24gV2FybmluZzogJWMlcycsICdjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsICdmb250LXdlaWdodDpub3JtYWw7Y29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLCBtc2cpO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHN0YWNrKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRpb24gV2FybmluZzogJywgbXNnKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG5cbiAgICB3YXJuaW5nc1ttc2ddID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZGVwcmVjYXRpb24oY29yZSkge1xuICAgIHZhciBtZXNoID0gY29yZS5tZXNoLFxuICAgICAgICBwYXJ0aWNsZXMgPSBjb3JlLnBhcnRpY2xlcyxcbiAgICAgICAgZXh0cmFzID0gY29yZS5leHRyYXMsXG4gICAgICAgIGZpbHRlcnMgPSBjb3JlLmZpbHRlcnMsXG4gICAgICAgIHByZXBhcmUgPSBjb3JlLnByZXBhcmUsXG4gICAgICAgIGxvYWRlcnMgPSBjb3JlLmxvYWRlcnMsXG4gICAgICAgIGludGVyYWN0aW9uID0gY29yZS5pbnRlcmFjdGlvbjtcblxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29yZSwge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgU3ByaXRlQmF0Y2hcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLlBhcnRpY2xlQ29udGFpbmVyXG4gICAgICAgICAqIEB0aHJvd3Mge1JlZmVyZW5jZUVycm9yfSBTcHJpdGVCYXRjaCBkb2VzIG5vdCBleGlzdCBhbnkgbW9yZSwgcGxlYXNlIHVzZSB0aGUgbmV3IFBhcnRpY2xlQ29udGFpbmVyIGluc3RlYWQuXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFNwcml0ZUJhdGNoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ1Nwcml0ZUJhdGNoIGRvZXMgbm90IGV4aXN0IGFueSBtb3JlLCAnICsgJ3BsZWFzZSB1c2UgdGhlIG5ldyBQYXJ0aWNsZUNvbnRhaW5lciBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgQXNzZXRMb2FkZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLmxvYWRlcnMuTG9hZGVyXG4gICAgICAgICAqIEB0aHJvd3Mge1JlZmVyZW5jZUVycm9yfSBUaGUgbG9hZGVyIHN5c3RlbSB3YXMgb3ZlcmhhdWxlZCBpbiBQaXhpSlMgdjMsXG4gICAgICAgICAqIHBsZWFzZSBzZWUgdGhlIG5ldyBQSVhJLmxvYWRlcnMuTG9hZGVyIGNsYXNzLlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBBc3NldExvYWRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCdUaGUgbG9hZGVyIHN5c3RlbSB3YXMgb3ZlcmhhdWxlZCBpbiBQaXhpSlMgdjMsICcgKyAncGxlYXNlIHNlZSB0aGUgbmV3IFBJWEkubG9hZGVycy5Mb2FkZXIgY2xhc3MuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBTdGFnZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFN0YWdlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdZb3UgZG8gbm90IG5lZWQgdG8gdXNlIGEgUElYSSBTdGFnZSBhbnkgbW9yZSwgeW91IGNhbiBzaW1wbHkgcmVuZGVyIGFueSBjb250YWluZXIuJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5Db250YWluZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBEaXNwbGF5T2JqZWN0Q29udGFpbmVyXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5Db250YWluZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgRGlzcGxheU9iamVjdENvbnRhaW5lcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignRGlzcGxheU9iamVjdENvbnRhaW5lciBoYXMgYmVlbiBzaG9ydGVuZWQgdG8gQ29udGFpbmVyLCBwbGVhc2UgdXNlIENvbnRhaW5lciBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLkNvbnRhaW5lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFN0cmlwXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5tZXNoLk1lc2hcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgU3RyaXA6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBTdHJpcCBjbGFzcyBoYXMgYmVlbiByZW5hbWVkIHRvIE1lc2ggYW5kIG1vdmVkIHRvIG1lc2guTWVzaCwgcGxlYXNlIHVzZSBtZXNoLk1lc2ggZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzaC5NZXNoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUm9wZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkubWVzaC5Sb3BlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJvcGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBSb3BlIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIG1lc2guUm9wZSwgcGxlYXNlIHVzZSBtZXNoLlJvcGUgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzaC5Sb3BlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUGFydGljbGVDb250YWluZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBQYXJ0aWNsZUNvbnRhaW5lcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIFBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIHBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lciwgJyArICdwbGVhc2UgdXNlIHBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lciBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBNb3ZpZUNsaXBcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhcy5Nb3ZpZUNsaXBcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTW92aWVDbGlwOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgTW92aWVDbGlwIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIGV4dHJhcy5BbmltYXRlZFNwcml0ZSwgcGxlYXNlIHVzZSBleHRyYXMuQW5pbWF0ZWRTcHJpdGUuJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZXh0cmFzLkFuaW1hdGVkU3ByaXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgVGlsaW5nU3ByaXRlXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFRpbGluZ1Nwcml0ZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIFRpbGluZ1Nwcml0ZSBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byBleHRyYXMuVGlsaW5nU3ByaXRlLCAnICsgJ3BsZWFzZSB1c2UgZXh0cmFzLlRpbGluZ1Nwcml0ZSBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBleHRyYXMuVGlsaW5nU3ByaXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgQml0bWFwVGV4dFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkuZXh0cmFzLkJpdG1hcFRleHRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQml0bWFwVGV4dDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIEJpdG1hcFRleHQgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gZXh0cmFzLkJpdG1hcFRleHQsICcgKyAncGxlYXNlIHVzZSBleHRyYXMuQml0bWFwVGV4dCBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBleHRyYXMuQml0bWFwVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIGJsZW5kTW9kZXNcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGJsZW5kTW9kZXM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBibGVuZE1vZGVzIGhhcyBiZWVuIG1vdmVkIHRvIEJMRU5EX01PREVTLCBwbGVhc2UgdXNlIEJMRU5EX01PREVTIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuQkxFTkRfTU9ERVM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBzY2FsZU1vZGVzXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5TQ0FMRV9NT0RFU1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBzY2FsZU1vZGVzOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgc2NhbGVNb2RlcyBoYXMgYmVlbiBtb3ZlZCB0byBTQ0FMRV9NT0RFUywgcGxlYXNlIHVzZSBTQ0FMRV9NT0RFUyBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLlNDQUxFX01PREVTO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgQmFzZVRleHR1cmVDYWNoZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkudXRpbHMuQmFzZVRleHR1cmVDYWNoZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBCYXNlVGV4dHVyZUNhY2hlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgQmFzZVRleHR1cmVDYWNoZSBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byB1dGlscy5CYXNlVGV4dHVyZUNhY2hlLCAnICsgJ3BsZWFzZSB1c2UgdXRpbHMuQmFzZVRleHR1cmVDYWNoZSBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnV0aWxzLkJhc2VUZXh0dXJlQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBUZXh0dXJlQ2FjaGVcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLnV0aWxzLlRleHR1cmVDYWNoZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBUZXh0dXJlQ2FjaGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBUZXh0dXJlQ2FjaGUgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gdXRpbHMuVGV4dHVyZUNhY2hlLCAnICsgJ3BsZWFzZSB1c2UgdXRpbHMuVGV4dHVyZUNhY2hlIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUudXRpbHMuVGV4dHVyZUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZXNwYWNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIG1hdGhcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjZcbiAgICAgICAgICovXG4gICAgICAgIG1hdGg6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBtYXRoIG5hbWVzcGFjZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgYWNjZXNzIG1lbWJlcnMgYWxyZWFkeSBhY2Nlc3NpYmxlIG9uIFBJWEkuJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQWJzdHJhY3RGaWx0ZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkZpbHRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC42XG4gICAgICAgICAqL1xuICAgICAgICBBYnN0cmFjdEZpbHRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignQXN0cmFjdEZpbHRlciBoYXMgYmVlbiByZW5hbWVkIHRvIEZpbHRlciwgcGxlYXNlIHVzZSBQSVhJLkZpbHRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuRmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUElYSS5UcmFuc2Zvcm1NYW51YWxcbiAgICAgICAgICogQHNlZSBQSVhJLlRyYW5zZm9ybUJhc2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVHJhbnNmb3JtTWFudWFsOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUcmFuc2Zvcm1NYW51YWwgaGFzIGJlZW4gcmVuYW1lZCB0byBUcmFuc2Zvcm1CYXNlLCBwbGVhc2UgdXBkYXRlIHlvdXIgcGl4aS1zcGluZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuVHJhbnNmb3JtQmFzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5UQVJHRVRfRlBNU1xuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuVEFSR0VUX0ZQTVNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgVEFSR0VUX0ZQTVM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuVEFSR0VUX0ZQTVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlRBUkdFVF9GUE1TJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuVEFSR0VUX0ZQTVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlRBUkdFVF9GUE1TJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlRBUkdFVF9GUE1TID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuRklMVEVSX1JFU09MVVRJT05cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIEZJTFRFUl9SRVNPTFVUSU9OOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLkZJTFRFUl9SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT047XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLkZJTFRFUl9SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTicpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTiA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJFU09MVVRJT05cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlJFU09MVVRJT05cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgUkVTT0xVVElPTjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlJFU09MVVRJT04gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5NSVBNQVBfVEVYVFVSRVNcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBNSVBNQVBfVEVYVFVSRVM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuTUlQTUFQX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVMnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFUztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuTUlQTUFQX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVMnKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuU1BSSVRFX0JBVENIX1NJWkVcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIFNQUklURV9CQVRDSF9TSVpFOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlNQUklURV9CQVRDSF9TSVpFIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlNQUklURV9CQVRDSF9TSVpFIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRScpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBQSVhJLlNQUklURV9NQVhfVEVYVFVSRVNcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgU1BSSVRFX01BWF9URVhUVVJFUzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5TUFJJVEVfTUFYX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5TUFJJVEVfTUFYX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVMgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5SRVRJTkFfUFJFRklYXG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5SRVRJTkFfUFJFRklYXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIFJFVElOQV9QUkVGSVg6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuUkVUSU5BX1BSRUZJWCBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuUkVUSU5BX1BSRUZJWCBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWCcpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5SRVRJTkFfUFJFRklYID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuREVGQVVMVF9SRU5ERVJfT1BUSU9OU1xuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuUkVOREVSX09QVElPTlNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgREVGQVVMVF9SRU5ERVJfT1BUSU9OUzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5ERUZBVUxUX1JFTkRFUl9PUFRJT05TIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5ERUZBVUxUX1JFTkRFUl9PUFRJT05TJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5SRU5ERVJfT1BUSU9OUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTW92ZSB0aGUgZGVmYXVsdCBwcm9wZXJ0aWVzIHRvIHNldHRpbmdzXG4gICAgdmFyIGRlZmF1bHRzID0gW3sgcGFyZW50OiAnVFJBTlNGT1JNX01PREUnLCB0YXJnZXQ6ICdUUkFOU0ZPUk1fTU9ERScgfSwgeyBwYXJlbnQ6ICdHQ19NT0RFUycsIHRhcmdldDogJ0dDX01PREUnIH0sIHsgcGFyZW50OiAnV1JBUF9NT0RFUycsIHRhcmdldDogJ1dSQVBfTU9ERScgfSwgeyBwYXJlbnQ6ICdTQ0FMRV9NT0RFUycsIHRhcmdldDogJ1NDQUxFX01PREUnIH0sIHsgcGFyZW50OiAnUFJFQ0lTSU9OJywgdGFyZ2V0OiAnUFJFQ0lTSU9OX0ZSQUdNRU5UJyB9XTtcblxuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGkpIHtcbiAgICAgICAgdmFyIGRlcHJlY2F0aW9uID0gZGVmYXVsdHNbaV07XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvcmVbZGVwcmVjYXRpb24ucGFyZW50XSwgJ0RFRkFVTFQnLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLicgKyBkZXByZWNhdGlvbi5wYXJlbnQgKyAnLkRFRkFVTFQgaGFzIGJlZW4gZGVwcmVjYXRlZCwgJyArICgncGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLicgKyBkZXByZWNhdGlvbi50YXJnZXQpKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzW2RlcHJlY2F0aW9uLnRhcmdldF07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLicgKyBkZXByZWNhdGlvbi5wYXJlbnQgKyAnLkRFRkFVTFQgaGFzIGJlZW4gZGVwcmVjYXRlZCwgJyArICgncGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLicgKyBkZXByZWNhdGlvbi50YXJnZXQpKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3NbZGVwcmVjYXRpb24udGFyZ2V0XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWZhdWx0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBfbG9vcChpKTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb3JlLnNldHRpbmdzLCB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQG5hbWUgUFJFQ0lTSU9OXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICAgICAqIEBzZWUgUElYSS5QUkVDSVNJT05cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjQuMFxuICAgICAgICAgKi9cbiAgICAgICAgUFJFQ0lTSU9OOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLnNldHRpbmdzLlBSRUNJU0lPTiBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5UJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLnNldHRpbmdzLlBSRUNJU0lPTiBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5UJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlBSRUNJU0lPTl9GUkFHTUVOVCA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoZXh0cmFzLkFuaW1hdGVkU3ByaXRlKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGV4dHJhcywge1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgICAgICogQG5hbWUgTW92aWVDbGlwXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5leHRyYXNcbiAgICAgICAgICAgICAqIEBzZWUgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGVcbiAgICAgICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgTW92aWVDbGlwOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBNb3ZpZUNsaXAgY2xhc3MgaGFzIGJlZW4gcmVuYW1lZCB0byBBbmltYXRlZFNwcml0ZSwgcGxlYXNlIHVzZSBBbmltYXRlZFNwcml0ZSBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXh0cmFzLkFuaW1hdGVkU3ByaXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGV4dHJhcykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhleHRyYXMsIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAgICAgKiBAbmFtZSBUZXh0dXJlVHJhbnNmb3JtXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5leHRyYXNcbiAgICAgICAgICAgICAqIEBzZWUgUElYSS5UZXh0dXJlTWF0cml4XG4gICAgICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuNi4wXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIFRleHR1cmVUcmFuc2Zvcm06IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIFRleHR1cmVUcmFuc2Zvcm0gY2xhc3MgaGFzIGJlZW4gcmVuYW1lZCB0byBUZXh0dXJlTWF0cml4LCAnICsgJ3BsZWFzZSB1c2UgUElYSS5UZXh0dXJlTWF0cml4IGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLlRleHR1cmVNYXRyaXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmdlbmVyYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIGdlbmVyYXRlVGV4dHVyZShyZW5kZXJlciwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHdhcm4oJ2dlbmVyYXRlVGV4dHVyZSBoYXMgbW92ZWQgdG8gdGhlIHJlbmRlcmVyLCBwbGVhc2UgdXNlIHJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZShkaXNwbGF5T2JqZWN0KScpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodGhpcywgc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcbiAgICB9O1xuXG4gICAgY29yZS5HcmFwaGljcy5wcm90b3R5cGUuZ2VuZXJhdGVUZXh0dXJlID0gZnVuY3Rpb24gZ2VuZXJhdGVUZXh0dXJlKHNjYWxlTW9kZSwgcmVzb2x1dGlvbikge1xuICAgICAgICB3YXJuKCdncmFwaGljcyBnZW5lcmF0ZSB0ZXh0dXJlIGhhcyBtb3ZlZCB0byB0aGUgcmVuZGVyZXIuICcgKyAnT3IgdG8gcmVuZGVyIGEgZ3JhcGhpY3MgdG8gYSB0ZXh0dXJlIHVzaW5nIGNhbnZhcyBwbGVhc2UgdXNlIGdlbmVyYXRlQ2FudmFzVGV4dHVyZScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlQ2FudmFzVGV4dHVyZShzY2FsZU1vZGUsIHJlc29sdXRpb24pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS5Hcm91cEQ4LmlzU3dhcFdpZHRoSGVpZ2h0XG4gICAgICogQHNlZSBQSVhJLkdyb3VwRDguaXNWZXJ0aWNhbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBkaXJlY3Rpb24gaXMgdmVydGljYWxcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuNi4wXG4gICAgICovXG4gICAgY29yZS5Hcm91cEQ4LmlzU3dhcFdpZHRoSGVpZ2h0ID0gZnVuY3Rpb24gaXNTd2FwV2lkdGhIZWlnaHQocm90YXRpb24pIHtcbiAgICAgICAgd2FybignR3JvdXBEOC5pc1N3YXBXaWR0aEhlaWdodCB3YXMgcmVuYW1lZCB0byBHcm91cEQ4LmlzVmVydGljYWwnKTtcblxuICAgICAgICByZXR1cm4gY29yZS5Hcm91cEQ4LmlzVmVydGljYWwocm90YXRpb24pO1xuICAgIH07XG5cbiAgICBjb3JlLlJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihkaXNwbGF5T2JqZWN0LCBtYXRyaXgsIGNsZWFyLCB1cGRhdGVUcmFuc2Zvcm0pIHtcbiAgICAgICAgdGhpcy5sZWdhY3lSZW5kZXJlci5yZW5kZXIoZGlzcGxheU9iamVjdCwgdGhpcywgY2xlYXIsIG1hdHJpeCwgIXVwZGF0ZVRyYW5zZm9ybSk7XG4gICAgICAgIHdhcm4oJ1JlbmRlclRleHR1cmUucmVuZGVyIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLnJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlKScpO1xuICAgIH07XG5cbiAgICBjb3JlLlJlbmRlclRleHR1cmUucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gZ2V0SW1hZ2UodGFyZ2V0KSB7XG4gICAgICAgIHdhcm4oJ1JlbmRlclRleHR1cmUuZ2V0SW1hZ2UgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZXh0cmFjdC5pbWFnZSh0YXJnZXQpJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGVnYWN5UmVuZGVyZXIuZXh0cmFjdC5pbWFnZSh0YXJnZXQpO1xuICAgIH07XG5cbiAgICBjb3JlLlJlbmRlclRleHR1cmUucHJvdG90eXBlLmdldEJhc2U2NCA9IGZ1bmN0aW9uIGdldEJhc2U2NCh0YXJnZXQpIHtcbiAgICAgICAgd2FybignUmVuZGVyVGV4dHVyZS5nZXRCYXNlNjQgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZXh0cmFjdC5iYXNlNjQodGFyZ2V0KScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmxlZ2FjeVJlbmRlcmVyLmV4dHJhY3QuYmFzZTY0KHRhcmdldCk7XG4gICAgfTtcblxuICAgIGNvcmUuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZ2V0Q2FudmFzID0gZnVuY3Rpb24gZ2V0Q2FudmFzKHRhcmdldCkge1xuICAgICAgICB3YXJuKCdSZW5kZXJUZXh0dXJlLmdldENhbnZhcyBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSByZW5kZXJlci5leHRyYWN0LmNhbnZhcyh0YXJnZXQpJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGVnYWN5UmVuZGVyZXIuZXh0cmFjdC5jYW52YXModGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgY29yZS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5nZXRQaXhlbHMgPSBmdW5jdGlvbiBnZXRQaXhlbHModGFyZ2V0KSB7XG4gICAgICAgIHdhcm4oJ1JlbmRlclRleHR1cmUuZ2V0UGl4ZWxzIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLmV4dHJhY3QucGl4ZWxzKHRhcmdldCknKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5sZWdhY3lSZW5kZXJlci5waXhlbHModGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgUElYSS5TcHJpdGUjc2V0VGV4dHVyZVxuICAgICAqIEBzZWUgUElYSS5TcHJpdGUjdGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHNldCB0by5cbiAgICAgKi9cbiAgICBjb3JlLlNwcml0ZS5wcm90b3R5cGUuc2V0VGV4dHVyZSA9IGZ1bmN0aW9uIHNldFRleHR1cmUodGV4dHVyZSkge1xuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICB3YXJuKCdzZXRUZXh0dXJlIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSB0ZXh0dXJlIHByb3BlcnR5LCBlLmcgOiBzcHJpdGUudGV4dHVyZSA9IHRleHR1cmU7Jyk7XG4gICAgfTtcblxuICAgIGlmIChleHRyYXMuQml0bWFwVGV4dCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSBQSVhJLmV4dHJhcy5CaXRtYXBUZXh0I3NldFRleHRcbiAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhcy5CaXRtYXBUZXh0I3RleHRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSB0ZXh0IHRvIHNldCB0by5cbiAgICAgICAgICovXG4gICAgICAgIGV4dHJhcy5CaXRtYXBUZXh0LnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gc2V0VGV4dCh0ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgd2Fybignc2V0VGV4dCBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgdGV4dCBwcm9wZXJ0eSwgZS5nIDogbXlCaXRtYXBUZXh0LnRleHQgPSBcXCdteSB0ZXh0XFwnOycpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBQSVhJLlRleHQjc2V0VGV4dFxuICAgICAqIEBzZWUgUElYSS5UZXh0I3RleHRcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdGV4dCB0byBzZXQgdG8uXG4gICAgICovXG4gICAgY29yZS5UZXh0LnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gc2V0VGV4dCh0ZXh0KSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHdhcm4oJ3NldFRleHQgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIHRleHQgcHJvcGVydHksIGUuZyA6IG15VGV4dC50ZXh0ID0gXFwnbXkgdGV4dFxcJzsnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgYXNjZW50LCBkZXNjZW50IGFuZCBmb250U2l6ZSBvZiBhIGdpdmVuIGZvbnRTdHlsZVxuICAgICAqXG4gICAgICogQG5hbWUgUElYSS5UZXh0LmNhbGN1bGF0ZUZvbnRQcm9wZXJ0aWVzXG4gICAgICogQHNlZSBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjUuMFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEZvbnQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKi9cbiAgICBjb3JlLlRleHQuY2FsY3VsYXRlRm9udFByb3BlcnRpZXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVGb250UHJvcGVydGllcyhmb250KSB7XG4gICAgICAgIHdhcm4oJ1RleHQuY2FsY3VsYXRlRm9udFByb3BlcnRpZXMgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIFRleHRNZXRyaWNzLm1lYXN1cmVGb250Jyk7XG5cbiAgICAgICAgcmV0dXJuIGNvcmUuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvcmUuVGV4dCwge1xuICAgICAgICBmb250UHJvcGVydGllc0NhY2hlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUZXh0LmZvbnRQcm9wZXJ0aWVzQ2FjaGUgaXMgZGVwcmVjYXRlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuVGV4dE1ldHJpY3MuX2ZvbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmb250UHJvcGVydGllc0NhbnZhczoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGV4dC5mb250UHJvcGVydGllc0NhbnZhcyBpcyBkZXByZWNhdGVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5UZXh0TWV0cmljcy5fY2FudmFzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmb250UHJvcGVydGllc0NvbnRleHQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RleHQuZm9udFByb3BlcnRpZXNDb250ZXh0IGlzIGRlcHJlY2F0ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLlRleHRNZXRyaWNzLl9jb250ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS5UZXh0I3NldFN0eWxlXG4gICAgICogQHNlZSBQSVhJLlRleHQjc3R5bGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICogQHBhcmFtIHsqfSBzdHlsZSAtIFRoZSBzdHlsZSB0byBzZXQgdG8uXG4gICAgICovXG4gICAgY29yZS5UZXh0LnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlKSB7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgd2Fybignc2V0U3R5bGUgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIHN0eWxlIHByb3BlcnR5LCBlLmcgOiBteVRleHQuc3R5bGUgPSBzdHlsZTsnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIFBJWEkuVGV4dCNkZXRlcm1pbmVGb250UHJvcGVydGllc1xuICAgICAqIEBzZWUgUElYSS5UZXh0I21lYXN1cmVGb250UHJvcGVydGllc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3R5bGUgLSBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBzdHlsZSBvZiB0aGUgZm9udFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gRm9udCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqL1xuICAgIGNvcmUuVGV4dC5wcm90b3R5cGUuZGV0ZXJtaW5lRm9udFByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZXRlcm1pbmVGb250UHJvcGVydGllcyhmb250U3R5bGUpIHtcbiAgICAgICAgd2FybignZGV0ZXJtaW5lRm9udFByb3BlcnRpZXMgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgbWV0aG9kJyk7XG5cbiAgICAgICAgcmV0dXJuIGNvcmUuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udFN0eWxlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIFBJWEkuVGV4dC5nZXRGb250U3R5bGVcbiAgICAgKiBAc2VlIFBJWEkuVGV4dE1ldHJpY3MuZ2V0Rm9udFN0eWxlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjUuMFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gVGhlIHN0eWxlIHRvIHVzZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEZvbnQgc3RyaW5nXG4gICAgICovXG4gICAgY29yZS5UZXh0LmdldEZvbnRTdHlsZSA9IGZ1bmN0aW9uIGdldEZvbnRTdHlsZShzdHlsZSkge1xuICAgICAgICB3YXJuKCdnZXRGb250U3R5bGUgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgVGV4dFN0eWxlLnRvRm9udFN0cmluZygpIGluc3RlYWQnKTtcblxuICAgICAgICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuXG4gICAgICAgIGlmICghKHN0eWxlIGluc3RhbmNlb2YgY29yZS5UZXh0U3R5bGUpKSB7XG4gICAgICAgICAgICBzdHlsZSA9IG5ldyBjb3JlLlRleHRTdHlsZShzdHlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvcmUuVGV4dFN0eWxlLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGFsbCBwcm9wZXJ0aWVzIG9mIGEgZm9udCBhcyBhIHNpbmdsZSBzdHJpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG5hbWUgUElYSS5UZXh0U3R5bGUjZm9udFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBmb250OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCd0ZXh0IHN0eWxlIHByb3BlcnR5IFxcJ2ZvbnRcXCcgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlICcgKyAnXFwnZm9udEZhbWlseVxcJywgXFwnZm9udFNpemVcXCcsIFxcJ2ZvbnRTdHlsZVxcJywgXFwnZm9udFZhcmlhbnRcXCcgYW5kIFxcJ2ZvbnRXZWlnaHRcXCcgcHJvcGVydGllcyBmcm9tIG5vdyBvbicpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGZvbnRTaXplU3RyaW5nID0gdHlwZW9mIHRoaXMuX2ZvbnRTaXplID09PSAnbnVtYmVyJyA/IHRoaXMuX2ZvbnRTaXplICsgJ3B4JyA6IHRoaXMuX2ZvbnRTaXplO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTdHlsZSArICcgJyArIHRoaXMuX2ZvbnRWYXJpYW50ICsgJyAnICsgdGhpcy5fZm9udFdlaWdodCArICcgJyArIGZvbnRTaXplU3RyaW5nICsgJyAnICsgdGhpcy5fZm9udEZhbWlseTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250KSB7XG4gICAgICAgICAgICAgICAgd2FybigndGV4dCBzdHlsZSBwcm9wZXJ0eSBcXCdmb250XFwnIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSAnICsgJ1xcJ2ZvbnRGYW1pbHlcXCcsXFwnZm9udFNpemVcXCcsZm9udFN0eWxlXFwnLFxcJ2ZvbnRWYXJpYW50XFwnIGFuZCBcXCdmb250V2VpZ2h0XFwnIHByb3BlcnRpZXMgZnJvbSBub3cgb24nKTtcblxuICAgICAgICAgICAgICAgIC8vIGNhbiB3b3JrIG91dCBmb250U3R5bGUgZnJvbSBzZWFyY2ggb2Ygd2hvbGUgc3RyaW5nXG4gICAgICAgICAgICAgICAgaWYgKGZvbnQuaW5kZXhPZignaXRhbGljJykgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTdHlsZSA9ICdpdGFsaWMnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9udC5pbmRleE9mKCdvYmxpcXVlJykgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250U3R5bGUgPSAnb2JsaXF1ZSc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udFN0eWxlID0gJ25vcm1hbCc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gY2FuIHdvcmsgb3V0IGZvbnRWYXJpYW50IGZyb20gc2VhcmNoIG9mIHdob2xlIHN0cmluZ1xuICAgICAgICAgICAgICAgIGlmIChmb250LmluZGV4T2YoJ3NtYWxsLWNhcHMnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRWYXJpYW50ID0gJ3NtYWxsLWNhcHMnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRWYXJpYW50ID0gJ25vcm1hbCc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gZm9udFdlaWdodCBhbmQgZm9udEZhbWlseSBhcmUgdHJpY2tlciB0byBmaW5kLCBidXQgaXQncyBlYXNpZXIgdG8gZmluZCB0aGUgZm9udFNpemUgZHVlIHRvIGl0J3MgdW5pdHNcbiAgICAgICAgICAgICAgICB2YXIgc3BsaXRzID0gZm9udC5zcGxpdCgnICcpO1xuICAgICAgICAgICAgICAgIHZhciBmb250U2l6ZUluZGV4ID0gLTE7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IDI2O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BsaXRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdHNbaV0ubWF0Y2goLyhweHxwdHxlbXwlKS8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZUluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gc3BsaXRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gbm93IHNlYXJjaCBmb3IgZm9udFdlaWdodCBhcyB3ZSBrbm93IGl0IG11c3Qgb2NjdXIgYmVmb3JlIHRoZSBmb250U2l6ZVxuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRXZWlnaHQgPSAnbm9ybWFsJztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZm9udFNpemVJbmRleDsgKytfaSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3BsaXRzW19pXS5tYXRjaCgvKGJvbGR8Ym9sZGVyfGxpZ2h0ZXJ8MTAwfDIwMHwzMDB8NDAwfDUwMHw2MDB8NzAwfDgwMHw5MDApLykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRXZWlnaHQgPSBzcGxpdHNbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBhbmQgZmluYWxseSBqb2luIGV2ZXJ5dGhpbmcgdG9nZXRoZXIgYWZ0ZXIgdGhlIGZvbnRTaXplIGluIGNhc2UgdGhlIGZvbnQgZmFtaWx5IGhhcyBtdWx0aXBsZSB3b3Jkc1xuICAgICAgICAgICAgICAgIGlmIChmb250U2l6ZUluZGV4ID4gLTEgJiYgZm9udFNpemVJbmRleCA8IHNwbGl0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gZm9udFNpemVJbmRleCArIDE7IF9pMiA8IHNwbGl0cy5sZW5ndGg7ICsrX2kyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ICs9IHNwbGl0c1tfaTJdICsgJyAnO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udEZhbWlseSA9IHRoaXMuX2ZvbnRGYW1pbHkuc2xpY2UoMCwgLTEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSAnQXJpYWwnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS5UZXh0dXJlI3NldEZyYW1lXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUjc2V0RnJhbWVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZnJhbWUgLSBUaGUgZnJhbWUgdG8gc2V0LlxuICAgICAqL1xuICAgIGNvcmUuVGV4dHVyZS5wcm90b3R5cGUuc2V0RnJhbWUgPSBmdW5jdGlvbiBzZXRGcmFtZShmcmFtZSkge1xuICAgICAgICB0aGlzLmZyYW1lID0gZnJhbWU7XG4gICAgICAgIHdhcm4oJ3NldEZyYW1lIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSBmcmFtZSBwcm9wZXJ0eSwgZS5nOiBteVRleHR1cmUuZnJhbWUgPSBmcmFtZTsnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBuYW1lIFBJWEkuVGV4dHVyZS5hZGRUZXh0dXJlVG9DYWNoZVxuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmFkZFRvQ2FjaGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjUuMFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgdGhhdCB0aGUgdGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuICAgIGNvcmUuVGV4dHVyZS5hZGRUZXh0dXJlVG9DYWNoZSA9IGZ1bmN0aW9uIGFkZFRleHR1cmVUb0NhY2hlKHRleHR1cmUsIGlkKSB7XG4gICAgICAgIGNvcmUuVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGlkKTtcbiAgICAgICAgd2FybignVGV4dHVyZS5hZGRUZXh0dXJlVG9DYWNoZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFRleHR1cmUuYWRkVG9DYWNoZSBmcm9tIG5vdyBvbi4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBuYW1lIFBJWEkuVGV4dHVyZS5yZW1vdmVUZXh0dXJlRnJvbUNhY2hlXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUucmVtb3ZlRnJvbUNhY2hlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC41LjBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIHRleHR1cmUgdG8gYmUgcmVtb3ZlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZXxudWxsfSBUaGUgdGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkXG4gICAgICovXG4gICAgY29yZS5UZXh0dXJlLnJlbW92ZVRleHR1cmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiByZW1vdmVUZXh0dXJlRnJvbUNhY2hlKGlkKSB7XG4gICAgICAgIHdhcm4oJ1RleHR1cmUucmVtb3ZlVGV4dHVyZUZyb21DYWNoZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlIGZyb20gbm93IG9uLiAnICsgJ0JlIGF3YXJlIHRoYXQgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgZG9lcyBub3QgYXV0b21hdGljYWxseSBpdHMgQmFzZVRleHR1cmUgZnJvbSB0aGUgQmFzZVRleHR1cmVDYWNoZS4gJyArICdGb3IgdGhhdCwgdXNlIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZScpO1xuXG4gICAgICAgIGNvcmUuQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKGlkKTtcblxuICAgICAgICByZXR1cm4gY29yZS5UZXh0dXJlLnJlbW92ZUZyb21DYWNoZShpZCk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGZpbHRlcnMsIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFBJWEkuZmlsdGVycy5BYnN0cmFjdEZpbHRlclxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RGaWx0ZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuNlxuICAgICAgICAgKi9cbiAgICAgICAgQWJzdHJhY3RGaWx0ZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ0FzdHJhY3RGaWx0ZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBGaWx0ZXIsIHBsZWFzZSB1c2UgUElYSS5GaWx0ZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLkFic3RyYWN0RmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUElYSS5maWx0ZXJzLlNwcml0ZU1hc2tGaWx0ZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlNwcml0ZU1hc2tGaWx0ZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuNlxuICAgICAgICAgKi9cbiAgICAgICAgU3ByaXRlTWFza0ZpbHRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignZmlsdGVycy5TcHJpdGVNYXNrRmlsdGVyIGlzIGFuIHVuZG9jdW1lbnRlZCBhbGlhcywgcGxlYXNlIHVzZSBTcHJpdGVNYXNrRmlsdGVyIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuU3ByaXRlTWFza0ZpbHRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFBJWEkuZmlsdGVycy5Wb2lkRmlsdGVyXG4gICAgICAgICAqIEBzZWUgUElYSS5maWx0ZXJzLkFscGhhRmlsdGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC41LjdcbiAgICAgICAgICovXG4gICAgICAgIFZvaWRGaWx0ZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1ZvaWRGaWx0ZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBBbHBoYUZpbHRlciwgcGxlYXNlIHVzZSBQSVhJLmZpbHRlcnMuQWxwaGFGaWx0ZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzLkFscGhhRmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS51dGlscy51dWlkXG4gICAgICogQHNlZSBQSVhJLnV0aWxzLnVpZFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjZcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB1aWRcbiAgICAgKi9cbiAgICBjb3JlLnV0aWxzLnV1aWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdhcm4oJ3V0aWxzLnV1aWQoKSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHV0aWxzLnVpZCgpIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgIHJldHVybiBjb3JlLnV0aWxzLnVpZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS51dGlscy5jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzXG4gICAgICogQHNlZSBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ2FuIHVzZSBibGVuZCBtb2Rlcy5cbiAgICAgKi9cbiAgICBjb3JlLnV0aWxzLmNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdhcm4oJ3V0aWxzLmNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMoKSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIENhbnZhc1RpbnRlci5jYW5Vc2VNdWx0aXBseSBmcm9tIG5vdyBvbicpO1xuXG4gICAgICAgIHJldHVybiBjb3JlLkNhbnZhc1RpbnRlci5jYW5Vc2VNdWx0aXBseTtcbiAgICB9O1xuXG4gICAgdmFyIHNhaWRIZWxsbyA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBQSVhJLnV0aWxzLl9zYWlkSGVsbG9cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAc2VlIFBJWEkudXRpbHMuc2tpcEhlbGxvXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC4xLjBcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29yZS51dGlscywgJ19zYWlkSGVsbG8nLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGJvb2wpIHtcbiAgICAgICAgICAgIGlmIChib29sKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS51dGlscy5fc2FpZEhlbGxvIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS51dGlscy5za2lwSGVsbG8oKScpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2tpcEhlbGxvKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzYWlkSGVsbG8gPSBib29sO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzYWlkSGVsbG87XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChwcmVwYXJlLkJhc2VQcmVwYXJlKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBuYW1lIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZSNyZWdpc3RlclxuICAgICAgICAgKiBAc2VlIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZSNyZWdpc3RlckZpbmRIb29rXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC40LjJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2FkZEhvb2tdIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgaXRlbToqLCBxdWV1ZTpBcnJheWBcbiAgICAgICAgICogICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBhZGQgaXRlbSB0byB0aGUgcXVldWUuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFt1cGxvYWRIb29rXSAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYHByZXBhcmU6Q2FudmFzUHJlcGFyZSwgaXRlbToqYCBhbmRcbiAgICAgICAgICogICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBoYW5kbGUgdXBsb2FkIG9mIGl0ZW0uXG4gICAgICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVByZXBhcmV9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gICAgICAgICAqL1xuICAgICAgICBwcmVwYXJlLkJhc2VQcmVwYXJlLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyKGFkZEhvb2ssIHVwbG9hZEhvb2spIHtcbiAgICAgICAgICAgIHdhcm4oJ3JlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5yZWdpc3RlciBpcyBub3cgZGVwcmVjYXRlZCwgJyArICdwbGVhc2UgdXNlIHJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5yZWdpc3RlckZpbmRIb29rICYgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnJlZ2lzdGVyVXBsb2FkSG9vaycpO1xuXG4gICAgICAgICAgICBpZiAoYWRkSG9vaykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhhZGRIb29rKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHVwbG9hZEhvb2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRIb29rKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHByZXBhcmUuY2FudmFzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGdyYXBoaWNzIG9yIHRleHR1cmVzIHRvIHVwbG9hZCB0byB0aGUgR1BVLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLnByZXBhcmUuY2FudmFzLlVQTE9BRFNfUEVSX0ZSQU1FXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmUubGltaXRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByZXBhcmUuY2FudmFzLCAnVVBMT0FEU19QRVJfRlJBTUUnLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLkNhbnZhc1ByZXBhcmUuVVBMT0FEU19QRVJfRlJBTUUgaGFzIGJlZW4gcmVtb3ZlZC4gUGxlYXNlIHNldCAnICsgJ3JlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5saW1pdGVyLm1heEl0ZW1zUGVyRnJhbWUgb24geW91ciByZW5kZXJlcicpO1xuICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgZG9uJ3QgaGF2ZSBhIHJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIsIHdlIGNhbid0IGFjdHVhbGx5IHNldFxuICAgICAgICAgICAgICAgIC8vIHRoZSB1cGxvYWRzIHBlciBmcmFtZSwgc28gd2UnbGwgaGF2ZSB0byBzdGljayB3aXRoIHRoZSB3YXJuaW5nLlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuQ2FudmFzUHJlcGFyZS5VUExPQURTX1BFUl9GUkFNRSBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2UgdXNlICcgKyAncmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLmxpbWl0ZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChwcmVwYXJlLndlYmdsKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGdyYXBoaWNzIG9yIHRleHR1cmVzIHRvIHVwbG9hZCB0byB0aGUgR1BVLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLnByZXBhcmUud2ViZ2wuVVBMT0FEU19QRVJfRlJBTUVcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZS5saW1pdGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJlcGFyZS53ZWJnbCwgJ1VQTE9BRFNfUEVSX0ZSQU1FJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5XZWJHTFByZXBhcmUuVVBMT0FEU19QRVJfRlJBTUUgaGFzIGJlZW4gcmVtb3ZlZC4gUGxlYXNlIHNldCAnICsgJ3JlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5saW1pdGVyLm1heEl0ZW1zUGVyRnJhbWUgb24geW91ciByZW5kZXJlcicpO1xuICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgZG9uJ3QgaGF2ZSBhIHJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIsIHdlIGNhbid0IGFjdHVhbGx5IHNldFxuICAgICAgICAgICAgICAgIC8vIHRoZSB1cGxvYWRzIHBlciBmcmFtZSwgc28gd2UnbGwgaGF2ZSB0byBzdGljayB3aXRoIHRoZSB3YXJuaW5nLlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuV2ViR0xQcmVwYXJlLlVQTE9BRFNfUEVSX0ZSQU1FIGhhcyBiZWVuIHJlbW92ZWQuIFBsZWFzZSB1c2UgJyArICdyZW5kZXJlci5wbHVnaW5zLnByZXBhcmUubGltaXRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGxvYWRlcnMuTG9hZGVyKSB7XG4gICAgICAgIHZhciBSZXNvdXJjZSA9IGxvYWRlcnMuUmVzb3VyY2U7XG4gICAgICAgIHZhciBMb2FkZXIgPSBsb2FkZXJzLkxvYWRlcjtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhSZXNvdXJjZS5wcm90b3R5cGUsIHtcbiAgICAgICAgICAgIGlzSnNvbjoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgaXNKc29uIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSlNPTmAuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5KU09OO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc1htbDoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgaXNYbWwgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5YTUxgLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFJlc291cmNlLlRZUEUuWE1MO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0ltYWdlOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBpc0ltYWdlIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSU1BR0VgLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSU1BR0U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzQXVkaW86IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIGlzQXVkaW8gcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5BVURJT2AuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5BVURJTztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNWaWRlbzoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgaXNWaWRlbyBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGByZXNvdXJjZS50eXBlID09PSBSZXNvdXJjZS5UWVBFLlZJREVPYC4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSBSZXNvdXJjZS5UWVBFLlZJREVPO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTG9hZGVyLnByb3RvdHlwZSwge1xuICAgICAgICAgICAgYmVmb3JlOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBiZWZvcmUoKSBtZXRob2QgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBwcmUoKS4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFmdGVyOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBhZnRlcigpIG1ldGhvZCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHVzZSgpLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChpbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5pbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldCNkZWZhdWx0Q3Vyc29yXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0I2N1cnNvclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjMuMFxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0LCAnZGVmYXVsdEN1cnNvcicsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgZGVmYXVsdEN1cnNvciBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFxcJ2N1cnNvclxcJy4gJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQcm9wZXJ0eSBkZWZhdWx0Q3Vyc29yIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggXFwnY3Vyc29yXFwnLiAnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnNvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZGVmYXVsdEN1cnNvclN0eWxlXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQHNlZSBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNjdXJzb3JTdHlsZXNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC4zLjBcbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIsICdkZWZhdWx0Q3Vyc29yU3R5bGUnLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1Byb3BlcnR5IGRlZmF1bHRDdXJzb3JTdHlsZSBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFxcJ2N1cnNvclN0eWxlcy5kZWZhdWx0XFwnLiAnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvclN0eWxlcy5kZWZhdWx0ID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgZGVmYXVsdEN1cnNvclN0eWxlIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggXFwnY3Vyc29yU3R5bGVzLmRlZmF1bHRcXCcuICcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3Vyc29yU3R5bGVzLmRlZmF1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNjdXJyZW50Q3Vyc29yU3R5bGVcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAc2VlIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2N1cnNvclN0eWxlc1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjMuMFxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciwgJ2N1cnJlbnRDdXJzb3JTdHlsZScsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgY3VycmVudEN1cnNvclN0eWxlIGhhcyBiZWVuIHJlbW92ZWQuJyArICdTZWUgdGhlIGN1cnJlbnRDdXJzb3JNb2RlIHByb3BlcnR5LCB3aGljaCB3b3JrcyBkaWZmZXJlbnRseS4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgY3VycmVudEN1cnNvclN0eWxlIGhhcyBiZWVuIHJlbW92ZWQuJyArICdTZWUgdGhlIGN1cnJlbnRDdXJzb3JNb2RlIHByb3BlcnR5LCB3aGljaCB3b3JrcyBkaWZmZXJlbnRseS4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRDdXJzb3JNb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXByZWNhdGlvbi5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfID0gcmVxdWlyZSgnLi4vJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFV0aWxpdHkgY2xhc3MgZm9yIG1haW50YWluaW5nIHJlZmVyZW5jZSB0byBhIGNvbGxlY3Rpb25cbiAqIG9mIFRleHR1cmVzIG9uIGEgc2luZ2xlIFNwcml0ZXNoZWV0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZXNoZWV0ID0gZnVuY3Rpb24gKCkge1xuICAgIF9jcmVhdGVDbGFzcyhTcHJpdGVzaGVldCwgbnVsbCwgW3tcbiAgICAgICAga2V5OiAnQkFUQ0hfU0laRScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBUZXh0dXJlcyB0byBidWlsZCBwZXIgcHJvY2Vzcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTAwMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIFJlZmVyZW5jZSB0byB0aGUgc291cmNlIEJhc2VUZXh0dXJlIG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBTcHJpdGVzaGVldCBpbWFnZSBkYXRhLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Jlc29sdXRpb25GaWxlbmFtZV0gLSBUaGUgZmlsZW5hbWUgdG8gY29uc2lkZXIgd2hlbiBkZXRlcm1pbmluZ1xuICAgICAgICAgKiAgICAgICAgdGhlIHJlc29sdXRpb24gb2YgdGhlIHNwcml0ZXNoZWV0LiBJZiBub3QgcHJvdmlkZWQsIHRoZSBpbWFnZVVybCB3aWxsXG4gICAgICAgICAqICAgICAgICBiZSB1c2VkIG9uIHRoZSBCYXNlVGV4dHVyZS5cbiAgICAgICAgICovXG5cbiAgICB9XSk7XG5cbiAgICBmdW5jdGlvbiBTcHJpdGVzaGVldChiYXNlVGV4dHVyZSwgZGF0YSkge1xuICAgICAgICB2YXIgcmVzb2x1dGlvbkZpbGVuYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTcHJpdGVzaGVldCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aHMgc291cmNlIHRleHR1cmVcbiAgICAgICAgICogQHR5cGUge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcCBvZiBzcHJpdGVzaGVldCB0ZXh0dXJlcy5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCBKU09OIGRhdGEuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgc3ByaXRlc2hlZXQuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSB0aGlzLl91cGRhdGVSZXNvbHV0aW9uKHJlc29sdXRpb25GaWxlbmFtZSB8fCB0aGlzLmJhc2VUZXh0dXJlLmltYWdlVXJsKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFwIG9mIHNwcml0ZXNoZWV0IGZyYW1lcy5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZyYW1lcyA9IHRoaXMuZGF0YS5mcmFtZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgZnJhbWUgbmFtZXMuXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmdbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZyYW1lS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX2ZyYW1lcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgYmF0Y2ggaW5kZXggYmVpbmcgcHJvY2Vzc2VkLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIHdoZW4gcGFyc2UgaXMgY29tcGxldGVkLlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgdGhlIHJlc29sdXRpb24gZnJvbSB0aGUgZmlsZW5hbWUgb3IgZmFsbGJhY2tcbiAgICAgKiB0byB0aGUgbWV0YS5zY2FsZSBmaWVsZCBvZiB0aGUgSlNPTiBkYXRhLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVzb2x1dGlvbkZpbGVuYW1lIC0gVGhlIGZpbGVuYW1lIHRvIHVzZSBmb3IgcmVzb2x2aW5nXG4gICAgICogICAgICAgIHRoZSBkZWZhdWx0IHJlc29sdXRpb24uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBSZXNvbHV0aW9uIHRvIHVzZSBmb3Igc3ByaXRlc2hlZXQuXG4gICAgICovXG5cblxuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fdXBkYXRlUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIF91cGRhdGVSZXNvbHV0aW9uKHJlc29sdXRpb25GaWxlbmFtZSkge1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLmRhdGEubWV0YS5zY2FsZTtcblxuICAgICAgICAvLyBVc2UgYSBkZWZhdWx0VmFsdWUgb2YgYG51bGxgIHRvIGNoZWNrIGlmIGEgdXJsLWJhc2VkIHJlc29sdXRpb24gaXMgc2V0XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gKDAsIF91dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwpKHJlc29sdXRpb25GaWxlbmFtZSwgbnVsbCk7XG5cbiAgICAgICAgLy8gTm8gcmVzb2x1dGlvbiBmb3VuZCB2aWEgVVJMXG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIHNjYWxlIHZhbHVlIG9yIGRlZmF1bHQgdG8gMVxuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHNjYWxlICE9PSB1bmRlZmluZWQgPyBwYXJzZUZsb2F0KHNjYWxlKSA6IDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3Igbm9uLTEgcmVzb2x1dGlvbnMsIHVwZGF0ZSBiYXNlVGV4dHVyZVxuICAgICAgICBpZiAocmVzb2x1dGlvbiAhPT0gMSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFyc2VyIHNwcml0ZXNoZWV0IGZyb20gbG9hZGVkIGRhdGEuIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseVxuICAgICAqIHRvIHByZXZlbnQgY3JlYXRpbmcgdG9vIG1hbnkgVGV4dHVyZSB3aXRoaW4gYSBzaW5nbGUgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZSByZXR1cm5zXG4gICAgICogICAgICAgIGEgbWFwIG9mIHRoZSBUZXh0dXJlcyBmb3IgdGhpcyBzcHJpdGVzaGVldC5cbiAgICAgKi9cblxuXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGggPD0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSkge1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcygwKTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX25leHRCYXRjaCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgYSBiYXRjaCBvZiBmcmFtZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluaXRpYWxGcmFtZUluZGV4IC0gVGhlIGluZGV4IG9mIGZyYW1lIHRvIHN0YXJ0LlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3Byb2Nlc3NGcmFtZXMgPSBmdW5jdGlvbiBfcHJvY2Vzc0ZyYW1lcyhpbml0aWFsRnJhbWVJbmRleCkge1xuICAgICAgICB2YXIgZnJhbWVJbmRleCA9IGluaXRpYWxGcmFtZUluZGV4O1xuICAgICAgICB2YXIgbWF4RnJhbWVzID0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRTtcbiAgICAgICAgdmFyIHNvdXJjZVNjYWxlID0gdGhpcy5iYXNlVGV4dHVyZS5zb3VyY2VTY2FsZTtcblxuICAgICAgICB3aGlsZSAoZnJhbWVJbmRleCAtIGluaXRpYWxGcmFtZUluZGV4IDwgbWF4RnJhbWVzICYmIGZyYW1lSW5kZXggPCB0aGlzLl9mcmFtZUtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMuX2ZyYW1lS2V5c1tmcmFtZUluZGV4XTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZnJhbWVzW2ldO1xuICAgICAgICAgICAgdmFyIHJlY3QgPSBkYXRhLmZyYW1lO1xuXG4gICAgICAgICAgICBpZiAocmVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIHRyaW0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2VTaXplID0gZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNvdXJjZVNpemUgPyBkYXRhLnNvdXJjZVNpemUgOiBkYXRhLmZyYW1lO1xuXG4gICAgICAgICAgICAgICAgdmFyIG9yaWcgPSBuZXcgXy5SZWN0YW5nbGUoMCwgMCwgTWF0aC5mbG9vcihzb3VyY2VTaXplLncgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3Ioc291cmNlU2l6ZS5oICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnJvdGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUgPSBuZXcgXy5SZWN0YW5nbGUoTWF0aC5mbG9vcihyZWN0LnggKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC55ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IF8uUmVjdGFuZ2xlKE1hdGguZmxvb3IocmVjdC54ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QueSAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC5oICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyAgQ2hlY2sgdG8gc2VlIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZFxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc3ByaXRlU291cmNlU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICB0cmltID0gbmV3IF8uUmVjdGFuZ2xlKE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLnggKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLnkgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC53ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlc1tpXSA9IG5ldyBfLlRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSwgZnJhbWUsIG9yaWcsIHRyaW0sIGRhdGEucm90YXRlZCA/IDIgOiAwKTtcblxuICAgICAgICAgICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yIGZyb21GcmFtZSBhbmQgZnJvbUltYWdlIGZ1bmN0aW9uc1xuICAgICAgICAgICAgICAgIF8uVGV4dHVyZS5hZGRUb0NhY2hlKHRoaXMudGV4dHVyZXNbaV0sIGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcmFtZUluZGV4Kys7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBhcnNlIGhhcyBjb21wbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3BhcnNlQ29tcGxldGUgPSBmdW5jdGlvbiBfcGFyc2VDb21wbGV0ZSgpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGhpcy5fY2FsbGJhY2s7XG5cbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCB0aGlzLnRleHR1cmVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmVnaW4gdGhlIG5leHQgYmF0Y2ggb2YgdGV4dHVyZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX25leHRCYXRjaCA9IGZ1bmN0aW9uIF9uZXh0QmF0Y2goKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcyh0aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSk7XG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXgrKztcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX2JhdGNoSW5kZXggKiBTcHJpdGVzaGVldC5CQVRDSF9TSVpFIDwgX3RoaXMuX2ZyYW1lS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fbmV4dEJhdGNoKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IFNwcml0ZXNoZWV0IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gICAgICovXG5cblxuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdmFyIGRlc3Ryb3lCYXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGV4dHVyZXMpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZXNbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZyYW1lcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZyYW1lS2V5cyA9IG51bGw7XG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSBudWxsO1xuICAgICAgICBpZiAoZGVzdHJveUJhc2UpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3ByaXRlc2hlZXQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNwcml0ZXNoZWV0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ByaXRlc2hlZXQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlcicpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdCB0aGV5XG4gKiBub3cgc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgQ2FudmFzR3JhcGhpY3NSZW5kZXJlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvMS4wLjAvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2dsdXRpbHMvU2hhcGVSZW5kZXJlci5qYXZhXG4gKi9cblxuLyoqXG4gKiBSZW5kZXJlciBkZWRpY2F0ZWQgdG8gZHJhd2luZyBhbmQgYmF0Y2hpbmcgZ3JhcGhpY3Mgb2JqZWN0cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ2FudmFzR3JhcGhpY3NSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIGN1cnJlbnQgUElYSSByZW5kZXJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNHcmFwaGljc1JlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNHcmFwaGljc1JlbmRlcmVyKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIEdyYXBoaWNzIG9iamVjdCB0byBhIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3MgLSB0aGUgYWN0dWFsIGdyYXBoaWNzIG9iamVjdCB0byByZW5kZXJcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKGdyYXBoaWNzKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBjb250ZXh0ID0gcmVuZGVyZXIuY29udGV4dDtcbiAgICAgICAgdmFyIHdvcmxkQWxwaGEgPSBncmFwaGljcy53b3JsZEFscGhhO1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gZ3JhcGhpY3MudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgLy8gaWYgdGhlIHRpbnQgaGFzIGNoYW5nZWQsIHNldCB0aGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIGRpcnR5LlxuICAgICAgICBpZiAodGhpcy5fcHJldlRpbnQgIT09IHRoaXMudGludCkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5iICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmMgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uZCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb24pO1xuXG4gICAgICAgIGlmIChncmFwaGljcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVHcmFwaGljc1RpbnQoZ3JhcGhpY3MpO1xuICAgICAgICAgICAgZ3JhcGhpY3MuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZShncmFwaGljcy5ibGVuZE1vZGUpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGhpY3MuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBzaGFwZSA9IGRhdGEuc2hhcGU7XG5cbiAgICAgICAgICAgIHZhciBmaWxsQ29sb3IgPSBkYXRhLl9maWxsVGludDtcbiAgICAgICAgICAgIHZhciBsaW5lQ29sb3IgPSBkYXRhLl9saW5lVGludDtcblxuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBkYXRhLmxpbmVXaWR0aDtcblxuICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5QT0xZKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUG9seWdvbihzaGFwZS5wb2ludHMsIHNoYXBlLmNsb3NlZCwgY29udGV4dCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGEuaG9sZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQb2x5Z29uKGRhdGEuaG9sZXNbal0ucG9pbnRzLCB0cnVlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5maWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmZpbGxBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAoZmlsbENvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmxpbmVBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChsaW5lQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUkVDVCkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbGxDb2xvciB8fCBkYXRhLmZpbGxDb2xvciA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5maWxsQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGZpbGxDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdChzaGFwZS54LCBzaGFwZS55LCBzaGFwZS53aWR0aCwgc2hhcGUuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmxpbmVBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChsaW5lQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlUmVjdChzaGFwZS54LCBzaGFwZS55LCBzaGFwZS53aWR0aCwgc2hhcGUuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5DSVJDKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyAtIG5lZWQgdG8gYmUgVW5kZWZpbmVkIVxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEuZmlsbEFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChmaWxsQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEubGluZUFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGxpbmVDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5FTElQKSB7XG4gICAgICAgICAgICAgICAgLy8gZWxsaXBzZSBjb2RlIHRha2VuIGZyb206IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjE3Mjc5OC9ob3ctdG8tZHJhdy1hbi1vdmFsLWluLWh0bWw1LWNhbnZhc1xuXG4gICAgICAgICAgICAgICAgdmFyIHcgPSBzaGFwZS53aWR0aCAqIDI7XG4gICAgICAgICAgICAgICAgdmFyIGggPSBzaGFwZS5oZWlnaHQgKiAyO1xuXG4gICAgICAgICAgICAgICAgdmFyIHggPSBzaGFwZS54IC0gdyAvIDI7XG4gICAgICAgICAgICAgICAgdmFyIHkgPSBzaGFwZS55IC0gaCAvIDI7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGthcHBhID0gMC41NTIyODQ4O1xuICAgICAgICAgICAgICAgIHZhciBveCA9IHcgLyAyICoga2FwcGE7IC8vIGNvbnRyb2wgcG9pbnQgb2Zmc2V0IGhvcml6b250YWxcbiAgICAgICAgICAgICAgICB2YXIgb3kgPSBoIC8gMiAqIGthcHBhOyAvLyBjb250cm9sIHBvaW50IG9mZnNldCB2ZXJ0aWNhbFxuICAgICAgICAgICAgICAgIHZhciB4ZSA9IHggKyB3OyAvLyB4LWVuZFxuICAgICAgICAgICAgICAgIHZhciB5ZSA9IHkgKyBoOyAvLyB5LWVuZFxuICAgICAgICAgICAgICAgIHZhciB4bSA9IHggKyB3IC8gMjsgLy8geC1taWRkbGVcbiAgICAgICAgICAgICAgICB2YXIgeW0gPSB5ICsgaCAvIDI7IC8vIHktbWlkZGxlXG5cbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4LCB5bSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHgsIHltIC0gb3ksIHhtIC0gb3gsIHksIHhtLCB5KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oeG0gKyBveCwgeSwgeGUsIHltIC0gb3ksIHhlLCB5bSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhlLCB5bSArIG95LCB4bSArIG94LCB5ZSwgeG0sIHllKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oeG0gLSBveCwgeWUsIHgsIHltICsgb3ksIHgsIHltKTtcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5maWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmZpbGxBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAoZmlsbENvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmxpbmVBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChsaW5lQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUlJFQykge1xuICAgICAgICAgICAgICAgIHZhciByeCA9IHNoYXBlLng7XG4gICAgICAgICAgICAgICAgdmFyIHJ5ID0gc2hhcGUueTtcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBzaGFwZS53aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gc2hhcGUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHZhciByYWRpdXMgPSBzaGFwZS5yYWRpdXM7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWF4UmFkaXVzID0gTWF0aC5taW4od2lkdGgsIGhlaWdodCkgLyAyIHwgMDtcblxuICAgICAgICAgICAgICAgIHJhZGl1cyA9IHJhZGl1cyA+IG1heFJhZGl1cyA/IG1heFJhZGl1cyA6IHJhZGl1cztcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocngsIHJ5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCwgcnkgKyBoZWlnaHQgLSByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCwgcnkgKyBoZWlnaHQsIHJ4ICsgcmFkaXVzLCByeSArIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocnggKyB3aWR0aCAtIHJhZGl1cywgcnkgKyBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCArIHdpZHRoLCByeSArIGhlaWdodCwgcnggKyB3aWR0aCwgcnkgKyBoZWlnaHQgLSByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4ICsgd2lkdGgsIHJ5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8ocnggKyB3aWR0aCwgcnksIHJ4ICsgd2lkdGggLSByYWRpdXMsIHJ5KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCArIHJhZGl1cywgcnkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCwgcnksIHJ4LCByeSArIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbGxDb2xvciB8fCBkYXRhLmZpbGxDb2xvciA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5maWxsQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGZpbGxDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmxpbmVBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChsaW5lQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRpbnQgb2YgYSBncmFwaGljcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIHRoZSBncmFwaGljcyB0aGF0IHdpbGwgaGF2ZSBpdHMgdGludCB1cGRhdGVkXG4gICAgICovXG5cblxuICAgIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLnVwZGF0ZUdyYXBoaWNzVGludCA9IGZ1bmN0aW9uIHVwZGF0ZUdyYXBoaWNzVGludChncmFwaGljcykge1xuICAgICAgICBncmFwaGljcy5fcHJldlRpbnQgPSBncmFwaGljcy50aW50O1xuXG4gICAgICAgIHZhciB0aW50UiA9IChncmFwaGljcy50aW50ID4+IDE2ICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciB0aW50RyA9IChncmFwaGljcy50aW50ID4+IDggJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIHRpbnRCID0gKGdyYXBoaWNzLnRpbnQgJiAweEZGKSAvIDI1NTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyYXBoaWNzLmdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljcy5ncmFwaGljc0RhdGFbaV07XG5cbiAgICAgICAgICAgIHZhciBmaWxsQ29sb3IgPSBkYXRhLmZpbGxDb2xvciB8IDA7XG4gICAgICAgICAgICB2YXIgbGluZUNvbG9yID0gZGF0YS5saW5lQ29sb3IgfCAwO1xuXG4gICAgICAgICAgICAvLyBzdXBlciBpbmxpbmUgY29zIGltIGFuIG9wdGltaXphdGlvbiBOQVpJIDopXG4gICAgICAgICAgICBkYXRhLl9maWxsVGludCA9ICgoZmlsbENvbG9yID4+IDE2ICYgMHhGRikgLyAyNTUgKiB0aW50UiAqIDI1NSA8PCAxNikgKyAoKGZpbGxDb2xvciA+PiA4ICYgMHhGRikgLyAyNTUgKiB0aW50RyAqIDI1NSA8PCA4KSArIChmaWxsQ29sb3IgJiAweEZGKSAvIDI1NSAqIHRpbnRCICogMjU1O1xuXG4gICAgICAgICAgICBkYXRhLl9saW5lVGludCA9ICgobGluZUNvbG9yID4+IDE2ICYgMHhGRikgLyAyNTUgKiB0aW50UiAqIDI1NSA8PCAxNikgKyAoKGxpbmVDb2xvciA+PiA4ICYgMHhGRikgLyAyNTUgKiB0aW50RyAqIDI1NSA8PCA4KSArIChsaW5lQ29sb3IgJiAweEZGKSAvIDI1NSAqIHRpbnRCICogMjU1O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBwb2x5Z29uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50W119IHBvaW50cyAtIFRoZSBwb2ludHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbG9zZSAtIFNob3VsZCB0aGUgcG9seWdvbiBiZSBjbG9zZWRcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCAtIFRoZSByZW5kZXJpbmcgY29udGV4dCB0byB1c2VcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyUG9seWdvbiA9IGZ1bmN0aW9uIHJlbmRlclBvbHlnb24ocG9pbnRzLCBjbG9zZSwgY29udGV4dCkge1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyhwb2ludHNbMF0sIHBvaW50c1sxXSk7XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBwb2ludHMubGVuZ3RoIC8gMjsgKytqKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhwb2ludHNbaiAqIDJdLCBwb2ludHNbaiAqIDIgKyAxXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2xvc2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZGVzdHJveSBncmFwaGljcyBvYmplY3RcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNHcmFwaGljc1JlbmRlcmVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNHcmFwaGljc1JlbmRlcmVyO1xuXG5cbl9DYW52YXNSZW5kZXJlcjIuZGVmYXVsdC5yZWdpc3RlclBsdWdpbignZ3JhcGhpY3MnLCBDYW52YXNHcmFwaGljc1JlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc0dyYXBoaWNzUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gYnVpbGRDaXJjbGU7XG5cbnZhciBfYnVpbGRMaW5lID0gcmVxdWlyZSgnLi9idWlsZExpbmUnKTtcblxudmFyIF9idWlsZExpbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnVpbGRMaW5lKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIEJ1aWxkcyBhIGNpcmNsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCB0byBkcmF3XG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xuZnVuY3Rpb24gYnVpbGRDaXJjbGUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKSB7XG4gICAgLy8gbmVlZCB0byBjb252ZXJ0IHBvaW50cyB0byBhIG5pY2UgcmVndWxhciBkYXRhXG4gICAgdmFyIGNpcmNsZURhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgdmFyIHggPSBjaXJjbGVEYXRhLng7XG4gICAgdmFyIHkgPSBjaXJjbGVEYXRhLnk7XG4gICAgdmFyIHdpZHRoID0gdm9pZCAwO1xuICAgIHZhciBoZWlnaHQgPSB2b2lkIDA7XG5cbiAgICAvLyBUT0RPIC0gYml0IGhhY2t5Pz9cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuQ0lSQykge1xuICAgICAgICB3aWR0aCA9IGNpcmNsZURhdGEucmFkaXVzO1xuICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLnJhZGl1cztcbiAgICB9IGVsc2Uge1xuICAgICAgICB3aWR0aCA9IGNpcmNsZURhdGEud2lkdGg7XG4gICAgICAgIGhlaWdodCA9IGNpcmNsZURhdGEuaGVpZ2h0O1xuICAgIH1cblxuICAgIGlmICh3aWR0aCA9PT0gMCB8fCBoZWlnaHQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0b3RhbFNlZ3MgPSBNYXRoLmZsb29yKDMwICogTWF0aC5zcXJ0KGNpcmNsZURhdGEucmFkaXVzKSkgfHwgTWF0aC5mbG9vcigxNSAqIE1hdGguc3FydChjaXJjbGVEYXRhLndpZHRoICsgY2lyY2xlRGF0YS5oZWlnaHQpKTtcblxuICAgIHZhciBzZWcgPSBNYXRoLlBJICogMiAvIHRvdGFsU2VncztcblxuICAgIGlmIChncmFwaGljc0RhdGEuZmlsbCkge1xuICAgICAgICB2YXIgY29sb3IgPSAoMCwgX3V0aWxzLmhleDJyZ2IpKGdyYXBoaWNzRGF0YS5maWxsQ29sb3IpO1xuICAgICAgICB2YXIgYWxwaGEgPSBncmFwaGljc0RhdGEuZmlsbEFscGhhO1xuXG4gICAgICAgIHZhciByID0gY29sb3JbMF0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGcgPSBjb2xvclsxXSAqIGFscGhhO1xuICAgICAgICB2YXIgYiA9IGNvbG9yWzJdICogYWxwaGE7XG5cbiAgICAgICAgdmFyIHZlcnRzID0gd2ViR0xEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSB3ZWJHTERhdGEuaW5kaWNlcztcblxuICAgICAgICB2YXIgdmVjUG9zID0gdmVydHMubGVuZ3RoIC8gNjtcblxuICAgICAgICBpbmRpY2VzLnB1c2godmVjUG9zKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsU2VncyArIDE7IGkrKykge1xuICAgICAgICAgICAgdmVydHMucHVzaCh4LCB5LCByLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2goeCArIE1hdGguc2luKHNlZyAqIGkpICogd2lkdGgsIHkgKyBNYXRoLmNvcyhzZWcgKiBpKSAqIGhlaWdodCwgciwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godmVjUG9zKyssIHZlY1BvcysrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGluZGljZXMucHVzaCh2ZWNQb3MgLSAxKTtcbiAgICB9XG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICB2YXIgdGVtcFBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0b3RhbFNlZ3MgKyAxOyBfaSsrKSB7XG4gICAgICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzLnB1c2goeCArIE1hdGguc2luKHNlZyAqIF9pKSAqIHdpZHRoLCB5ICsgTWF0aC5jb3Moc2VnICogX2kpICogaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgICgwLCBfYnVpbGRMaW5lMi5kZWZhdWx0KShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSB0ZW1wUG9pbnRzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkQ2lyY2xlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJ1aWxkUm91bmRlZFJlY3RhbmdsZTtcblxudmFyIF9lYXJjdXQgPSByZXF1aXJlKCdlYXJjdXQnKTtcblxudmFyIF9lYXJjdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWFyY3V0KTtcblxudmFyIF9idWlsZExpbmUgPSByZXF1aXJlKCcuL2J1aWxkTGluZScpO1xuXG52YXIgX2J1aWxkTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZExpbmUpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBCdWlsZHMgYSByb3VuZGVkIHJlY3RhbmdsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5mdW5jdGlvbiBidWlsZFJvdW5kZWRSZWN0YW5nbGUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKSB7XG4gICAgdmFyIHJyZWN0RGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgeCA9IHJyZWN0RGF0YS54O1xuICAgIHZhciB5ID0gcnJlY3REYXRhLnk7XG4gICAgdmFyIHdpZHRoID0gcnJlY3REYXRhLndpZHRoO1xuICAgIHZhciBoZWlnaHQgPSBycmVjdERhdGEuaGVpZ2h0O1xuXG4gICAgdmFyIHJhZGl1cyA9IHJyZWN0RGF0YS5yYWRpdXM7XG5cbiAgICB2YXIgcmVjUG9pbnRzID0gW107XG5cbiAgICByZWNQb2ludHMucHVzaCh4LCB5ICsgcmFkaXVzKTtcbiAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4LCB5ICsgaGVpZ2h0IC0gcmFkaXVzLCB4LCB5ICsgaGVpZ2h0LCB4ICsgcmFkaXVzLCB5ICsgaGVpZ2h0LCByZWNQb2ludHMpO1xuICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyB3aWR0aCAtIHJhZGl1cywgeSArIGhlaWdodCwgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQgLSByYWRpdXMsIHJlY1BvaW50cyk7XG4gICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHdpZHRoLCB5ICsgcmFkaXVzLCB4ICsgd2lkdGgsIHksIHggKyB3aWR0aCAtIHJhZGl1cywgeSwgcmVjUG9pbnRzKTtcbiAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgcmFkaXVzLCB5LCB4LCB5LCB4LCB5ICsgcmFkaXVzICsgMC4wMDAwMDAwMDAxLCByZWNQb2ludHMpO1xuXG4gICAgLy8gdGhpcyB0aW55IG51bWJlciBkZWFscyB3aXRoIHRoZSBpc3N1ZSB0aGF0IG9jY3VycyB3aGVuIHBvaW50cyBvdmVybGFwIGFuZCBlYXJjdXQgZmFpbHMgdG8gdHJpYW5ndWxhdGUgdGhlIGl0ZW0uXG4gICAgLy8gVE9ETyAtIGZpeCB0aGlzIHByb3Blcmx5LCB0aGlzIGlzIG5vdCB2ZXJ5IGVsZWdhbnQuLiBidXQgaXQgd29ya3MgZm9yIG5vdy5cblxuICAgIGlmIChncmFwaGljc0RhdGEuZmlsbCkge1xuICAgICAgICB2YXIgY29sb3IgPSAoMCwgX3V0aWxzLmhleDJyZ2IpKGdyYXBoaWNzRGF0YS5maWxsQ29sb3IpO1xuICAgICAgICB2YXIgYWxwaGEgPSBncmFwaGljc0RhdGEuZmlsbEFscGhhO1xuXG4gICAgICAgIHZhciByID0gY29sb3JbMF0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGcgPSBjb2xvclsxXSAqIGFscGhhO1xuICAgICAgICB2YXIgYiA9IGNvbG9yWzJdICogYWxwaGE7XG5cbiAgICAgICAgdmFyIHZlcnRzID0gd2ViR0xEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSB3ZWJHTERhdGEuaW5kaWNlcztcblxuICAgICAgICB2YXIgdmVjUG9zID0gdmVydHMubGVuZ3RoIC8gNjtcblxuICAgICAgICB2YXIgdHJpYW5nbGVzID0gKDAsIF9lYXJjdXQyLmRlZmF1bHQpKHJlY1BvaW50cywgbnVsbCwgMik7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0cmlhbmdsZXMubGVuZ3RoOyBpIDwgajsgaSArPSAzKSB7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2ldICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMl0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMl0gKyB2ZWNQb3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfaiA9IHJlY1BvaW50cy5sZW5ndGg7IF9pIDwgX2o7IF9pKyspIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocmVjUG9pbnRzW19pXSwgcmVjUG9pbnRzWysrX2ldLCByLCBnLCBiLCBhbHBoYSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICB2YXIgdGVtcFBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IHJlY1BvaW50cztcblxuICAgICAgICAoMCwgX2J1aWxkTGluZTIuZGVmYXVsdCkoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gdGVtcFBvaW50cztcbiAgICB9XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIGEgc2luZ2xlIHBvaW50IGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHVzZWQgYnkgcXVhZHJhdGljQmV6aWVyQ3VydmUuXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4xIC0gZmlyc3QgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gbjIgLSBzZWNvbmQgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gcGVyYyAtIHBlcmNlbnRhZ2VcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIHJlc3VsdFxuICpcbiAqL1xuZnVuY3Rpb24gZ2V0UHQobjEsIG4yLCBwZXJjKSB7XG4gICAgdmFyIGRpZmYgPSBuMiAtIG4xO1xuXG4gICAgcmV0dXJuIG4xICsgZGlmZiAqIHBlcmM7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZS4gKGhlbHBlciBmdW5jdGlvbi4uKVxuICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSBPcmlnaW4gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJbXX0gW291dD1bXV0gLSBUaGUgb3V0cHV0IGFycmF5IHRvIGFkZCBwb2ludHMgaW50by4gSWYgbm90IHBhc3NlZCwgYSBuZXcgYXJyYXkgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge251bWJlcltdfSBhbiBhcnJheSBvZiBwb2ludHNcbiAqL1xuZnVuY3Rpb24gcXVhZHJhdGljQmV6aWVyQ3VydmUoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgdG9YLCB0b1kpIHtcbiAgICB2YXIgb3V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDYgJiYgYXJndW1lbnRzWzZdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNl0gOiBbXTtcblxuICAgIHZhciBuID0gMjA7XG4gICAgdmFyIHBvaW50cyA9IG91dDtcblxuICAgIHZhciB4YSA9IDA7XG4gICAgdmFyIHlhID0gMDtcbiAgICB2YXIgeGIgPSAwO1xuICAgIHZhciB5YiA9IDA7XG4gICAgdmFyIHggPSAwO1xuICAgIHZhciB5ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgaiA9IGkgLyBuO1xuXG4gICAgICAgIC8vIFRoZSBHcmVlbiBMaW5lXG4gICAgICAgIHhhID0gZ2V0UHQoZnJvbVgsIGNwWCwgaik7XG4gICAgICAgIHlhID0gZ2V0UHQoZnJvbVksIGNwWSwgaik7XG4gICAgICAgIHhiID0gZ2V0UHQoY3BYLCB0b1gsIGopO1xuICAgICAgICB5YiA9IGdldFB0KGNwWSwgdG9ZLCBqKTtcblxuICAgICAgICAvLyBUaGUgQmxhY2sgRG90XG4gICAgICAgIHggPSBnZXRQdCh4YSwgeGIsIGopO1xuICAgICAgICB5ID0gZ2V0UHQoeWEsIHliLCBqKTtcblxuICAgICAgICBwb2ludHMucHVzaCh4LCB5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9pbnRzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRSb3VuZGVkUmVjdGFuZ2xlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJ1aWxkUmVjdGFuZ2xlO1xuXG52YXIgX2J1aWxkTGluZSA9IHJlcXVpcmUoJy4vYnVpbGRMaW5lJyk7XG5cbnZhciBfYnVpbGRMaW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1aWxkTGluZSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIEJ1aWxkcyBhIHJlY3RhbmdsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5mdW5jdGlvbiBidWlsZFJlY3RhbmdsZShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpIHtcbiAgICAvLyAtLS0gLy9cbiAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICAvL1xuICAgIHZhciByZWN0RGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgeCA9IHJlY3REYXRhLng7XG4gICAgdmFyIHkgPSByZWN0RGF0YS55O1xuICAgIHZhciB3aWR0aCA9IHJlY3REYXRhLndpZHRoO1xuICAgIHZhciBoZWlnaHQgPSByZWN0RGF0YS5oZWlnaHQ7XG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmZpbGwpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljc0RhdGEuZmlsbENvbG9yKTtcbiAgICAgICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmZpbGxBbHBoYTtcblxuICAgICAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgICAgIHZhciBnID0gY29sb3JbMV0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgICAgIHZhciB2ZXJ0cyA9IHdlYkdMRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gd2ViR0xEYXRhLmluZGljZXM7XG5cbiAgICAgICAgdmFyIHZlcnRQb3MgPSB2ZXJ0cy5sZW5ndGggLyA2O1xuXG4gICAgICAgIC8vIHN0YXJ0XG4gICAgICAgIHZlcnRzLnB1c2goeCwgeSk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgIHZlcnRzLnB1c2goeCArIHdpZHRoLCB5KTtcbiAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgdmVydHMucHVzaCh4LCB5ICsgaGVpZ2h0KTtcbiAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgdmVydHMucHVzaCh4ICsgd2lkdGgsIHkgKyBoZWlnaHQpO1xuICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAvLyBpbnNlcnQgMiBkZWFkIHRyaWFuZ2xlcy4uXG4gICAgICAgIGluZGljZXMucHVzaCh2ZXJ0UG9zLCB2ZXJ0UG9zLCB2ZXJ0UG9zICsgMSwgdmVydFBvcyArIDIsIHZlcnRQb3MgKyAzLCB2ZXJ0UG9zICsgMyk7XG4gICAgfVxuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgdmFyIHRlbXBQb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSBbeCwgeSwgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQsIHgsIHldO1xuXG4gICAgICAgICgwLCBfYnVpbGRMaW5lMi5kZWZhdWx0KShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSB0ZW1wUG9pbnRzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkUmVjdGFuZ2xlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJ1aWxkUG9seTtcblxudmFyIF9idWlsZExpbmUgPSByZXF1aXJlKCcuL2J1aWxkTGluZScpO1xuXG52YXIgX2J1aWxkTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZExpbmUpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMnKTtcblxudmFyIF9lYXJjdXQgPSByZXF1aXJlKCdlYXJjdXQnKTtcblxudmFyIF9lYXJjdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWFyY3V0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBCdWlsZHMgYSBwb2x5Z29uIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUG9seShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpIHtcbiAgICBncmFwaGljc0RhdGEucG9pbnRzID0gZ3JhcGhpY3NEYXRhLnNoYXBlLnBvaW50cy5zbGljZSgpO1xuXG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmZpbGwgJiYgcG9pbnRzLmxlbmd0aCA+PSA2KSB7XG4gICAgICAgIHZhciBob2xlQXJyYXkgPSBbXTtcbiAgICAgICAgLy8gUHJvY2VzcyBob2xlcy4uXG4gICAgICAgIHZhciBob2xlcyA9IGdyYXBoaWNzRGF0YS5ob2xlcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaG9sZSA9IGhvbGVzW2ldO1xuXG4gICAgICAgICAgICBob2xlQXJyYXkucHVzaChwb2ludHMubGVuZ3RoIC8gMik7XG5cbiAgICAgICAgICAgIHBvaW50cyA9IHBvaW50cy5jb25jYXQoaG9sZS5wb2ludHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGZpcnN0IGFuZCBsYXN0IHBvaW50Li4gZmlndXJlIG91dCB0aGUgbWlkZGxlIVxuICAgICAgICB2YXIgdmVydHMgPSB3ZWJHTERhdGEucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IHdlYkdMRGF0YS5pbmRpY2VzO1xuXG4gICAgICAgIHZhciBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcblxuICAgICAgICAvLyBzb3J0IGNvbG9yXG4gICAgICAgIHZhciBjb2xvciA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3NEYXRhLmZpbGxDb2xvcik7XG4gICAgICAgIHZhciBhbHBoYSA9IGdyYXBoaWNzRGF0YS5maWxsQWxwaGE7XG4gICAgICAgIHZhciByID0gY29sb3JbMF0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGcgPSBjb2xvclsxXSAqIGFscGhhO1xuICAgICAgICB2YXIgYiA9IGNvbG9yWzJdICogYWxwaGE7XG5cbiAgICAgICAgdmFyIHRyaWFuZ2xlcyA9ICgwLCBfZWFyY3V0Mi5kZWZhdWx0KShwb2ludHMsIGhvbGVBcnJheSwgMik7XG5cbiAgICAgICAgaWYgKCF0cmlhbmdsZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gNjtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdHJpYW5nbGVzLmxlbmd0aDsgX2kgKz0gMykge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tfaV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbX2ldICsgdmVydFBvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW19pICsgMV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbX2kgKyAyXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tfaSArIDJdICsgdmVydFBvcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBsZW5ndGg7IF9pMisrKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tfaTIgKiAyXSwgcG9pbnRzW19pMiAqIDIgKyAxXSwgciwgZywgYiwgYWxwaGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGggPiAwKSB7XG4gICAgICAgICgwLCBfYnVpbGRMaW5lMi5kZWZhdWx0KShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkUG9seS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfU2hhZGVyMiA9IHJlcXVpcmUoJy4uLy4uLy4uL1NoYWRlcicpO1xuXG52YXIgX1NoYWRlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaGFkZXIyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoaXMgc2hhZGVyIGlzIHVzZWQgdG8gZHJhdyBzaW1wbGUgcHJpbWl0aXZlIHNoYXBlcyBmb3Ige0BsaW5rIFBJWEkuR3JhcGhpY3N9LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKi9cbnZhciBQcmltaXRpdmVTaGFkZXIgPSBmdW5jdGlvbiAoX1NoYWRlcikge1xuICAgIF9pbmhlcml0cyhQcmltaXRpdmVTaGFkZXIsIF9TaGFkZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHdlYmdsIHNoYWRlciBtYW5hZ2VyIHRoaXMgc2hhZGVyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQcmltaXRpdmVTaGFkZXIoZ2wpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByaW1pdGl2ZVNoYWRlcik7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9TaGFkZXIuY2FsbCh0aGlzLCBnbCxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICBbJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjsnLCAnYXR0cmlidXRlIHZlYzQgYUNvbG9yOycsICd1bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7JywgJ3VuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4OycsICd1bmlmb3JtIGZsb2F0IGFscGhhOycsICd1bmlmb3JtIHZlYzMgdGludDsnLCAndmFyeWluZyB2ZWM0IHZDb2xvcjsnLCAndm9pZCBtYWluKHZvaWQpeycsICcgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApOycsICcgICB2Q29sb3IgPSBhQ29sb3IgKiB2ZWM0KHRpbnQgKiBhbHBoYSwgYWxwaGEpOycsICd9J10uam9pbignXFxuJyksXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICBbJ3ZhcnlpbmcgdmVjNCB2Q29sb3I7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yOycsICd9J10uam9pbignXFxuJykpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJpbWl0aXZlU2hhZGVyO1xufShfU2hhZGVyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUHJpbWl0aXZlU2hhZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJpbWl0aXZlU2hhZGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfcGl4aUdsQ29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBBbiBvYmplY3QgY29udGFpbmluZyBXZWJHTCBzcGVjaWZpYyBwcm9wZXJ0aWVzIHRvIGJlIHVzZWQgYnkgdGhlIFdlYkdMIHJlbmRlcmVyXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFdlYkdMR3JhcGhpY3NEYXRhID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IHNoYWRlciAtIFRoZSBzaGFkZXJcbiAgICogQHBhcmFtIHtvYmplY3R9IGF0dHJpYnNTdGF0ZSAtIFRoZSBzdGF0ZSBmb3IgdGhlIFZBT1xuICAgKi9cbiAgZnVuY3Rpb24gV2ViR0xHcmFwaGljc0RhdGEoZ2wsIHNoYWRlciwgYXR0cmlic1N0YXRlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMR3JhcGhpY3NEYXRhKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAqL1xuICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgIC8vIFRPRE8gZG9lcyB0aGlzIG5lZWQgdG8gYmUgc3BsaXQgYmVmb3JlIHVwbG9hZGluZz8/XG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgY29sb3IgY29tcG9uZW50cyAocixnLGIpXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICovXG4gICAgdGhpcy5jb2xvciA9IFswLCAwLCAwXTsgLy8gY29sb3Igc3BsaXQhXG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBwb2ludHMgdG8gZHJhd1xuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnRbXX1cbiAgICAgKi9cbiAgICB0aGlzLnBvaW50cyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICovXG4gICAgdGhpcy5pbmRpY2VzID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIG1haW4gYnVmZmVyXG4gICAgICogQG1lbWJlciB7V2ViR0xCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5idWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IGJ1ZmZlclxuICAgICAqIEBtZW1iZXIge1dlYkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcihnbCk7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgZ3JhcGhpY3MgaXMgZGlydHkgb3Igbm90XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBncmFwaGljcyBpcyBuYXRpdmVMaW5lcyBvciBub3RcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubmF0aXZlTGluZXMgPSBmYWxzZTtcblxuICAgIHRoaXMuZ2xQb2ludHMgPSBudWxsO1xuICAgIHRoaXMuZ2xJbmRpY2VzID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICovXG4gICAgdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG5cbiAgICB0aGlzLnZhbyA9IG5ldyBfcGl4aUdsQ29yZTIuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdChnbCwgYXR0cmlic1N0YXRlKS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUodGhpcy5idWZmZXIsIHNoYWRlci5hdHRyaWJ1dGVzLmFWZXJ0ZXhQb3NpdGlvbiwgZ2wuRkxPQVQsIGZhbHNlLCA0ICogNiwgMCkuYWRkQXR0cmlidXRlKHRoaXMuYnVmZmVyLCBzaGFkZXIuYXR0cmlidXRlcy5hQ29sb3IsIGdsLkZMT0FULCBmYWxzZSwgNCAqIDYsIDIgKiA0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIHZlcnRpY2VzIGFuZCB0aGUgaW5kaWNlc1xuICAgKi9cblxuXG4gIFdlYkdMR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5pbmRpY2VzLmxlbmd0aCA9IDA7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIHRoZSBidWZmZXJzIGFuZCB1cGxvYWRzIHRoZSBkYXRhXG4gICAqL1xuXG5cbiAgV2ViR0xHcmFwaGljc0RhdGEucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCgpIHtcbiAgICB0aGlzLmdsUG9pbnRzID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnBvaW50cyk7XG4gICAgdGhpcy5idWZmZXIudXBsb2FkKHRoaXMuZ2xQb2ludHMpO1xuXG4gICAgdGhpcy5nbEluZGljZXMgPSBuZXcgVWludDE2QXJyYXkodGhpcy5pbmRpY2VzKTtcbiAgICB0aGlzLmluZGV4QnVmZmVyLnVwbG9hZCh0aGlzLmdsSW5kaWNlcyk7XG5cbiAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEVtcHRpZXMgYWxsIHRoZSBkYXRhXG4gICAqL1xuXG5cbiAgV2ViR0xHcmFwaGljc0RhdGEucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuY29sb3IgPSBudWxsO1xuICAgIHRoaXMucG9pbnRzID0gbnVsbDtcbiAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuXG4gICAgdGhpcy52YW8uZGVzdHJveSgpO1xuICAgIHRoaXMuYnVmZmVyLmRlc3Ryb3koKTtcbiAgICB0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKTtcblxuICAgIHRoaXMuZ2wgPSBudWxsO1xuXG4gICAgdGhpcy5idWZmZXIgPSBudWxsO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgdGhpcy5nbFBvaW50cyA9IG51bGw7XG4gICAgdGhpcy5nbEluZGljZXMgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBXZWJHTEdyYXBoaWNzRGF0YTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gV2ViR0xHcmFwaGljc0RhdGE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTEdyYXBoaWNzRGF0YS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxudmFyIF9PYmplY3RSZW5kZXJlcjIgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvT2JqZWN0UmVuZGVyZXInKTtcblxudmFyIF9PYmplY3RSZW5kZXJlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYmplY3RSZW5kZXJlcjIpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlcicpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xSZW5kZXJlcik7XG5cbnZhciBfV2ViR0xHcmFwaGljc0RhdGEgPSByZXF1aXJlKCcuL1dlYkdMR3JhcGhpY3NEYXRhJyk7XG5cbnZhciBfV2ViR0xHcmFwaGljc0RhdGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xHcmFwaGljc0RhdGEpO1xuXG52YXIgX1ByaW1pdGl2ZVNoYWRlciA9IHJlcXVpcmUoJy4vc2hhZGVycy9QcmltaXRpdmVTaGFkZXInKTtcblxudmFyIF9QcmltaXRpdmVTaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHJpbWl0aXZlU2hhZGVyKTtcblxudmFyIF9idWlsZFBvbHkgPSByZXF1aXJlKCcuL3V0aWxzL2J1aWxkUG9seScpO1xuXG52YXIgX2J1aWxkUG9seTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZFBvbHkpO1xuXG52YXIgX2J1aWxkUmVjdGFuZ2xlID0gcmVxdWlyZSgnLi91dGlscy9idWlsZFJlY3RhbmdsZScpO1xuXG52YXIgX2J1aWxkUmVjdGFuZ2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1aWxkUmVjdGFuZ2xlKTtcblxudmFyIF9idWlsZFJvdW5kZWRSZWN0YW5nbGUgPSByZXF1aXJlKCcuL3V0aWxzL2J1aWxkUm91bmRlZFJlY3RhbmdsZScpO1xuXG52YXIgX2J1aWxkUm91bmRlZFJlY3RhbmdsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZFJvdW5kZWRSZWN0YW5nbGUpO1xuXG52YXIgX2J1aWxkQ2lyY2xlID0gcmVxdWlyZSgnLi91dGlscy9idWlsZENpcmNsZScpO1xuXG52YXIgX2J1aWxkQ2lyY2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1aWxkQ2lyY2xlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFJlbmRlcnMgdGhlIGdyYXBoaWNzIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cbnZhciBHcmFwaGljc1JlbmRlcmVyID0gZnVuY3Rpb24gKF9PYmplY3RSZW5kZXJlcikge1xuICAgIF9pbmhlcml0cyhHcmFwaGljc1JlbmRlcmVyLCBfT2JqZWN0UmVuZGVyZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgb2JqZWN0IHJlbmRlcmVyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcmFwaGljc1JlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHcmFwaGljc1JlbmRlcmVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfT2JqZWN0UmVuZGVyZXIuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLmdyYXBoaWNzRGF0YVBvb2wgPSBbXTtcblxuICAgICAgICBfdGhpcy5wcmltaXRpdmVTaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLmdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgLy8gZWFzeSBhY2Nlc3MhXG4gICAgICAgIF90aGlzLkNPTlRFWFRfVUlEID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZXJlIGlzIGEgV2ViR0wgY29udGV4dCBjaGFuZ2VcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gb25Db250ZXh0Q2hhbmdlKCkge1xuICAgICAgICB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHRoaXMucHJpbWl0aXZlU2hhZGVyID0gbmV3IF9QcmltaXRpdmVTaGFkZXIyLmRlZmF1bHQodGhpcy5nbCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIF9PYmplY3RSZW5kZXJlcjMuZGVmYXVsdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGFQb29sLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YVBvb2xbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGFQb29sID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIGdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3MgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIHJlbmRlci5cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKGdyYXBoaWNzKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHZhciB3ZWJHTERhdGEgPSB2b2lkIDA7XG4gICAgICAgIHZhciB3ZWJHTCA9IGdyYXBoaWNzLl93ZWJHTFt0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIXdlYkdMIHx8IGdyYXBoaWNzLmRpcnR5ICE9PSB3ZWJHTC5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVHcmFwaGljcyhncmFwaGljcyk7XG5cbiAgICAgICAgICAgIHdlYkdMID0gZ3JhcGhpY3MuX3dlYkdMW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhpcyAgY291bGQgYmUgc3BlZWRlZCB1cCBmb3Igc3VyZSFcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMucHJpbWl0aXZlU2hhZGVyO1xuXG4gICAgICAgIHJlbmRlcmVyLmJpbmRTaGFkZXIoc2hhZGVyKTtcbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0QmxlbmRNb2RlKGdyYXBoaWNzLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIG4gPSB3ZWJHTC5kYXRhLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgd2ViR0xEYXRhID0gd2ViR0wuZGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBzaGFkZXJUZW1wID0gd2ViR0xEYXRhLnNoYWRlcjtcblxuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFNoYWRlcihzaGFkZXJUZW1wKTtcbiAgICAgICAgICAgIHNoYWRlclRlbXAudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSBncmFwaGljcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIHNoYWRlclRlbXAudW5pZm9ybXMudGludCA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3MudGludCk7XG4gICAgICAgICAgICBzaGFkZXJUZW1wLnVuaWZvcm1zLmFscGhhID0gZ3JhcGhpY3Mud29ybGRBbHBoYTtcblxuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFZhbyh3ZWJHTERhdGEudmFvKTtcblxuICAgICAgICAgICAgaWYgKHdlYkdMRGF0YS5uYXRpdmVMaW5lcykge1xuICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuTElORVMsIDAsIHdlYkdMRGF0YS5wb2ludHMubGVuZ3RoIC8gNik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdlYkdMRGF0YS52YW8uZHJhdyhnbC5UUklBTkdMRV9TVFJJUCwgd2ViR0xEYXRhLmluZGljZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBncmFwaGljcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIFRoZSBncmFwaGljcyBvYmplY3QgdG8gdXBkYXRlXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLnVwZGF0ZUdyYXBoaWNzID0gZnVuY3Rpb24gdXBkYXRlR3JhcGhpY3MoZ3JhcGhpY3MpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICAvLyBnZXQgdGhlIGNvbnRleHRzIGdyYXBoaWNzIG9iamVjdFxuICAgICAgICB2YXIgd2ViR0wgPSBncmFwaGljcy5fd2ViR0xbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgLy8gaWYgdGhlIGdyYXBoaWNzIG9iamVjdCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgd2ViR0wgY29udGV4dCB0aW1lIHRvIGNyZWF0ZSBpdCFcbiAgICAgICAgaWYgKCF3ZWJHTCkge1xuICAgICAgICAgICAgd2ViR0wgPSBncmFwaGljcy5fd2ViR0xbdGhpcy5DT05URVhUX1VJRF0gPSB7IGxhc3RJbmRleDogMCwgZGF0YTogW10sIGdsOiBnbCwgY2xlYXJEaXJ0eTogLTEsIGRpcnR5OiAtMSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmxhZyB0aGUgZ3JhcGhpY3MgYXMgbm90IGRpcnR5IGFzIHdlIGFyZSBhYm91dCB0byB1cGRhdGUgaXQuLi5cbiAgICAgICAgd2ViR0wuZGlydHkgPSBncmFwaGljcy5kaXJ0eTtcblxuICAgICAgICAvLyBpZiB0aGUgdXNlciBjbGVhcmVkIHRoZSBncmFwaGljcyBvYmplY3Qgd2Ugd2lsbCBuZWVkIHRvIGNsZWFyIGV2ZXJ5IG9iamVjdFxuICAgICAgICBpZiAoZ3JhcGhpY3MuY2xlYXJEaXJ0eSAhPT0gd2ViR0wuY2xlYXJEaXJ0eSkge1xuICAgICAgICAgICAgd2ViR0wuY2xlYXJEaXJ0eSA9IGdyYXBoaWNzLmNsZWFyRGlydHk7XG5cbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCBhbmQgcmV0dXJuIGFsbCB0aGUgd2ViR0xEYXRhcyB0byB0aGUgb2JqZWN0IHBvb2wgc28gdGhhbiBjYW4gYmUgcmV1c2VkIGxhdGVyIG9uXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdlYkdMLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YVBvb2wucHVzaCh3ZWJHTC5kYXRhW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2xlYXIgdGhlIGFycmF5IGFuZCByZXNldCB0aGUgaW5kZXguLlxuICAgICAgICAgICAgd2ViR0wuZGF0YS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgd2ViR0wubGFzdEluZGV4ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3ZWJHTERhdGEgPSB2b2lkIDA7XG4gICAgICAgIHZhciB3ZWJHTERhdGFOYXRpdmVMaW5lcyA9IHZvaWQgMDtcblxuICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGdyYXBoaWNzIGRhdGFzIGFuZCBjb25zdHJ1Y3QgZWFjaCBvbmUuLlxuICAgICAgICAvLyBpZiB0aGUgb2JqZWN0IGlzIGEgY29tcGxleCBmaWxsIHRoZW4gdGhlIG5ldyBzdGVuY2lsIGJ1ZmZlciB0ZWNobmlxdWUgd2lsbCBiZSB1c2VkXG4gICAgICAgIC8vIG90aGVyIHdpc2UgZ3JhcGhpY3Mgb2JqZWN0cyB3aWxsIGJlIHB1c2hlZCBpbnRvIGEgYmF0Y2guLlxuICAgICAgICBmb3IgKHZhciBfaSA9IHdlYkdMLmxhc3RJbmRleDsgX2kgPCBncmFwaGljcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzLmdyYXBoaWNzRGF0YVtfaV07XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSB0aGlzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgICAgICAgICB3ZWJHTERhdGEgPSB0aGlzLmdldFdlYkdMRGF0YSh3ZWJHTCwgMCk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLm5hdGl2ZUxpbmVzICYmIGRhdGEubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgd2ViR0xEYXRhTmF0aXZlTGluZXMgPSB0aGlzLmdldFdlYkdMRGF0YSh3ZWJHTCwgMCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgd2ViR0wubGFzdEluZGV4Kys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUE9MWSkge1xuICAgICAgICAgICAgICAgICgwLCBfYnVpbGRQb2x5Mi5kZWZhdWx0KShkYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUkVDVCkge1xuICAgICAgICAgICAgICAgICgwLCBfYnVpbGRSZWN0YW5nbGUyLmRlZmF1bHQpKGRhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuQ0lSQyB8fCBkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuRUxJUCkge1xuICAgICAgICAgICAgICAgICgwLCBfYnVpbGRDaXJjbGUyLmRlZmF1bHQpKGRhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUlJFQykge1xuICAgICAgICAgICAgICAgICgwLCBfYnVpbGRSb3VuZGVkUmVjdGFuZ2xlMi5kZWZhdWx0KShkYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2ViR0wubGFzdEluZGV4Kys7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRWYW8obnVsbCk7XG5cbiAgICAgICAgLy8gdXBsb2FkIGFsbCB0aGUgZGlydHkgZGF0YS4uLlxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCB3ZWJHTC5kYXRhLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICAgIHdlYkdMRGF0YSA9IHdlYkdMLmRhdGFbX2kyXTtcblxuICAgICAgICAgICAgaWYgKHdlYkdMRGF0YS5kaXJ0eSkge1xuICAgICAgICAgICAgICAgIHdlYkdMRGF0YS51cGxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gdGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5cGUgLSBUT0RPIEBBbHZpblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuYXRpdmVMaW5lcyAtIGluZGljYXRlIHdoZXRoZXIgdGhlIHdlYkdMRGF0YSB1c2UgZm9yIG5hdGl2ZUxpbmVzLlxuICAgICAqIEByZXR1cm4geyp9IFRPRE9cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUuZ2V0V2ViR0xEYXRhID0gZnVuY3Rpb24gZ2V0V2ViR0xEYXRhKGdsLCB0eXBlLCBuYXRpdmVMaW5lcykge1xuICAgICAgICB2YXIgd2ViR0xEYXRhID0gZ2wuZGF0YVtnbC5kYXRhLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmICghd2ViR0xEYXRhIHx8IHdlYkdMRGF0YS5uYXRpdmVMaW5lcyAhPT0gbmF0aXZlTGluZXMgfHwgd2ViR0xEYXRhLnBvaW50cy5sZW5ndGggPiAzMjAwMDApIHtcbiAgICAgICAgICAgIHdlYkdMRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhUG9vbC5wb3AoKSB8fCBuZXcgX1dlYkdMR3JhcGhpY3NEYXRhMi5kZWZhdWx0KHRoaXMucmVuZGVyZXIuZ2wsIHRoaXMucHJpbWl0aXZlU2hhZGVyLCB0aGlzLnJlbmRlcmVyLnN0YXRlLmF0dHJpYnNTdGF0ZSk7XG4gICAgICAgICAgICB3ZWJHTERhdGEubmF0aXZlTGluZXMgPSBuYXRpdmVMaW5lcztcbiAgICAgICAgICAgIHdlYkdMRGF0YS5yZXNldCh0eXBlKTtcbiAgICAgICAgICAgIGdsLmRhdGEucHVzaCh3ZWJHTERhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgd2ViR0xEYXRhLmRpcnR5ID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gd2ViR0xEYXRhO1xuICAgIH07XG5cbiAgICByZXR1cm4gR3JhcGhpY3NSZW5kZXJlcjtcbn0oX09iamVjdFJlbmRlcmVyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gR3JhcGhpY3NSZW5kZXJlcjtcblxuXG5fV2ViR0xSZW5kZXJlcjIuZGVmYXVsdC5yZWdpc3RlclBsdWdpbignZ3JhcGhpY3MnLCBHcmFwaGljc1JlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdyYXBoaWNzUmVuZGVyZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBiZXppZXJDdXJ2ZVRvO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gU3RhcnRpbmcgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0gU3RhcnRpbmcgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJbXX0gW3BhdGg9W11dIC0gUGF0aCBhcnJheSB0byBwdXNoIHBvaW50cyBpbnRvXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gQXJyYXkgb2YgcG9pbnRzIG9mIHRoZSBjdXJ2ZVxuICovXG5mdW5jdGlvbiBiZXppZXJDdXJ2ZVRvKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSB7XG4gICAgdmFyIHBhdGggPSBhcmd1bWVudHMubGVuZ3RoID4gOCAmJiBhcmd1bWVudHNbOF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s4XSA6IFtdO1xuXG4gICAgdmFyIG4gPSAyMDtcbiAgICB2YXIgZHQgPSAwO1xuICAgIHZhciBkdDIgPSAwO1xuICAgIHZhciBkdDMgPSAwO1xuICAgIHZhciB0MiA9IDA7XG4gICAgdmFyIHQzID0gMDtcblxuICAgIHBhdGgucHVzaChmcm9tWCwgZnJvbVkpO1xuXG4gICAgZm9yICh2YXIgaSA9IDEsIGogPSAwOyBpIDw9IG47ICsraSkge1xuICAgICAgICBqID0gaSAvIG47XG5cbiAgICAgICAgZHQgPSAxIC0gajtcbiAgICAgICAgZHQyID0gZHQgKiBkdDtcbiAgICAgICAgZHQzID0gZHQyICogZHQ7XG5cbiAgICAgICAgdDIgPSBqICogajtcbiAgICAgICAgdDMgPSB0MiAqIGo7XG5cbiAgICAgICAgcGF0aC5wdXNoKGR0MyAqIGZyb21YICsgMyAqIGR0MiAqIGogKiBjcFggKyAzICogZHQgKiB0MiAqIGNwWDIgKyB0MyAqIHRvWCwgZHQzICogZnJvbVkgKyAzICogZHQyICogaiAqIGNwWSArIDMgKiBkdCAqIHQyICogY3BZMiArIHQzICogdG9ZKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJlemllckN1cnZlVG8uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0NvbnRhaW5lcjIgPSByZXF1aXJlKCcuLi9kaXNwbGF5L0NvbnRhaW5lcicpO1xuXG52YXIgX0NvbnRhaW5lcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250YWluZXIyKTtcblxudmFyIF9SZW5kZXJUZXh0dXJlID0gcmVxdWlyZSgnLi4vdGV4dHVyZXMvUmVuZGVyVGV4dHVyZScpO1xuXG52YXIgX1JlbmRlclRleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVuZGVyVGV4dHVyZSk7XG5cbnZhciBfVGV4dHVyZSA9IHJlcXVpcmUoJy4uL3RleHR1cmVzL1RleHR1cmUnKTtcblxudmFyIF9UZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmUpO1xuXG52YXIgX0dyYXBoaWNzRGF0YSA9IHJlcXVpcmUoJy4vR3JhcGhpY3NEYXRhJyk7XG5cbnZhciBfR3JhcGhpY3NEYXRhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyYXBoaWNzRGF0YSk7XG5cbnZhciBfU3ByaXRlID0gcmVxdWlyZSgnLi4vc3ByaXRlcy9TcHJpdGUnKTtcblxudmFyIF9TcHJpdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ByaXRlKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbnZhciBfQm91bmRzID0gcmVxdWlyZSgnLi4vZGlzcGxheS9Cb3VuZHMnKTtcblxudmFyIF9Cb3VuZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQm91bmRzKTtcblxudmFyIF9iZXppZXJDdXJ2ZVRvMiA9IHJlcXVpcmUoJy4vdXRpbHMvYmV6aWVyQ3VydmVUbycpO1xuXG52YXIgX2JlemllckN1cnZlVG8zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmV6aWVyQ3VydmVUbzIpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyID0gcmVxdWlyZSgnLi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlcicpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgY2FudmFzUmVuZGVyZXIgPSB2b2lkIDA7XG52YXIgdGVtcE1hdHJpeCA9IG5ldyBfbWF0aC5NYXRyaXgoKTtcbnZhciB0ZW1wUG9pbnQgPSBuZXcgX21hdGguUG9pbnQoKTtcbnZhciB0ZW1wQ29sb3IxID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcbnZhciB0ZW1wQ29sb3IyID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcblxuLyoqXG4gKiBUaGUgR3JhcGhpY3MgY2xhc3MgY29udGFpbnMgbWV0aG9kcyB1c2VkIHRvIGRyYXcgcHJpbWl0aXZlIHNoYXBlcyBzdWNoIGFzIGxpbmVzLCBjaXJjbGVzIGFuZFxuICogcmVjdGFuZ2xlcyB0byB0aGUgZGlzcGxheSwgYW5kIHRvIGNvbG9yIGFuZCBmaWxsIHRoZW0uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgR3JhcGhpY3MgPSBmdW5jdGlvbiAoX0NvbnRhaW5lcikge1xuICAgIF9pbmhlcml0cyhHcmFwaGljcywgX0NvbnRhaW5lcik7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW25hdGl2ZUxpbmVzPWZhbHNlXSAtIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JhcGhpY3MoKSB7XG4gICAgICAgIHZhciBuYXRpdmVMaW5lcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdyYXBoaWNzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFscGhhIHZhbHVlIHVzZWQgd2hlbiBmaWxsaW5nIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbnRhaW5lci5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy5maWxsQWxwaGEgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKHRoaWNrbmVzcykgb2YgYW55IGxpbmVzIGRyYXduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxpbmVXaWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5uYXRpdmVMaW5lcyA9IG5hdGl2ZUxpbmVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sb3Igb2YgYW55IGxpbmVzIGRyYXduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxpbmVDb2xvciA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdyYXBoaWNzIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0RhdGFbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdyYXBoaWNzRGF0YSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBncmFwaGljIHNoYXBlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBcHBseSBhIHZhbHVlIG9mIDB4RkZGRkZGIHRvXG4gICAgICAgICAqIHJlc2V0IHRoZSB0aW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcmV2aW91cyB0aW50IGFwcGxpZWQgdG8gdGhlIGdyYXBoaWMgc2hhcGUuIFVzZWQgdG8gY29tcGFyZSB0byB0aGUgY3VycmVudCB0aW50IGFuZFxuICAgICAgICAgKiBjaGVjayBpZiB0aGVyZXMgY2hhbmdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcHJldlRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gQXBwbHkgYSB2YWx1ZSBvZlxuICAgICAgICAgKiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJsZW5kTW9kZSA9IF9jb25zdC5CTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgcGF0aFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQXJyYXkgY29udGFpbmluZyBzb21lIFdlYkdMLXJlbGF0ZWQgcHJvcGVydGllcyB1c2VkIGJ5IHRoZSBXZWJHTCByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgb2JqZWN0Pn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIC8vIFRPRE8gLSBfd2ViZ2wgc2hvdWxkIHVzZSBhIHByb3RvdHlwZSBvYmplY3QsIG5vdCBhIHJhbmRvbSB1bmRvY3VtZW50ZWQgb2JqZWN0Li4uXG4gICAgICAgIF90aGlzLl93ZWJHTCA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoaXMgc2hhcGUgaXMgYmVpbmcgdXNlZCBhcyBhIG1hc2suXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc01hc2sgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJvdW5kcycgcGFkZGluZyB1c2VkIGZvciBib3VuZHMgY2FsY3VsYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJvdW5kc1BhZGRpbmcgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNhY2hlIG9mIHRoZSBsb2NhbCBib3VuZHMgdG8gcHJldmVudCByZWNhbGN1bGF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2NhbEJvdW5kcyA9IG5ldyBfQm91bmRzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHRoZSBncmFwaGljcyBvYmplY3QgaGFzIGNoYW5nZWQuIElmIHRoaXMgaXMgc2V0IHRvIHRydWUgdGhlbiB0aGUgZ3JhcGhpY3NcbiAgICAgICAgICogb2JqZWN0IHdpbGwgYmUgcmVjYWxjdWxhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB3ZSBuZWVkIHRvIGRvIGEgZmFzdCByZWN0IGNoZWNrIHVzaW5nIHRoZSBpZCBjb21wYXJlIG1ldGhvZFxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmFzdFJlY3REaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB3ZSBjbGVhciB0aGUgZ3JhcGhpY3Mgd2ViR0wgZGF0YVxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2xlYXJEaXJ0eSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHdlIHdlIG5lZWQgdG8gcmVjYWxjdWxhdGUgbG9jYWwgYm91bmRzXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZHNEaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB0aGUgY2FjaGVkIHNwcml0ZSBvYmplY3QgbmVlZHMgdG8gYmUgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhY2hlZFNwcml0ZURpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgX3RoaXMuX3Nwcml0ZVJlY3QgPSBudWxsO1xuICAgICAgICBfdGhpcy5fZmFzdFJlY3QgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBjYWNoZUFzQml0bWFwIGlzIHNldCB0byB0cnVlIHRoZSBncmFwaGljcyBvYmplY3Qgd2lsbCBiZSByZW5kZXJlZCBhcyBpZiBpdCB3YXMgYSBzcHJpdGUuXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZnVsIGlmIHlvdXIgZ3JhcGhpY3MgZWxlbWVudCBkb2VzIG5vdCBjaGFuZ2Ugb2Z0ZW4sIGFzIGl0IHdpbGwgc3BlZWQgdXAgdGhlIHJlbmRlcmluZ1xuICAgICAgICAgKiBvZiB0aGUgb2JqZWN0IGluIGV4Y2hhbmdlIGZvciB0YWtpbmcgdXAgdGV4dHVyZSBtZW1vcnkuIEl0IGlzIGFsc28gdXNlZnVsIGlmIHlvdSBuZWVkIHRoZSBncmFwaGljc1xuICAgICAgICAgKiBvYmplY3QgdG8gYmUgYW50aS1hbGlhc2VkLCBiZWNhdXNlIGl0IHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgY2FudmFzLiBUaGlzIGlzIG5vdCByZWNvbW1lbmRlZCBpZlxuICAgICAgICAgKiB5b3UgYXJlIGNvbnN0YW50bHkgcmVkcmF3aW5nIHRoZSBncmFwaGljcyBlbGVtZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBjYWNoZUFzQml0bWFwXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyYXBoaWNzI1xuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgR3JhcGhpY3Mgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgb25seSB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IGFyZSBjbG9uZWQsIG5vdCBpdHMgdHJhbnNmb3JtIChwb3NpdGlvbixzY2FsZSxldGMpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBBIGNsb25lIG9mIHRoZSBncmFwaGljcyBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHZhciBjbG9uZSA9IG5ldyBHcmFwaGljcygpO1xuXG4gICAgICAgIGNsb25lLnJlbmRlcmFibGUgPSB0aGlzLnJlbmRlcmFibGU7XG4gICAgICAgIGNsb25lLmZpbGxBbHBoYSA9IHRoaXMuZmlsbEFscGhhO1xuICAgICAgICBjbG9uZS5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcbiAgICAgICAgY2xvbmUubGluZUNvbG9yID0gdGhpcy5saW5lQ29sb3I7XG4gICAgICAgIGNsb25lLnRpbnQgPSB0aGlzLnRpbnQ7XG4gICAgICAgIGNsb25lLmJsZW5kTW9kZSA9IHRoaXMuYmxlbmRNb2RlO1xuICAgICAgICBjbG9uZS5pc01hc2sgPSB0aGlzLmlzTWFzaztcbiAgICAgICAgY2xvbmUuYm91bmRzUGFkZGluZyA9IHRoaXMuYm91bmRzUGFkZGluZztcbiAgICAgICAgY2xvbmUuZGlydHkgPSAwO1xuICAgICAgICBjbG9uZS5jYWNoZWRTcHJpdGVEaXJ0eSA9IHRoaXMuY2FjaGVkU3ByaXRlRGlydHk7XG5cbiAgICAgICAgLy8gY29weSBncmFwaGljcyBkYXRhXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNsb25lLmdyYXBoaWNzRGF0YS5wdXNoKHRoaXMuZ3JhcGhpY3NEYXRhW2ldLmNsb25lKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xvbmUuY3VycmVudFBhdGggPSBjbG9uZS5ncmFwaGljc0RhdGFbY2xvbmUuZ3JhcGhpY3NEYXRhLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGNsb25lLnVwZGF0ZUxvY2FsQm91bmRzKCk7XG5cbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGxpbmUgc3R5bGUgdXNlZCBmb3Igc3Vic2VxdWVudCBjYWxscyB0byBHcmFwaGljcyBtZXRob2RzIHN1Y2ggYXMgdGhlIGxpbmVUbygpXG4gICAgICogbWV0aG9kIG9yIHRoZSBkcmF3Q2lyY2xlKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW5lV2lkdGg9MF0gLSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbG9yPTBdIC0gY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmxpbmVTdHlsZSA9IGZ1bmN0aW9uIGxpbmVTdHlsZSgpIHtcbiAgICAgICAgdmFyIGxpbmVXaWR0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIGNvbG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgICB2YXIgYWxwaGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDE7XG5cbiAgICAgICAgdGhpcy5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgICAgIHRoaXMubGluZUNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMubGluZUFscGhhID0gYWxwaGE7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBoYWxmd2F5IHRocm91Z2ggYSBsaW5lPyBzdGFydCBhIG5ldyBvbmUhXG4gICAgICAgICAgICAgICAgdmFyIHNoYXBlID0gbmV3IF9tYXRoLlBvbHlnb24odGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMuc2xpY2UoLTIpKTtcblxuICAgICAgICAgICAgICAgIHNoYXBlLmNsb3NlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2hhcGUoc2hhcGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgaXRzIGVtcHR5IHNvIGxldHMganVzdCBzZXQgdGhlIGxpbmUgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5saW5lQ29sb3IgPSB0aGlzLmxpbmVDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmxpbmVBbHBoYSA9IHRoaXMubGluZUFscGhhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8geCwgeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdGhlIFggY29vcmRpbmF0ZSB0byBtb3ZlIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0aGUgWSBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5tb3ZlVG8gPSBmdW5jdGlvbiBtb3ZlVG8oeCwgeSkge1xuICAgICAgICB2YXIgc2hhcGUgPSBuZXcgX21hdGguUG9seWdvbihbeCwgeV0pO1xuXG4gICAgICAgIHNoYXBlLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRyYXdTaGFwZShzaGFwZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgbGluZSB1c2luZyB0aGUgY3VycmVudCBsaW5lIHN0eWxlIGZyb20gdGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiB0byAoeCwgeSk7XG4gICAgICogVGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiBpcyB0aGVuIHNldCB0byAoeCwgeSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHRoZSBYIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gdGhlIFkgY29vcmRpbmF0ZSB0byBkcmF3IHRvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVRvID0gZnVuY3Rpb24gbGluZVRvKHgsIHkpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMucHVzaCh4LCB5KTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG8gPSBmdW5jdGlvbiBxdWFkcmF0aWNDdXJ2ZVRvKGNwWCwgY3BZLCB0b1gsIHRvWSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzID0gWzAsIDBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbiA9IDIwO1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM7XG4gICAgICAgIHZhciB4YSA9IDA7XG4gICAgICAgIHZhciB5YSA9IDA7XG5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBqID0gaSAvIG47XG5cbiAgICAgICAgICAgIHhhID0gZnJvbVggKyAoY3BYIC0gZnJvbVgpICogajtcbiAgICAgICAgICAgIHlhID0gZnJvbVkgKyAoY3BZIC0gZnJvbVkpICogajtcblxuICAgICAgICAgICAgcG9pbnRzLnB1c2goeGEgKyAoY3BYICsgKHRvWCAtIGNwWCkgKiBqIC0geGEpICogaiwgeWEgKyAoY3BZICsgKHRvWSAtIGNwWSkgKiBqIC0geWEpICogaik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlemllckN1cnZlVG8gPSBmdW5jdGlvbiBiZXppZXJDdXJ2ZVRvKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzID0gWzAsIDBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM7XG5cbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgICBwb2ludHMubGVuZ3RoIC09IDI7XG5cbiAgICAgICAgKDAsIF9iZXppZXJDdXJ2ZVRvMy5kZWZhdWx0KShmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgcG9pbnRzKTtcblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcmNUbygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSBiZXR3ZWVuIHR3byB0YW5nZW50cyBvbiB0aGUgY2FudmFzLlxuICAgICAqXG4gICAgICogXCJib3Jyb3dlZFwiIGZyb20gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9meGNhbnZhcy8gLSB0aGFua3MgZ29vZ2xlIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MiAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkyIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYXJjXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYXJjVG8gPSBmdW5jdGlvbiBhcmNUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMucHVzaCh4MSwgeTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oeDEsIHkxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cztcbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgdmFyIGExID0gZnJvbVkgLSB5MTtcbiAgICAgICAgdmFyIGIxID0gZnJvbVggLSB4MTtcbiAgICAgICAgdmFyIGEyID0geTIgLSB5MTtcbiAgICAgICAgdmFyIGIyID0geDIgLSB4MTtcbiAgICAgICAgdmFyIG1tID0gTWF0aC5hYnMoYTEgKiBiMiAtIGIxICogYTIpO1xuXG4gICAgICAgIGlmIChtbSA8IDEuMGUtOCB8fCByYWRpdXMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdICE9PSB4MSB8fCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdICE9PSB5MSkge1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHgxLCB5MSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZGQgPSBhMSAqIGExICsgYjEgKiBiMTtcbiAgICAgICAgICAgIHZhciBjYyA9IGEyICogYTIgKyBiMiAqIGIyO1xuICAgICAgICAgICAgdmFyIHR0ID0gYTEgKiBhMiArIGIxICogYjI7XG4gICAgICAgICAgICB2YXIgazEgPSByYWRpdXMgKiBNYXRoLnNxcnQoZGQpIC8gbW07XG4gICAgICAgICAgICB2YXIgazIgPSByYWRpdXMgKiBNYXRoLnNxcnQoY2MpIC8gbW07XG4gICAgICAgICAgICB2YXIgajEgPSBrMSAqIHR0IC8gZGQ7XG4gICAgICAgICAgICB2YXIgajIgPSBrMiAqIHR0IC8gY2M7XG4gICAgICAgICAgICB2YXIgY3ggPSBrMSAqIGIyICsgazIgKiBiMTtcbiAgICAgICAgICAgIHZhciBjeSA9IGsxICogYTIgKyBrMiAqIGExO1xuICAgICAgICAgICAgdmFyIHB4ID0gYjEgKiAoazIgKyBqMSk7XG4gICAgICAgICAgICB2YXIgcHkgPSBhMSAqIChrMiArIGoxKTtcbiAgICAgICAgICAgIHZhciBxeCA9IGIyICogKGsxICsgajIpO1xuICAgICAgICAgICAgdmFyIHF5ID0gYTIgKiAoazEgKyBqMik7XG4gICAgICAgICAgICB2YXIgc3RhcnRBbmdsZSA9IE1hdGguYXRhbjIocHkgLSBjeSwgcHggLSBjeCk7XG4gICAgICAgICAgICB2YXIgZW5kQW5nbGUgPSBNYXRoLmF0YW4yKHF5IC0gY3ksIHF4IC0gY3gpO1xuXG4gICAgICAgICAgICB0aGlzLmFyYyhjeCArIHgxLCBjeSArIHkxLCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBiMSAqIGEyID4gYjIgKiBhMSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcmMgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlICh1c2VkIHRvIGNyZWF0ZSBjaXJjbGVzLCBvciBwYXJ0cyBvZiBjaXJjbGVzKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeCAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN5IC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0QW5nbGUgLSBUaGUgc3RhcnRpbmcgYW5nbGUsIGluIHJhZGlhbnMgKDAgaXMgYXQgdGhlIDMgbydjbG9jayBwb3NpdGlvblxuICAgICAqICBvZiB0aGUgYXJjJ3MgY2lyY2xlKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRBbmdsZSAtIFRoZSBlbmRpbmcgYW5nbGUsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbnRpY2xvY2t3aXNlPWZhbHNlXSAtIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBkcmF3aW5nIHNob3VsZCBiZVxuICAgICAqICBjb3VudGVyLWNsb2Nrd2lzZSBvciBjbG9ja3dpc2UuIEZhbHNlIGlzIGRlZmF1bHQsIGFuZCBpbmRpY2F0ZXMgY2xvY2t3aXNlLCB3aGlsZSB0cnVlXG4gICAgICogIGluZGljYXRlcyBjb3VudGVyLWNsb2Nrd2lzZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5hcmMgPSBmdW5jdGlvbiBhcmMoY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKSB7XG4gICAgICAgIHZhciBhbnRpY2xvY2t3aXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiBmYWxzZTtcblxuICAgICAgICBpZiAoc3RhcnRBbmdsZSA9PT0gZW5kQW5nbGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhbnRpY2xvY2t3aXNlICYmIGVuZEFuZ2xlIDw9IHN0YXJ0QW5nbGUpIHtcbiAgICAgICAgICAgIGVuZEFuZ2xlICs9IF9jb25zdC5QSV8yO1xuICAgICAgICB9IGVsc2UgaWYgKGFudGljbG9ja3dpc2UgJiYgc3RhcnRBbmdsZSA8PSBlbmRBbmdsZSkge1xuICAgICAgICAgICAgc3RhcnRBbmdsZSArPSBfY29uc3QuUElfMjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzd2VlcCA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcbiAgICAgICAgdmFyIHNlZ3MgPSBNYXRoLmNlaWwoTWF0aC5hYnMoc3dlZXApIC8gX2NvbnN0LlBJXzIpICogNDA7XG5cbiAgICAgICAgaWYgKHN3ZWVwID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGFydFggPSBjeCArIE1hdGguY29zKHN0YXJ0QW5nbGUpICogcmFkaXVzO1xuICAgICAgICB2YXIgc3RhcnRZID0gY3kgKyBNYXRoLnNpbihzdGFydEFuZ2xlKSAqIHJhZGl1cztcblxuICAgICAgICAvLyBJZiB0aGUgY3VycmVudFBhdGggZXhpc3RzLCB0YWtlIGl0cyBwb2ludHMuIE90aGVyd2lzZSBjYWxsIGBtb3ZlVG9gIHRvIHN0YXJ0IGEgcGF0aC5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGggPyB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cyA6IG51bGw7XG5cbiAgICAgICAgaWYgKHBvaW50cykge1xuICAgICAgICAgICAgaWYgKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gIT09IHN0YXJ0WCB8fCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdICE9PSBzdGFydFkpIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyhzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0aGV0YSA9IHN3ZWVwIC8gKHNlZ3MgKiAyKTtcbiAgICAgICAgdmFyIHRoZXRhMiA9IHRoZXRhICogMjtcblxuICAgICAgICB2YXIgY1RoZXRhID0gTWF0aC5jb3ModGhldGEpO1xuICAgICAgICB2YXIgc1RoZXRhID0gTWF0aC5zaW4odGhldGEpO1xuXG4gICAgICAgIHZhciBzZWdNaW51cyA9IHNlZ3MgLSAxO1xuXG4gICAgICAgIHZhciByZW1haW5kZXIgPSBzZWdNaW51cyAlIDEgLyBzZWdNaW51cztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBzZWdNaW51czsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcmVhbCA9IGkgKyByZW1haW5kZXIgKiBpO1xuXG4gICAgICAgICAgICB2YXIgYW5nbGUgPSB0aGV0YSArIHN0YXJ0QW5nbGUgKyB0aGV0YTIgKiByZWFsO1xuXG4gICAgICAgICAgICB2YXIgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgICAgIHZhciBzID0gLU1hdGguc2luKGFuZ2xlKTtcblxuICAgICAgICAgICAgcG9pbnRzLnB1c2goKGNUaGV0YSAqIGMgKyBzVGhldGEgKiBzKSAqIHJhZGl1cyArIGN4LCAoY1RoZXRhICogLXMgKyBzVGhldGEgKiBjKSAqIHJhZGl1cyArIGN5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIGEgc2ltcGxlIG9uZS1jb2xvciBmaWxsIHRoYXQgc3Vic2VxdWVudCBjYWxscyB0byBvdGhlciBHcmFwaGljcyBtZXRob2RzXG4gICAgICogKHN1Y2ggYXMgbGluZVRvKCkgb3IgZHJhd0NpcmNsZSgpKSB1c2Ugd2hlbiBkcmF3aW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0wXSAtIHRoZSBjb2xvciBvZiB0aGUgZmlsbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSB0aGUgYWxwaGEgb2YgdGhlIGZpbGxcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZWdpbkZpbGwgPSBmdW5jdGlvbiBiZWdpbkZpbGwoKSB7XG4gICAgICAgIHZhciBjb2xvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIGFscGhhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxO1xuXG4gICAgICAgIHRoaXMuZmlsbGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZmlsbENvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMuZmlsbEFscGhhID0gYWxwaGE7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGggPD0gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguZmlsbCA9IHRoaXMuZmlsbGluZztcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmZpbGxDb2xvciA9IHRoaXMuZmlsbENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguZmlsbEFscGhhID0gdGhpcy5maWxsQWxwaGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIGZpbGwgdG8gdGhlIGxpbmVzIGFuZCBzaGFwZXMgdGhhdCB3ZXJlIGFkZGVkIHNpbmNlIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGJlZ2luRmlsbCgpIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmVuZEZpbGwgPSBmdW5jdGlvbiBlbmRGaWxsKCkge1xuICAgICAgICB0aGlzLmZpbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5maWxsQ29sb3IgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbGxBbHBoYSA9IDE7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UmVjdCA9IGZ1bmN0aW9uIGRyYXdSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUobmV3IF9tYXRoLlJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gUmFkaXVzIG9mIHRoZSByZWN0YW5nbGUgY29ybmVyc1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdSb3VuZGVkUmVjdCA9IGZ1bmN0aW9uIGRyYXdSb3VuZGVkUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpIHtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUobmV3IF9tYXRoLlJvdW5kZWRSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgY2lyY2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd0NpcmNsZSA9IGZ1bmN0aW9uIGRyYXdDaXJjbGUoeCwgeSwgcmFkaXVzKSB7XG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKG5ldyBfbWF0aC5DaXJjbGUoeCwgeSwgcmFkaXVzKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGFuIGVsbGlwc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIGhhbGYgd2lkdGggb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhhbGYgaGVpZ2h0IG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd0VsbGlwc2UgPSBmdW5jdGlvbiBkcmF3RWxsaXBzZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKG5ldyBfbWF0aC5FbGxpcHNlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBwb2x5Z29uIHVzaW5nIHRoZSBnaXZlbiBwYXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXXxQSVhJLlBvaW50W118UElYSS5Qb2x5Z29ufSBwYXRoIC0gVGhlIHBhdGggZGF0YSB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgcG9seWdvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UG9seWdvbiA9IGZ1bmN0aW9uIGRyYXdQb2x5Z29uKHBhdGgpIHtcbiAgICAgICAgLy8gcHJldmVudHMgYW4gYXJndW1lbnQgYXNzaWdubWVudCBkZW9wdFxuICAgICAgICAvLyBzZWUgc2VjdGlvbiAzLjE6IGh0dHBzOi8vZ2l0aHViLmNvbS9wZXRrYWFudG9ub3YvYmx1ZWJpcmQvd2lraS9PcHRpbWl6YXRpb24ta2lsbGVycyMzLW1hbmFnaW5nLWFyZ3VtZW50c1xuICAgICAgICB2YXIgcG9pbnRzID0gcGF0aDtcblxuICAgICAgICB2YXIgY2xvc2VkID0gdHJ1ZTtcblxuICAgICAgICBpZiAocG9pbnRzIGluc3RhbmNlb2YgX21hdGguUG9seWdvbikge1xuICAgICAgICAgICAgY2xvc2VkID0gcG9pbnRzLmNsb3NlZDtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvaW50cy5wb2ludHM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocG9pbnRzKSkge1xuICAgICAgICAgICAgLy8gcHJldmVudHMgYW4gYXJndW1lbnQgbGVhayBkZW9wdFxuICAgICAgICAgICAgLy8gc2VlIHNlY3Rpb24gMy4yOiBodHRwczovL2dpdGh1Yi5jb20vcGV0a2FhbnRvbm92L2JsdWViaXJkL3dpa2kvT3B0aW1pemF0aW9uLWtpbGxlcnMjMy1tYW5hZ2luZy1hcmd1bWVudHNcbiAgICAgICAgICAgIHBvaW50cyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBwb2ludHNbaV0gPSBhcmd1bWVudHNbaV07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2hhcGUgPSBuZXcgX21hdGguUG9seWdvbihwb2ludHMpO1xuXG4gICAgICAgIHNoYXBlLmNsb3NlZCA9IGNsb3NlZDtcblxuICAgICAgICB0aGlzLmRyYXdTaGFwZShzaGFwZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXcgYSBzdGFyIHNoYXBlIHdpdGggYW4gYWJpdHJhcnkgbnVtYmVyIG9mIHBvaW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gQ2VudGVyIFggcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIENlbnRlciBZIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50cyAtIFRoZSBudW1iZXIgb2YgcG9pbnRzIG9mIHRoZSBzdGFyLCBtdXN0IGJlID4gMVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgb3V0ZXIgcmFkaXVzIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtpbm5lclJhZGl1c10gLSBUaGUgaW5uZXIgcmFkaXVzIGJldHdlZW4gcG9pbnRzLCBkZWZhdWx0IGhhbGYgYHJhZGl1c2BcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uIG9mIHRoZSBzdGFyIGluIHJhZGlhbnMsIHdoZXJlIDAgaXMgdmVydGljYWxcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3U3RhciA9IGZ1bmN0aW9uIGRyYXdTdGFyKHgsIHksIHBvaW50cywgcmFkaXVzLCBpbm5lclJhZGl1cykge1xuICAgICAgICB2YXIgcm90YXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IDA7XG5cbiAgICAgICAgaW5uZXJSYWRpdXMgPSBpbm5lclJhZGl1cyB8fCByYWRpdXMgLyAyO1xuXG4gICAgICAgIHZhciBzdGFydEFuZ2xlID0gLTEgKiBNYXRoLlBJIC8gMiArIHJvdGF0aW9uO1xuICAgICAgICB2YXIgbGVuID0gcG9pbnRzICogMjtcbiAgICAgICAgdmFyIGRlbHRhID0gX2NvbnN0LlBJXzIgLyBsZW47XG4gICAgICAgIHZhciBwb2x5Z29uID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHIgPSBpICUgMiA/IGlubmVyUmFkaXVzIDogcmFkaXVzO1xuICAgICAgICAgICAgdmFyIGFuZ2xlID0gaSAqIGRlbHRhICsgc3RhcnRBbmdsZTtcblxuICAgICAgICAgICAgcG9seWdvbi5wdXNoKHggKyByICogTWF0aC5jb3MoYW5nbGUpLCB5ICsgciAqIE1hdGguc2luKGFuZ2xlKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5kcmF3UG9seWdvbihwb2x5Z29uKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBncmFwaGljcyB0aGF0IHdlcmUgZHJhd24gdG8gdGhpcyBHcmFwaGljcyBvYmplY3QsIGFuZCByZXNldHMgZmlsbCBhbmQgbGluZSBzdHlsZSBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmxpbmVXaWR0aCB8fCB0aGlzLmZpbGxpbmcgfHwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5saW5lV2lkdGggPSAwO1xuICAgICAgICAgICAgdGhpcy5maWxsaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMuYm91bmRzRGlydHkgPSAtMTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgICAgIHRoaXMuY2xlYXJEaXJ0eSsrO1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICB0aGlzLl9zcHJpdGVSZWN0ID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiBncmFwaGljcyBjb25zaXN0cyBvZiBvbmUgcmVjdGFuZ2xlLCBhbmQgdGh1cywgY2FuIGJlIGRyYXduIGxpa2UgYSBTcHJpdGUgYW5kXG4gICAgICogbWFza2VkIHdpdGggZ2wuc2Npc3Nvci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9ubHkgMSByZWN0LlxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuaXNGYXN0UmVjdCA9IGZ1bmN0aW9uIGlzRmFzdFJlY3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPT09IDEgJiYgdGhpcy5ncmFwaGljc0RhdGFbMF0uc2hhcGUudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5SRUNUICYmICF0aGlzLmdyYXBoaWNzRGF0YVswXS5saW5lV2lkdGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyV2ViR0wgPSBmdW5jdGlvbiBfcmVuZGVyV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyBub3QgdmlzaWJsZSBvciB0aGUgYWxwaGEgaXMgMCB0aGVuIG5vIG5lZWQgdG8gcmVuZGVyIHRoaXMgZWxlbWVudFxuICAgICAgICBpZiAodGhpcy5kaXJ0eSAhPT0gdGhpcy5mYXN0UmVjdERpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmZhc3RSZWN0RGlydHkgPSB0aGlzLmRpcnR5O1xuICAgICAgICAgICAgdGhpcy5fZmFzdFJlY3QgPSB0aGlzLmlzRmFzdFJlY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gdGhpcyBjaGVjayBjYW4gYmUgbW92ZWQgdG8gZGlydHk/XG4gICAgICAgIGlmICh0aGlzLl9mYXN0UmVjdCkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyU3ByaXRlUmVjdChyZW5kZXJlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MucmVuZGVyKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBzcHJpdGUgcmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJTcHJpdGVSZWN0ID0gZnVuY3Rpb24gX3JlbmRlclNwcml0ZVJlY3QocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLmdyYXBoaWNzRGF0YVswXS5zaGFwZTtcblxuICAgICAgICBpZiAoIXRoaXMuX3Nwcml0ZVJlY3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3Nwcml0ZVJlY3QgPSBuZXcgX1Nwcml0ZTIuZGVmYXVsdChuZXcgX1RleHR1cmUyLmRlZmF1bHQoX1RleHR1cmUyLmRlZmF1bHQuV0hJVEUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzcHJpdGUgPSB0aGlzLl9zcHJpdGVSZWN0O1xuXG4gICAgICAgIGlmICh0aGlzLnRpbnQgPT09IDB4ZmZmZmZmKSB7XG4gICAgICAgICAgICBzcHJpdGUudGludCA9IHRoaXMuZ3JhcGhpY3NEYXRhWzBdLmZpbGxDb2xvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0MSA9IHRlbXBDb2xvcjE7XG4gICAgICAgICAgICB2YXIgdDIgPSB0ZW1wQ29sb3IyO1xuXG4gICAgICAgICAgICAoMCwgX3V0aWxzLmhleDJyZ2IpKHRoaXMuZ3JhcGhpY3NEYXRhWzBdLmZpbGxDb2xvciwgdDEpO1xuICAgICAgICAgICAgKDAsIF91dGlscy5oZXgycmdiKSh0aGlzLnRpbnQsIHQyKTtcblxuICAgICAgICAgICAgdDFbMF0gKj0gdDJbMF07XG4gICAgICAgICAgICB0MVsxXSAqPSB0MlsxXTtcbiAgICAgICAgICAgIHQxWzJdICo9IHQyWzJdO1xuXG4gICAgICAgICAgICBzcHJpdGUudGludCA9ICgwLCBfdXRpbHMucmdiMmhleCkodDEpO1xuICAgICAgICB9XG4gICAgICAgIHNwcml0ZS5hbHBoYSA9IHRoaXMuZ3JhcGhpY3NEYXRhWzBdLmZpbGxBbHBoYTtcbiAgICAgICAgc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGEgKiBzcHJpdGUuYWxwaGE7XG4gICAgICAgIHNwcml0ZS5ibGVuZE1vZGUgPSB0aGlzLmJsZW5kTW9kZTtcblxuICAgICAgICBzcHJpdGUuX3RleHR1cmUuX2ZyYW1lLndpZHRoID0gcmVjdC53aWR0aDtcbiAgICAgICAgc3ByaXRlLl90ZXh0dXJlLl9mcmFtZS5oZWlnaHQgPSByZWN0LmhlaWdodDtcblxuICAgICAgICBzcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgc3ByaXRlLmFuY2hvci5zZXQoLXJlY3QueCAvIHJlY3Qud2lkdGgsIC1yZWN0LnkgLyByZWN0LmhlaWdodCk7XG4gICAgICAgIHNwcml0ZS5fb25BbmNob3JVcGRhdGUoKTtcblxuICAgICAgICBzcHJpdGUuX3JlbmRlcldlYkdMKHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNNYXNrID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBib3VuZHMgb2YgdGhlIGdyYXBoaWMgc2hhcGUgYXMgYSByZWN0YW5nbGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIGlmICh0aGlzLmJvdW5kc0RpcnR5ICE9PSB0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gdGhpcy5kaXJ0eTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTG9jYWxCb3VuZHMoKTtcblxuICAgICAgICAgICAgdGhpcy5jYWNoZWRTcHJpdGVEaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGIgPSB0aGlzLl9sb2NhbEJvdW5kcztcblxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIGxiLm1pblgsIGxiLm1pblksIGxiLm1heFgsIGxiLm1heFkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIGdyYXBoaWNzIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICAgICAgdmFyIGdyYXBoaWNzRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzRGF0YVtpXTtcblxuICAgICAgICAgICAgaWYgKCFkYXRhLmZpbGwpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb25seSBkZWFsIHdpdGggZmlsbHMuLlxuICAgICAgICAgICAgaWYgKGRhdGEuc2hhcGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zaGFwZS5jb250YWlucyh0ZW1wUG9pbnQueCwgdGVtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhvbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZGF0YS5ob2xlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaG9sZSA9IGRhdGEuaG9sZXNbX2ldO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvbGUuY29udGFpbnModGVtcFBvaW50LngsIHRlbXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0XG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnVwZGF0ZUxvY2FsQm91bmRzID0gZnVuY3Rpb24gdXBkYXRlTG9jYWxCb3VuZHMoKSB7XG4gICAgICAgIHZhciBtaW5YID0gSW5maW5pdHk7XG4gICAgICAgIHZhciBtYXhYID0gLUluZmluaXR5O1xuXG4gICAgICAgIHZhciBtaW5ZID0gSW5maW5pdHk7XG4gICAgICAgIHZhciBtYXhZID0gLUluZmluaXR5O1xuXG4gICAgICAgIGlmICh0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBzaGFwZSA9IDA7XG4gICAgICAgICAgICB2YXIgeCA9IDA7XG4gICAgICAgICAgICB2YXIgeSA9IDA7XG4gICAgICAgICAgICB2YXIgdyA9IDA7XG4gICAgICAgICAgICB2YXIgaCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZGF0YS50eXBlO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lV2lkdGggPSBkYXRhLmxpbmVXaWR0aDtcblxuICAgICAgICAgICAgICAgIHNoYXBlID0gZGF0YS5zaGFwZTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBfY29uc3QuU0hBUEVTLlJFQ1QgfHwgdHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5SUkVDKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBzaGFwZS54IC0gbGluZVdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHNoYXBlLnkgLSBsaW5lV2lkdGggLyAyO1xuICAgICAgICAgICAgICAgICAgICB3ID0gc2hhcGUud2lkdGggKyBsaW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGggPSBzaGFwZS5oZWlnaHQgKyBsaW5lV2lkdGg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgIG1heFggPSB4ICsgdyA+IG1heFggPyB4ICsgdyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgIG1heFkgPSB5ICsgaCA+IG1heFkgPyB5ICsgaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBfY29uc3QuU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHNoYXBlLng7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBzaGFwZS55O1xuICAgICAgICAgICAgICAgICAgICB3ID0gc2hhcGUucmFkaXVzICsgbGluZVdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgaCA9IHNoYXBlLnJhZGl1cyArIGxpbmVXaWR0aCAvIDI7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWCA9IHggLSB3IDwgbWluWCA/IHggLSB3IDogbWluWDtcbiAgICAgICAgICAgICAgICAgICAgbWF4WCA9IHggKyB3ID4gbWF4WCA/IHggKyB3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5ZID0geSAtIGggPCBtaW5ZID8geSAtIGggOiBtaW5ZO1xuICAgICAgICAgICAgICAgICAgICBtYXhZID0geSArIGggPiBtYXhZID8geSArIGggOiBtYXhZO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5FTElQKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBzaGFwZS54O1xuICAgICAgICAgICAgICAgICAgICB5ID0gc2hhcGUueTtcbiAgICAgICAgICAgICAgICAgICAgdyA9IHNoYXBlLndpZHRoICsgbGluZVdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgaCA9IHNoYXBlLmhlaWdodCArIGxpbmVXaWR0aCAvIDI7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWCA9IHggLSB3IDwgbWluWCA/IHggLSB3IDogbWluWDtcbiAgICAgICAgICAgICAgICAgICAgbWF4WCA9IHggKyB3ID4gbWF4WCA/IHggKyB3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5ZID0geSAtIGggPCBtaW5ZID8geSAtIGggOiBtaW5ZO1xuICAgICAgICAgICAgICAgICAgICBtYXhZID0geSArIGggPiBtYXhZID8geSArIGggOiBtYXhZO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBPTFlcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IHNoYXBlLnBvaW50cztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHgyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ3ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN5ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiArIDIgPCBwb2ludHMubGVuZ3RoOyBqICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSBwb2ludHNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gcG9pbnRzW2ogKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHgyID0gcG9pbnRzW2ogKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkyID0gcG9pbnRzW2ogKyAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR4ID0gTWF0aC5hYnMoeDIgLSB4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5ID0gTWF0aC5hYnMoeTIgLSB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSBsaW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB3ID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcgPCAxZS05KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJ3ID0gKGggLyB3ICogZHkgKyBkeCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmggPSAoaCAvIHcgKiBkeCArIGR5KSAvIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeCA9ICh4MiArIHgpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN5ID0gKHkyICsgeSkgLyAyO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5YID0gY3ggLSBydyA8IG1pblggPyBjeCAtIHJ3IDogbWluWDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFggPSBjeCArIHJ3ID4gbWF4WCA/IGN4ICsgcncgOiBtYXhYO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5ZID0gY3kgLSByaCA8IG1pblkgPyBjeSAtIHJoIDogbWluWTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFkgPSBjeSArIHJoID4gbWF4WSA/IGN5ICsgcmggOiBtYXhZO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWluWCA9IDA7XG4gICAgICAgICAgICBtYXhYID0gMDtcbiAgICAgICAgICAgIG1pblkgPSAwO1xuICAgICAgICAgICAgbWF4WSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMuYm91bmRzUGFkZGluZztcblxuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcy5taW5YID0gbWluWCAtIHBhZGRpbmc7XG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzLm1heFggPSBtYXhYICsgcGFkZGluZztcblxuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcy5taW5ZID0gbWluWSAtIHBhZGRpbmc7XG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzLm1heFkgPSBtYXhZICsgcGFkZGluZztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIGdpdmVuIHNoYXBlIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBDYW4gYmUgYW55IG9mIENpcmNsZSwgUmVjdGFuZ2xlLCBFbGxpcHNlLCBMaW5lIG9yIFBvbHlnb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzRGF0YX0gVGhlIGdlbmVyYXRlZCBHcmFwaGljc0RhdGEgb2JqZWN0LlxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24gZHJhd1NoYXBlKHNoYXBlKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICAvLyBjaGVjayBjdXJyZW50IHBhdGghXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoIDw9IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuXG4gICAgICAgIHZhciBkYXRhID0gbmV3IF9HcmFwaGljc0RhdGEyLmRlZmF1bHQodGhpcy5saW5lV2lkdGgsIHRoaXMubGluZUNvbG9yLCB0aGlzLmxpbmVBbHBoYSwgdGhpcy5maWxsQ29sb3IsIHRoaXMuZmlsbEFscGhhLCB0aGlzLmZpbGxpbmcsIHRoaXMubmF0aXZlTGluZXMsIHNoYXBlKTtcblxuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5wdXNoKGRhdGEpO1xuXG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUE9MWSkge1xuICAgICAgICAgICAgZGF0YS5zaGFwZS5jbG9zZWQgPSBkYXRhLnNoYXBlLmNsb3NlZCB8fCB0aGlzLmZpbGxpbmc7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgY2FudmFzIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVNb2RlIC0gVGhlIHNjYWxlIG1vZGUgb2YgdGhlIHRleHR1cmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXcgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmdlbmVyYXRlQ2FudmFzVGV4dHVyZSA9IGZ1bmN0aW9uIGdlbmVyYXRlQ2FudmFzVGV4dHVyZShzY2FsZU1vZGUpIHtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7XG5cbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKTtcblxuICAgICAgICB2YXIgY2FudmFzQnVmZmVyID0gX1JlbmRlclRleHR1cmUyLmRlZmF1bHQuY3JlYXRlKGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcblxuICAgICAgICBpZiAoIWNhbnZhc1JlbmRlcmVyKSB7XG4gICAgICAgICAgICBjYW52YXNSZW5kZXJlciA9IG5ldyBfQ2FudmFzUmVuZGVyZXIyLmRlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZUxvY2FsVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLmNvcHkodGVtcE1hdHJpeCk7XG5cbiAgICAgICAgdGVtcE1hdHJpeC5pbnZlcnQoKTtcblxuICAgICAgICB0ZW1wTWF0cml4LnR4IC09IGJvdW5kcy54O1xuICAgICAgICB0ZW1wTWF0cml4LnR5IC09IGJvdW5kcy55O1xuXG4gICAgICAgIGNhbnZhc1JlbmRlcmVyLnJlbmRlcih0aGlzLCBjYW52YXNCdWZmZXIsIHRydWUsIHRlbXBNYXRyaXgpO1xuXG4gICAgICAgIHZhciB0ZXh0dXJlID0gX1RleHR1cmUyLmRlZmF1bHQuZnJvbUNhbnZhcyhjYW52YXNCdWZmZXIuYmFzZVRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5jYW52YXMsIHNjYWxlTW9kZSwgJ2dyYXBoaWNzJyk7XG5cbiAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS51cGRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBjdXJyZW50IHBhdGguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsb3NlUGF0aCA9IGZ1bmN0aW9uIGNsb3NlUGF0aCgpIHtcbiAgICAgICAgLy8gb2sgc28gY2xvc2UgcGF0aCBhc3N1bWVzIG5leHQgb25lIGlzIGEgaG9sZSFcbiAgICAgICAgdmFyIGN1cnJlbnRQYXRoID0gdGhpcy5jdXJyZW50UGF0aDtcblxuICAgICAgICBpZiAoY3VycmVudFBhdGggJiYgY3VycmVudFBhdGguc2hhcGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoLnNoYXBlLmNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGhvbGUgaW4gdGhlIGN1cnJlbnQgcGF0aC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYWRkSG9sZSA9IGZ1bmN0aW9uIGFkZEhvbGUoKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgYSBob2xlIVxuICAgICAgICB2YXIgaG9sZSA9IHRoaXMuZ3JhcGhpY3NEYXRhLnBvcCgpO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSB0aGlzLmdyYXBoaWNzRGF0YVt0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggLSAxXTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmFkZEhvbGUoaG9sZS5zaGFwZSk7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgX0NvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIGRlc3Ryb3kgZWFjaCBvZiB0aGUgR3JhcGhpY3NEYXRhIG9iamVjdHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGFbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZm9yIGVhY2ggd2ViZ2wgZGF0YSBlbnRyeSwgZGVzdHJveSB0aGUgV2ViR0xHcmFwaGljc0RhdGFcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5fd2ViZ2wpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5fd2ViZ2xbaWRdLmRhdGEubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWJnbFtpZF0uZGF0YVtqXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc3ByaXRlUmVjdCkge1xuICAgICAgICAgICAgdGhpcy5fc3ByaXRlUmVjdC5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3dlYmdsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gR3JhcGhpY3M7XG59KF9Db250YWluZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBHcmFwaGljcztcblxuXG5HcmFwaGljcy5fU1BSSVRFX1RFWFRVUkUgPSBudWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JhcGhpY3MuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdHJpbUNhbnZhcztcbi8qKlxuICogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzIGZyb20gYSBjYW52YXNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIHRyaW1DYW52YXNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY2FudmFzIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtvYmplY3R9IFRyaW0gZGF0YVxuICovXG5mdW5jdGlvbiB0cmltQ2FudmFzKGNhbnZhcykge1xuICAgIC8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3JlbXkvNzg0NTA4XG5cbiAgICB2YXIgd2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgdmFyIGhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG5cbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIHZhciBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB2YXIgcGl4ZWxzID0gaW1hZ2VEYXRhLmRhdGE7XG4gICAgdmFyIGxlbiA9IHBpeGVscy5sZW5ndGg7XG5cbiAgICB2YXIgYm91bmQgPSB7XG4gICAgICAgIHRvcDogbnVsbCxcbiAgICAgICAgbGVmdDogbnVsbCxcbiAgICAgICAgcmlnaHQ6IG51bGwsXG4gICAgICAgIGJvdHRvbTogbnVsbFxuICAgIH07XG4gICAgdmFyIGkgPSB2b2lkIDA7XG4gICAgdmFyIHggPSB2b2lkIDA7XG4gICAgdmFyIHkgPSB2b2lkIDA7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgaWYgKHBpeGVsc1tpICsgM10gIT09IDApIHtcbiAgICAgICAgICAgIHggPSBpIC8gNCAlIHdpZHRoO1xuICAgICAgICAgICAgeSA9IH5+KGkgLyA0IC8gd2lkdGgpO1xuXG4gICAgICAgICAgICBpZiAoYm91bmQudG9wID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQudG9wID0geTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJvdW5kLmxlZnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5sZWZ0ID0geDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeCA8IGJvdW5kLmxlZnQpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5sZWZ0ID0geDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJvdW5kLnJpZ2h0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQucmlnaHQgPSB4ICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYm91bmQucmlnaHQgPCB4KSB7XG4gICAgICAgICAgICAgICAgYm91bmQucmlnaHQgPSB4ICsgMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJvdW5kLmJvdHRvbSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJvdW5kLmJvdHRvbSA8IHkpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5ib3R0b20gPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgd2lkdGggPSBib3VuZC5yaWdodCAtIGJvdW5kLmxlZnQ7XG4gICAgaGVpZ2h0ID0gYm91bmQuYm90dG9tIC0gYm91bmQudG9wICsgMTtcblxuICAgIHZhciBkYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoYm91bmQubGVmdCwgYm91bmQudG9wLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGRhdGE6IGRhdGFcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJpbUNhbnZhcy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfU3ByaXRlMiA9IHJlcXVpcmUoJy4uL3Nwcml0ZXMvU3ByaXRlJyk7XG5cbnZhciBfU3ByaXRlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Nwcml0ZTIpO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuLi90ZXh0dXJlcy9UZXh0dXJlJyk7XG5cbnZhciBfVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9UZXh0U3R5bGUgPSByZXF1aXJlKCcuL1RleHRTdHlsZScpO1xuXG52YXIgX1RleHRTdHlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0U3R5bGUpO1xuXG52YXIgX1RleHRNZXRyaWNzID0gcmVxdWlyZSgnLi9UZXh0TWV0cmljcycpO1xuXG52YXIgX1RleHRNZXRyaWNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRNZXRyaWNzKTtcblxudmFyIF90cmltQ2FudmFzID0gcmVxdWlyZSgnLi4vdXRpbHMvdHJpbUNhbnZhcycpO1xuXG52YXIgX3RyaW1DYW52YXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJpbUNhbnZhcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyogZXNsaW50IG1heC1kZXB0aDogWzIsIDhdICovXG5cblxudmFyIGRlZmF1bHREZXN0cm95T3B0aW9ucyA9IHtcbiAgICB0ZXh0dXJlOiB0cnVlLFxuICAgIGNoaWxkcmVuOiBmYWxzZSxcbiAgICBiYXNlVGV4dHVyZTogdHJ1ZVxufTtcblxuLyoqXG4gKiBBIFRleHQgT2JqZWN0IHdpbGwgY3JlYXRlIGEgbGluZSBvciBtdWx0aXBsZSBsaW5lcyBvZiB0ZXh0LiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicgaW4geW91ciB0ZXh0IHN0cmluZyxcbiAqIG9yIGFkZCBhIHdvcmRXcmFwIHByb3BlcnR5IHNldCB0byB0cnVlIGFuZCBhbmQgd29yZFdyYXBXaWR0aCBwcm9wZXJ0eSB3aXRoIGEgdmFsdWUgaW4gdGhlIHN0eWxlIG9iamVjdC5cbiAqXG4gKiBBIFRleHQgY2FuIGJlIGNyZWF0ZWQgZGlyZWN0bHkgZnJvbSBhIHN0cmluZyBhbmQgYSBzdHlsZSBvYmplY3RcbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHQgPSBuZXcgUElYSS5UZXh0KCdUaGlzIGlzIGEgUGl4aUpTIHRleHQnLHtmb250RmFtaWx5IDogJ0FyaWFsJywgZm9udFNpemU6IDI0LCBmaWxsIDogMHhmZjEwMTAsIGFsaWduIDogJ2NlbnRlcid9KTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIFRleHQgPSBmdW5jdGlvbiAoX1Nwcml0ZSkge1xuICAgIF9pbmhlcml0cyhUZXh0LCBfU3ByaXRlKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHN0cmluZyB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSB0ZXh0IHRvIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0ge29iamVjdHxQSVhJLlRleHRTdHlsZX0gW3N0eWxlXSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBUaGUgY2FudmFzIGVsZW1lbnQgZm9yIGRyYXdpbmcgdGV4dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHQodGV4dCwgc3R5bGUsIGNhbnZhcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dCk7XG5cbiAgICAgICAgY2FudmFzID0gY2FudmFzIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDM7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSAzO1xuXG4gICAgICAgIHZhciB0ZXh0dXJlID0gX1RleHR1cmUyLmRlZmF1bHQuZnJvbUNhbnZhcyhjYW52YXMsIF9zZXR0aW5nczIuZGVmYXVsdC5TQ0FMRV9NT0RFLCAndGV4dCcpO1xuXG4gICAgICAgIHRleHR1cmUub3JpZyA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcbiAgICAgICAgdGV4dHVyZS50cmltID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuXG4gICAgICAgIC8vIGJhc2UgdGV4dHVyZSBpcyBhbHJlYWR5IGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gdGhlIGNhY2hlLCBub3cgYWRkaW5nIHRoZSBhY3R1YWwgdGV4dHVyZVxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfU3ByaXRlLmNhbGwodGhpcywgdGV4dHVyZSkpO1xuXG4gICAgICAgIF9UZXh0dXJlMi5kZWZhdWx0LmFkZFRvQ2FjaGUoX3RoaXMuX3RleHR1cmUsIF90aGlzLl90ZXh0dXJlLmJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkc1swXSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gdG9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW52YXMgPSBjYW52YXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgMmQgY29udGV4dCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gd2l0aFxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0ID0gX3RoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXMuIFRoaXMgaXMgc2V0IGF1dG9tYXRpY2FsbHkgYnkgdGhlIHJlbmRlcmVyLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSBfc2V0dGluZ3MyLmRlZmF1bHQuUkVTT0xVVElPTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIGxpc3RlbmVyIHRvIHRyYWNrIHN0eWxlIGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3N0eWxlTGlzdGVuZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mb250ID0gJyc7XG5cbiAgICAgICAgX3RoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIF90aGlzLnN0eWxlID0gc3R5bGU7XG5cbiAgICAgICAgX3RoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgYW5kIHVwZGF0ZXMgaXQgd2hlbiBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVzcGVjdERpcnR5IC0gV2hldGhlciB0byBhYm9ydCB1cGRhdGluZyB0aGUgdGV4dCBpZiB0aGUgVGV4dCBpc24ndCBkaXJ0eSBhbmQgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZC5cbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uIHVwZGF0ZVRleHQocmVzcGVjdERpcnR5KSB7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIHN0eWxlIGhhcyBjaGFuZ2VkLi5cbiAgICAgICAgaWYgKHRoaXMubG9jYWxTdHlsZUlEICE9PSBzdHlsZS5zdHlsZUlEKSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gc3R5bGUuc3R5bGVJRDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5kaXJ0eSAmJiByZXNwZWN0RGlydHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZvbnQgPSB0aGlzLl9zdHlsZS50b0ZvbnRTdHJpbmcoKTtcblxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIG1lYXN1cmVkID0gX1RleHRNZXRyaWNzMi5kZWZhdWx0Lm1lYXN1cmVUZXh0KHRoaXMuX3RleHQsIHRoaXMuX3N0eWxlLCB0aGlzLl9zdHlsZS53b3JkV3JhcCwgdGhpcy5jYW52YXMpO1xuICAgICAgICB2YXIgd2lkdGggPSBtZWFzdXJlZC53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IG1lYXN1cmVkLmhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVzID0gbWVhc3VyZWQubGluZXM7XG4gICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gbWVhc3VyZWQubGluZUhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBtZWFzdXJlZC5saW5lV2lkdGhzO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gbWVhc3VyZWQubWF4TGluZVdpZHRoO1xuICAgICAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBtZWFzdXJlZC5mb250UHJvcGVydGllcztcblxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgd2lkdGgpICsgc3R5bGUucGFkZGluZyAqIDIpICogdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKChNYXRoLm1heCgxLCBoZWlnaHQpICsgc3R5bGUucGFkZGluZyAqIDIpICogdGhpcy5yZXNvbHV0aW9uKTtcblxuICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMucmVzb2x1dGlvbiwgdGhpcy5yZXNvbHV0aW9uKTtcblxuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSB0aGlzLl9mb250O1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcblxuICAgICAgICB2YXIgbGluZVBvc2l0aW9uWCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGxpbmVQb3NpdGlvblkgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gc3R5bGUuZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHN0eWxlLmRyb3BTaGFkb3dBbHBoYTtcbiAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IHN0eWxlLmRyb3BTaGFkb3dCbHVyO1xuXG4gICAgICAgICAgICBpZiAoc3R5bGUuZHJvcFNoYWRvd0JsdXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHhTaGFkb3dPZmZzZXQgPSBNYXRoLmNvcyhzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICAgICAgdmFyIHlTaGFkb3dPZmZzZXQgPSBNYXRoLnNpbihzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDI7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWSA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIgKyBpICogbGluZUhlaWdodCArIGZvbnRQcm9wZXJ0aWVzLmFzY2VudDtcblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5hbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXSkgLyAyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5maWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbaV0sIGxpbmVQb3NpdGlvblggKyB4U2hhZG93T2Zmc2V0ICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHlTaGFkb3dPZmZzZXQgKyBzdHlsZS5wYWRkaW5nKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbaV0sIGxpbmVQb3NpdGlvblggKyB4U2hhZG93T2Zmc2V0ICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHlTaGFkb3dPZmZzZXQgKyBzdHlsZS5wYWRkaW5nLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCB0aGUgc2hhZG93IGJsdXIgYW5kIGFscGhhIHRoYXQgd2FzIHNldCBieSB0aGUgZHJvcCBzaGFkb3csIGZvciB0aGUgcmVndWxhciB0ZXh0XG4gICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IDA7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSAxO1xuXG4gICAgICAgIC8vIHNldCBjYW52YXMgdGV4dCBzdHlsZXNcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9nZW5lcmF0ZUZpbGxTdHlsZShzdHlsZSwgbGluZXMpO1xuXG4gICAgICAgIC8vIGRyYXcgbGluZXMgbGluZSBieSBsaW5lXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsaW5lcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICAgICAgICAgICAgbGluZVBvc2l0aW9uWSA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIgKyBfaSAqIGxpbmVIZWlnaHQgKyBmb250UHJvcGVydGllcy5hc2NlbnQ7XG5cbiAgICAgICAgICAgIGlmIChzdHlsZS5hbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tfaV07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0eWxlLmFsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbX2ldKSAvIDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdHlsZS5zdHJva2UgJiYgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhsaW5lc1tfaV0sIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLCBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdHlsZS5maWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhsaW5lc1tfaV0sIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLCBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSB0ZXh0IHdpdGggbGV0dGVyLXNwYWNpbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdGV4dCB0byBkcmF3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBIb3Jpem9udGFsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFZlcnRpY2FsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cm9rZT1mYWxzZV0gLSBJcyB0aGlzIGRyYXdpbmcgZm9yIHRoZSBvdXRzaWRlIHN0cm9rZSBvZiB0aGVcbiAgICAgKiAgdGV4dD8gSWYgbm90LCBpdCdzIGZvciB0aGUgaW5zaWRlIGZpbGxcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS5kcmF3TGV0dGVyU3BhY2luZyA9IGZ1bmN0aW9uIGRyYXdMZXR0ZXJTcGFjaW5nKHRleHQsIHgsIHkpIHtcbiAgICAgICAgdmFyIGlzU3Ryb2tlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcblxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcblxuICAgICAgICAvLyBsZXR0ZXJTcGFjaW5nIG9mIDAgbWVhbnMgbm9ybWFsXG4gICAgICAgIHZhciBsZXR0ZXJTcGFjaW5nID0gc3R5bGUubGV0dGVyU3BhY2luZztcblxuICAgICAgICBpZiAobGV0dGVyU3BhY2luZyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNoYXJhY3RlcnMgPSBTdHJpbmcucHJvdG90eXBlLnNwbGl0LmNhbGwodGV4dCwgJycpO1xuICAgICAgICB2YXIgY3VycmVudFBvc2l0aW9uID0geDtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSAnJztcblxuICAgICAgICB3aGlsZSAoaW5kZXggPCB0ZXh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgY3VycmVudCA9IGNoYXJhY3RlcnNbaW5kZXgrK107XG4gICAgICAgICAgICBpZiAoaXNTdHJva2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlVGV4dChjdXJyZW50LCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQoY3VycmVudCwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRQb3NpdGlvbiArPSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQoY3VycmVudCkud2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dHVyZSBzaXplIGJhc2VkIG9uIGNhbnZhcyBzaXplXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZSgpIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdHlsZS50cmltKSB7XG4gICAgICAgICAgICB2YXIgdHJpbW1lZCA9ICgwLCBfdHJpbUNhbnZhczIuZGVmYXVsdCkoY2FudmFzKTtcblxuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdHJpbW1lZC53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0cmltbWVkLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5wdXRJbWFnZURhdGEodHJpbW1lZC5kYXRhLCAwLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgICAgIHZhciBwYWRkaW5nID0gc3R5bGUudHJpbSA/IDAgOiBzdHlsZS5wYWRkaW5nO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLmhhc0xvYWRlZCA9IHRydWU7XG4gICAgICAgIGJhc2VUZXh0dXJlLnJlc29sdXRpb24gPSB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgYmFzZVRleHR1cmUucmVhbFdpZHRoID0gY2FudmFzLndpZHRoO1xuICAgICAgICBiYXNlVGV4dHVyZS5yZWFsSGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcbiAgICAgICAgYmFzZVRleHR1cmUud2lkdGggPSBjYW52YXMud2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIGJhc2VUZXh0dXJlLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQgLyB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgdGV4dHVyZS50cmltLndpZHRoID0gdGV4dHVyZS5fZnJhbWUud2lkdGggPSBjYW52YXMud2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRleHR1cmUudHJpbS5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0ZXh0dXJlLnRyaW0ueCA9IC1wYWRkaW5nO1xuICAgICAgICB0ZXh0dXJlLnRyaW0ueSA9IC1wYWRkaW5nO1xuXG4gICAgICAgIHRleHR1cmUub3JpZy53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoIC0gcGFkZGluZyAqIDI7XG4gICAgICAgIHRleHR1cmUub3JpZy5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgLSBwYWRkaW5nICogMjtcblxuICAgICAgICAvLyBjYWxsIHNwcml0ZSBvblRleHR1cmVVcGRhdGUgdG8gdXBkYXRlIHNjYWxlIGlmIF93aWR0aCBvciBfaGVpZ2h0IHdlcmUgc2V0XG4gICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLmVtaXQoJ3VwZGF0ZScsIGJhc2VUZXh0dXJlKTtcblxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc29sdXRpb24gIT09IHJlbmRlcmVyLnJlc29sdXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICBfU3ByaXRlLnByb3RvdHlwZS5yZW5kZXJXZWJHTC5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uICE9PSByZW5kZXJlci5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgX1Nwcml0ZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcy5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSB0ZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzKHJlY3QpIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiBfU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIFRleHQgYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICAvLyBpZiB3ZSBoYXZlIGFscmVhZHkgZG9uZSB0aGlzIG9uIFRISVMgZnJhbWUuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBiZSBjYWxsZWQgdXBvbiBhIFRleHRTdHlsZSBjaGFuZ2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuX29uU3R5bGVDaGFuZ2UgPSBmdW5jdGlvbiBfb25TdHlsZUNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB0aGUgZmlsbCBzdHlsZS4gQ2FuIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgYSBncmFkaWVudCBiYXNlZCBvbiB0aGUgZmlsbCBzdHlsZSBiZWluZyBhbiBhcnJheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gbGluZXMgLSBUaGUgbGluZXMgb2YgdGV4dC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8bnVtYmVyfENhbnZhc0dyYWRpZW50fSBUaGUgZmlsbCBzdHlsZVxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS5fZ2VuZXJhdGVGaWxsU3R5bGUgPSBmdW5jdGlvbiBfZ2VuZXJhdGVGaWxsU3R5bGUoc3R5bGUsIGxpbmVzKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdHlsZS5maWxsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0eWxlLmZpbGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb2Nvb24gb24gY2FudmFzKyBjYW5ub3QgZ2VuZXJhdGUgdGV4dHVyZXMsIHNvIHVzZSB0aGUgZmlyc3QgY29sb3VyIGluc3RlYWRcbiAgICAgICAgaWYgKG5hdmlnYXRvci5pc0NvY29vbkpTKSB7XG4gICAgICAgICAgICByZXR1cm4gc3R5bGUuZmlsbFswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZSBncmFkaWVudCB3aWxsIGJlIGV2ZW5seSBzcGFjZWQgb3V0IGFjY29yZGluZyB0byBob3cgbGFyZ2UgdGhlIGFycmF5IGlzLlxuICAgICAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gd291bGQgY3JlYXRlZCBzdG9wcyBhdCAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICAgICAgdmFyIGdyYWRpZW50ID0gdm9pZCAwO1xuICAgICAgICB2YXIgdG90YWxJdGVyYXRpb25zID0gdm9pZCAwO1xuICAgICAgICB2YXIgY3VycmVudEl0ZXJhdGlvbiA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHN0b3AgPSB2b2lkIDA7XG5cbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5jYW52YXMud2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgLy8gbWFrZSBhIGNvcHkgb2YgdGhlIHN0eWxlIHNldHRpbmdzLCBzbyB3ZSBjYW4gbWFuaXB1bGF0ZSB0aGVtIGxhdGVyXG4gICAgICAgIHZhciBmaWxsID0gc3R5bGUuZmlsbC5zbGljZSgpO1xuICAgICAgICB2YXIgZmlsbEdyYWRpZW50U3RvcHMgPSBzdHlsZS5maWxsR3JhZGllbnRTdG9wcy5zbGljZSgpO1xuXG4gICAgICAgIC8vIHdhbnRpbmcgdG8gZXZlbmx5IGRpc3RyaWJ1dGUgdGhlIGZpbGxzLiBTbyBhbiBhcnJheSBvZiA0IGNvbG91cnMgc2hvdWxkIGdpdmUgZmlsbHMgb2YgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIGlmICghZmlsbEdyYWRpZW50U3RvcHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoUGx1czEgPSBmaWxsLmxlbmd0aCArIDE7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoUGx1czE7ICsraSkge1xuICAgICAgICAgICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goaSAvIGxlbmd0aFBsdXMxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3AgdGhlIGJsZWVkaW5nIG9mIHRoZSBsYXN0IGdyYWRpZW50IG9uIHRoZSBsaW5lIGFib3ZlIHRvIHRoZSB0b3AgZ3JhZGllbnQgb2YgdGhlIHRoaXMgbGluZVxuICAgICAgICAvLyBieSBoYXJkIGRlZmluaW5nIHRoZSBmaXJzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMCwgYW5kIGxhc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDFcbiAgICAgICAgZmlsbC51bnNoaWZ0KHN0eWxlLmZpbGxbMF0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy51bnNoaWZ0KDApO1xuXG4gICAgICAgIGZpbGwucHVzaChzdHlsZS5maWxsW3N0eWxlLmZpbGwubGVuZ3RoIC0gMV0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKDEpO1xuXG4gICAgICAgIGlmIChzdHlsZS5maWxsR3JhZGllbnRUeXBlID09PSBfY29uc3QuVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwpIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgdG9wIGNlbnRlciBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBib3R0b20gbWlkZGxlIG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgMCwgd2lkdGggLyAyLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlcGVhdCB0aGUgZ3JhZGllbnQgc28gdGhhdCBlYWNoIGluZGl2aWR1YWwgbGluZSBvZiB0ZXh0IGhhcyB0aGUgc2FtZSB2ZXJ0aWNhbCBncmFkaWVudCBlZmZlY3RcbiAgICAgICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSBvdmVyIDIgbGluZXMgd291bGQgY3JlYXRlIHN0b3BzIGF0IDAuMTI1LCAwLjI1LCAwLjM3NSwgMC42MjUsIDAuNzUsIDAuODc1XG4gICAgICAgICAgICB0b3RhbEl0ZXJhdGlvbnMgPSAoZmlsbC5sZW5ndGggKyAxKSAqIGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24gPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgbGluZXMubGVuZ3RoOyBfaTIrKykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24gKz0gMTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZpbGwubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tqXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AgPSBmaWxsR3JhZGllbnRTdG9wc1tqXSAvIGxpbmVzLmxlbmd0aCArIF9pMiAvIGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgY2VudGVyIGxlZnQgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgY2VudGVyIHJpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIGhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQgLyAyKTtcblxuICAgICAgICAgICAgLy8gY2FuIGp1c3QgZXZlbmx5IHNwYWNlIG91dCB0aGUgZ3JhZGllbnRzIGluIHRoaXMgY2FzZSwgYXMgbXVsdGlwbGUgbGluZXMgbWFrZXMgbm8gZGlmZmVyZW5jZVxuICAgICAgICAgICAgLy8gdG8gYW4gZXZlbiBsZWZ0IHRvIHJpZ2h0IGdyYWRpZW50XG4gICAgICAgICAgICB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uID0gMTtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgZmlsbC5sZW5ndGg7IF9pMysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tfaTNdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbX2kzXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKHN0b3AsIGZpbGxbX2kzXSk7XG4gICAgICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdyYWRpZW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHQgb2JqZWN0LlxuICAgICAqIE5vdGUqIFVubGlrZSBhIFNwcml0ZSwgYSBUZXh0IG9iamVjdCB3aWxsIGF1dG9tYXRpY2FsbHkgZGVzdHJveSBpdHMgYmFzZVRleHR1cmUgYW5kIHRleHR1cmUgYXNcbiAgICAgKiB0aGUgbWFqb3JpdHkgb2YgdGhlIHRpbWUgdGhlIHRleHR1cmUgd2lsbCBub3QgYmUgc2hhcmVkIHdpdGggYW55IG90aGVyIFNwcml0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyXG4gICAgICogIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPXRydWVdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPXRydWVdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgY2hpbGRyZW46IG9wdGlvbnMgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0RGVzdHJveU9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIF9TcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBtYWtlIHN1cmUgdG8gcmVzZXQgdGhlIHRoZSBjb250ZXh0IGFuZCBjYW52YXMuLiBkb250IHdhbnQgdGhpcyBoYW5naW5nIGFyb3VuZCBpbiBtZW1vcnkhXG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFRleHQsIFt7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICAgICAgdmFyIHMgPSAoMCwgX3V0aWxzLnNpZ24pKHRoaXMuc2NhbGUueCkgfHwgMTtcblxuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUZXh0LCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICAgICAgdmFyIHMgPSAoMCwgX3V0aWxzLnNpZ24pKHRoaXMuc2NhbGUueSkgfHwgMTtcblxuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgc3R5bGUgb2YgdGhlIHRleHQuIFNldCB1cCBhbiBldmVudCBsaXN0ZW5lciB0byBsaXN0ZW4gZm9yIGNoYW5nZXMgb24gdGhlIHN0eWxlXG4gICAgICAgICAqIG9iamVjdCBhbmQgbWFyayB0aGUgdGV4dCBhcyBkaXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fFBJWEkuVGV4dFN0eWxlfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc3R5bGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoc3R5bGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuXG4gICAgICAgICAgICBpZiAoc3R5bGUgaW5zdGFuY2VvZiBfVGV4dFN0eWxlMi5kZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGUgPSBuZXcgX1RleHRTdHlsZTIuZGVmYXVsdChzdHlsZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIGNvcHkgZm9yIHRoZSB0ZXh0IG9iamVjdC4gVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0ZXh0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGV4dCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHQgPSBTdHJpbmcodGV4dCA9PT0gJycgfHwgdGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB1bmRlZmluZWQgPyAnICcgOiB0ZXh0KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRleHQ7XG59KF9TcHJpdGUzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIFRoZSBzaXplIG9mIHRoZSBidWZmZXIgaW4gYnl0ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBCdWZmZXIoc2l6ZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCdWZmZXIpO1xuXG4gICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBBcnJheUJ1ZmZlcihzaXplKTtcblxuICAgIC8qKlxuICAgICAqIFZpZXcgb24gdGhlIHZlcnRpY2VzIGFzIGEgRmxvYXQzMkFycmF5IGZvciBwb3NpdGlvbnNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmZsb2F0MzJWaWV3ID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnZlcnRpY2VzKTtcblxuICAgIC8qKlxuICAgICAqIFZpZXcgb24gdGhlIHZlcnRpY2VzIGFzIGEgVWludDMyQXJyYXkgZm9yIHV2c1xuICAgICAqXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIHRoaXMudWludDMyVmlldyA9IG5ldyBVaW50MzJBcnJheSh0aGlzLnZlcnRpY2VzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgYnVmZmVyLlxuICAgKlxuICAgKi9cblxuXG4gIEJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy52ZXJ0aWNlcyA9IG51bGw7XG4gICAgdGhpcy5wb3NpdGlvbnMgPSBudWxsO1xuICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICB0aGlzLmNvbG9ycyA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIEJ1ZmZlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQnVmZmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmF0Y2hCdWZmZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZnJhZ1RlbXBsYXRlID0gWydwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnLCAndm9pZCBtYWluKHZvaWQpeycsICdmbG9hdCB0ZXN0ID0gMC4xOycsICclZm9ybG9vcCUnLCAnZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApOycsICd9J10uam9pbignXFxuJyk7XG5cbmZ1bmN0aW9uIGNoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlcihtYXhJZnMsIGdsKSB7XG4gICAgdmFyIGNyZWF0ZVRlbXBDb250ZXh0ID0gIWdsO1xuXG4gICAgLy8gQGlmIERFQlVHXG4gICAgaWYgKG1heElmcyA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgb2YgYDBgIHBhc3NlZCB0byBgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcmAnKTtcbiAgICB9XG4gICAgLy8gQGVuZGlmXG5cbiAgICBpZiAoY3JlYXRlVGVtcENvbnRleHQpIHtcbiAgICAgICAgdmFyIHRpbnlDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICB0aW55Q2FudmFzLndpZHRoID0gMTtcbiAgICAgICAgdGlueUNhbnZhcy5oZWlnaHQgPSAxO1xuXG4gICAgICAgIGdsID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuY3JlYXRlQ29udGV4dCh0aW55Q2FudmFzKTtcbiAgICB9XG5cbiAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XG5cbiAgICB3aGlsZSAodHJ1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zdGFudC1jb25kaXRpb25cbiAgICB7XG4gICAgICAgIHZhciBmcmFnbWVudFNyYyA9IGZyYWdUZW1wbGF0ZS5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcykpO1xuXG4gICAgICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIGZyYWdtZW50U3JjKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgICAgICBtYXhJZnMgPSBtYXhJZnMgLyAyIHwgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHZhbGlkIVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY3JlYXRlVGVtcENvbnRleHQpIHtcbiAgICAgICAgLy8gZ2V0IHJpZCBvZiBjb250ZXh0XG4gICAgICAgIGlmIChnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpKSB7XG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpLmxvc2VDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWF4SWZzO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUlmVGVzdFNyYyhtYXhJZnMpIHtcbiAgICB2YXIgc3JjID0gJyc7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heElmczsgKytpKSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaSA8IG1heElmcyAtIDEpIHtcbiAgICAgICAgICAgIHNyYyArPSAnaWYodGVzdCA9PSAnICsgaSArICcuMCl7fSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3JjO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGdlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyO1xuXG52YXIgX1NoYWRlciA9IHJlcXVpcmUoJy4uLy4uL1NoYWRlcicpO1xuXG52YXIgX1NoYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaGFkZXIpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBmcmFnVGVtcGxhdGUgPSBbJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkOycsICd2YXJ5aW5nIHZlYzQgdkNvbG9yOycsICd2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7JywgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyc1slY291bnQlXTsnLCAndm9pZCBtYWluKHZvaWQpeycsICd2ZWM0IGNvbG9yOycsICdmbG9hdCB0ZXh0dXJlSWQgPSBmbG9vcih2VGV4dHVyZUlkKzAuNSk7JywgJyVmb3Jsb29wJScsICdnbF9GcmFnQ29sb3IgPSBjb2xvciAqIHZDb2xvcjsnLCAnfSddLmpvaW4oJ1xcbicpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlcihnbCwgbWF4VGV4dHVyZXMpIHtcbiAgICB2YXIgdmVydGV4U3JjID0gJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjNCBhQ29sb3I7XFxuYXR0cmlidXRlIGZsb2F0IGFUZXh0dXJlSWQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG52YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZUZXh0dXJlSWQgPSBhVGV4dHVyZUlkO1xcbiAgICB2Q29sb3IgPSBhQ29sb3I7XFxufVxcbic7XG4gICAgdmFyIGZyYWdtZW50U3JjID0gZnJhZ1RlbXBsYXRlO1xuXG4gICAgZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYy5yZXBsYWNlKC8lY291bnQlL2dpLCBtYXhUZXh0dXJlcyk7XG4gICAgZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYy5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIGdlbmVyYXRlU2FtcGxlU3JjKG1heFRleHR1cmVzKSk7XG5cbiAgICB2YXIgc2hhZGVyID0gbmV3IF9TaGFkZXIyLmRlZmF1bHQoZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuXG4gICAgdmFyIHNhbXBsZVZhbHVlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgfVxuXG4gICAgc2hhZGVyLmJpbmQoKTtcbiAgICBzaGFkZXIudW5pZm9ybXMudVNhbXBsZXJzID0gc2FtcGxlVmFsdWVzO1xuXG4gICAgcmV0dXJuIHNoYWRlcjtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVTYW1wbGVTcmMobWF4VGV4dHVyZXMpIHtcbiAgICB2YXIgc3JjID0gJyc7XG5cbiAgICBzcmMgKz0gJ1xcbic7XG4gICAgc3JjICs9ICdcXG4nO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaSA8IG1heFRleHR1cmVzIC0gMSkge1xuICAgICAgICAgICAgc3JjICs9ICdpZih0ZXh0dXJlSWQgPT0gJyArIGkgKyAnLjApJztcbiAgICAgICAgfVxuXG4gICAgICAgIHNyYyArPSAnXFxueyc7XG4gICAgICAgIHNyYyArPSAnXFxuXFx0Y29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJzWycgKyBpICsgJ10sIHZUZXh0dXJlQ29vcmQpOyc7XG4gICAgICAgIHNyYyArPSAnXFxufSc7XG4gICAgfVxuXG4gICAgc3JjICs9ICdcXG4nO1xuICAgIHNyYyArPSAnXFxuJztcblxuICAgIHJldHVybiBzcmM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2YWxpZGF0ZUNvbnRleHQ7XG5mdW5jdGlvbiB2YWxpZGF0ZUNvbnRleHQoZ2wpIHtcbiAgICB2YXIgYXR0cmlidXRlcyA9IGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7XG5cbiAgICAvLyB0aGlzIGlzIGdvaW5nIHRvIGJlIGZhaXJseSBzaW1wbGUgZm9yIG5vdy4uIGJ1dCBhdCBsZWFzdCB3ZSBoYXZlIHJvb20gdG8gZ3JvdyFcbiAgICBpZiAoIWF0dHJpYnV0ZXMuc3RlbmNpbCkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgIGNvbnNvbGUud2FybignUHJvdmlkZWQgV2ViR0wgY29udGV4dCBkb2VzIG5vdCBoYXZlIGEgc3RlbmNpbCBidWZmZXIsIG1hc2tzIG1heSBub3QgcmVuZGVyIGNvcnJlY3RseScpO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0ZUNvbnRleHQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9jb25zdCcpO1xuXG4vKipcbiAqIEdlbmVyaWMgTWFzayBTdGFjayBkYXRhIHN0cnVjdHVyZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIG1hcFdlYkdMRHJhd01vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gKiBAcGFyYW0ge29iamVjdH0gW29iamVjdD17fV0gLSBUaGUgb2JqZWN0IHRvIG1hcCBpbnRvXG4gKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBtYXBwZWQgZHJhdyBtb2Rlcy5cbiAqL1xuZnVuY3Rpb24gbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkoZ2wpIHtcbiAgdmFyIG9iamVjdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgb2JqZWN0W19jb25zdC5EUkFXX01PREVTLlBPSU5UU10gPSBnbC5QT0lOVFM7XG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5MSU5FU10gPSBnbC5MSU5FUztcbiAgb2JqZWN0W19jb25zdC5EUkFXX01PREVTLkxJTkVfTE9PUF0gPSBnbC5MSU5FX0xPT1A7XG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5MSU5FX1NUUklQXSA9IGdsLkxJTkVfU1RSSVA7XG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5UUklBTkdMRVNdID0gZ2wuVFJJQU5HTEVTO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuVFJJQU5HTEVfU1RSSVBdID0gZ2wuVFJJQU5HTEVfU1RSSVA7XG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5UUklBTkdMRV9GQU5dID0gZ2wuVFJJQU5HTEVfRkFOO1xuXG4gIHJldHVybiBvYmplY3Q7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9jb25zdCcpO1xuXG4vKipcbiAqIE1hcHMgZ2wgYmxlbmQgY29tYmluYXRpb25zIHRvIFdlYkdMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHJlbmRlcmluZyBjb250ZXh0LlxuICogQHBhcmFtIHtzdHJpbmdbXX0gW2FycmF5PVtdXSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge3N0cmluZ1tdfSBNYXBwZWQgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aShnbCkge1xuICAgIHZhciBhcnJheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogW107XG5cbiAgICAvLyBUT0RPIC0gcHJlbXVsdGlwbHkgYWxwaGEgd291bGQgYmUgZGlmZmVyZW50LlxuICAgIC8vIGFkZCBhIGJvb2xlYW4gZm9yIHRoYXQhXG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREXSA9IFtnbC5PTkUsIGdsLkRTVF9BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk1VTFRJUExZXSA9IFtnbC5EU1RfQ09MT1IsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUl07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk9WRVJMQVldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkRBUktFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTElHSFRFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfRE9ER0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkNPTE9SX0JVUk5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkhBUkRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNPRlRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkRJRkZFUkVOQ0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkVYQ0xVU0lPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuSFVFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQVRVUkFUSU9OXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTFVNSU5PU0lUWV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcblxuICAgIC8vIG5vdC1wcmVtdWx0aXBsaWVkIGJsZW5kIG1vZGVzXG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5EU1RfQUxQSEEsIGdsLk9ORSwgZ2wuRFNUX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1JdO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkgPSByZXF1aXJlKCcuL3V0aWxzL21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aScpO1xuXG52YXIgX21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgQkxFTkQgPSAwO1xudmFyIERFUFRIX1RFU1QgPSAxO1xudmFyIEZST05UX0ZBQ0UgPSAyO1xudmFyIENVTExfRkFDRSA9IDM7XG52YXIgQkxFTkRfRlVOQyA9IDQ7XG5cbi8qKlxuICogQSBXZWJHTCBzdGF0ZSBtYWNoaW5lc1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAY2xhc3NcbiAqL1xuXG52YXIgV2ViR0xTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdlYkdMU3RhdGUoZ2wpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMU3RhdGUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBhY3RpdmUgc3RhdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDhBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGUgPSBuZXcgVWludDhBcnJheSgxNik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHN0YXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQ4QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRTdGF0ZSA9IG5ldyBVaW50OEFycmF5KDE2KTtcblxuICAgICAgICAvLyBkZWZhdWx0IGJsZW5kIG1vZGUuLlxuICAgICAgICB0aGlzLmRlZmF1bHRTdGF0ZVswXSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHN0YXRlIGluZGV4IGluIHRoZSBzdGFja1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YWNrSW5kZXggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RhY2sgaG9sZGluZyBhbGwgdGhlIGRpZmZlcmVudCBzdGF0ZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YWNrID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgICAgICB0aGlzLm1heEF0dHJpYnMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1ZFUlRFWF9BVFRSSUJTKTtcblxuICAgICAgICB0aGlzLmF0dHJpYlN0YXRlID0ge1xuICAgICAgICAgICAgdGVtcEF0dHJpYlN0YXRlOiBuZXcgQXJyYXkodGhpcy5tYXhBdHRyaWJzKSxcbiAgICAgICAgICAgIGF0dHJpYlN0YXRlOiBuZXcgQXJyYXkodGhpcy5tYXhBdHRyaWJzKVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlcyA9ICgwLCBfbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpMi5kZWZhdWx0KShnbCk7XG5cbiAgICAgICAgLy8gY2hlY2sgd2UgaGF2ZSB2YW8uLlxuICAgICAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbiA9IGdsLmdldEV4dGVuc2lvbignT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKSB8fCBnbC5nZXRFeHRlbnNpb24oJ01PWl9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpIHx8IGdsLmdldEV4dGVuc2lvbignV0VCS0lUX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0Jyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgbmV3IGFjdGl2ZSBzdGF0ZVxuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCgpIHtcbiAgICAgICAgLy8gbmV4dCBzdGF0ZS4uXG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhY2tbdGhpcy5zdGFja0luZGV4XTtcblxuICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IHRoaXMuc3RhY2tbdGhpcy5zdGFja0luZGV4XSA9IG5ldyBVaW50OEFycmF5KDE2KTtcbiAgICAgICAgfVxuXG4gICAgICAgICsrdGhpcy5zdGFja0luZGV4O1xuXG4gICAgICAgIC8vIGNvcHkgc3RhdGUuLlxuICAgICAgICAvLyBzZXQgYWN0aXZlIHN0YXRlIHNvIHdlIGNhbiBmb3JjZSBvdmVycmlkZXMgb2YgZ2wgc3RhdGVcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFjdGl2ZVN0YXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzdGF0ZVtpXSA9IHRoaXMuYWN0aXZlU3RhdGVbaV07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUG9wcyBhIHN0YXRlIG91dFxuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiBwb3AoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhY2tbLS10aGlzLnN0YWNrSW5kZXhdO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHN0YXRlIC0gVGhlIHN0YXRlIHRvIHNldC5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiBzZXRTdGF0ZShzdGF0ZSkge1xuICAgICAgICB0aGlzLnNldEJsZW5kKHN0YXRlW0JMRU5EXSk7XG4gICAgICAgIHRoaXMuc2V0RGVwdGhUZXN0KHN0YXRlW0RFUFRIX1RFU1RdKTtcbiAgICAgICAgdGhpcy5zZXRGcm9udEZhY2Uoc3RhdGVbRlJPTlRfRkFDRV0pO1xuICAgICAgICB0aGlzLnNldEN1bGxGYWNlKHN0YXRlW0NVTExfRkFDRV0pO1xuICAgICAgICB0aGlzLnNldEJsZW5kTW9kZShzdGF0ZVtCTEVORF9GVU5DXSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZWQgYmxlbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgYmxlbmRpbmcuXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldEJsZW5kID0gZnVuY3Rpb24gc2V0QmxlbmQodmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IDEgOiAwO1xuXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVN0YXRlW0JMRU5EXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGVbQkxFTkRdID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5CTEVORCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGJsZW5kIG1vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBUaGUgYmxlbmQgbW9kZSB0byBzZXQgdG8uXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldEJsZW5kTW9kZSA9IGZ1bmN0aW9uIHNldEJsZW5kTW9kZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuYWN0aXZlU3RhdGVbQkxFTkRfRlVOQ10pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGVbQkxFTkRfRlVOQ10gPSB2YWx1ZTtcblxuICAgICAgICB2YXIgbW9kZSA9IHRoaXMuYmxlbmRNb2Rlc1t2YWx1ZV07XG5cbiAgICAgICAgaWYgKG1vZGUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICB0aGlzLmdsLmJsZW5kRnVuYyhtb2RlWzBdLCBtb2RlWzFdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ2wuYmxlbmRGdW5jU2VwYXJhdGUobW9kZVswXSwgbW9kZVsxXSwgbW9kZVsyXSwgbW9kZVszXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGRlcHRoIHRlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgZGVwdGggdGVzdGluZy5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUuc2V0RGVwdGhUZXN0ID0gZnVuY3Rpb24gc2V0RGVwdGhUZXN0KHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPyAxIDogMDtcblxuICAgICAgICBpZiAodGhpcy5hY3RpdmVTdGF0ZVtERVBUSF9URVNUXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGVbREVQVEhfVEVTVF0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkRFUFRIX1RFU1QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHdoZXRoZXIgdG8gZW5hYmxlIG9yIGRpc2FibGUgY3VsbCBmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGN1bGwgZmFjZS5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUuc2V0Q3VsbEZhY2UgPSBmdW5jdGlvbiBzZXRDdWxsRmFjZSh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID8gMSA6IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3RhdGVbQ1VMTF9GQUNFXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGVbQ1VMTF9GQUNFXSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQ1VMTF9GQUNFKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2wgZnJvbnQgZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSB0cnVlIGlzIGNsb2Nrd2lzZSBhbmQgZmFsc2UgaXMgY291bnRlci1jbG9ja3dpc2VcbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUuc2V0RnJvbnRGYWNlID0gZnVuY3Rpb24gc2V0RnJvbnRGYWNlKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPyAxIDogMDtcblxuICAgICAgICBpZiAodGhpcy5hY3RpdmVTdGF0ZVtGUk9OVF9GQUNFXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGVbRlJPTlRfRkFDRV0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5nbC5mcm9udEZhY2UodGhpcy5nbFt2YWx1ZSA/ICdDVycgOiAnQ0NXJ10pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyBhbGwgdGhlIHZhb3MgaW4gdXNlXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUucmVzZXRBdHRyaWJ1dGVzID0gZnVuY3Rpb24gcmVzZXRBdHRyaWJ1dGVzKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXR0cmliU3RhdGUudGVtcEF0dHJpYlN0YXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYlN0YXRlLnRlbXBBdHRyaWJTdGF0ZVtpXSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5hdHRyaWJTdGF0ZS5hdHRyaWJTdGF0ZS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cmliU3RhdGUuYXR0cmliU3RhdGVbX2ldID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGltIGdvaW5nIHRvIGFzc3VtZSBvbmUgaXMgYWx3YXlzIGFjdGl2ZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy5cbiAgICAgICAgZm9yICh2YXIgX2kyID0gMTsgX2kyIDwgdGhpcy5tYXhBdHRyaWJzOyBfaTIrKykge1xuICAgICAgICAgICAgdGhpcy5nbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoX2kyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyB1c2VkXG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFsbCB0aGUgbG9naWMgYW5kIGRpc2FibGVzIHRoZSB2YW9zXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnJlc2V0VG9EZWZhdWx0ID0gZnVuY3Rpb24gcmVzZXRUb0RlZmF1bHQoKSB7XG4gICAgICAgIC8vIHVuYmluZCBhbnkgVkFPIGlmIHRoZXkgZXhpc3QuLlxuICAgICAgICBpZiAodGhpcy5uYXRpdmVWYW9FeHRlbnNpb24pIHtcbiAgICAgICAgICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmJpbmRWZXJ0ZXhBcnJheU9FUyhudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc2V0IGFsbCBhdHRyaWJ1dGVzLi5cbiAgICAgICAgdGhpcy5yZXNldEF0dHJpYnV0ZXMoKTtcblxuICAgICAgICAvLyBzZXQgYWN0aXZlIHN0YXRlIHNvIHdlIGNhbiBmb3JjZSBvdmVycmlkZXMgb2YgZ2wgc3RhdGVcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFjdGl2ZVN0YXRlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW2ldID0gMzI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdsLnBpeGVsU3RvcmVpKHRoaXMuZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUodGhpcy5kZWZhdWx0U3RhdGUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gV2ViR0xTdGF0ZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gV2ViR0xTdGF0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlYkdMU3RhdGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uLy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yLiBUaGlzIGNsYXNzIG1hbmFnZXMgdGhlIEdQVSBhbmQgZW5zdXJlcyB0aGF0IGl0IGRvZXMgbm90IGdldCBjbG9nZ2VkXG4gKiB1cCB3aXRoIHRleHR1cmVzIHRoYXQgYXJlIG5vIGxvbmdlciBiZWluZyB1c2VkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvcik7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuICAgICAgICB0aGlzLm1heElkbGUgPSBfc2V0dGluZ3MyLmRlZmF1bHQuR0NfTUFYX0lETEU7XG4gICAgICAgIHRoaXMuY2hlY2tDb3VudE1heCA9IF9zZXR0aW5nczIuZGVmYXVsdC5HQ19NQVhfQ0hFQ0tfQ09VTlQ7XG4gICAgICAgIHRoaXMubW9kZSA9IF9zZXR0aW5nczIuZGVmYXVsdC5HQ19NT0RFO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG5cblxuICAgIFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMuY291bnQrKztcblxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSBfY29uc3QuR0NfTU9ERVMuTUFOVUFMKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoZWNrQ291bnQrKztcblxuICAgICAgICBpZiAodGhpcy5jaGVja0NvdW50ID4gdGhpcy5jaGVja0NvdW50TWF4KSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuXG4gICAgICAgICAgICB0aGlzLnJ1bigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG5cblxuICAgIFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiBydW4oKSB7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZU1hbmFnZXI7XG4gICAgICAgIHZhciBtYW5hZ2VkVGV4dHVyZXMgPSB0bS5fbWFuYWdlZFRleHR1cmVzO1xuICAgICAgICB2YXIgd2FzUmVtb3ZlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IG1hbmFnZWRUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgLy8gb25seSBzdXBwb3J0cyBub24gZ2VuZXJhdGVkIHRleHR1cmVzIGF0IHRoZSBtb21lbnQhXG4gICAgICAgICAgICBpZiAoIXRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0cyAmJiB0aGlzLmNvdW50IC0gdGV4dHVyZS50b3VjaGVkID4gdGhpcy5tYXhJZGxlKSB7XG4gICAgICAgICAgICAgICAgdG0uZGVzdHJveVRleHR1cmUodGV4dHVyZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICB3YXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3YXNSZW1vdmVkKSB7XG4gICAgICAgICAgICB2YXIgaiA9IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hbmFnZWRUZXh0dXJlc1tfaV0gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzW2orK10gPSBtYW5hZ2VkVGV4dHVyZXNbX2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzLmxlbmd0aCA9IGo7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIHRleHR1cmVzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGRpc3BsYXlPYmplY3QgYW5kIGl0cyBjaGlsZHJlbiBmcm9tIHRoZSBHUFVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3QgdG8gcmVtb3ZlIHRoZSB0ZXh0dXJlcyBmcm9tLlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24gdW5sb2FkKGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgdmFyIHRtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlTWFuYWdlcjtcblxuICAgICAgICAvLyBvbmx5IGRlc3Ryb3kgbm9uIGdlbmVyYXRlZCB0ZXh0dXJlc1xuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5fdGV4dHVyZSAmJiBkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlLl9nbFJlbmRlclRhcmdldHMpIHtcbiAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKGRpc3BsYXlPYmplY3QuX3RleHR1cmUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHRoaXMudW5sb2FkKGRpc3BsYXlPYmplY3QuY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxudmFyIF9SZW5kZXJUYXJnZXQgPSByZXF1aXJlKCcuL3V0aWxzL1JlbmRlclRhcmdldCcpO1xuXG52YXIgX1JlbmRlclRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUYXJnZXQpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgd2ViR0wgVGV4dHVyZVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dHVyZU1hbmFnZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRleHR1cmVNYW5hZ2VyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5XZWJHTFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrIHRleHR1cmVzIGluIHRoZSByZW5kZXJlciBzbyB3ZSBjYW4gbm8gbG9uZ2VyIGxpc3RlbiB0byB0aGVtIG9uIGRlc3RydWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21hbmFnZWRUZXh0dXJlcyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJpbmRzIGEgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlTWFuYWdlci5wcm90b3R5cGUuYmluZFRleHR1cmUgPSBmdW5jdGlvbiBiaW5kVGV4dHVyZSgpIHt9XG4gICAgLy8gZW1wdHlcblxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHRleHR1cmUuXG4gICAgICpcbiAgICAgKi9cbiAgICA7XG5cbiAgICBUZXh0dXJlTWFuYWdlci5wcm90b3R5cGUuZ2V0VGV4dHVyZSA9IGZ1bmN0aW9uIGdldFRleHR1cmUoKSB7fVxuICAgIC8vIGVtcHR5XG5cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgYW5kL29yIENyZWF0ZXMgYSBXZWJHTCB0ZXh0dXJlIGZvciB0aGUgcmVuZGVyZXIncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsb2NhdGlvbiAtIHRoZSBsb2NhdGlvbiB0aGUgdGV4dHVyZSB3aWxsIGJlIGJvdW5kIHRvLlxuICAgICAqIEByZXR1cm4ge0dMVGV4dHVyZX0gVGhlIGdsIHRleHR1cmUuXG4gICAgICovXG4gICAgO1xuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiB1cGRhdGVUZXh0dXJlKHRleHR1cmUsIGxvY2F0aW9uKSB7XG4gICAgICAgIC8vIGFzc3VtZSBpdCBnb29kIVxuICAgICAgICAvLyB0ZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZSB8fCB0ZXh0dXJlO1xuXG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgdmFyIGlzUmVuZGVyVGV4dHVyZSA9ICEhdGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzO1xuXG4gICAgICAgIGlmICghdGV4dHVyZS5oYXNMb2FkZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJvdW5kVGV4dHVyZXMgPSB0aGlzLnJlbmRlcmVyLmJvdW5kVGV4dHVyZXM7XG5cbiAgICAgICAgLy8gaWYgdGhlIGxvY2F0aW9uIGlzIHVuZGVmaW5lZCB0aGVuIHRoaXMgbWF5IGhhdmUgYmVlbiBjYWxsZWQgYnkgbiBldmVudC5cbiAgICAgICAgLy8gdGhpcyBiZWluZyB0aGUgY2FzZSB0aGUgdGV4dHVyZSBtYXkgYWxyZWFkeSBiZSBib3VuZCB0byBhIHNsb3QuIEFzIGEgdGV4dHVyZSBjYW4gb25seSBiZSBib3VuZCBvbmNlXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gZmluZCBpdHMgY3VycmVudCBsb2NhdGlvbiBpZiBpdCBleGlzdHMuXG4gICAgICAgIGlmIChsb2NhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsb2NhdGlvbiA9IDA7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gbWF5YmUgd2UgY2FuIHVzZSB0ZXh0dXJlIGJvdW5kIGlkcyBsYXRlciBvbi4uLlxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGV4dHVyZSBpcyBhbHJlYWR5IGJvdW5kLi5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChib3VuZFRleHR1cmVzW2ldID09PSB0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYm91bmRUZXh0dXJlc1tsb2NhdGlvbl0gPSB0ZXh0dXJlO1xuXG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBsb2NhdGlvbik7XG5cbiAgICAgICAgdmFyIGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCFnbFRleHR1cmUpIHtcbiAgICAgICAgICAgIGlmIChpc1JlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gbmV3IF9SZW5kZXJUYXJnZXQyLmRlZmF1bHQodGhpcy5nbCwgdGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQsIHRleHR1cmUuc2NhbGVNb2RlLCB0ZXh0dXJlLnJlc29sdXRpb24pO1xuXG4gICAgICAgICAgICAgICAgcmVuZGVyVGFyZ2V0LnJlc2l6ZSh0ZXh0dXJlLndpZHRoLCB0ZXh0dXJlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdID0gcmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZSA9IHJlbmRlclRhcmdldC50ZXh0dXJlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUgPSBuZXcgX3BpeGlHbENvcmUuR0xUZXh0dXJlKHRoaXMuZ2wsIG51bGwsIG51bGwsIG51bGwsIG51bGwpO1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5iaW5kKGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSA9IHRydWU7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLnVwbG9hZCh0ZXh0dXJlLnNvdXJjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0gPSBnbFRleHR1cmU7XG5cbiAgICAgICAgICAgIHRleHR1cmUub24oJ3VwZGF0ZScsIHRoaXMudXBkYXRlVGV4dHVyZSwgdGhpcyk7XG4gICAgICAgICAgICB0ZXh0dXJlLm9uKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMuX21hbmFnZWRUZXh0dXJlcy5wdXNoKHRleHR1cmUpO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZS5pc1Bvd2VyT2ZUd28pIHtcbiAgICAgICAgICAgICAgICBpZiAodGV4dHVyZS5taXBtYXApIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZU1pcG1hcCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlLndyYXBNb2RlID09PSBfY29uc3QuV1JBUF9NT0RFUy5DTEFNUCkge1xuICAgICAgICAgICAgICAgICAgICBnbFRleHR1cmUuZW5hYmxlV3JhcENsYW1wKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXh0dXJlLndyYXBNb2RlID09PSBfY29uc3QuV1JBUF9NT0RFUy5SRVBFQVQpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZVdyYXBSZXBlYXQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBnbFRleHR1cmUuZW5hYmxlV3JhcE1pcnJvclJlcGVhdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZVdyYXBDbGFtcCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGV4dHVyZS5zY2FsZU1vZGUgPT09IF9jb25zdC5TQ0FMRV9NT0RFUy5ORUFSRVNUKSB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZU5lYXJlc3RTY2FsaW5nKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVMaW5lYXJTY2FsaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIHRleHR1cmUgYWxyZWFkeSBleGlzdHMgc28gd2Ugb25seSBuZWVkIHRvIHVwZGF0ZSBpdC4uXG4gICAgICAgIGVsc2UgaWYgKGlzUmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXS5yZXNpemUodGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUudXBsb2FkKHRleHR1cmUuc291cmNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2xUZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIHRoZSB0ZXh0dXJlIGZyb20gV2ViR0xcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSB0byBkZXN0cm95XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFJlbW92ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIHNraXAgcmVtb3ZpbmcgdGhlIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZU1hbmFnZXIuXG4gICAgICovXG5cblxuICAgIFRleHR1cmVNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95VGV4dHVyZSA9IGZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHNraXBSZW1vdmUpIHtcbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdWlkID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcbiAgICAgICAgdmFyIGdsVGV4dHVyZXMgPSB0ZXh0dXJlLl9nbFRleHR1cmVzO1xuICAgICAgICB2YXIgZ2xSZW5kZXJUYXJnZXRzID0gdGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzO1xuXG4gICAgICAgIGlmIChnbFRleHR1cmVzW3VpZF0pIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudW5iaW5kVGV4dHVyZSh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgZ2xUZXh0dXJlc1t1aWRdLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLnVwZGF0ZVRleHR1cmUsIHRoaXMpO1xuICAgICAgICAgICAgdGV4dHVyZS5vZmYoJ2Rpc3Bvc2UnLCB0aGlzLmRlc3Ryb3lUZXh0dXJlLCB0aGlzKTtcblxuICAgICAgICAgICAgZGVsZXRlIGdsVGV4dHVyZXNbdWlkXTtcblxuICAgICAgICAgICAgaWYgKCFza2lwUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMuaW5kZXhPZih0ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAoMCwgX3V0aWxzLnJlbW92ZUl0ZW1zKSh0aGlzLl9tYW5hZ2VkVGV4dHVyZXMsIGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnbFJlbmRlclRhcmdldHMgJiYgZ2xSZW5kZXJUYXJnZXRzW3VpZF0pIHtcbiAgICAgICAgICAgIGdsUmVuZGVyVGFyZ2V0c1t1aWRdLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGRlbGV0ZSBnbFJlbmRlclRhcmdldHNbdWlkXTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGFsbCB0aGUgdGV4dHVyZXMgZnJvbSBXZWJHTFxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlQWxsID0gZnVuY3Rpb24gcmVtb3ZlQWxsKCkge1xuICAgICAgICAvLyBlbXB0eSBhbGwgdGhlIG9sZCBnbCB0ZXh0dXJlcyBhcyB0aGV5IGFyZSB1c2VsZXNzIG5vd1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX21hbmFnZWRUZXh0dXJlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl9tYW5hZ2VkVGV4dHVyZXNbaV07XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBtYW5hZ2VyIGFuZCByZW1vdmVzIGFsbCBpdHMgdGV4dHVyZXNcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAvLyBkZXN0cm95IG1hbmFnZWQgdGV4dHVyZXNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fbWFuYWdlZFRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy51cGRhdGVUZXh0dXJlLCB0aGlzKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dHVyZU1hbmFnZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHR1cmVNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZU1hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5jYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeCA9IGNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4O1xuZXhwb3J0cy5jYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXggPSBjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXg7XG5leHBvcnRzLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCA9IGNhbGN1bGF0ZVNwcml0ZU1hdHJpeDtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vLi4vLi4vbWF0aCcpO1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIG1hcHBlZCBtYXRyaXhcbiAqIEBwYXJhbSBmaWx0ZXJBcmVhIHtSZWN0YW5nbGV9IFRoZSBmaWx0ZXIgYXJlYVxuICogQHBhcmFtIHNwcml0ZSB7U3ByaXRlfSB0aGUgdGFyZ2V0IHNwcml0ZVxuICogQHBhcmFtIG91dHB1dE1hdHJpeCB7TWF0cml4fSBAYWx2aW5cbiAqIEBwcml2YXRlXG4gKi9cbi8vIFRPRE8gcGxheWluZyBhcm91bmQgaGVyZS4uIHRoaXMgaXMgdGVtcG9yYXJ5IC0gKHdpbGwgZW5kIHVwIGluIHRoZSBzaGFkZXIpXG4vLyB0aGlzIHJldHVybnMgYSBtYXRyaXggdGhhdCB3aWxsIG5vcm1hbGlzZSBtYXAgZmlsdGVyIGNvcmRzIGluIHRoZSBmaWx0ZXIgdG8gc2NyZWVuIHNwYWNlXG5mdW5jdGlvbiBjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgsIGZpbHRlckFyZWEsIHRleHR1cmVTaXplKSB7XG4gICAgLy8gbGV0IHdvcmxkVHJhbnNmb3JtID0gc3ByaXRlLndvcmxkVHJhbnNmb3JtLmNvcHkoTWF0cml4LlRFTVBfTUFUUklYKSxcbiAgICAvLyBsZXQgdGV4dHVyZSA9IHt3aWR0aDoxMTM2LCBoZWlnaHQ6NzAwfTsvL3Nwcml0ZS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgIC8vIFRPRE8gdW53cmFwP1xuICAgIHZhciBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguaWRlbnRpdHkoKTtcblxuICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoZmlsdGVyQXJlYS54IC8gdGV4dHVyZVNpemUud2lkdGgsIGZpbHRlckFyZWEueSAvIHRleHR1cmVTaXplLmhlaWdodCk7XG5cbiAgICBtYXBwZWRNYXRyaXguc2NhbGUodGV4dHVyZVNpemUud2lkdGgsIHRleHR1cmVTaXplLmhlaWdodCk7XG5cbiAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4LCBmaWx0ZXJBcmVhLCB0ZXh0dXJlU2l6ZSkge1xuICAgIHZhciBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguaWRlbnRpdHkoKTtcblxuICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoZmlsdGVyQXJlYS54IC8gdGV4dHVyZVNpemUud2lkdGgsIGZpbHRlckFyZWEueSAvIHRleHR1cmVTaXplLmhlaWdodCk7XG5cbiAgICB2YXIgdHJhbnNsYXRlU2NhbGVYID0gdGV4dHVyZVNpemUud2lkdGggLyBmaWx0ZXJBcmVhLndpZHRoO1xuICAgIHZhciB0cmFuc2xhdGVTY2FsZVkgPSB0ZXh0dXJlU2l6ZS5oZWlnaHQgLyBmaWx0ZXJBcmVhLmhlaWdodDtcblxuICAgIG1hcHBlZE1hdHJpeC5zY2FsZSh0cmFuc2xhdGVTY2FsZVgsIHRyYW5zbGF0ZVNjYWxlWSk7XG5cbiAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xufVxuXG4vLyB0aGlzIHdpbGwgbWFwIHRoZSBmaWx0ZXIgY29vcmQgc28gdGhhdCBhIHRleHR1cmUgY2FuIGJlIHVzZWQgYmFzZWQgb24gdGhlIHRyYW5zZm9ybSBvZiBhIHNwcml0ZVxuZnVuY3Rpb24gY2FsY3VsYXRlU3ByaXRlTWF0cml4KG91dHB1dE1hdHJpeCwgZmlsdGVyQXJlYSwgdGV4dHVyZVNpemUsIHNwcml0ZSkge1xuICAgIHZhciBvcmlnID0gc3ByaXRlLl90ZXh0dXJlLm9yaWc7XG4gICAgdmFyIG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5zZXQodGV4dHVyZVNpemUud2lkdGgsIDAsIDAsIHRleHR1cmVTaXplLmhlaWdodCwgZmlsdGVyQXJlYS54LCBmaWx0ZXJBcmVhLnkpO1xuICAgIHZhciB3b3JsZFRyYW5zZm9ybSA9IHNwcml0ZS53b3JsZFRyYW5zZm9ybS5jb3B5KF9tYXRoLk1hdHJpeC5URU1QX01BVFJJWCk7XG5cbiAgICB3b3JsZFRyYW5zZm9ybS5pbnZlcnQoKTtcbiAgICBtYXBwZWRNYXRyaXgucHJlcGVuZCh3b3JsZFRyYW5zZm9ybSk7XG4gICAgbWFwcGVkTWF0cml4LnNjYWxlKDEuMCAvIG9yaWcud2lkdGgsIDEuMCAvIG9yaWcuaGVpZ2h0KTtcbiAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNwcml0ZS5hbmNob3IueCwgc3ByaXRlLmFuY2hvci55KTtcblxuICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXJUcmFuc2Zvcm1zLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9XZWJHTE1hbmFnZXIyID0gcmVxdWlyZSgnLi9XZWJHTE1hbmFnZXInKTtcblxudmFyIF9XZWJHTE1hbmFnZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xNYW5hZ2VyMik7XG5cbnZhciBfUmVuZGVyVGFyZ2V0ID0gcmVxdWlyZSgnLi4vdXRpbHMvUmVuZGVyVGFyZ2V0Jyk7XG5cbnZhciBfUmVuZGVyVGFyZ2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRhcmdldCk7XG5cbnZhciBfUXVhZCA9IHJlcXVpcmUoJy4uL3V0aWxzL1F1YWQnKTtcblxudmFyIF9RdWFkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1F1YWQpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi8uLi8uLi9tYXRoJyk7XG5cbnZhciBfU2hhZGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vU2hhZGVyJyk7XG5cbnZhciBfU2hhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NoYWRlcik7XG5cbnZhciBfZmlsdGVyVHJhbnNmb3JtcyA9IHJlcXVpcmUoJy4uL2ZpbHRlcnMvZmlsdGVyVHJhbnNmb3JtcycpO1xuXG52YXIgZmlsdGVyVHJhbnNmb3JtcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9maWx0ZXJUcmFuc2Zvcm1zKTtcblxudmFyIF9iaXRUd2lkZGxlID0gcmVxdWlyZSgnYml0LXR3aWRkbGUnKTtcblxudmFyIF9iaXRUd2lkZGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpdFR3aWRkbGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGlnbm9yZVxuICogQGNsYXNzXG4gKi9cbnZhciBGaWx0ZXJTdGF0ZSA9XG4vKipcbiAqXG4gKi9cbmZ1bmN0aW9uIEZpbHRlclN0YXRlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaWx0ZXJTdGF0ZSk7XG5cbiAgICB0aGlzLnJlbmRlclRhcmdldCA9IG51bGw7XG4gICAgdGhpcy5zb3VyY2VGcmFtZSA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcbiAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKCk7XG4gICAgdGhpcy5maWx0ZXJzID0gW107XG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IDE7XG59O1xuXG52YXIgc2NyZWVuS2V5ID0gJ3NjcmVlbic7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5XZWJHTE1hbmFnZXJcbiAqL1xuXG52YXIgRmlsdGVyTWFuYWdlciA9IGZ1bmN0aW9uIChfV2ViR0xNYW5hZ2VyKSB7XG4gICAgX2luaGVyaXRzKEZpbHRlck1hbmFnZXIsIF9XZWJHTE1hbmFnZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRmlsdGVyTWFuYWdlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmlsdGVyTWFuYWdlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1dlYkdMTWFuYWdlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMuZ2wgPSBfdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgLy8ga25vdyBhYm91dCBzcHJpdGVzIVxuICAgICAgICBfdGhpcy5xdWFkID0gbmV3IF9RdWFkMi5kZWZhdWx0KF90aGlzLmdsLCByZW5kZXJlci5zdGF0ZS5hdHRyaWJTdGF0ZSk7XG5cbiAgICAgICAgX3RoaXMuc2hhZGVyQ2FjaGUgPSB7fTtcbiAgICAgICAgLy8gdG9kbyBhZGQgZGVmYXVsdCFcbiAgICAgICAgX3RoaXMucG9vbCA9IHt9O1xuXG4gICAgICAgIF90aGlzLmZpbHRlckRhdGEgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLm1hbmFnZWRGaWx0ZXJzID0gW107XG5cbiAgICAgICAgX3RoaXMucmVuZGVyZXIub24oJ3ByZXJlbmRlcicsIF90aGlzLm9uUHJlcmVuZGVyLCBfdGhpcyk7XG5cbiAgICAgICAgX3RoaXMuX3NjcmVlbldpZHRoID0gcmVuZGVyZXIudmlldy53aWR0aDtcbiAgICAgICAgX3RoaXMuX3NjcmVlbkhlaWdodCA9IHJlbmRlcmVyLnZpZXcuaGVpZ2h0O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIG5ldyBmaWx0ZXIgdG8gdGhlIG1hbmFnZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gVGhlIHRhcmdldCBvZiB0aGUgZmlsdGVyIHRvIHJlbmRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyW119IGZpbHRlcnMgLSBUaGUgZmlsdGVycyB0byBhcHBseS5cbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUucHVzaEZpbHRlciA9IGZ1bmN0aW9uIHB1c2hGaWx0ZXIodGFyZ2V0LCBmaWx0ZXJzKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgdmFyIGZpbHRlckRhdGEgPSB0aGlzLmZpbHRlckRhdGE7XG5cbiAgICAgICAgaWYgKCFmaWx0ZXJEYXRhKSB7XG4gICAgICAgICAgICBmaWx0ZXJEYXRhID0gdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LmZpbHRlclN0YWNrO1xuXG4gICAgICAgICAgICAvLyBhZGQgbmV3IHN0YWNrXG4gICAgICAgICAgICB2YXIgZmlsdGVyU3RhdGUgPSBuZXcgRmlsdGVyU3RhdGUoKTtcblxuICAgICAgICAgICAgZmlsdGVyU3RhdGUuc291cmNlRnJhbWUgPSBmaWx0ZXJTdGF0ZS5kZXN0aW5hdGlvbkZyYW1lID0gdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LnNpemU7XG4gICAgICAgICAgICBmaWx0ZXJTdGF0ZS5yZW5kZXJUYXJnZXQgPSByZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQuZmlsdGVyRGF0YSA9IGZpbHRlckRhdGEgPSB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgc3RhY2s6IFtmaWx0ZXJTdGF0ZV1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuZmlsdGVyRGF0YSA9IGZpbHRlckRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgdGhlIGN1cnJlbnQgZmlsdGVyIHN0YXRlLi5cbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IGZpbHRlckRhdGEuc3RhY2tbKytmaWx0ZXJEYXRhLmluZGV4XTtcbiAgICAgICAgdmFyIHJlbmRlclRhcmdldEZyYW1lID0gZmlsdGVyRGF0YS5zdGFja1swXS5kZXN0aW5hdGlvbkZyYW1lO1xuXG4gICAgICAgIGlmICghY3VycmVudFN0YXRlKSB7XG4gICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBmaWx0ZXJEYXRhLnN0YWNrW2ZpbHRlckRhdGEuaW5kZXhdID0gbmV3IEZpbHRlclN0YXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZnVsbFNjcmVlbiA9IHRhcmdldC5maWx0ZXJBcmVhICYmIHRhcmdldC5maWx0ZXJBcmVhLnggPT09IDAgJiYgdGFyZ2V0LmZpbHRlckFyZWEueSA9PT0gMCAmJiB0YXJnZXQuZmlsdGVyQXJlYS53aWR0aCA9PT0gcmVuZGVyZXIuc2NyZWVuLndpZHRoICYmIHRhcmdldC5maWx0ZXJBcmVhLmhlaWdodCA9PT0gcmVuZGVyZXIuc2NyZWVuLmhlaWdodDtcblxuICAgICAgICAvLyBmb3Igbm93IHdlIGdvIG9mZiB0aGUgZmlsdGVyIG9mIHRoZSBmaXJzdCByZXNvbHV0aW9uLi5cbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBmaWx0ZXJzWzBdLnJlc29sdXRpb247XG4gICAgICAgIHZhciBwYWRkaW5nID0gZmlsdGVyc1swXS5wYWRkaW5nIHwgMDtcbiAgICAgICAgdmFyIHRhcmdldEJvdW5kcyA9IGZ1bGxTY3JlZW4gPyByZW5kZXJlci5zY3JlZW4gOiB0YXJnZXQuZmlsdGVyQXJlYSB8fCB0YXJnZXQuZ2V0Qm91bmRzKHRydWUpO1xuICAgICAgICB2YXIgc291cmNlRnJhbWUgPSBjdXJyZW50U3RhdGUuc291cmNlRnJhbWU7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbkZyYW1lID0gY3VycmVudFN0YXRlLmRlc3RpbmF0aW9uRnJhbWU7XG5cbiAgICAgICAgc291cmNlRnJhbWUueCA9ICh0YXJnZXRCb3VuZHMueCAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgIHNvdXJjZUZyYW1lLnkgPSAodGFyZ2V0Qm91bmRzLnkgKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICBzb3VyY2VGcmFtZS53aWR0aCA9ICh0YXJnZXRCb3VuZHMud2lkdGggKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICBzb3VyY2VGcmFtZS5oZWlnaHQgPSAodGFyZ2V0Qm91bmRzLmhlaWdodCAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKCFmdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICBpZiAoZmlsdGVyRGF0YS5zdGFja1swXS5yZW5kZXJUYXJnZXQudHJhbnNmb3JtKSB7Ly9cblxuICAgICAgICAgICAgICAgIC8vIFRPRE8gd2Ugc2hvdWxkIGZpdCB0aGUgcmVjdCBhcm91bmQgdGhlIHRyYW5zZm9ybS4uXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlcnNbMF0uYXV0b0ZpdCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZUZyYW1lLmZpdChyZW5kZXJUYXJnZXRGcmFtZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGxldHMgYXBwbHkgdGhlIHBhZGRpbmcgQWZ0ZXIgd2UgZml0IHRoZSBlbGVtZW50IHRvIHRoZSBzY3JlZW4uXG4gICAgICAgICAgICAvLyB0aGlzIHNob3VsZCBzdG9wIHRoZSBzdHJhbmdlIHNpZGUgZWZmZWN0cyB0aGF0IGNhbiBvY2N1ciB3aGVuIGNyb3BwaW5nIHRvIHRoZSBlZGdlc1xuICAgICAgICAgICAgc291cmNlRnJhbWUucGFkKHBhZGRpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IHNvdXJjZUZyYW1lLndpZHRoO1xuICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IHNvdXJjZUZyYW1lLmhlaWdodDtcblxuICAgICAgICAvLyBsZXRzIHBsYXkgdGhlIHBhZGRpbmcgYWZ0ZXIgd2UgZml0IHRoZSBlbGVtZW50IHRvIHRoZSBzY3JlZW4uXG4gICAgICAgIC8vIHRoaXMgc2hvdWxkIHN0b3AgdGhlIHN0cmFuZ2Ugc2lkZSBlZmZlY3RzIHRoYXQgY2FuIG9jY3VyIHdoZW4gY3JvcHBpbmcgdG8gdGhlIGVkZ2VzXG5cbiAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IHRoaXMuZ2V0UG90UmVuZGVyVGFyZ2V0KHJlbmRlcmVyLmdsLCBzb3VyY2VGcmFtZS53aWR0aCwgc291cmNlRnJhbWUuaGVpZ2h0LCByZXNvbHV0aW9uKTtcblxuICAgICAgICBjdXJyZW50U3RhdGUudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBjdXJyZW50U3RhdGUuZmlsdGVycyA9IGZpbHRlcnM7XG4gICAgICAgIGN1cnJlbnRTdGF0ZS5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3VycmVudFN0YXRlLnJlbmRlclRhcmdldCA9IHJlbmRlclRhcmdldDtcblxuICAgICAgICAvLyBiaW5kIHRoZSByZW5kZXIgdGFyZ2V0IHRvIGRyYXcgdGhlIHNoYXBlIGluIHRoZSB0b3AgY29ybmVyLi5cblxuICAgICAgICByZW5kZXJUYXJnZXQuc2V0RnJhbWUoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUpO1xuXG4gICAgICAgIC8vIGJpbmQgdGhlIHJlbmRlciB0YXJnZXRcbiAgICAgICAgcmVuZGVyZXIuYmluZFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuICAgICAgICByZW5kZXJUYXJnZXQuY2xlYXIoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUG9wcyBvZmYgdGhlIGZpbHRlciBhbmQgYXBwbGllcyBpdC5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5wb3BGaWx0ZXIgPSBmdW5jdGlvbiBwb3BGaWx0ZXIoKSB7XG4gICAgICAgIHZhciBmaWx0ZXJEYXRhID0gdGhpcy5maWx0ZXJEYXRhO1xuXG4gICAgICAgIHZhciBsYXN0U3RhdGUgPSBmaWx0ZXJEYXRhLnN0YWNrW2ZpbHRlckRhdGEuaW5kZXggLSAxXTtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IGZpbHRlckRhdGEuc3RhY2tbZmlsdGVyRGF0YS5pbmRleF07XG5cbiAgICAgICAgdGhpcy5xdWFkLm1hcChjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0LnNpemUsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZSkudXBsb2FkKCk7XG5cbiAgICAgICAgdmFyIGZpbHRlcnMgPSBjdXJyZW50U3RhdGUuZmlsdGVycztcblxuICAgICAgICBpZiAoZmlsdGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGZpbHRlcnNbMF0uYXBwbHkodGhpcywgY3VycmVudFN0YXRlLnJlbmRlclRhcmdldCwgbGFzdFN0YXRlLnJlbmRlclRhcmdldCwgZmFsc2UsIGN1cnJlbnRTdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLmZyZWVQb3RSZW5kZXJUYXJnZXQoY3VycmVudFN0YXRlLnJlbmRlclRhcmdldCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZmxpcCA9IGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQ7XG4gICAgICAgICAgICB2YXIgZmxvcCA9IHRoaXMuZ2V0UG90UmVuZGVyVGFyZ2V0KHRoaXMucmVuZGVyZXIuZ2wsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCwgY3VycmVudFN0YXRlLnJlc29sdXRpb24pO1xuXG4gICAgICAgICAgICBmbG9wLnNldEZyYW1lKGN1cnJlbnRTdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUpO1xuXG4gICAgICAgICAgICAvLyBmaW5hbGx5IGxldHMgY2xlYXIgdGhlIHJlbmRlciB0YXJnZXQgYmVmb3JlIGRyYXdpbmcgdG8gaXQuLlxuICAgICAgICAgICAgZmxvcC5jbGVhcigpO1xuXG4gICAgICAgICAgICB2YXIgaSA9IDA7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICAgICAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgZmxvcCwgdHJ1ZSwgY3VycmVudFN0YXRlKTtcblxuICAgICAgICAgICAgICAgIHZhciB0ID0gZmxpcDtcblxuICAgICAgICAgICAgICAgIGZsaXAgPSBmbG9wO1xuICAgICAgICAgICAgICAgIGZsb3AgPSB0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWx0ZXJzW2ldLmFwcGx5KHRoaXMsIGZsaXAsIGxhc3RTdGF0ZS5yZW5kZXJUYXJnZXQsIGZhbHNlLCBjdXJyZW50U3RhdGUpO1xuXG4gICAgICAgICAgICB0aGlzLmZyZWVQb3RSZW5kZXJUYXJnZXQoZmxpcCk7XG4gICAgICAgICAgICB0aGlzLmZyZWVQb3RSZW5kZXJUYXJnZXQoZmxvcCk7XG4gICAgICAgIH1cblxuICAgICAgICBmaWx0ZXJEYXRhLmluZGV4LS07XG5cbiAgICAgICAgaWYgKGZpbHRlckRhdGEuaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyRGF0YSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyfSBmaWx0ZXIgLSBUaGUgZmlsdGVyIHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0XG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmFwcGx5RmlsdGVyID0gZnVuY3Rpb24gYXBwbHlGaWx0ZXIoZmlsdGVyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcikge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICB2YXIgc2hhZGVyID0gZmlsdGVyLmdsU2hhZGVyc1tyZW5kZXJlci5DT05URVhUX1VJRF07XG5cbiAgICAgICAgLy8gY2FjaGVpbmcuLlxuICAgICAgICBpZiAoIXNoYWRlcikge1xuICAgICAgICAgICAgaWYgKGZpbHRlci5nbFNoYWRlcktleSkge1xuICAgICAgICAgICAgICAgIHNoYWRlciA9IHRoaXMuc2hhZGVyQ2FjaGVbZmlsdGVyLmdsU2hhZGVyS2V5XTtcblxuICAgICAgICAgICAgICAgIGlmICghc2hhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRlciA9IG5ldyBfU2hhZGVyMi5kZWZhdWx0KHRoaXMuZ2wsIGZpbHRlci52ZXJ0ZXhTcmMsIGZpbHRlci5mcmFnbWVudFNyYyk7XG5cbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyLmdsU2hhZGVyc1tyZW5kZXJlci5DT05URVhUX1VJRF0gPSB0aGlzLnNoYWRlckNhY2hlW2ZpbHRlci5nbFNoYWRlcktleV0gPSBzaGFkZXI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlZEZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hhZGVyID0gZmlsdGVyLmdsU2hhZGVyc1tyZW5kZXJlci5DT05URVhUX1VJRF0gPSBuZXcgX1NoYWRlcjIuZGVmYXVsdCh0aGlzLmdsLCBmaWx0ZXIudmVydGV4U3JjLCBmaWx0ZXIuZnJhZ21lbnRTcmMpO1xuICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlZEZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUT0RPIC0gdGhpcyBvbmx5IG5lZWRzIHRvIGJlIGRvbmUgb25jZT9cbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRWYW8obnVsbCk7XG5cbiAgICAgICAgICAgIHRoaXMucXVhZC5pbml0VmFvKHNoYWRlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5iaW5kVmFvKHRoaXMucXVhZC52YW8pO1xuXG4gICAgICAgIHJlbmRlcmVyLmJpbmRSZW5kZXJUYXJnZXQob3V0cHV0KTtcblxuICAgICAgICBpZiAoY2xlYXIpIHtcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmNsZWFyKCk7IC8vIFsxLCAxLCAxLCAxXSk7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGluIGNhc2UgdGhlIHJlbmRlciB0YXJnZXQgaXMgYmVpbmcgbWFza2VkIHVzaW5nIGEgc2Npc3NvciByZWN0XG4gICAgICAgIGlmIChvdXRwdXQgPT09IHJlbmRlcmVyLm1hc2tNYW5hZ2VyLnNjaXNzb3JSZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2tNYW5hZ2VyLnB1c2hTY2lzc29yTWFzayhudWxsLCByZW5kZXJlci5tYXNrTWFuYWdlci5zY2lzc29yRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5iaW5kU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgLy8gZnJlZSB1bml0IDAgZm9yIHVzLCBkb2Vzbid0IG1hdHRlciB3aGF0IHdhcyB0aGVyZVxuICAgICAgICAvLyBkb24ndCB0cnkgdG8gcmVzdG9yZSBpdCwgYmVjYXVzZSBzeW5jVW5pZm9ybXMgY2FuIHVwbG9hZCBpdCB0byBhbm90aGVyIHNsb3RcbiAgICAgICAgLy8gYW5kIGl0J2xsIGJlIGEgcHJvYmxlbVxuICAgICAgICB2YXIgdGV4ID0gdGhpcy5yZW5kZXJlci5lbXB0eVRleHR1cmVzWzBdO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuYm91bmRUZXh0dXJlc1swXSA9IHRleDtcbiAgICAgICAgLy8gdGhpcyBzeW5jcyB0aGUgUGl4aUpTIGZpbHRlcnMgIHVuaWZvcm1zIHdpdGggZ2xzbCB1bmlmb3Jtc1xuICAgICAgICB0aGlzLnN5bmNVbmlmb3JtcyhzaGFkZXIsIGZpbHRlcik7XG5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0QmxlbmRNb2RlKGZpbHRlci5ibGVuZE1vZGUpO1xuXG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBpbnB1dC50ZXh0dXJlLnRleHR1cmUpO1xuXG4gICAgICAgIHRoaXMucXVhZC52YW8uZHJhdyh0aGlzLnJlbmRlcmVyLmdsLlRSSUFOR0xFUywgNiwgMCk7XG5cbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4Ll9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdLnRleHR1cmUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB1bmlmb3JtcyBvZiB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtHTFNoYWRlcn0gc2hhZGVyIC0gVGhlIHVuZGVybHlpbmcgZ2wgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJ9IGZpbHRlciAtIFRoZSBmaWx0ZXIgd2UgYXJlIHN5bmNocm9uaXppbmcuXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLnN5bmNVbmlmb3JtcyA9IGZ1bmN0aW9uIHN5bmNVbmlmb3JtcyhzaGFkZXIsIGZpbHRlcikge1xuICAgICAgICB2YXIgdW5pZm9ybURhdGEgPSBmaWx0ZXIudW5pZm9ybURhdGE7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IGZpbHRlci51bmlmb3JtcztcblxuICAgICAgICAvLyAwIGlzIHJlc2VydmVkIGZvciB0aGUgUGl4aUpTIHRleHR1cmUgc28gd2Ugc3RhcnQgYXQgMSFcbiAgICAgICAgdmFyIHRleHR1cmVDb3VudCA9IDE7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB2b2lkIDA7XG5cbiAgICAgICAgLy8gZmlsdGVyQXJlYSBhbmQgZmlsdGVyQ2xhbXAgdGhhdCBhcmUgaGFuZGxlZCBieSBGaWx0ZXJNYW5hZ2VyIGRpcmVjdGx5XG4gICAgICAgIC8vIHRoZXkgbXVzdCBub3QgYXBwZWFyIGluIHVuaWZvcm1EYXRhXG5cbiAgICAgICAgaWYgKHNoYWRlci51bmlmb3Jtcy5maWx0ZXJBcmVhKSB7XG4gICAgICAgICAgICBjdXJyZW50U3RhdGUgPSB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICAgICAgdmFyIGZpbHRlckFyZWEgPSBzaGFkZXIudW5pZm9ybXMuZmlsdGVyQXJlYTtcblxuICAgICAgICAgICAgZmlsdGVyQXJlYVswXSA9IGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZS53aWR0aDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMV0gPSBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0LnNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgZmlsdGVyQXJlYVsyXSA9IGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS54O1xuICAgICAgICAgICAgZmlsdGVyQXJlYVszXSA9IGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS55O1xuXG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMuZmlsdGVyQXJlYSA9IGZpbHRlckFyZWE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1c2UgdGhpcyB0byBjbGFtcCBkaXNwbGFjZWQgdGV4dHVyZSBjb29yZHMgc28gdGhleSBiZWxvbmcgdG8gZmlsdGVyQXJlYVxuICAgICAgICAvLyBzZWUgZGlzcGxhY2VtZW50RmlsdGVyIGZyYWdtZW50IHNoYWRlciBmb3IgYW4gZXhhbXBsZVxuICAgICAgICBpZiAoc2hhZGVyLnVuaWZvcm1zLmZpbHRlckNsYW1wKSB7XG4gICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBjdXJyZW50U3RhdGUgfHwgdGhpcy5maWx0ZXJEYXRhLnN0YWNrW3RoaXMuZmlsdGVyRGF0YS5pbmRleF07XG5cbiAgICAgICAgICAgIHZhciBmaWx0ZXJDbGFtcCA9IHNoYWRlci51bmlmb3Jtcy5maWx0ZXJDbGFtcDtcblxuICAgICAgICAgICAgZmlsdGVyQ2xhbXBbMF0gPSAwO1xuICAgICAgICAgICAgZmlsdGVyQ2xhbXBbMV0gPSAwO1xuICAgICAgICAgICAgZmlsdGVyQ2xhbXBbMl0gPSAoY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLndpZHRoIC0gMSkgLyBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0LnNpemUud2lkdGg7XG4gICAgICAgICAgICBmaWx0ZXJDbGFtcFszXSA9IChjdXJyZW50U3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0IC0gMSkgLyBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0LnNpemUuaGVpZ2h0O1xuXG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMuZmlsdGVyQ2xhbXAgPSBmaWx0ZXJDbGFtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gQ2FjaGVpbmcgbGF5ZXIuLlxuICAgICAgICBmb3IgKHZhciBpIGluIHVuaWZvcm1EYXRhKSB7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IHVuaWZvcm1EYXRhW2ldLnR5cGU7XG5cbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnc2FtcGxlcjJkJyAmJiB1bmlmb3Jtc1tpXSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGlmICh1bmlmb3Jtc1tpXS5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB0aGlzLnJlbmRlcmVyLmJpbmRUZXh0dXJlKHVuaWZvcm1zW2ldLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ291bnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtc1tpXSA9IHRleHR1cmVDb3VudDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgaGVscGZ1bCBhcyByZW5kZXJUYXJnZXRzIGNhbiBhbHNvIGJlIHNldC5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWx0aG91Z2ggdGhpbmtpbmcgYWJvdXQgaXQsIHdlIGNvdWxkIHByb2JhYmx5XG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2UgdGhlIGZpbHRlciB0ZXh0dXJlIGNhY2hlIHJldHVybiBhIFJlbmRlclRleHR1cmVcbiAgICAgICAgICAgICAgICAgICAgLy8gcmF0aGVyIHRoYW4gYSByZW5kZXJUYXJnZXRcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmJvdW5kVGV4dHVyZXNbdGV4dHVyZUNvdW50XSA9IHRoaXMucmVuZGVyZXIuZW1wdHlUZXh0dXJlc1t0ZXh0dXJlQ291bnRdO1xuICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgdGV4dHVyZUNvdW50KTtcblxuICAgICAgICAgICAgICAgICAgICB1bmlmb3Jtc1tpXS50ZXh0dXJlLmJpbmQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQrKztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ21hdDMnKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgaXRzIFBpeGlKUyBtYXRyaXguLlxuICAgICAgICAgICAgICAgIGlmICh1bmlmb3Jtc1tpXS5hICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdW5pZm9ybXNbaV0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB1bmlmb3Jtc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd2ZWMyJykge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGl0cyBhIHBvaW50Li5cbiAgICAgICAgICAgICAgICBpZiAodW5pZm9ybXNbaV0ueCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBzaGFkZXIudW5pZm9ybXNbaV0gfHwgbmV3IEZsb2F0MzJBcnJheSgyKTtcblxuICAgICAgICAgICAgICAgICAgICB2YWxbMF0gPSB1bmlmb3Jtc1tpXS54O1xuICAgICAgICAgICAgICAgICAgICB2YWxbMV0gPSB1bmlmb3Jtc1tpXS55O1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB2YWw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdW5pZm9ybXNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnZmxvYXQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNoYWRlci51bmlmb3Jtcy5kYXRhW2ldLnZhbHVlICE9PSB1bmlmb3JtRGF0YVtpXSkge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB1bmlmb3Jtc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtc1tpXSA9IHVuaWZvcm1zW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgYSByZW5kZXIgdGFyZ2V0IGZyb20gdGhlIHBvb2wsIG9yIGNyZWF0ZXMgYSBuZXcgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB3ZSBjbGVhciB0aGUgcmVuZGVyIHRleHR1cmUgd2hlbiB3ZSBnZXQgaXQ/XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdGFyZ2V0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGFyZ2V0fSBUaGUgbmV3IHJlbmRlciB0YXJnZXRcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZ2V0UmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gZ2V0UmVuZGVyVGFyZ2V0KGNsZWFyLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcbiAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IHRoaXMuZ2V0UG90UmVuZGVyVGFyZ2V0KHRoaXMucmVuZGVyZXIuZ2wsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCwgcmVzb2x1dGlvbiB8fCBjdXJyZW50U3RhdGUucmVzb2x1dGlvbik7XG5cbiAgICAgICAgcmVuZGVyVGFyZ2V0LnNldEZyYW1lKGN1cnJlbnRTdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJUYXJnZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByZW5kZXIgdGFyZ2V0IHRvIHRoZSBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gcmVuZGVyVGFyZ2V0IC0gVGhlIHJlbmRlciB0YXJnZXQgdG8gcmV0dXJuLlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5yZXR1cm5SZW5kZXJUYXJnZXQgPSBmdW5jdGlvbiByZXR1cm5SZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuZnJlZVBvdFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqXG4gICAgICogVE9ETyBwbGF5aW5nIGFyb3VuZCBoZXJlLi4gdGhpcyBpcyB0ZW1wb3JhcnkgLSAod2lsbCBlbmQgdXAgaW4gdGhlIHNoYWRlcilcbiAgICAgKiB0aGlzIHJldHVybnMgYSBtYXRyaXggdGhhdCB3aWxsIG5vcm1hbGlzZSBtYXAgZmlsdGVyIGNvcmRzIGluIHRoZSBmaWx0ZXIgdG8gc2NyZWVuIHNwYWNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSB0aGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4ID0gZnVuY3Rpb24gY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4KSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICByZXR1cm4gZmlsdGVyVHJhbnNmb3Jtcy5jYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZSwgY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdlRleHR1cmVDb29yZCB0byB0aGlzIG1hdHJpeCB0byBhY2hpZXZlICgwLDAsMSwxKSBmb3IgZmlsdGVyQXJlYVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5jYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXggPSBmdW5jdGlvbiBjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4KSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICByZXR1cm4gZmlsdGVyVHJhbnNmb3Jtcy5jYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4LCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUsIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZSwgY3VycmVudFN0YXRlLmRlc3RpbmF0aW9uRnJhbWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgbWFwIHRoZSBmaWx0ZXIgY29vcmQgc28gdGhhdCBhIHRleHR1cmUgY2FuIGJlIHVzZWQgYmFzZWQgb24gdGhlIHRyYW5zZm9ybSBvZiBhIHNwcml0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gVGhlIHNwcml0ZSB0byBtYXAgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5jYWxjdWxhdGVTcHJpdGVNYXRyaXggPSBmdW5jdGlvbiBjYWxjdWxhdGVTcHJpdGVNYXRyaXgob3V0cHV0TWF0cml4LCBzcHJpdGUpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdO1xuXG4gICAgICAgIHJldHVybiBmaWx0ZXJUcmFuc2Zvcm1zLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeChvdXRwdXRNYXRyaXgsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZSwgY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLCBzcHJpdGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIEZpbHRlciBNYW5hZ2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIGNvbnRleHQgd2FzIGxvc3QsIGRvIG5vdCBmcmVlIHNoYWRlcnNcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdmFyIGNvbnRleHRMb3N0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZmlsdGVycyA9IHRoaXMubWFuYWdlZEZpbHRlcnM7XG5cbiAgICAgICAgcmVuZGVyZXIub2ZmKCdwcmVyZW5kZXInLCB0aGlzLm9uUHJlcmVuZGVyLCB0aGlzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJzW2ldLmdsU2hhZGVyc1tyZW5kZXJlci5DT05URVhUX1VJRF0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIGZpbHRlcnNbaV0uZ2xTaGFkZXJzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2hhZGVyQ2FjaGUgPSB7fTtcbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdCkge1xuICAgICAgICAgICAgdGhpcy5lbXB0eVBvb2woKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9vbCA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBQb3dlci1vZi1Ud28gcmVuZGVyIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBUT0RPIG1vdmUgdG8gYSBzZXBlcmF0ZSBjbGFzcyBjb3VsZCBiZSBvbiByZW5kZXJlcj9cbiAgICAgKiBhbHNvIC0gY291bGQgY2F1c2UgaXNzdWUgd2l0aCBtdWx0aXBsZSBjb250ZXh0cz9cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHdlYmdsIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbldpZHRoIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbkhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGFyZ2V0fSBUaGUgbmV3IHJlbmRlciB0YXJnZXQuXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmdldFBvdFJlbmRlclRhcmdldCA9IGZ1bmN0aW9uIGdldFBvdFJlbmRlclRhcmdldChnbCwgbWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICB2YXIga2V5ID0gc2NyZWVuS2V5O1xuXG4gICAgICAgIG1pbldpZHRoICo9IHJlc29sdXRpb247XG4gICAgICAgIG1pbkhlaWdodCAqPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChtaW5XaWR0aCAhPT0gdGhpcy5fc2NyZWVuV2lkdGggfHwgbWluSGVpZ2h0ICE9PSB0aGlzLl9zY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgICAgIC8vIFRPRE8geW91IGNvdWxkIHJldHVybiBhIGJpZ2dlciB0ZXh0dXJlIGlmIHRoZXJlIGlzIG5vdCBvbmUgaW4gdGhlIHBvb2w/XG4gICAgICAgICAgICBtaW5XaWR0aCA9IF9iaXRUd2lkZGxlMi5kZWZhdWx0Lm5leHRQb3cyKG1pbldpZHRoKTtcbiAgICAgICAgICAgIG1pbkhlaWdodCA9IF9iaXRUd2lkZGxlMi5kZWZhdWx0Lm5leHRQb3cyKG1pbkhlaWdodCk7XG4gICAgICAgICAgICBrZXkgPSAobWluV2lkdGggJiAweEZGRkYpIDw8IDE2IHwgbWluSGVpZ2h0ICYgMHhGRkZGO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnBvb2xba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5wb29sW2tleV0gPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSB0aGlzLnBvb2xba2V5XS5wb3AoKTtcblxuICAgICAgICAvLyBjcmVhdGluZyByZW5kZXIgdGFyZ2V0IHdpbGwgY2F1c2UgdGV4dHVyZSB0byBiZSBib3VuZCFcbiAgICAgICAgaWYgKCFyZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIC8vIHRlbXBvcmFyeSBieXBhc3MgY2FjaGUuLlxuICAgICAgICAgICAgdmFyIHRleCA9IHRoaXMucmVuZGVyZXIuYm91bmRUZXh0dXJlc1swXTtcblxuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG5cbiAgICAgICAgICAgIC8vIGludGVybmFsbHkgLSB0aGlzIHdpbGwgY2F1c2UgYSB0ZXh0dXJlIHRvIGJlIGJvdW5kLi5cbiAgICAgICAgICAgIHJlbmRlclRhcmdldCA9IG5ldyBfUmVuZGVyVGFyZ2V0Mi5kZWZhdWx0KGdsLCBtaW5XaWR0aCwgbWluSGVpZ2h0LCBudWxsLCAxKTtcblxuICAgICAgICAgICAgLy8gc2V0IHRoZSBjdXJyZW50IG9uZSBiYWNrXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXguX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0udGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYW51YWxseSB0d2VhayB0aGUgcmVzb2x1dGlvbi4uLlxuICAgICAgICAvLyB0aGlzIHdpbGwgbm90IG1vZGlmeSB0aGUgc2l6ZSBvZiB0aGUgZnJhbWUgYnVmZmVyLCBqdXN0IGl0cyByZXNvbHV0aW9uLlxuICAgICAgICByZW5kZXJUYXJnZXQucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIHJlbmRlclRhcmdldC5kZWZhdWx0RnJhbWUud2lkdGggPSByZW5kZXJUYXJnZXQuc2l6ZS53aWR0aCA9IG1pbldpZHRoIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgcmVuZGVyVGFyZ2V0LmRlZmF1bHRGcmFtZS5oZWlnaHQgPSByZW5kZXJUYXJnZXQuc2l6ZS5oZWlnaHQgPSBtaW5IZWlnaHQgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJUYXJnZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVtcHRpZXMgdGhlIHRleHR1cmUgcG9vbC5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5lbXB0eVBvb2wgPSBmdW5jdGlvbiBlbXB0eVBvb2woKSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5wb29sKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZXMgPSB0aGlzLnBvb2xbaV07XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlcykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZXNbal0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBvb2wgPSB7fTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRnJlZXMgYSByZW5kZXIgdGFyZ2V0IGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IHJlbmRlclRhcmdldCAtIFRoZSByZW5kZXJUYXJnZXQgdG8gZnJlZVxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5mcmVlUG90UmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gZnJlZVBvdFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgdmFyIG1pbldpZHRoID0gcmVuZGVyVGFyZ2V0LnNpemUud2lkdGggKiByZW5kZXJUYXJnZXQucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG1pbkhlaWdodCA9IHJlbmRlclRhcmdldC5zaXplLmhlaWdodCAqIHJlbmRlclRhcmdldC5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHZhciBrZXkgPSBzY3JlZW5LZXk7XG5cbiAgICAgICAgaWYgKG1pbldpZHRoICE9PSB0aGlzLl9zY3JlZW5XaWR0aCB8fCBtaW5IZWlnaHQgIT09IHRoaXMuX3NjcmVlbkhlaWdodCkge1xuICAgICAgICAgICAga2V5ID0gKG1pbldpZHRoICYgMHhGRkZGKSA8PCAxNiB8IG1pbkhlaWdodCAmIDB4RkZGRjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucG9vbFtrZXldLnB1c2gocmVuZGVyVGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGJlZm9yZSB0aGUgcmVuZGVyZXIgc3RhcnRzIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5vblByZXJlbmRlciA9IGZ1bmN0aW9uIG9uUHJlcmVuZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5fc2NyZWVuV2lkdGggIT09IHRoaXMucmVuZGVyZXIudmlldy53aWR0aCB8fCB0aGlzLl9zY3JlZW5IZWlnaHQgIT09IHRoaXMucmVuZGVyZXIudmlldy5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuX3NjcmVlbldpZHRoID0gdGhpcy5yZW5kZXJlci52aWV3LndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fc2NyZWVuSGVpZ2h0ID0gdGhpcy5yZW5kZXJlci52aWV3LmhlaWdodDtcblxuICAgICAgICAgICAgdmFyIHRleHR1cmVzID0gdGhpcy5wb29sW3NjcmVlbktleV07XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlcykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZXNbal0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBvb2xbc2NyZWVuS2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBGaWx0ZXJNYW5hZ2VyO1xufShfV2ViR0xNYW5hZ2VyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gRmlsdGVyTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpbHRlck1hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1dlYkdMTWFuYWdlcjIgPSByZXF1aXJlKCcuL1dlYkdMTWFuYWdlcicpO1xuXG52YXIgX1dlYkdMTWFuYWdlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTE1hbmFnZXIyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5XZWJHTE1hbmFnZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTdGVuY2lsTWFuYWdlciA9IGZ1bmN0aW9uIChfV2ViR0xNYW5hZ2VyKSB7XG4gICAgX2luaGVyaXRzKFN0ZW5jaWxNYW5hZ2VyLCBfV2ViR0xNYW5hZ2VyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0ZW5jaWxNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGVuY2lsTWFuYWdlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1dlYkdMTWFuYWdlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMuc3RlbmNpbE1hc2tTdGFjayA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBtYXNrIHN0YWNrIHRoYXQgaXMgdXNlZCBieSB0aGlzIG1hbmFnZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NbXX0gc3RlbmNpbE1hc2tTdGFjayAtIFRoZSBtYXNrIHN0YWNrXG4gICAgICovXG5cblxuICAgIFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5zZXRNYXNrU3RhY2sgPSBmdW5jdGlvbiBzZXRNYXNrU3RhY2soc3RlbmNpbE1hc2tTdGFjaykge1xuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sgPSBzdGVuY2lsTWFza1N0YWNrO1xuXG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgaWYgKHN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IHN0ZW5jaWwgc3RhY2suIEBhbHZpblxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIFRoZSBtYXNrXG4gICAgICovXG5cblxuICAgIFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5wdXNoU3RlbmNpbCA9IGZ1bmN0aW9uIHB1c2hTdGVuY2lsKGdyYXBoaWNzKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5yZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQuYXR0YWNoU3RlbmNpbEJ1ZmZlcigpO1xuXG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBwcmV2TWFza0NvdW50ID0gdGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aDtcblxuICAgICAgICBpZiAocHJldk1hc2tDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sucHVzaChncmFwaGljcyk7XG5cbiAgICAgICAgLy8gSW5jcmVtZW50IHRoZSByZWZmZXJlbmNlIHN0ZW5jaWwgdmFsdWUgd2hlcmUgdGhlIG5ldyBtYXNrIG92ZXJsYXBzIHdpdGggdGhlIG9sZCBvbmVzLlxuICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBnbC5zdGVuY2lsRnVuYyhnbC5FUVVBTCwgcHJldk1hc2tDb3VudCwgdGhpcy5fZ2V0Qml0d2lzZU1hc2soKSk7XG4gICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5JTkNSKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLnJlbmRlcihncmFwaGljcyk7XG5cbiAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IG1hc2sgZnJvbSB0aGUgc3RlbmNpbCBzdGFjay4gQGFsdmluXG4gICAgICovXG5cblxuICAgIFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5wb3BTdGVuY2lsID0gZnVuY3Rpb24gcG9wU3RlbmNpbCgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcih0aGlzLnJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MpO1xuXG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBncmFwaGljcyA9IHRoaXMuc3RlbmNpbE1hc2tTdGFjay5wb3AoKTtcblxuICAgICAgICBpZiAodGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gdGhlIHN0YWNrIGlzIGVtcHR5IVxuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICAgICAgZ2wuY2xlYXIoZ2wuU1RFTkNJTF9CVUZGRVJfQklUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyU3RlbmNpbCgwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIERlY3JlbWVudCB0aGUgcmVmZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBwb3BwZWQgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvdGhlciBvbmVzXG4gICAgICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLkRFQ1IpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLnJlbmRlcihncmFwaGljcyk7XG5cbiAgICAgICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXR1cCByZW5kZXJlciB0byB1c2UgdGhlIGN1cnJlbnQgc3RlbmNpbCBkYXRhLlxuICAgICAqL1xuXG5cbiAgICBTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUuX3VzZUN1cnJlbnQgPSBmdW5jdGlvbiBfdXNlQ3VycmVudCgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBnbC5jb2xvck1hc2sodHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoLCB0aGlzLl9nZXRCaXR3aXNlTWFzaygpKTtcbiAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLktFRVApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaWxsIDFzIGVxdWFsIHRvIHRoZSBudW1iZXIgb2YgYWNpdHZlIHN0ZW5jaWwgbWFza3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBiaXR3aXNlIG1hc2suXG4gICAgICovXG5cblxuICAgIFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5fZ2V0Qml0d2lzZU1hc2sgPSBmdW5jdGlvbiBfZ2V0Qml0d2lzZU1hc2soKSB7XG4gICAgICAgIHJldHVybiAoMSA8PCB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoKSAtIDE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBtYXNrIHN0YWNrLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgX1dlYkdMTWFuYWdlcjMuZGVmYXVsdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjay5zdGVuY2lsU3RhY2sgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3RlbmNpbE1hbmFnZXI7XG59KF9XZWJHTE1hbmFnZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTdGVuY2lsTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0ZW5jaWxNYW5hZ2VyLmpzLm1hcCIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBleHRyYWN0VW5pZm9ybXNGcm9tU3JjO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZGVmYXVsdFZhbHVlID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuc2hhZGVyLmRlZmF1bHRWYWx1ZTtcblxuZnVuY3Rpb24gZXh0cmFjdFVuaWZvcm1zRnJvbVNyYyh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBtYXNrKSB7XG4gICAgdmFyIHZlcnRVbmlmb3JtcyA9IGV4dHJhY3RVbmlmb3Jtc0Zyb21TdHJpbmcodmVydGV4U3JjLCBtYXNrKTtcbiAgICB2YXIgZnJhZ1VuaWZvcm1zID0gZXh0cmFjdFVuaWZvcm1zRnJvbVN0cmluZyhmcmFnbWVudFNyYywgbWFzayk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih2ZXJ0VW5pZm9ybXMsIGZyYWdVbmlmb3Jtcyk7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RVbmlmb3Jtc0Zyb21TdHJpbmcoc3RyaW5nKSB7XG4gICAgdmFyIG1hc2tSZWdleCA9IG5ldyBSZWdFeHAoJ14ocHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcnxmaWx0ZXJBcmVhfGZpbHRlckNsYW1wKSQnKTtcblxuICAgIHZhciB1bmlmb3JtcyA9IHt9O1xuICAgIHZhciBuYW1lU3BsaXQgPSB2b2lkIDA7XG5cbiAgICAvLyBjbGVhbiB0aGUgbGluZXMgYSBsaXR0bGUgLSByZW1vdmUgZXh0cmEgc3BhY2VzIC8gdGFicyBldGNcbiAgICAvLyB0aGVuIHNwbGl0IGFsb25nICc7J1xuICAgIHZhciBsaW5lcyA9IHN0cmluZy5yZXBsYWNlKC9cXHMrL2csICcgJykuc3BsaXQoL1xccyo7XFxzKi8pO1xuXG4gICAgLy8gbG9vcCB0aHJvdWdoLi5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBsaW5lID0gbGluZXNbaV0udHJpbSgpO1xuXG4gICAgICAgIGlmIChsaW5lLmluZGV4T2YoJ3VuaWZvcm0nKSA+IC0xKSB7XG4gICAgICAgICAgICB2YXIgc3BsaXRMaW5lID0gbGluZS5zcGxpdCgnICcpO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBzcGxpdExpbmVbMV07XG5cbiAgICAgICAgICAgIHZhciBuYW1lID0gc3BsaXRMaW5lWzJdO1xuICAgICAgICAgICAgdmFyIHNpemUgPSAxO1xuXG4gICAgICAgICAgICBpZiAobmFtZS5pbmRleE9mKCdbJykgPiAtMSkge1xuICAgICAgICAgICAgICAgIC8vIGFycmF5IVxuICAgICAgICAgICAgICAgIG5hbWVTcGxpdCA9IG5hbWUuc3BsaXQoL1xcW3xdLyk7XG4gICAgICAgICAgICAgICAgbmFtZSA9IG5hbWVTcGxpdFswXTtcbiAgICAgICAgICAgICAgICBzaXplICo9IE51bWJlcihuYW1lU3BsaXRbMV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIW5hbWUubWF0Y2gobWFza1JlZ2V4KSkge1xuICAgICAgICAgICAgICAgIHVuaWZvcm1zW25hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlKHR5cGUsIHNpemUpLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB1bmlmb3Jtcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4dHJhY3RVbmlmb3Jtc0Zyb21TcmMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1dlYkdMTWFuYWdlcjIgPSByZXF1aXJlKCcuL1dlYkdMTWFuYWdlcicpO1xuXG52YXIgX1dlYkdMTWFuYWdlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTE1hbmFnZXIyKTtcblxudmFyIF9TcHJpdGVNYXNrRmlsdGVyID0gcmVxdWlyZSgnLi4vZmlsdGVycy9zcHJpdGVNYXNrL1Nwcml0ZU1hc2tGaWx0ZXInKTtcblxudmFyIF9TcHJpdGVNYXNrRmlsdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Nwcml0ZU1hc2tGaWx0ZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLldlYkdMTWFuYWdlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1hc2tNYW5hZ2VyID0gZnVuY3Rpb24gKF9XZWJHTE1hbmFnZXIpIHtcbiAgICBfaW5oZXJpdHMoTWFza01hbmFnZXIsIF9XZWJHTE1hbmFnZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFza01hbmFnZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hc2tNYW5hZ2VyKTtcblxuICAgICAgICAvLyBUT0RPIC0gd2UgZG9uJ3QgbmVlZCBib3RoIVxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfV2ViR0xNYW5hZ2VyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5zY2lzc29yID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnNjaXNzb3JEYXRhID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc2Npc3NvclJlbmRlclRhcmdldCA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuZW5hYmxlU2Npc3NvciA9IHRydWU7XG5cbiAgICAgICAgX3RoaXMuYWxwaGFNYXNrUG9vbCA9IFtdO1xuICAgICAgICBfdGhpcy5hbHBoYU1hc2tJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBtYXNrIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZXxQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wdXNoTWFzayA9IGZ1bmN0aW9uIHB1c2hNYXNrKHRhcmdldCwgbWFza0RhdGEpIHtcbiAgICAgICAgLy8gVE9ETyB0aGUgcm9vdCBjaGVjayBtZWFucyBzY2lzc29yIHJlY3Qgd2lsbCBub3RcbiAgICAgICAgLy8gYmUgdXNlZCBvbiByZW5kZXIgdGV4dHVyZXMgbW9yZSBpbmZvIGhlcmU6XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9wdWxsLzM1NDVcblxuICAgICAgICBpZiAobWFza0RhdGEudGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5wdXNoU3ByaXRlTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVuYWJsZVNjaXNzb3IgJiYgIXRoaXMuc2Npc3NvciAmJiB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQucm9vdCAmJiAhdGhpcy5yZW5kZXJlci5zdGVuY2lsTWFuYWdlci5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCAmJiBtYXNrRGF0YS5pc0Zhc3RSZWN0KCkpIHtcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSBtYXNrRGF0YS53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgdmFyIHJvdCA9IE1hdGguYXRhbjIobWF0cml4LmIsIG1hdHJpeC5hKTtcblxuICAgICAgICAgICAgLy8gdXNlIHRoZSBuZWFyZXN0IGRlZ3JlZSFcbiAgICAgICAgICAgIHJvdCA9IE1hdGgucm91bmQocm90ICogKDE4MCAvIE1hdGguUEkpKTtcblxuICAgICAgICAgICAgaWYgKHJvdCAlIDkwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoU3RlbmNpbE1hc2sobWFza0RhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2hTY2lzc29yTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHVzaFN0ZW5jaWxNYXNrKG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IG1hc2sgZnJvbSB0aGUgbWFzayBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gRGlzcGxheSBPYmplY3QgdG8gcG9wIHRoZSBtYXNrIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnBvcE1hc2sgPSBmdW5jdGlvbiBwb3BNYXNrKHRhcmdldCwgbWFza0RhdGEpIHtcbiAgICAgICAgaWYgKG1hc2tEYXRhLnRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMucG9wU3ByaXRlTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVuYWJsZVNjaXNzb3IgJiYgIXRoaXMucmVuZGVyZXIuc3RlbmNpbE1hbmFnZXIuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMucG9wU2Npc3Nvck1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBvcFN0ZW5jaWxNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gdGFyZ2V0IC0gRGlzcGxheSBPYmplY3QgdG8gcHVzaCB0aGUgc3ByaXRlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBtYXNrRGF0YSAtIFNwcml0ZSB0byBiZSB1c2VkIGFzIHRoZSBtYXNrXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wdXNoU3ByaXRlTWFzayA9IGZ1bmN0aW9uIHB1c2hTcHJpdGVNYXNrKHRhcmdldCwgbWFza0RhdGEpIHtcbiAgICAgICAgdmFyIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XTtcblxuICAgICAgICBpZiAoIWFscGhhTWFza0ZpbHRlcikge1xuICAgICAgICAgICAgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdID0gW25ldyBfU3ByaXRlTWFza0ZpbHRlcjIuZGVmYXVsdChtYXNrRGF0YSldO1xuICAgICAgICB9XG5cbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLnJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIGFscGhhTWFza0ZpbHRlclswXS5tYXNrU3ByaXRlID0gbWFza0RhdGE7XG5cbiAgICAgICAgLy8gVE9ETyAtIG1heSBjYXVzZSBpc3N1ZXMhXG4gICAgICAgIHRhcmdldC5maWx0ZXJBcmVhID0gbWFza0RhdGEuZ2V0Qm91bmRzKHRydWUpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZmlsdGVyTWFuYWdlci5wdXNoRmlsdGVyKHRhcmdldCwgYWxwaGFNYXNrRmlsdGVyKTtcblxuICAgICAgICB0aGlzLmFscGhhTWFza0luZGV4Kys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgZmlsdGVyIGZyb20gdGhlIGZpbHRlciBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnBvcFNwcml0ZU1hc2sgPSBmdW5jdGlvbiBwb3BTcHJpdGVNYXNrKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlck1hbmFnZXIucG9wRmlsdGVyKCk7XG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgtLTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnB1c2hTdGVuY2lsTWFzayA9IGZ1bmN0aW9uIHB1c2hTdGVuY2lsTWFzayhtYXNrRGF0YSkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbE1hbmFnZXIucHVzaFN0ZW5jaWwobWFza0RhdGEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IGZpbHRlciBmcm9tIHRoZSBmaWx0ZXIgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wb3BTdGVuY2lsTWFzayA9IGZ1bmN0aW9uIHBvcFN0ZW5jaWxNYXNrKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbE1hbmFnZXIucG9wU3RlbmNpbCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBtYXNrIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wdXNoU2Npc3Nvck1hc2sgPSBmdW5jdGlvbiBwdXNoU2Npc3Nvck1hc2sodGFyZ2V0LCBtYXNrRGF0YSkge1xuICAgICAgICBtYXNrRGF0YS5yZW5kZXJhYmxlID0gdHJ1ZTtcblxuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgIHZhciBib3VuZHMgPSBtYXNrRGF0YS5nZXRCb3VuZHMoKTtcblxuICAgICAgICBib3VuZHMuZml0KHJlbmRlclRhcmdldC5zaXplKTtcbiAgICAgICAgbWFza0RhdGEucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuZW5hYmxlKHRoaXMucmVuZGVyZXIuZ2wuU0NJU1NPUl9URVNUKTtcblxuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsLnNjaXNzb3IoYm91bmRzLnggKiByZXNvbHV0aW9uLCAocmVuZGVyVGFyZ2V0LnJvb3QgPyByZW5kZXJUYXJnZXQuc2l6ZS5oZWlnaHQgLSBib3VuZHMueSAtIGJvdW5kcy5oZWlnaHQgOiBib3VuZHMueSkgKiByZXNvbHV0aW9uLCBib3VuZHMud2lkdGggKiByZXNvbHV0aW9uLCBib3VuZHMuaGVpZ2h0ICogcmVzb2x1dGlvbik7XG5cbiAgICAgICAgdGhpcy5zY2lzc29yUmVuZGVyVGFyZ2V0ID0gcmVuZGVyVGFyZ2V0O1xuICAgICAgICB0aGlzLnNjaXNzb3JEYXRhID0gbWFza0RhdGE7XG4gICAgICAgIHRoaXMuc2Npc3NvciA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnBvcFNjaXNzb3JNYXNrID0gZnVuY3Rpb24gcG9wU2Npc3Nvck1hc2soKSB7XG4gICAgICAgIHRoaXMuc2Npc3NvclJlbmRlclRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2Npc3NvckRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnNjaXNzb3IgPSBmYWxzZTtcblxuICAgICAgICAvLyBtdXN0IGJlIHNjaXNzb3IhXG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgIH07XG5cbiAgICByZXR1cm4gTWFza01hbmFnZXI7XG59KF9XZWJHTE1hbmFnZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBNYXNrTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hc2tNYW5hZ2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9PYmplY3RSZW5kZXJlcjIgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvT2JqZWN0UmVuZGVyZXInKTtcblxudmFyIF9PYmplY3RSZW5kZXJlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYmplY3RSZW5kZXJlcjIpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlcicpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xSZW5kZXJlcik7XG5cbnZhciBfY3JlYXRlSW5kaWNlc0ZvclF1YWRzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvY3JlYXRlSW5kaWNlc0ZvclF1YWRzJyk7XG5cbnZhciBfY3JlYXRlSW5kaWNlc0ZvclF1YWRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUluZGljZXNGb3JRdWFkcyk7XG5cbnZhciBfZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIgPSByZXF1aXJlKCcuL2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyJyk7XG5cbnZhciBfZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIpO1xuXG52YXIgX2NoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlciA9IHJlcXVpcmUoJy4uLy4uL3JlbmRlcmVycy93ZWJnbC91dGlscy9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXInKTtcblxudmFyIF9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyKTtcblxudmFyIF9CYXRjaEJ1ZmZlciA9IHJlcXVpcmUoJy4vQmF0Y2hCdWZmZXInKTtcblxudmFyIF9CYXRjaEJ1ZmZlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaEJ1ZmZlcik7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzJyk7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3BpeGlHbENvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGl4aUdsQ29yZSk7XG5cbnZhciBfYml0VHdpZGRsZSA9IHJlcXVpcmUoJ2JpdC10d2lkZGxlJyk7XG5cbnZhciBfYml0VHdpZGRsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaXRUd2lkZGxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgVElDSyA9IDA7XG52YXIgVEVYVFVSRV9USUNLID0gMDtcblxuLyoqXG4gKiBSZW5kZXJlciBkZWRpY2F0ZWQgdG8gZHJhd2luZyBhbmQgYmF0Y2hpbmcgc3ByaXRlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5PYmplY3RSZW5kZXJlclxuICovXG5cbnZhciBTcHJpdGVSZW5kZXJlciA9IGZ1bmN0aW9uIChfT2JqZWN0UmVuZGVyZXIpIHtcbiAgICBfaW5oZXJpdHMoU3ByaXRlUmVuZGVyZXIsIF9PYmplY3RSZW5kZXJlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBzcHJpdGUgYmF0Y2ggd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNwcml0ZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTcHJpdGVSZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiB2YWx1ZXMgc2VudCBpbiB0aGUgdmVydGV4IGJ1ZmZlci5cbiAgICAgICAgICogYVZlcnRleFBvc2l0aW9uKDIpLCBhVGV4dHVyZUNvb3JkKDEpLCBhQ29sb3IoMSksIGFUZXh0dXJlSWQoMSkgPSA1XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9PYmplY3RSZW5kZXJlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMudmVydFNpemUgPSA1O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgdmVydGV4IGluZm9ybWF0aW9uIGluIGJ5dGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0Qnl0ZVNpemUgPSBfdGhpcy52ZXJ0U2l6ZSAqIDQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgaW1hZ2VzIGluIHRoZSBTcHJpdGVSZW5kZXJlciBiZWZvcmUgaXQgZmx1c2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2l6ZSA9IF9zZXR0aW5nczIuZGVmYXVsdC5TUFJJVEVfQkFUQ0hfU0laRTsgLy8gMjAwMCBpcyBhIG5pY2UgYmFsYW5jZSBiZXR3ZWVuIG1vYmlsZSAvIGRlc2t0b3BcblxuICAgICAgICAvLyB0aGUgdG90YWwgbnVtYmVyIG9mIGJ5dGVzIGluIG91ciBiYXRjaFxuICAgICAgICAvLyBsZXQgbnVtVmVydHMgPSB0aGlzLnNpemUgKiA0ICogdGhpcy52ZXJ0Qnl0ZVNpemU7XG5cbiAgICAgICAgX3RoaXMuYnVmZmVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBfYml0VHdpZGRsZTIuZGVmYXVsdC5uZXh0UG93MihfdGhpcy5zaXplKTsgaSAqPSAyKSB7XG4gICAgICAgICAgICBfdGhpcy5idWZmZXJzLnB1c2gobmV3IF9CYXRjaEJ1ZmZlcjIuZGVmYXVsdChpICogNCAqIF90aGlzLnZlcnRCeXRlU2l6ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvbGRzIHRoZSBpbmRpY2VzIG9mIHRoZSBnZW9tZXRyeSAocXVhZHMpIHRvIGRyYXdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbmRpY2VzID0gKDAsIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMyLmRlZmF1bHQpKF90aGlzLnNpemUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzaGFkZXJzIHRoYXQgaXMgdXNlZCBpZiBhIHNwcml0ZSBkb2Vzbid0IGhhdmUgYSBtb3JlIHNwZWNpZmljIG9uZS5cbiAgICAgICAgICogdGhlcmUgaXMgYSBzaGFkZXIgZm9yIGVhY2ggbnVtYmVyIG9mIHRleHR1cmVzIHRoYXQgY2FuIGJlIHJlbmRlcmVyZC5cbiAgICAgICAgICogVGhlc2Ugc2hhZGVycyB3aWxsIGFsc28gYmUgZ2VuZXJhdGVkIG9uIHRoZSBmbHkgYXMgcmVxdWlyZWQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLmN1cnJlbnRJbmRleCA9IDA7XG4gICAgICAgIF90aGlzLmdyb3VwcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgX3RoaXMuc2l6ZTsgaysrKSB7XG4gICAgICAgICAgICBfdGhpcy5ncm91cHNba10gPSB7IHRleHR1cmVzOiBbXSwgdGV4dHVyZUNvdW50OiAwLCBpZHM6IFtdLCBzaXplOiAwLCBzdGFydDogMCwgYmxlbmQ6IDAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnNwcml0ZXMgPSBbXTtcblxuICAgICAgICBfdGhpcy52ZXJ0ZXhCdWZmZXJzID0gW107XG4gICAgICAgIF90aGlzLnZhb3MgPSBbXTtcblxuICAgICAgICBfdGhpcy52YW9NYXggPSAyO1xuICAgICAgICBfdGhpcy52ZXJ0ZXhDb3VudCA9IDA7XG5cbiAgICAgICAgX3RoaXMucmVuZGVyZXIub24oJ3ByZXJlbmRlcicsIF90aGlzLm9uUHJlcmVuZGVyLCBfdGhpcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5vbkNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiBvbkNvbnRleHRDaGFuZ2UoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIubGVnYWN5KSB7XG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzdGVwIDE6IGZpcnN0IGNoZWNrIG1heCB0ZXh0dXJlcyB0aGUgR1BVIGNhbiBoYW5kbGUuXG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IE1hdGgubWluKGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyksIF9zZXR0aW5nczIuZGVmYXVsdC5TUFJJVEVfTUFYX1RFWFRVUkVTKTtcblxuICAgICAgICAgICAgLy8gc3RlcCAyOiBjaGVjayB0aGUgbWF4aW11bSBudW1iZXIgb2YgaWYgc3RhdGVtZW50cyB0aGUgc2hhZGVyIGNhbiBoYXZlIHRvby4uXG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9ICgwLCBfY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyMi5kZWZhdWx0KSh0aGlzLk1BWF9URVhUVVJFUywgZ2wpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSAoMCwgX2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyMi5kZWZhdWx0KShnbCwgdGhpcy5NQVhfVEVYVFVSRVMpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBhIGNvdXBsZSBvZiBidWZmZXJzXG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcihnbCwgdGhpcy5pbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyk7XG5cbiAgICAgICAgLy8gd2UgdXNlIHRoZSBzZWNvbmQgc2hhZGVyIGFzIHRoZSBmaXJzdCBvbmUgZGVwZW5kaW5nIG9uIHlvdXIgYnJvd3NlciBtYXkgb21pdCBhVGV4dHVyZUlkXG4gICAgICAgIC8vIGFzIGl0IGlzIG5vdCB1c2VkIGJ5IHRoZSBzaGFkZXIgc28gaXMgb3B0aW1pemVkIG91dC5cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRWYW8obnVsbCk7XG5cbiAgICAgICAgdmFyIGF0dHJzID0gdGhpcy5zaGFkZXIuYXR0cmlidXRlcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmFvTWF4OyBpKyspIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLnZlcnRleEJ1ZmZlcnNbaV0gPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wsIG51bGwsIGdsLlNUUkVBTV9EUkFXKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuXG4gICAgICAgICAgICAvLyBidWlsZCB0aGUgdmFvIG9iamVjdCB0aGF0IHdpbGwgcmVuZGVyLi5cbiAgICAgICAgICAgIHZhciB2YW8gPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVZhbygpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFWZXJ0ZXhQb3NpdGlvbiwgZ2wuRkxPQVQsIGZhbHNlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMCkuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYVRleHR1cmVDb29yZCwgZ2wuVU5TSUdORURfU0hPUlQsIHRydWUsIHRoaXMudmVydEJ5dGVTaXplLCAyICogNCkuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYUNvbG9yLCBnbC5VTlNJR05FRF9CWVRFLCB0cnVlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMyAqIDQpO1xuXG4gICAgICAgICAgICBpZiAoYXR0cnMuYVRleHR1cmVJZCkge1xuICAgICAgICAgICAgICAgIHZhby5hZGRBdHRyaWJ1dGUodmVydGV4QnVmZmVyLCBhdHRycy5hVGV4dHVyZUlkLCBnbC5GTE9BVCwgZmFsc2UsIHRoaXMudmVydEJ5dGVTaXplLCA0ICogNCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudmFvc1tpXSA9IHZhbztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmFvID0gdGhpcy52YW9zWzBdO1xuICAgICAgICB0aGlzLmN1cnJlbnRCbGVuZE1vZGUgPSA5OTk5OTtcblxuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMgPSBuZXcgQXJyYXkodGhpcy5NQVhfVEVYVFVSRVMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYmVmb3JlIHRoZSByZW5kZXJlciBzdGFydHMgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5vblByZXJlbmRlciA9IGZ1bmN0aW9uIG9uUHJlcmVuZGVyKCkge1xuICAgICAgICB0aGlzLnZlcnRleENvdW50ID0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIHRoZSBzcHJpdGUgdG8gcmVuZGVyIHdoZW4gdXNpbmcgdGhpcyBzcHJpdGViYXRjaFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKHNwcml0ZSkge1xuICAgICAgICAvLyBUT0RPIHNldCBibGVuZCBtb2Rlcy4uXG4gICAgICAgIC8vIGNoZWNrIHRleHR1cmUuLlxuICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPj0gdGhpcy5zaXplKSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgdGhlIHV2cyBmb3IgdGhlIHRleHR1cmVcblxuICAgICAgICAvLyBpZiB0aGUgdXZzIGhhdmUgbm90IHVwZGF0ZWQgdGhlbiBubyBwb2ludCByZW5kZXJpbmcganVzdCB5ZXQhXG4gICAgICAgIGlmICghc3ByaXRlLl90ZXh0dXJlLl91dnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHB1c2ggYSB0ZXh0dXJlLlxuICAgICAgICAvLyBpbmNyZW1lbnQgdGhlIGJhdGNoc2l6ZVxuICAgICAgICB0aGlzLnNwcml0ZXNbdGhpcy5jdXJyZW50SW5kZXgrK10gPSBzcHJpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGNvbnRlbnQgYW5kIGVtcHRpZXMgdGhlIGN1cnJlbnQgYmF0Y2guXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIE1BWF9URVhUVVJFUyA9IHRoaXMuTUFYX1RFWFRVUkVTO1xuXG4gICAgICAgIHZhciBucDIgPSBfYml0VHdpZGRsZTIuZGVmYXVsdC5uZXh0UG93Mih0aGlzLmN1cnJlbnRJbmRleCk7XG4gICAgICAgIHZhciBsb2cyID0gX2JpdFR3aWRkbGUyLmRlZmF1bHQubG9nMihucDIpO1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXJzW2xvZzJdO1xuXG4gICAgICAgIHZhciBzcHJpdGVzID0gdGhpcy5zcHJpdGVzO1xuICAgICAgICB2YXIgZ3JvdXBzID0gdGhpcy5ncm91cHM7XG5cbiAgICAgICAgdmFyIGZsb2F0MzJWaWV3ID0gYnVmZmVyLmZsb2F0MzJWaWV3O1xuICAgICAgICB2YXIgdWludDMyVmlldyA9IGJ1ZmZlci51aW50MzJWaWV3O1xuXG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5ib3VuZFRleHR1cmVzO1xuICAgICAgICB2YXIgcmVuZGVyZXJCb3VuZFRleHR1cmVzID0gdGhpcy5yZW5kZXJlci5ib3VuZFRleHR1cmVzO1xuICAgICAgICB2YXIgdG91Y2ggPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVHQy5jb3VudDtcblxuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgbmV4dFRleHR1cmUgPSB2b2lkIDA7XG4gICAgICAgIHZhciBjdXJyZW50VGV4dHVyZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGdyb3VwQ291bnQgPSAxO1xuICAgICAgICB2YXIgdGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRHcm91cCA9IGdyb3Vwc1swXTtcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB2b2lkIDA7XG4gICAgICAgIHZhciB1dnMgPSB2b2lkIDA7XG4gICAgICAgIHZhciBibGVuZE1vZGUgPSBfdXRpbHMucHJlbXVsdGlwbHlCbGVuZE1vZGVbc3ByaXRlc1swXS5fdGV4dHVyZS5iYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEgPyAxIDogMF1bc3ByaXRlc1swXS5ibGVuZE1vZGVdO1xuXG4gICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuYmxlbmQgPSBibGVuZE1vZGU7XG5cbiAgICAgICAgVElDSysrO1xuXG4gICAgICAgIHZhciBpID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIGNvcHkgdGV4dHVyZXMuLlxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgTUFYX1RFWFRVUkVTOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBidCA9IHJlbmRlcmVyQm91bmRUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgaWYgKGJ0Ll9lbmFibGVkID09PSBUSUNLKSB7XG4gICAgICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpXSA9IHRoaXMucmVuZGVyZXIuZW1wdHlUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpXSA9IGJ0O1xuICAgICAgICAgICAgYnQuX3ZpcnRhbEJvdW5kSWQgPSBpO1xuICAgICAgICAgICAgYnQuX2VuYWJsZWQgPSBUSUNLO1xuICAgICAgICB9XG4gICAgICAgIFRJQ0srKztcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5jdXJyZW50SW5kZXg7ICsraSkge1xuICAgICAgICAgICAgLy8gdXBsb2FkIHRoZSBzcHJpdGUgZWxlbWV0bnMuLi5cbiAgICAgICAgICAgIC8vIHRoZXkgaGF2ZSBhbGwgcmVhZHkgYmVlbiBjYWxjdWxhdGVkIHNvIHdlIGp1c3QgbmVlZCB0byBwdXNoIHRoZW0gaW50byB0aGUgYnVmZmVyLlxuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IHNwcml0ZXNbaV07XG5cbiAgICAgICAgICAgIG5leHRUZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICB2YXIgc3ByaXRlQmxlbmRNb2RlID0gX3V0aWxzLnByZW11bHRpcGx5QmxlbmRNb2RlW051bWJlcihuZXh0VGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpXVtzcHJpdGUuYmxlbmRNb2RlXTtcblxuICAgICAgICAgICAgaWYgKGJsZW5kTW9kZSAhPT0gc3ByaXRlQmxlbmRNb2RlKSB7XG4gICAgICAgICAgICAgICAgLy8gZmluaXNoIGEgZ3JvdXAuLlxuICAgICAgICAgICAgICAgIGJsZW5kTW9kZSA9IHNwcml0ZUJsZW5kTW9kZTtcblxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBiYXRjaCB0byBicmVhayFcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbmV4dFRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV4dFRleHR1cmUuX2VuYWJsZWQgIT09IFRJQ0spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHR1cmVDb3VudCA9PT0gTUFYX1RFWFRVUkVTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUSUNLKys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gaSAtIGN1cnJlbnRHcm91cC5zdGFydDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwID0gZ3JvdXBzW2dyb3VwQ291bnQrK107XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuYmxlbmQgPSBibGVuZE1vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS50b3VjaGVkID0gdG91Y2g7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUZXh0dXJlLl92aXJ0YWxCb3VuZElkID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBNQVhfVEVYVFVSRVM7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0SW5kZXggPSAoaiArIFRFWFRVUkVfVElDSykgJSBNQVhfVEVYVFVSRVM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGJvdW5kVGV4dHVyZXNbdEluZGV4XTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0Ll9lbmFibGVkICE9PSBUSUNLKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRFWFRVUkVfVElDSysrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuX3ZpcnRhbEJvdW5kSWQgPSAtMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fdmlydGFsQm91bmRJZCA9IHRJbmRleDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW3RJbmRleF0gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2VuYWJsZWQgPSBUSUNLO1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLmlkc1t0ZXh0dXJlQ291bnRdID0gbmV4dFRleHR1cmUuX3ZpcnRhbEJvdW5kSWQ7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlc1t0ZXh0dXJlQ291bnQrK10gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZlcnRleERhdGEgPSBzcHJpdGUudmVydGV4RGF0YTtcblxuICAgICAgICAgICAgLy8gVE9ETyB0aGlzIHN1bSBkb2VzIG5vdCBuZWVkIHRvIGJlIHNldCBlYWNoIGZyYW1lLi5cbiAgICAgICAgICAgIHV2cyA9IHNwcml0ZS5fdGV4dHVyZS5fdXZzLnV2c1VpbnQzMjtcblxuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIucm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgICAgIC8vIHh5XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXhdID0gKHZlcnRleERhdGFbMF0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMV0gPSAodmVydGV4RGF0YVsxXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNV0gPSAodmVydGV4RGF0YVsyXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyA2XSA9ICh2ZXJ0ZXhEYXRhWzNdICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgICAgIC8vIHh5XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxMF0gPSAodmVydGV4RGF0YVs0XSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxMV0gPSAodmVydGV4RGF0YVs1XSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTVdID0gKHZlcnRleERhdGFbNl0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTZdID0gKHZlcnRleERhdGFbN10gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4XSA9IHZlcnRleERhdGFbMF07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxXSA9IHZlcnRleERhdGFbMV07XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNV0gPSB2ZXJ0ZXhEYXRhWzJdO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNl0gPSB2ZXJ0ZXhEYXRhWzNdO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDEwXSA9IHZlcnRleERhdGFbNF07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxMV0gPSB2ZXJ0ZXhEYXRhWzVdO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDE1XSA9IHZlcnRleERhdGFbNl07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxNl0gPSB2ZXJ0ZXhEYXRhWzddO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgMl0gPSB1dnNbMF07XG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgN10gPSB1dnNbMV07XG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgMTJdID0gdXZzWzJdO1xuICAgICAgICAgICAgdWludDMyVmlld1tpbmRleCArIDE3XSA9IHV2c1szXTtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIHZhciBhbHBoYSA9IE1hdGgubWluKHNwcml0ZS53b3JsZEFscGhhLCAxLjApO1xuICAgICAgICAgICAgLy8gd2UgZG9udCBjYWxsIGV4dHJhIGZ1bmN0aW9uIGlmIGFscGhhIGlzIDEuMCwgdGhhdCdzIGZhc3RlclxuICAgICAgICAgICAgdmFyIGFyZ2IgPSBhbHBoYSA8IDEuMCAmJiBuZXh0VGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEgPyAoMCwgX3V0aWxzLnByZW11bHRpcGx5VGludCkoc3ByaXRlLl90aW50UkdCLCBhbHBoYSkgOiBzcHJpdGUuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuXG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgM10gPSB1aW50MzJWaWV3W2luZGV4ICsgOF0gPSB1aW50MzJWaWV3W2luZGV4ICsgMTNdID0gdWludDMyVmlld1tpbmRleCArIDE4XSA9IGFyZ2I7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDRdID0gZmxvYXQzMlZpZXdbaW5kZXggKyA5XSA9IGZsb2F0MzJWaWV3W2luZGV4ICsgMTRdID0gZmxvYXQzMlZpZXdbaW5kZXggKyAxOV0gPSBuZXh0VGV4dHVyZS5fdmlydGFsQm91bmRJZDtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuXG4gICAgICAgICAgICBpbmRleCArPSAyMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gaSAtIGN1cnJlbnRHcm91cC5zdGFydDtcblxuICAgICAgICBpZiAoIV9zZXR0aW5nczIuZGVmYXVsdC5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHN0aWxsIG5lZWRlZCBmb3IgSU9TIHBlcmZvcm1hbmNlLi5cbiAgICAgICAgICAgIC8vIGl0IHJlYWxseSBkb2VzIG5vdCBsaWtlIHVwbG9hZGluZyB0byB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWUhXG4gICAgICAgICAgICBpZiAodGhpcy52YW9NYXggPD0gdGhpcy52ZXJ0ZXhDb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvTWF4Kys7XG5cbiAgICAgICAgICAgICAgICB2YXIgYXR0cnMgPSB0aGlzLnNoYWRlci5hdHRyaWJ1dGVzO1xuXG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0gPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wsIG51bGwsIGdsLlNUUkVBTV9EUkFXKTtcbiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxuICAgICAgICAgICAgICAgIC8vIGJ1aWxkIHRoZSB2YW8gb2JqZWN0IHRoYXQgd2lsbCByZW5kZXIuLlxuICAgICAgICAgICAgICAgIHZhciB2YW8gPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVZhbygpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFWZXJ0ZXhQb3NpdGlvbiwgZ2wuRkxPQVQsIGZhbHNlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMCkuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYVRleHR1cmVDb29yZCwgZ2wuVU5TSUdORURfU0hPUlQsIHRydWUsIHRoaXMudmVydEJ5dGVTaXplLCAyICogNCkuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYUNvbG9yLCBnbC5VTlNJR05FRF9CWVRFLCB0cnVlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMyAqIDQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGF0dHJzLmFUZXh0dXJlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFvLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFUZXh0dXJlSWQsIGdsLkZMT0FULCBmYWxzZSwgdGhpcy52ZXJ0Qnl0ZVNpemUsIDQgKiA0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0gPSB2YW87XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFZhbyh0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0pO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0udXBsb2FkKGJ1ZmZlci52ZXJ0aWNlcywgMCwgZmFsc2UpO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleENvdW50Kys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBsZXRzIHVzZSB0aGUgZmFzdGVyIG9wdGlvbiwgYWx3YXlzIHVzZSBidWZmZXIgbnVtYmVyIDBcbiAgICAgICAgICAgIHRoaXMudmVydGV4QnVmZmVyc1t0aGlzLnZlcnRleENvdW50XS51cGxvYWQoYnVmZmVyLnZlcnRpY2VzLCAwLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBNQVhfVEVYVFVSRVM7ICsraSkge1xuICAgICAgICAgICAgcmVuZGVyZXJCb3VuZFRleHR1cmVzW2ldLl92aXJ0YWxCb3VuZElkID0gLTE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW5kZXIgdGhlIGdyb3Vwcy4uXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBncm91cENvdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBncm91cCA9IGdyb3Vwc1tpXTtcbiAgICAgICAgICAgIHZhciBncm91cFRleHR1cmVDb3VudCA9IGdyb3VwLnRleHR1cmVDb3VudDtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2ogPSAwOyBfaiA8IGdyb3VwVGV4dHVyZUNvdW50OyBfaisrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFRleHR1cmUgPSBncm91cC50ZXh0dXJlc1tfal07XG5cbiAgICAgICAgICAgICAgICAvLyByZXNldCB2aXJ0dWFsIGlkcy4uXG4gICAgICAgICAgICAgICAgLy8gbGV0cyBkbyBhIHF1aWNrIGNoZWNrLi5cbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyZXJCb3VuZFRleHR1cmVzW2dyb3VwLmlkc1tfal1dICE9PSBjdXJyZW50VGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRUZXh0dXJlKGN1cnJlbnRUZXh0dXJlLCBncm91cC5pZHNbX2pdLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyByZXNldCB0aGUgdmlydHVhbElkLi5cbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZS5fdmlydGFsQm91bmRJZCA9IC0xO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzZXQgdGhlIGJsZW5kIG1vZGUuLlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoZ3JvdXAuYmxlbmQpO1xuXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBncm91cC5zaXplICogNiwgZ2wuVU5TSUdORURfU0hPUlQsIGdyb3VwLnN0YXJ0ICogNiAqIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgZWxlbWVudHMgZm9yIHRoZSBuZXh0IGZsdXNoXG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGEgbmV3IHNwcml0ZSBiYXRjaC5cbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFNoYWRlcih0aGlzLnNoYWRlcik7XG5cbiAgICAgICAgaWYgKF9zZXR0aW5nczIuZGVmYXVsdC5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKSB7XG4gICAgICAgICAgICAvLyBiaW5kIGJ1ZmZlciAjMCwgd2UgZG9uJ3QgbmVlZCBvdGhlcnNcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFZhbyh0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0pO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0uYmluZCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIGFuZCBmbHVzaGVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgU3ByaXRlUmVuZGVyZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmFvTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZlcnRleEJ1ZmZlcnNbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudmFvc1tpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZigncHJlcmVuZGVyJywgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG5cbiAgICAgICAgX09iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLnZhb3MgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNwcml0ZXMgPSBudWxsO1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoOyArK19pKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnNbX2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gU3ByaXRlUmVuZGVyZXI7XG59KF9PYmplY3RSZW5kZXJlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNwcml0ZVJlbmRlcmVyO1xuXG5cbl9XZWJHTFJlbmRlcmVyMi5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKCdzcHJpdGUnLCBTcHJpdGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGVSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxudmFyIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzID0gcmVxdWlyZSgnLi9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzJyk7XG5cbnZhciBfY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBNYXBzIGJsZW5kIGNvbWJpbmF0aW9ucyB0byBDYW52YXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBtYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gW2FycmF5PVtdXSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge3N0cmluZ1tdfSBNYXBwZWQgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkoKSB7XG4gICAgdmFyIGFycmF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcblxuICAgIGlmICgoMCwgX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMyLmRlZmF1bHQpKCkpIHtcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREXSA9ICdsaWdodGVyJzsgLy8gSVMgVEhJUyBPSz8/P1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTVVMVElQTFldID0gJ211bHRpcGx5JztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl0gPSAnc2NyZWVuJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk9WRVJMQVldID0gJ292ZXJsYXknO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuREFSS0VOXSA9ICdkYXJrZW4nO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTElHSFRFTl0gPSAnbGlnaHRlbic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl9ET0RHRV0gPSAnY29sb3ItZG9kZ2UnO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl0gPSAnY29sb3ItYnVybic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IQVJEX0xJR0hUXSA9ICdoYXJkLWxpZ2h0JztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNPRlRfTElHSFRdID0gJ3NvZnQtbGlnaHQnO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRElGRkVSRU5DRV0gPSAnZGlmZmVyZW5jZSc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5FWENMVVNJT05dID0gJ2V4Y2x1c2lvbic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IVUVdID0gJ2h1ZSc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQVRVUkFUSU9OXSA9ICdzYXR1cmF0ZSc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl0gPSAnY29sb3InO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTFVNSU5PU0lUWV0gPSAnbHVtaW5vc2l0eSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhpcyBtZWFucyB0aGF0IHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIGNvb2wgbmV3IGJsZW5kIG1vZGVzIGluIGNhbnZhcyAnY291Z2gnIGllICdjb3VnaCdcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREXSA9ICdsaWdodGVyJzsgLy8gSVMgVEhJUyBPSz8/P1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTVVMVElQTFldID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuT1ZFUkxBWV0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuREFSS0VOXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5MSUdIVEVOXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl9ET0RHRV0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuSEFSRF9MSUdIVF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU09GVF9MSUdIVF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRElGRkVSRU5DRV0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRVhDTFVTSU9OXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IVUVdID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNBVFVSQVRJT05dID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkNPTE9SXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5MVU1JTk9TSVRZXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgfVxuICAgIC8vIG5vdC1wcmVtdWx0aXBsaWVkLCBvbmx5IGZvciB3ZWJnbFxuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5BRERfTlBNXSA9IGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5BRERdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5dO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEEgc2V0IG9mIGZ1bmN0aW9ucyB1c2VkIHRvIGhhbmRsZSBtYXNraW5nLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENhbnZhc01hc2tNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc01hc2tNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNNYXNrTWFuYWdlcik7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RhY2sgb2YgbWFza3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gbWFza0RhdGEgLSB0aGUgbWFza0RhdGEgdGhhdCB3aWxsIGJlIHB1c2hlZFxuICAgICAqL1xuXG5cbiAgICBDYW52YXNNYXNrTWFuYWdlci5wcm90b3R5cGUucHVzaE1hc2sgPSBmdW5jdGlvbiBwdXNoTWFzayhtYXNrRGF0YSkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHJlbmRlcmVyLmNvbnRleHQuc2F2ZSgpO1xuXG4gICAgICAgIHZhciBjYWNoZUFscGhhID0gbWFza0RhdGEuYWxwaGE7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSBtYXNrRGF0YS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICByZW5kZXJlci5jb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5iICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmMgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uZCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb24pO1xuXG4gICAgICAgIC8vIFRPRE8gc3Vwb3J0IHNwcml0ZSBhbHBoYSBtYXNrcz8/XG4gICAgICAgIC8vIGxvdHMgb2YgZWZmb3J0IHJlcXVpcmVkLiBJZiBkZW1hbmQgaXMgZ3JlYXQgZW5vdWdoLi5cbiAgICAgICAgaWYgKCFtYXNrRGF0YS5fdGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJHcmFwaGljc1NoYXBlKG1hc2tEYXRhKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuY2xpcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFza0RhdGEud29ybGRBbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBQSVhJLkdyYXBoaWNzIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNNYXNrTWFuYWdlci5wcm90b3R5cGUucmVuZGVyR3JhcGhpY3NTaGFwZSA9IGZ1bmN0aW9uIHJlbmRlckdyYXBoaWNzU2hhcGUoZ3JhcGhpY3MpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciBsZW4gPSBncmFwaGljcy5ncmFwaGljc0RhdGEubGVuZ3RoO1xuXG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljcy5ncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSBkYXRhLnNoYXBlO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlBPTFkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gc2hhcGUucG9pbnRzO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBwb2ludHMubGVuZ3RoIC8gMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBvaW50c1tqICogMl0sIHBvaW50c1tqICogMiArIDFdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZmlyc3QgYW5kIGxhc3QgcG9pbnQgYXJlIHRoZSBzYW1lIGNsb3NlIHRoZSBwYXRoIC0gbXVjaCBuZWF0ZXIgOilcbiAgICAgICAgICAgICAgICBpZiAocG9pbnRzWzBdID09PSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdICYmIHBvaW50c1sxXSA9PT0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJFQ1QpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlY3Qoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUud2lkdGgsIHNoYXBlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIC0gbmVlZCB0byBiZSBVbmRlZmluZWQhXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkVMSVApIHtcbiAgICAgICAgICAgICAgICAvLyBlbGxpcHNlIGNvZGUgdGFrZW4gZnJvbTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMTcyNzk4L2hvdy10by1kcmF3LWFuLW92YWwtaW4taHRtbDUtY2FudmFzXG5cbiAgICAgICAgICAgICAgICB2YXIgdyA9IHNoYXBlLndpZHRoICogMjtcbiAgICAgICAgICAgICAgICB2YXIgaCA9IHNoYXBlLmhlaWdodCAqIDI7XG5cbiAgICAgICAgICAgICAgICB2YXIgeCA9IHNoYXBlLnggLSB3IC8gMjtcbiAgICAgICAgICAgICAgICB2YXIgeSA9IHNoYXBlLnkgLSBoIC8gMjtcblxuICAgICAgICAgICAgICAgIHZhciBrYXBwYSA9IDAuNTUyMjg0ODtcbiAgICAgICAgICAgICAgICB2YXIgb3ggPSB3IC8gMiAqIGthcHBhOyAvLyBjb250cm9sIHBvaW50IG9mZnNldCBob3Jpem9udGFsXG4gICAgICAgICAgICAgICAgdmFyIG95ID0gaCAvIDIgKiBrYXBwYTsgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgdmVydGljYWxcbiAgICAgICAgICAgICAgICB2YXIgeGUgPSB4ICsgdzsgLy8geC1lbmRcbiAgICAgICAgICAgICAgICB2YXIgeWUgPSB5ICsgaDsgLy8geS1lbmRcbiAgICAgICAgICAgICAgICB2YXIgeG0gPSB4ICsgdyAvIDI7IC8vIHgtbWlkZGxlXG4gICAgICAgICAgICAgICAgdmFyIHltID0geSArIGggLyAyOyAvLyB5LW1pZGRsZVxuXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeCwgeW0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4LCB5bSAtIG95LCB4bSAtIG94LCB5LCB4bSwgeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhtICsgb3gsIHksIHhlLCB5bSAtIG95LCB4ZSwgeW0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4ZSwgeW0gKyBveSwgeG0gKyBveCwgeWUsIHhtLCB5ZSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhtIC0gb3gsIHllLCB4LCB5bSArIG95LCB4LCB5bSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJSRUMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcnggPSBzaGFwZS54O1xuICAgICAgICAgICAgICAgIHZhciByeSA9IHNoYXBlLnk7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gc2hhcGUud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IHNoYXBlLmhlaWdodDtcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gc2hhcGUucmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgdmFyIG1heFJhZGl1cyA9IE1hdGgubWluKHdpZHRoLCBoZWlnaHQpIC8gMiB8IDA7XG5cbiAgICAgICAgICAgICAgICByYWRpdXMgPSByYWRpdXMgPiBtYXhSYWRpdXMgPyBtYXhSYWRpdXMgOiByYWRpdXM7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhyeCwgcnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4LCByeSArIGhlaWdodCAtIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4LCByeSArIGhlaWdodCwgcnggKyByYWRpdXMsIHJ5ICsgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCArIHdpZHRoIC0gcmFkaXVzLCByeSArIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4ICsgd2lkdGgsIHJ5ICsgaGVpZ2h0LCByeCArIHdpZHRoLCByeSArIGhlaWdodCAtIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocnggKyB3aWR0aCwgcnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCArIHdpZHRoLCByeSwgcnggKyB3aWR0aCAtIHJhZGl1cywgcnkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4ICsgcmFkaXVzLCByeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4LCByeSwgcngsIHJ5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc3RvcmVzIHRoZSBjdXJyZW50IGRyYXdpbmcgY29udGV4dCB0byB0aGUgc3RhdGUgaXQgd2FzIGJlZm9yZSB0aGUgbWFzayB3YXMgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgY29udGV4dCB0byB1c2UuXG4gICAgICovXG5cblxuICAgIENhbnZhc01hc2tNYW5hZ2VyLnByb3RvdHlwZS5wb3BNYXNrID0gZnVuY3Rpb24gcG9wTWFzayhyZW5kZXJlcikge1xuICAgICAgICByZW5kZXJlci5jb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgcmVuZGVyZXIuaW52YWxpZGF0ZUJsZW5kTW9kZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGNhbnZhcyBtYXNrIG1hbmFnZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzTWFza01hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAvKiBlbXB0eSAqL1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzTWFza01hbmFnZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc01hc2tNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzTWFza01hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlcicpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uL21hdGgnKTtcblxudmFyIF9DYW52YXNUaW50ZXIgPSByZXF1aXJlKCcuL0NhbnZhc1RpbnRlcicpO1xuXG52YXIgX0NhbnZhc1RpbnRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNUaW50ZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgY2FudmFzUmVuZGVyV29ybGRUcmFuc2Zvcm0gPSBuZXcgX21hdGguTWF0cml4KCk7XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdCB0aGV5IG5vd1xuICogc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgQ2FudmFzU3ByaXRlUmVuZGVyZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL0NhbnZhc1Nwcml0ZVJlbmRlcmVyLmphdmFcbiAqL1xuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBkcmF3aW5nIGFuZCBiYXRjaGluZyBzcHJpdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIENhbnZhc1Nwcml0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtVGhlIHJlbmRlcmVyIHNwcml0ZSB0aGlzIGJhdGNoIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNTcHJpdGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzU3ByaXRlUmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gdGhlIHNwcml0ZSB0byByZW5kZXIgd2hlbiB1c2luZyB0aGlzIHNwcml0ZWJhdGNoXG4gICAgICovXG5cblxuICAgIENhbnZhc1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoc3ByaXRlKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIHZhciB3dCA9IHNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBkeCA9IDA7XG4gICAgICAgIHZhciBkeSA9IDA7XG5cbiAgICAgICAgaWYgKHRleHR1cmUub3JpZy53aWR0aCA8PSAwIHx8IHRleHR1cmUub3JpZy5oZWlnaHQgPD0gMCB8fCAhdGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZShzcHJpdGUuYmxlbmRNb2RlKTtcblxuICAgICAgICAvLyAgSWdub3JlIG51bGwgc291cmNlc1xuICAgICAgICBpZiAodGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC5nbG9iYWxBbHBoYSA9IHNwcml0ZS53b3JsZEFscGhhO1xuXG4gICAgICAgICAgICAvLyBJZiBzbW9vdGhpbmdFbmFibGVkIGlzIHN1cHBvcnRlZCBhbmQgd2UgbmVlZCB0byBjaGFuZ2UgdGhlIHNtb290aGluZyBwcm9wZXJ0eSBmb3Igc3ByaXRlIHRleHR1cmVcbiAgICAgICAgICAgIHZhciBzbW9vdGhpbmdFbmFibGVkID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5zY2FsZU1vZGUgPT09IF9jb25zdC5TQ0FMRV9NT0RFUy5MSU5FQVI7XG5cbiAgICAgICAgICAgIGlmIChyZW5kZXJlci5zbW9vdGhQcm9wZXJ0eSAmJiByZW5kZXJlci5jb250ZXh0W3JlbmRlcmVyLnNtb290aFByb3BlcnR5XSAhPT0gc21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHRbcmVuZGVyZXIuc21vb3RoUHJvcGVydHldID0gc21vb3RoaW5nRW5hYmxlZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRleHR1cmUudHJpbSkge1xuICAgICAgICAgICAgICAgIGR4ID0gdGV4dHVyZS50cmltLndpZHRoIC8gMiArIHRleHR1cmUudHJpbS54IC0gc3ByaXRlLmFuY2hvci54ICogdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICAgICAgICAgIGR5ID0gdGV4dHVyZS50cmltLmhlaWdodCAvIDIgKyB0ZXh0dXJlLnRyaW0ueSAtIHNwcml0ZS5hbmNob3IueSAqIHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGR4ID0gKDAuNSAtIHNwcml0ZS5hbmNob3IueCkgKiB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgICAgICAgICAgZHkgPSAoMC41IC0gc3ByaXRlLmFuY2hvci55KSAqIHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnJvdGF0ZSkge1xuICAgICAgICAgICAgICAgIHd0LmNvcHkoY2FudmFzUmVuZGVyV29ybGRUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIHd0ID0gY2FudmFzUmVuZGVyV29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgX21hdGguR3JvdXBEOC5tYXRyaXhBcHBlbmRSb3RhdGlvbkludih3dCwgdGV4dHVyZS5yb3RhdGUsIGR4LCBkeSk7XG4gICAgICAgICAgICAgICAgLy8gdGhlIGFuY2hvciBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgYWJvdmUsIHNvIGxldHMgc2V0IGl0IHRvIHplcm9cbiAgICAgICAgICAgICAgICBkeCA9IDA7XG4gICAgICAgICAgICAgICAgZHkgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkeCAtPSB3aWR0aCAvIDI7XG4gICAgICAgICAgICBkeSAtPSBoZWlnaHQgLyAyO1xuXG4gICAgICAgICAgICAvLyBBbGxvdyBmb3IgcGl4ZWwgcm91bmRpbmdcbiAgICAgICAgICAgIGlmIChyZW5kZXJlci5yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuc2V0VHJhbnNmb3JtKHd0LmEsIHd0LmIsIHd0LmMsIHd0LmQsIHd0LnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiB8IDAsIHd0LnR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiB8IDApO1xuXG4gICAgICAgICAgICAgICAgZHggPSBkeCB8IDA7XG4gICAgICAgICAgICAgICAgZHkgPSBkeSB8IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuc2V0VHJhbnNmb3JtKHd0LmEsIHd0LmIsIHd0LmMsIHd0LmQsIHd0LnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgd3QudHkgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG5cbiAgICAgICAgICAgIGlmIChzcHJpdGUudGludCAhPT0gMHhGRkZGRkYpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3ByaXRlLmNhY2hlZFRpbnQgIT09IHNwcml0ZS50aW50IHx8IHNwcml0ZS50aW50ZWRUZXh0dXJlLnRpbnRJZCAhPT0gc3ByaXRlLl90ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgICAgICAgICBzcHJpdGUuY2FjaGVkVGludCA9IHNwcml0ZS50aW50O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gY2xlYW4gdXAgY2FjaGluZyAtIGhvdyB0byBjbGVhbiB1cCB0aGUgY2FjaGVzP1xuICAgICAgICAgICAgICAgICAgICBzcHJpdGUudGludGVkVGV4dHVyZSA9IF9DYW52YXNUaW50ZXIyLmRlZmF1bHQuZ2V0VGludGVkVGV4dHVyZShzcHJpdGUsIHNwcml0ZS50aW50KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZW5kZXJlci5jb250ZXh0LmRyYXdJbWFnZShzcHJpdGUudGludGVkVGV4dHVyZSwgMCwgMCwgd2lkdGggKiByZXNvbHV0aW9uLCBoZWlnaHQgKiByZXNvbHV0aW9uLCBkeCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgd2lkdGggKiByZW5kZXJlci5yZXNvbHV0aW9uLCBoZWlnaHQgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIHRleHR1cmUuX2ZyYW1lLnggKiByZXNvbHV0aW9uLCB0ZXh0dXJlLl9mcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGggKiByZXNvbHV0aW9uLCBoZWlnaHQgKiByZXNvbHV0aW9uLCBkeCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgd2lkdGggKiByZW5kZXJlci5yZXNvbHV0aW9uLCBoZWlnaHQgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBkZXN0cm95IHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIENhbnZhc1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNTcHJpdGVSZW5kZXJlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzU3ByaXRlUmVuZGVyZXI7XG5cblxuX0NhbnZhc1JlbmRlcmVyMi5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKCdzcHJpdGUnLCBDYW52YXNTcHJpdGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNTcHJpdGVSZW5kZXJlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBJbnRlcm5hbCBjbGFzcyBmb3IgaGFuZGxpbmcgdGhlIHByaW9yaXR5IHNvcnRpbmcgb2YgdGlja2VyIGhhbmRsZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnRpY2tlclxuICovXG52YXIgVGlja2VyTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbnRleHQ9bnVsbF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9MF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb25jZT1mYWxzZV0gLSBJZiB0aGUgaGFuZGxlciBzaG91bGQgZmlyZSBvbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlja2VyTGlzdGVuZXIoZm4pIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG51bGw7XG4gICAgICAgIHZhciBwcmlvcml0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgdmFyIG9uY2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaWNrZXJMaXN0ZW5lcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIGV4ZWN1dGUuXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mbiA9IGZuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FsbGluZyB0byBleGVjdXRlLlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHByaW9yaXR5LlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoaXMgc2hvdWxkIG9ubHkgZXhlY3V0ZSBvbmNlLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbmNlID0gb25jZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5leHQgaXRlbSBpbiBjaGFpbi5cbiAgICAgICAgICogQG1lbWJlciB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcHJldmlvdXMgaXRlbSBpbiBjaGFpbi5cbiAgICAgICAgICogQG1lbWJlciB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoaXMgbGlzdGVuZXIgaGFzIGJlZW4gZGVzdHJveWVkIGFscmVhZHkuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaW1wbGUgY29tcGFyZSBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IGlmIGEgZnVuY3Rpb24gYW5kIGNvbnRleHQgbWF0Y2guXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnRleHQgLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgbGlzdGVuZXIgbWF0Y2ggdGhlIGFyZ3VtZW50c1xuICAgICAqL1xuXG5cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUubWF0Y2ggPSBmdW5jdGlvbiBtYXRjaChmbiwgY29udGV4dCkge1xuICAgICAgICBjb250ZXh0ID0gY29udGV4dCB8fCBudWxsO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmZuID09PSBmbiAmJiB0aGlzLmNvbnRleHQgPT09IGNvbnRleHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVtaXQgYnkgY2FsbGluZyB0aGUgY3VycmVudCBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gdGltZSBzaW5jZSB0aGUgbGFzdCBlbWl0LlxuICAgICAqIEByZXR1cm4ge1RpY2tlckxpc3RlbmVyfSBOZXh0IHRpY2tlclxuICAgICAqL1xuXG5cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZGVsdGFUaW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmZuKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbi5jYWxsKHRoaXMuY29udGV4dCwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbihkZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlZGlyZWN0ID0gdGhpcy5uZXh0O1xuXG4gICAgICAgIGlmICh0aGlzLm9uY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNvZnQtZGVzdHJveWluZyBzaG91bGQgcmVtb3ZlXG4gICAgICAgIC8vIHRoZSBuZXh0IHJlZmVyZW5jZVxuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlZGlyZWN0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRvIHRoZSBsaXN0LlxuICAgICAqIEBwYXJhbSB7VGlja2VyTGlzdGVuZXJ9IHByZXZpb3VzIC0gSW5wdXQgbm9kZSwgcHJldmlvdXMgbGlzdGVuZXJcbiAgICAgKi9cblxuXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiBjb25uZWN0KHByZXZpb3VzKSB7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBwcmV2aW91cztcbiAgICAgICAgaWYgKHByZXZpb3VzLm5leHQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzLm5leHQucHJldmlvdXMgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dCA9IHByZXZpb3VzLm5leHQ7XG4gICAgICAgIHByZXZpb3VzLm5leHQgPSB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoYXJkID0gZmFsc2VdIGB0cnVlYCB0byByZW1vdmUgdGhlIGBuZXh0YCByZWZlcmVuY2UsIHRoaXNcbiAgICAgKiAgICAgICAgaXMgY29uc2lkZXJlZCBhIGhhcmQgZGVzdHJveS4gU29mdCBkZXN0cm95IG1haW50YWlucyB0aGUgbmV4dCByZWZlcmVuY2UuXG4gICAgICogQHJldHVybiB7VGlja2VyTGlzdGVuZXJ9IFRoZSBsaXN0ZW5lciB0byByZWRpcmVjdCB3aGlsZSBlbWl0dGluZyBvciByZW1vdmluZy5cbiAgICAgKi9cblxuXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB2YXIgaGFyZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mbiA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG5cbiAgICAgICAgLy8gRGlzY29ubmVjdCwgaG9vayB1cCBuZXh0IGFuZCBwcmV2aW91c1xuICAgICAgICBpZiAodGhpcy5wcmV2aW91cykge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91cy5uZXh0ID0gdGhpcy5uZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubmV4dCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0LnByZXZpb3VzID0gdGhpcy5wcmV2aW91cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlZGlyZWN0IHRvIHRoZSBuZXh0IGl0ZW1cbiAgICAgICAgdmFyIHJlZGlyZWN0ID0gdGhpcy5wcmV2aW91cztcblxuICAgICAgICAvLyBSZW1vdmUgcmVmZXJlbmNlc1xuICAgICAgICB0aGlzLm5leHQgPSBoYXJkID8gbnVsbCA6IHJlZGlyZWN0O1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gcmVkaXJlY3Q7XG4gICAgfTtcblxuICAgIHJldHVybiBUaWNrZXJMaXN0ZW5lcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGlja2VyTGlzdGVuZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWNrZXJMaXN0ZW5lci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbnZhciBfVGlja2VyTGlzdGVuZXIgPSByZXF1aXJlKCcuL1RpY2tlckxpc3RlbmVyJyk7XG5cbnZhciBfVGlja2VyTGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGlja2VyTGlzdGVuZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEEgVGlja2VyIGNsYXNzIHRoYXQgcnVucyBhbiB1cGRhdGUgbG9vcCB0aGF0IG90aGVyIG9iamVjdHMgbGlzdGVuIHRvLlxuICogVGhpcyBjbGFzcyBpcyBjb21wb3NlZCBhcm91bmQgbGlzdGVuZXJzXG4gKiBtZWFudCBmb3IgZXhlY3V0aW9uIG9uIHRoZSBuZXh0IHJlcXVlc3RlZCBhbmltYXRpb24gZnJhbWUuXG4gKiBBbmltYXRpb24gZnJhbWVzIGFyZSByZXF1ZXN0ZWQgb25seSB3aGVuIG5lY2Vzc2FyeSxcbiAqIGUuZy4gV2hlbiB0aGUgdGlja2VyIGlzIHN0YXJ0ZWQgYW5kIHRoZSBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS50aWNrZXJcbiAqL1xudmFyIFRpY2tlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpY2tlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlja2VyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZpcnN0IGxpc3RlbmVyLiBBbGwgbmV3IGxpc3RlbmVycyBhZGRlZCBhcmUgY2hhaW5lZCBvbiB0aGlzLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWFkID0gbmV3IF9UaWNrZXJMaXN0ZW5lcjIuZGVmYXVsdChudWxsLCBudWxsLCBJbmZpbml0eSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGN1cnJlbnQgZnJhbWUgcmVxdWVzdCBJRFxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdmFsdWUgbWFuYWdlZCBieSBtaW5GUFMgcHJvcGVydHkgc2V0dGVyIGFuZCBnZXR0ZXIuXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIG1heGltdW0gYWxsb3dlZCBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMTAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIHRpY2tlciBzaG91bGQgaW52b2tlIHRoZSBtZXRob2RcbiAgICAgICAgICoge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNzdGFydH0gYXV0b21hdGljYWxseVxuICAgICAgICAgKiB3aGVuIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9TdGFydCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsYXIgdGltZSB2YWx1ZSBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI21pbkZQU31cbiAgICAgICAgICogYW5kIGlzIHNjYWxlZCB3aXRoIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjc3BlZWR9LlxuICAgICAgICAgKiAqKk5vdGU6KiogVGhlIGNhcCBtYXkgYmUgZXhjZWVkZWQgYnkgc2NhbGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbHRhVGltZSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbWUgZWxhcHNlZCBpbiBtaWxsaXNlY29uZHMgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIE9wcG9zZWQgdG8gd2hhdCB0aGUgc2NhbGFyIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjZGVsdGFUaW1lfVxuICAgICAgICAgKiBpcyBiYXNlZCwgdGhpcyB2YWx1ZSBpcyBuZWl0aGVyIGNhcHBlZCBub3Igc2NhbGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqIERlZmF1bHRzIHRvIHRhcmdldCBmcmFtZSB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTYuNjZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZWxhcHNlZE1TID0gMSAvIF9zZXR0aW5nczIuZGVmYXVsdC5UQVJHRVRfRlBNUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3QgdGltZSB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3VwZGF0ZX0gd2FzIGludm9rZWQuXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgYWxzbyByZXNldCBpbnRlcm5hbGx5IG91dHNpZGUgb2YgaW52b2tpbmdcbiAgICAgICAgICogdXBkYXRlLCBidXQgb25seSB3aGVuIGEgbmV3IGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWQuXG4gICAgICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGYWN0b3Igb2YgY3VycmVudCB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFNjYWxlcyB0aWNrZXIuZGVsdGFUaW1lIHRvIHdoYXQgd291bGQgYmVcbiAgICAgICAgICogLy8gdGhlIGVxdWl2YWxlbnQgb2YgYXBwcm94aW1hdGVseSAxMjAgRlBTXG4gICAgICAgICAqIHRpY2tlci5zcGVlZCA9IDI7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zcGVlZCA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQuXG4gICAgICAgICAqIGB0cnVlYCBpZiB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3N0YXJ0fSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICAgICAqIGBmYWxzZWAgaWYge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNzdG9wfSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICAgICAqIFdoaWxlIGBmYWxzZWAsIHRoaXMgdmFsdWUgbWF5IGNoYW5nZSB0byBgdHJ1ZWAgaW4gdGhlXG4gICAgICAgICAqIGV2ZW50IG9mIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjYXV0b1N0YXJ0fSBiZWluZyBgdHJ1ZWBcbiAgICAgICAgICogYW5kIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdGljayBtZXRob2QgYm91bmQgdG8gdGlja2VyIGluc3RhbmNlLlxuICAgICAgICAgKiBUaGlzIGlzIGJlY2F1c2UgaW4gZWFybHkgMjAxNSwgRnVuY3Rpb24uYmluZFxuICAgICAgICAgKiBpcyBzdGlsbCA2MCUgc2xvd2VyIGluIGhpZ2ggcGVyZm9ybWFuY2Ugc2NlbmFyaW9zLlxuICAgICAgICAgKiBBbHNvIHNlcGFyYXRpbmcgZnJhbWUgcmVxdWVzdHMgZnJvbSB1cGRhdGUgbWV0aG9kXG4gICAgICAgICAqIHNvIGxpc3RlbmVycyBtYXkgYmUgY2FsbGVkIGF0IGFueSB0aW1lIGFuZCB3aXRoXG4gICAgICAgICAqIGFueSBhbmltYXRpb24gQVBJLCBqdXN0IGludm9rZSB0aWNrZXIudXBkYXRlKHRpbWUpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSAtIFRpbWUgc2luY2UgbGFzdCB0aWNrLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGljayA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgICAgICBfdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKF90aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBJbnZva2UgbGlzdGVuZXJzIG5vd1xuICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZSh0aW1lKTtcbiAgICAgICAgICAgICAgICAvLyBMaXN0ZW5lciBzaWRlIGVmZmVjdHMgbWF5IGhhdmUgbW9kaWZpZWQgdGlja2VyIHN0YXRlLlxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGFydGVkICYmIF90aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgX3RoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLl90aWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgYSBmcmFtZSBoYXMgbm90IGFscmVhZHkgYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWxcbiAgICAgKiBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuX3JlcXVlc3RJZk5lZWRlZCA9IGZ1bmN0aW9uIF9yZXF1ZXN0SWZOZWVkZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2FsbGJhY2tzIGdldCBjb3JyZWN0IGRlbHRhXG4gICAgICAgICAgICB0aGlzLmxhc3RUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljayk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSBjYW5jZWxzIGEgcGVuZGluZyBhbmltYXRpb24gZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLl9jYW5jZWxJZk5lZWRlZCA9IGZ1bmN0aW9uIF9jYW5jZWxJZk5lZWRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RJZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVxdWVzdElkKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgdGhlIHRpY2tlciBoYXMgYmVlbiBzdGFydGVkIGl0IGNoZWNrcyBpZiBhIGZyYW1lIGhhcyBub3QgYWxyZWFkeVxuICAgICAqIGJlZW4gcmVxdWVzdGVkLCBhbmQgaWYgdGhlIGludGVybmFsIGVtaXR0ZXIgaGFzIGxpc3RlbmVycy4gSWYgdGhlc2VcbiAgICAgKiBjb25kaXRpb25zIGFyZSBtZXQsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC4gSWYgdGhlIHRpY2tlciBoYXMgbm90XG4gICAgICogYmVlbiBzdGFydGVkLCBidXQgYXV0b1N0YXJ0IGlzIGB0cnVlYCwgdGhlbiB0aGUgdGlja2VyIHN0YXJ0cyBub3csXG4gICAgICogYW5kIGNvbnRpbnVlcyB3aXRoIHRoZSBwcmV2aW91cyBjb25kaXRpb25zIHRvIHJlcXVlc3QgYSBuZXcgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLl9zdGFydElmUG9zc2libGUgPSBmdW5jdGlvbiBfc3RhcnRJZlBvc3NpYmxlKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmF1dG9TdGFydCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgaGFuZGxlciBmb3IgdGljayBldmVudHMuIENhbGxzIGNvbnRpbnVvdXNseSB1bmxlc3NcbiAgICAgKiBpdCBpcyByZW1vdmVkIG9yIHRoZSB0aWNrZXIgaXMgc3RvcHBlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciB1cGRhdGVzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PVBJWEkuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHJldHVybnMge1BJWEkudGlja2VyLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChmbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgcHJpb3JpdHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IF9jb25zdC5VUERBVEVfUFJJT1JJVFkuTk9STUFMO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRMaXN0ZW5lcihuZXcgX1RpY2tlckxpc3RlbmVyMi5kZWZhdWx0KGZuLCBjb250ZXh0LCBwcmlvcml0eSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBoYW5kbGVyIGZvciB0aGUgdGljayBldmVudCB3aGljaCBpcyBvbmx5IGV4ZWN1dGUgb25jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PVBJWEkuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHJldHVybnMge1BJWEkudGlja2VyLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLmFkZE9uY2UgPSBmdW5jdGlvbiBhZGRPbmNlKGZuLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBwcmlvcml0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogX2NvbnN0LlVQREFURV9QUklPUklUWS5OT1JNQUw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBfVGlja2VyTGlzdGVuZXIyLmRlZmF1bHQoZm4sIGNvbnRleHQsIHByaW9yaXR5LCB0cnVlKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsbHkgYWRkcyB0aGUgZXZlbnQgaGFuZGxlciBzbyB0aGF0IGl0IGNhbiBiZSBzb3J0ZWQgYnkgcHJpb3JpdHkuXG4gICAgICogUHJpb3JpdHkgYWxsb3dzIGNlcnRhaW4gaGFuZGxlciAodXNlciwgQW5pbWF0ZWRTcHJpdGUsIEludGVyYWN0aW9uKSB0byBiZSBydW5cbiAgICAgKiBiZWZvcmUgdGhlIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUaWNrZXJMaXN0ZW5lcn0gbGlzdGVuZXIgLSBDdXJyZW50IGxpc3RlbmVyIGJlaW5nIGFkZGVkLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLnRpY2tlci5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5fYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBfYWRkTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgLy8gRm9yIGF0dGFjaGluZyB0byBoZWFkXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5faGVhZC5uZXh0O1xuICAgICAgICB2YXIgcHJldmlvdXMgPSB0aGlzLl9oZWFkO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgZmlyc3QgaXRlbVxuICAgICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gR28gZnJvbSBoaWdoZXN0IHRvIGxvd2VzdCBwcmlvcml0eVxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIucHJpb3JpdHkgPiBjdXJyZW50LnByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldmlvdXMgPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vdCB5ZXQgY29ubmVjdGVkXG4gICAgICAgICAgICBpZiAoIWxpc3RlbmVyLnByZXZpb3VzKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdGFydElmUG9zc2libGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbnkgaGFuZGxlcnMgbWF0Y2hpbmcgdGhlIGZ1bmN0aW9uIGFuZCBjb250ZXh0IHBhcmFtZXRlcnMuXG4gICAgICogSWYgbm8gaGFuZGxlcnMgYXJlIGxlZnQgYWZ0ZXIgcmVtb3ZpbmcsIHRoZW4gaXQgY2FuY2VscyB0aGUgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgcmVtb3ZlZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0IHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcmV0dXJucyB7UElYSS50aWNrZXIuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKGZuLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcblxuICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIC8vIFdlIGZvdW5kIGEgbWF0Y2gsIGxldHMgcmVtb3ZlIGl0XG4gICAgICAgICAgICAvLyBubyBicmVhayB0byBkZWxldGUgYWxsIHBvc3NpYmxlIG1hdGNoZXNcbiAgICAgICAgICAgIC8vIGluY2FzZSBhIGxpc3RlbmVyIHdhcyBhZGRlZCAyKyB0aW1lc1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm1hdGNoKGZuLCBjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgbGlzdGVuZXJzXG4gICAgICogYSBuZXcgYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgcmVxdWVzdGVkXG4gICAgICogYW4gYW5pbWF0aW9uIGZyYW1lIGl0IGlzIGNhbmNlbGVkIGF0IHRoaXMgcG9pbnQuXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSB0aWNrZXIgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLiBDYWxsaW5nXG4gICAgICogdGhpcyBtZXRob2QgcmVtb3ZlcyBhbGwgcmVmZXJlbmNlcyB0byBpbnRlcm5hbCBldmVudHMuXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICAgIHZhciBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcblxuICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2hlYWQuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9oZWFkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgYW4gdXBkYXRlLiBBbiB1cGRhdGUgZW50YWlscyBzZXR0aW5nIHRoZVxuICAgICAqIGN1cnJlbnQge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNlbGFwc2VkTVN9LFxuICAgICAqIHRoZSBjdXJyZW50IHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjZGVsdGFUaW1lfSxcbiAgICAgKiBpbnZva2luZyBhbGwgbGlzdGVuZXJzIHdpdGggY3VycmVudCBkZWx0YVRpbWUsXG4gICAgICogYW5kIHRoZW4gZmluYWxseSBzZXR0aW5nIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjbGFzdFRpbWV9XG4gICAgICogd2l0aCB0aGUgdmFsdWUgb2YgY3VycmVudFRpbWUgdGhhdCB3YXMgcHJvdmlkZWQuXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBieSBhbmltYXRpb25cbiAgICAgKiBmcmFtZSBjYWxsYmFja3MgaWYgdGhlIHRpY2tlciBpbnN0YW5jZSBoYXMgYmVlbiBzdGFydGVkXG4gICAgICogYW5kIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2N1cnJlbnRUaW1lPXBlcmZvcm1hbmNlLm5vdygpXSAtIHRoZSBjdXJyZW50IHRpbWUgb2YgZXhlY3V0aW9uXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgICAgIHZhciBlbGFwc2VkTVMgPSB2b2lkIDA7XG5cbiAgICAgICAgLy8gSWYgdGhlIGRpZmZlcmVuY2UgaW4gdGltZSBpcyB6ZXJvIG9yIG5lZ2F0aXZlLCB3ZSBpZ25vcmUgbW9zdCBvZiB0aGUgd29yayBkb25lIGhlcmUuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHZhbGlkIGRpZmZlcmVuY2UsIHRoZW4gc2hvdWxkIGJlIG5vIHJlYXNvbiB0byBsZXQgYW55b25lIGtub3cgYWJvdXQgaXQuXG4gICAgICAgIC8vIEEgemVybyBkZWx0YSwgaXMgZXhhY3RseSB0aGF0LCBub3RoaW5nIHNob3VsZCB1cGRhdGUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBkaWZmZXJlbmNlIGluIHRpbWUgY2FuIGJlIG5lZ2F0aXZlLCBhbmQgbm8gdGhpcyBkb2VzIG5vdCBtZWFuIHRpbWUgdHJhdmVsaW5nLlxuICAgICAgICAvLyBUaGlzIGNhbiBiZSB0aGUgcmVzdWx0IG9mIGEgcmFjZSBjb25kaXRpb24gYmV0d2VlbiB3aGVuIGFuIGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWRcbiAgICAgICAgLy8gb24gdGhlIGN1cnJlbnQgSmF2YVNjcmlwdCBlbmdpbmUgZXZlbnQgbG9vcCwgYW5kIHdoZW4gdGhlIHRpY2tlcidzIHN0YXJ0IG1ldGhvZCBpcyBpbnZva2VkXG4gICAgICAgIC8vICh3aGljaCBpbnZva2VzIHRoZSBpbnRlcm5hbCBfcmVxdWVzdElmTmVlZGVkIG1ldGhvZCkuIElmIGEgZnJhbWUgaXMgcmVxdWVzdGVkIGJlZm9yZVxuICAgICAgICAvLyBfcmVxdWVzdElmTmVlZGVkIGlzIGludm9rZWQsIHRoZW4gdGhlIGNhbGxiYWNrIGZvciB0aGUgYW5pbWF0aW9uIGZyYW1lIHRoZSB0aWNrZXIgcmVxdWVzdHMsXG4gICAgICAgIC8vIGNhbiByZWNlaXZlIGEgdGltZSBhcmd1bWVudCB0aGF0IGNhbiBiZSBsZXNzIHRoYW4gdGhlIGxhc3RUaW1lIHZhbHVlIHRoYXQgd2FzIHNldCB3aXRoaW5cbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZC4gVGhpcyBkaWZmZXJlbmNlIGlzIGluIG1pY3Jvc2Vjb25kcywgYnV0IHRoaXMgaXMgZW5vdWdoIHRvIGNhdXNlIHByb2JsZW1zLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGNoZWNrIGNvdmVycyB0aGlzIGJyb3dzZXIgZW5naW5lIHRpbWluZyBpc3N1ZSwgYXMgd2VsbCBhcyBpZiBjb25zdW1lcnMgcGFzcyBhbiBpbnZhbGlkXG4gICAgICAgIC8vIGN1cnJlbnRUaW1lIHZhbHVlLiBUaGlzIG1heSBoYXBwZW4gaWYgY29uc3VtZXJzIG9wdC1vdXQgb2YgdGhlIGF1dG9TdGFydCwgYW5kIHVwZGF0ZSB0aGVtc2VsdmVzLlxuXG4gICAgICAgIGlmIChjdXJyZW50VGltZSA+IHRoaXMubGFzdFRpbWUpIHtcbiAgICAgICAgICAgIC8vIFNhdmUgdW5jYXBwZWQgZWxhcHNlZE1TIGZvciBtZWFzdXJlbWVudFxuICAgICAgICAgICAgZWxhcHNlZE1TID0gdGhpcy5lbGFwc2VkTVMgPSBjdXJyZW50VGltZSAtIHRoaXMubGFzdFRpbWU7XG5cbiAgICAgICAgICAgIC8vIGNhcCB0aGUgbWlsbGlzZWNvbmRzIGVsYXBzZWQgdXNlZCBmb3IgZGVsdGFUaW1lXG4gICAgICAgICAgICBpZiAoZWxhcHNlZE1TID4gdGhpcy5fbWF4RWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgZWxhcHNlZE1TID0gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IGVsYXBzZWRNUyAqIF9zZXR0aW5nczIuZGVmYXVsdC5UQVJHRVRfRlBNUyAqIHRoaXMuc3BlZWQ7XG5cbiAgICAgICAgICAgIC8vIENhY2hlIGEgbG9jYWwgcmVmZXJlbmNlLCBpbi1jYXNlIHRpY2tlciBpcyBkZXN0cm95ZWRcbiAgICAgICAgICAgIC8vIGR1cmluZyB0aGUgZW1pdCwgd2UgY2FuIHN0aWxsIGNoZWNrIGZvciBoZWFkLm5leHRcbiAgICAgICAgICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcblxuICAgICAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBhZGRlZCB0byBpbnRlcm5hbCBlbWl0dGVyXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBoZWFkLm5leHQ7XG5cbiAgICAgICAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZW1pdCh0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVsdGFUaW1lID0gdGhpcy5lbGFwc2VkTVMgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWVzIHBlciBzZWNvbmQgYXQgd2hpY2ggdGhpcyB0aWNrZXIgaXMgcnVubmluZy5cbiAgICAgKiBUaGUgZGVmYXVsdCBpcyBhcHByb3hpbWF0ZWx5IDYwIGluIG1vc3QgbW9kZXJuIGJyb3dzZXJzLlxuICAgICAqICoqTm90ZToqKiBUaGlzIGRvZXMgbm90IGZhY3RvciBpbiB0aGUgdmFsdWUgb2ZcbiAgICAgKiB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3NwZWVkfSwgd2hpY2ggaXMgc3BlY2lmaWNcbiAgICAgKiB0byBzY2FsaW5nIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjZGVsdGFUaW1lfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFRpY2tlciwgW3tcbiAgICAgICAga2V5OiAnRlBTJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMuZWxhcHNlZE1TO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyBhbGxvd2VkIHRvXG4gICAgICAgICAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjdXBkYXRlfS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyB1c2VkIHRvIGNhcCB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2RlbHRhVGltZX0sXG4gICAgICAgICAqIGJ1dCBkb2VzIG5vdCBlZmZlY3QgdGhlIG1lYXN1cmVkIHZhbHVlIG9mIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjRlBTfS5cbiAgICAgICAgICogV2hlbiBzZXR0aW5nIHRoaXMgcHJvcGVydHkgaXQgaXMgY2xhbXBlZCB0byBhIHZhbHVlIGJldHdlZW5cbiAgICAgICAgICogYDBgIGFuZCBgUElYSS5zZXR0aW5ncy5UQVJHRVRfRlBNUyAqIDEwMDBgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdtaW5GUFMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmcHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICAvLyBDbGFtcDogMCB0byBUQVJHRVRfRlBNU1xuICAgICAgICAgICAgdmFyIG1pbkZQTVMgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBmcHMpIC8gMTAwMCwgX3NldHRpbmdzMi5kZWZhdWx0LlRBUkdFVF9GUE1TKTtcblxuICAgICAgICAgICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMSAvIG1pbkZQTVM7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGlja2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUaWNrZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWNrZXIuanMubWFwIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG1hcChvYmplY3RLZXlzKG9iaiksIGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBtYXAob2JqW2tdLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5mdW5jdGlvbiBtYXAgKHhzLCBmKSB7XG4gIGlmICh4cy5tYXApIHJldHVybiB4cy5tYXAoZik7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgIHJlcy5wdXNoKGYoeHNbaV0sIGkpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHJlcy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBJZiBvYmouaGFzT3duUHJvcGVydHkgaGFzIGJlZW4gb3ZlcnJpZGRlbiwgdGhlbiBjYWxsaW5nXG4vLyBvYmouaGFzT3duUHJvcGVydHkocHJvcCkgd2lsbCBicmVhay5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2lzc3Vlcy8xNzA3XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICB2YXIgb2JqID0ge307XG5cbiAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZWdleHAgPSAvXFwrL2c7XG4gIHFzID0gcXMuc3BsaXQoc2VwKTtcblxuICB2YXIgbWF4S2V5cyA9IDEwMDA7XG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7XG4gICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cztcbiAgfVxuXG4gIHZhciBsZW4gPSBxcy5sZW5ndGg7XG4gIC8vIG1heEtleXMgPD0gMCBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbGltaXQga2V5cyBjb3VudFxuICBpZiAobWF4S2V5cyA+IDAgJiYgbGVuID4gbWF4S2V5cykge1xuICAgIGxlbiA9IG1heEtleXM7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLFxuICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLFxuICAgICAgICBrc3RyLCB2c3RyLCBrLCB2O1xuXG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTtcbiAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAga3N0ciA9IHg7XG4gICAgICB2c3RyID0gJyc7XG4gICAgfVxuXG4gICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChrc3RyKTtcbiAgICB2ID0gZGVjb2RlVVJJQ29tcG9uZW50KHZzdHIpO1xuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBvYmpba10gPSB2O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICBvYmpba10ucHVzaCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLmRlY29kZSA9IGV4cG9ydHMucGFyc2UgPSByZXF1aXJlKCcuL2RlY29kZScpO1xuZXhwb3J0cy5lbmNvZGUgPSBleHBvcnRzLnN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vZW5jb2RlJyk7XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc1N0cmluZzogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnc3RyaW5nJztcbiAgfSxcbiAgaXNPYmplY3Q6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xuICB9LFxuICBpc051bGw6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbE9yVW5kZWZpbmVkOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09IG51bGw7XG4gIH1cbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCIvKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMSBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqL1xuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmXG5cdFx0IWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdCFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXHR2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuXHRpZiAoXG5cdFx0ZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbFxuXHQpIHtcblx0XHRyb290ID0gZnJlZUdsb2JhbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuXG5cdCAqIEBuYW1lIHB1bnljb2RlXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKi9cblx0dmFyIHB1bnljb2RlLFxuXG5cdC8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi9cblx0bWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG5cdC8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi9cblx0YmFzZSA9IDM2LFxuXHR0TWluID0gMSxcblx0dE1heCA9IDI2LFxuXHRza2V3ID0gMzgsXG5cdGRhbXAgPSA3MDAsXG5cdGluaXRpYWxCaWFzID0gNzIsXG5cdGluaXRpYWxOID0gMTI4LCAvLyAweDgwXG5cdGRlbGltaXRlciA9ICctJywgLy8gJ1xceDJEJ1xuXG5cdC8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG5cdHJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLFxuXHRyZWdleE5vbkFTQ0lJID0gL1teXFx4MjAtXFx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnNcblx0cmVnZXhTZXBhcmF0b3JzID0gL1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xuXG5cdC8qKiBFcnJvciBtZXNzYWdlcyAqL1xuXHRlcnJvcnMgPSB7XG5cdFx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0XHQnbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLFxuXHRcdCdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnXG5cdH0sXG5cblx0LyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqL1xuXHRiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sXG5cdGZsb29yID0gTWF0aC5mbG9vcixcblx0c3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcblxuXHQvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovXG5cdGtleTtcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBlcnJvcih0eXBlKSB7XG5cdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG5cdCAqIGl0ZW0uXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHR3aGlsZSAobGVuZ3RoLS0pIHtcblx0XHRcdHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsXG5cdCAqIGFkZHJlc3Nlcy5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5XG5cdCAqIGNoYXJhY3Rlci5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2tcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikge1xuXHRcdHZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpO1xuXHRcdHZhciByZXN1bHQgPSAnJztcblx0XHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdFx0Ly8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZVxuXHRcdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRcdHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnO1xuXHRcdFx0c3RyaW5nID0gcGFydHNbMV07XG5cdFx0fVxuXHRcdC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy5cblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdcXHgyRScpO1xuXHRcdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0XHR2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7XG5cdFx0cmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuXHQgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG5cdCAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoXG5cdCAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuXHQgKiBtYXRjaGluZyBVVEYtMTYuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYFxuXHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZGVjb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBjb3VudGVyID0gMCxcblx0XHQgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGV4dHJhO1xuXHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuXHRcdFx0XHRcdC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRjb3VudGVyLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBlbmNvZGVcblx0ICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkge1xuXHRcdHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0XHRpZiAodmFsdWUgPiAweEZGRkYpIHtcblx0XHRcdFx0dmFsdWUgLT0gMHgxMDAwMDtcblx0XHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7XG5cdFx0XHRcdHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcblx0XHRcdH1cblx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpO1xuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuXG5cdCAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmXG5cdCAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkge1xuXHRcdGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gMjI7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gNjU7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gOTc7XG5cdFx0fVxuXHRcdHJldHVybiBiYXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG5cdCAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpc1xuXHQgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZFxuXHQgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdFx0Ly8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcblx0XHQvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjlcblx0XHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG5cdCAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjQuMScsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiZcblx0XHR0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJlxuXHRcdGRlZmluZS5hbWRcblx0KSB7XG5cdFx0ZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHtcblx0XHRcdC8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0Zm9yIChrZXkgaW4gcHVueWNvZGUpIHtcblx0XHRcdFx0cHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHQvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXM7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG4vKipcbiAqIENvcnJlY3RzIFBpeGlKUyBibGVuZCwgdGFrZXMgcHJlbXVsdGlwbGllZCBhbHBoYSBpbnRvIGFjY291bnRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheTxudW1iZXJbXT59IFthcnJheV0gLSBUaGUgYXJyYXkgdG8gb3V0cHV0IGludG8uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXJbXT59IE1hcHBlZCBtb2Rlcy5cbiAqL1xuXG5mdW5jdGlvbiBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcygpIHtcbiAgICB2YXIgcG0gPSBbXTtcbiAgICB2YXIgbnBtID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDMyOyBpKyspIHtcbiAgICAgICAgcG1baV0gPSBpO1xuICAgICAgICBucG1baV0gPSBpO1xuICAgIH1cblxuICAgIHBtW19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IF9jb25zdC5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgcG1bX2NvbnN0LkJMRU5EX01PREVTLkFERF9OUE1dID0gX2NvbnN0LkJMRU5EX01PREVTLkFERDtcbiAgICBwbVtfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOO1xuXG4gICAgbnBtW19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxdID0gX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF9OUE07XG4gICAgbnBtW19jb25zdC5CTEVORF9NT0RFUy5BRERdID0gX2NvbnN0LkJMRU5EX01PREVTLkFERF9OUE07XG4gICAgbnBtW19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5dID0gX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl9OUE07XG5cbiAgICB2YXIgYXJyYXkgPSBbXTtcblxuICAgIGFycmF5LnB1c2gobnBtKTtcbiAgICBhcnJheS5wdXNoKHBtKTtcblxuICAgIHJldHVybiBhcnJheTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzLmpzLm1hcCIsIid1c2Ugc3RyaWN0J1xuXG4vKipcbiAqIFJlbW92ZSBhIHJhbmdlIG9mIGl0ZW1zIGZyb20gYW4gYXJyYXlcbiAqXG4gKiBAZnVuY3Rpb24gcmVtb3ZlSXRlbXNcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgdGFyZ2V0IGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJZHggVGhlIGluZGV4IHRvIGJlZ2luIHJlbW92aW5nIGZyb20gKGluY2x1c2l2ZSlcbiAqIEBwYXJhbSB7bnVtYmVyfSByZW1vdmVDb3VudCBIb3cgbWFueSBpdGVtcyB0byByZW1vdmVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZW1vdmVJdGVtcyhhcnIsIHN0YXJ0SWR4LCByZW1vdmVDb3VudClcbntcbiAgdmFyIGksIGxlbmd0aCA9IGFyci5sZW5ndGhcblxuICBpZiAoc3RhcnRJZHggPj0gbGVuZ3RoIHx8IHJlbW92ZUNvdW50ID09PSAwKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICByZW1vdmVDb3VudCA9IChzdGFydElkeCArIHJlbW92ZUNvdW50ID4gbGVuZ3RoID8gbGVuZ3RoIC0gc3RhcnRJZHggOiByZW1vdmVDb3VudClcblxuICB2YXIgbGVuID0gbGVuZ3RoIC0gcmVtb3ZlQ291bnRcblxuICBmb3IgKGkgPSBzdGFydElkeDsgaSA8IGxlbjsgKytpKSB7XG4gICAgYXJyW2ldID0gYXJyW2kgKyByZW1vdmVDb3VudF1cbiAgfVxuXG4gIGFyci5sZW5ndGggPSBsZW5cbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5taXhpbiA9IG1peGluO1xuZXhwb3J0cy5kZWxheU1peGluID0gZGVsYXlNaXhpbjtcbmV4cG9ydHMucGVyZm9ybU1peGlucyA9IHBlcmZvcm1NaXhpbnM7XG4vKipcbiAqIE1peGVzIGFsbCBlbnVtZXJhYmxlIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZnJvbSBhIHNvdXJjZSBvYmplY3QgdG8gYSB0YXJnZXQgb2JqZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICogQGZ1bmN0aW9uIG1peGluXG4gKiBAcGFyYW0ge29iamVjdH0gdGFyZ2V0IFRoZSBwcm90b3R5cGUgb3IgaW5zdGFuY2UgdGhhdCBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHNob3VsZCBiZSBhZGRlZCB0by5cbiAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvZiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHRvIG1peCBpbi5cbiAqL1xuZnVuY3Rpb24gbWl4aW4odGFyZ2V0LCBzb3VyY2UpIHtcbiAgICBpZiAoIXRhcmdldCB8fCAhc291cmNlKSByZXR1cm47XG4gICAgLy8gaW4gRVM4L0VTMjAxNywgdGhpcyB3b3VsZCBiZSByZWFsbHkgZWFzeTpcbiAgICAvLyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuXG4gICAgLy8gZ2V0IGFsbCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBrZXlzXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgLy8gbG9vcCB0aHJvdWdoIHByb3BlcnRpZXNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IGtleXNbaV07XG5cbiAgICAgICAgLy8gU2V0IHRoZSBwcm9wZXJ0eSB1c2luZyB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciAtIHRoaXMgd29ya3MgZm9yIGFjY2Vzc29ycyBhbmQgbm9ybWFsIHZhbHVlIHByb3BlcnRpZXNcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlOYW1lLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcHJvcGVydHlOYW1lKSk7XG4gICAgfVxufVxuXG52YXIgbWl4aW5zID0gW107XG5cbi8qKlxuICogUXVldWVzIGEgbWl4aW4gdG8gYmUgaGFuZGxlZCB0b3dhcmRzIHRoZSBlbmQgb2YgdGhlIGluaXRpYWxpemF0aW9uIG9mIFBJWEksIHNvIHRoYXQgZGVwcmVjYXRpb25cbiAqIGNhbiB0YWtlIGVmZmVjdC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5taXhpbnNcbiAqIEBmdW5jdGlvbiBkZWxheU1peGluXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtvYmplY3R9IHRhcmdldCBUaGUgcHJvdG90eXBlIG9yIGluc3RhbmNlIHRoYXQgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBzaG91bGQgYmUgYWRkZWQgdG8uXG4gKiBAcGFyYW0ge29iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2YgcHJvcGVydGllcyBhbmQgbWV0aG9kcyB0byBtaXggaW4uXG4gKi9cbmZ1bmN0aW9uIGRlbGF5TWl4aW4odGFyZ2V0LCBzb3VyY2UpIHtcbiAgICBtaXhpbnMucHVzaCh0YXJnZXQsIHNvdXJjZSk7XG59XG5cbi8qKlxuICogSGFuZGxlcyBhbGwgbWl4aW5zIHF1ZXVlZCB2aWEgZGVsYXlNaXhpbigpLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICogQGZ1bmN0aW9uIHBlcmZvcm1NaXhpbnNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHBlcmZvcm1NaXhpbnMoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaXhpbnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgbWl4aW4obWl4aW5zW2ldLCBtaXhpbnNbaSArIDFdKTtcbiAgICB9XG4gICAgbWl4aW5zLmxlbmd0aCA9IDA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhpbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbi8qKlxuICogTWl4aW5zIGZ1bmN0aW9uYWxpdHkgdG8gbWFrZSBhbiBvYmplY3QgaGF2ZSBcInBsdWdpbnNcIi5cbiAqXG4gKiBAZXhhbXBsZVxuICogICAgICBmdW5jdGlvbiBNeU9iamVjdCgpIHt9XG4gKlxuICogICAgICBwbHVnaW5UYXJnZXQubWl4aW4oTXlPYmplY3QpO1xuICpcbiAqIEBtaXhpblxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSBUaGUgb2JqZWN0IHRvIG1peCBpbnRvLlxuICovXG5mdW5jdGlvbiBwbHVnaW5UYXJnZXQob2JqKSB7XG4gICAgb2JqLl9fcGx1Z2lucyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHBsdWdpbiB0byBhbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbHVnaW5OYW1lIC0gVGhlIGV2ZW50cyB0aGF0IHNob3VsZCBiZSBsaXN0ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3RvciAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgdGhlIHBsdWdpbi5cbiAgICAgKi9cbiAgICBvYmoucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiByZWdpc3RlclBsdWdpbihwbHVnaW5OYW1lLCBjdG9yKSB7XG4gICAgICAgIG9iai5fX3BsdWdpbnNbcGx1Z2luTmFtZV0gPSBjdG9yO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZXMgYWxsIHRoZSBwbHVnaW5zIG9mIHRoaXMgb2JqZWN0XG4gICAgICpcbiAgICAgKi9cbiAgICBvYmoucHJvdG90eXBlLmluaXRQbHVnaW5zID0gZnVuY3Rpb24gaW5pdFBsdWdpbnMoKSB7XG4gICAgICAgIHRoaXMucGx1Z2lucyA9IHRoaXMucGx1Z2lucyB8fCB7fTtcblxuICAgICAgICBmb3IgKHZhciBvIGluIG9iai5fX3BsdWdpbnMpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXSA9IG5ldyBvYmouX19wbHVnaW5zW29dKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSBwbHVnaW5zIG9mIHRoaXMgb2JqZWN0XG4gICAgICpcbiAgICAgKi9cbiAgICBvYmoucHJvdG90eXBlLmRlc3Ryb3lQbHVnaW5zID0gZnVuY3Rpb24gZGVzdHJveVBsdWdpbnMoKSB7XG4gICAgICAgIGZvciAodmFyIG8gaW4gdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGx1Z2lucyA9IG51bGw7XG4gICAgfTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICAgIC8qKlxuICAgICAqIE1peGVzIGluIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBwbHVnaW5UYXJnZXQgaW50byBhbm90aGVyIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIFRoZSBvYmogdG8gbWl4IGludG9cbiAgICAgKi9cbiAgICBtaXhpbjogZnVuY3Rpb24gbWl4aW4ob2JqKSB7XG4gICAgICAgIHBsdWdpblRhcmdldChvYmopO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbHVnaW5UYXJnZXQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBjYW5VcGxvYWRTYW1lQnVmZmVyO1xuZnVuY3Rpb24gY2FuVXBsb2FkU2FtZUJ1ZmZlcigpIHtcblx0Ly8gVXBsb2FkaW5nIHRoZSBzYW1lIGJ1ZmZlciBtdWx0aXBsZSB0aW1lcyBpbiBhIHNpbmdsZSBmcmFtZSBjYW4gY2F1c2UgcGVyZiBpc3N1ZXMuXG5cdC8vIEFwcGFyZW50IG9uIElPUyBzbyBvbmx5IGNoZWNrIGZvciB0aGF0IGF0IHRoZSBtb21lbnRcblx0Ly8gdGhpcyBjaGVjayBtYXkgYmVjb21lIG1vcmUgY29tcGxleCBpZiB0aGlzIGlzc3VlIHBvcHMgdXAgZWxzZXdoZXJlLlxuXHR2YXIgaW9zID0gISFuYXZpZ2F0b3IucGxhdGZvcm0gJiYgL2lQYWR8aVBob25lfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtcblxuXHRyZXR1cm4gIWlvcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhblVwbG9hZFNhbWVCdWZmZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbWF4UmVjb21tZW5kZWRUZXh0dXJlcztcblxudmFyIF9pc21vYmlsZWpzID0gcmVxdWlyZSgnaXNtb2JpbGVqcycpO1xuXG52YXIgX2lzbW9iaWxlanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNtb2JpbGVqcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIG1heFJlY29tbWVuZGVkVGV4dHVyZXMobWF4KSB7XG4gICAgaWYgKF9pc21vYmlsZWpzMi5kZWZhdWx0LnRhYmxldCB8fCBfaXNtb2JpbGVqczIuZGVmYXVsdC5waG9uZSkge1xuICAgICAgICAvLyBjaGVjayBpZiB0aGUgcmVzIGlzIGlwaG9uZSA2IG9yIGhpZ2hlci4uXG4gICAgICAgIHJldHVybiA0O1xuICAgIH1cblxuICAgIC8vIGRlc2t0b3Agc2hvdWxkIGJlIG9rXG4gICAgcmV0dXJuIG1heDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1heFJlY29tbWVuZGVkVGV4dHVyZXMuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY29tcGlsZVByb2dyYW06IHJlcXVpcmUoJy4vY29tcGlsZVByb2dyYW0nKSxcbiAgICBkZWZhdWx0VmFsdWU6IHJlcXVpcmUoJy4vZGVmYXVsdFZhbHVlJyksXG4gICAgZXh0cmFjdEF0dHJpYnV0ZXM6IHJlcXVpcmUoJy4vZXh0cmFjdEF0dHJpYnV0ZXMnKSxcbiAgICBleHRyYWN0VW5pZm9ybXM6IHJlcXVpcmUoJy4vZXh0cmFjdFVuaWZvcm1zJyksXG4gICAgZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0OiByZXF1aXJlKCcuL2dlbmVyYXRlVW5pZm9ybUFjY2Vzc09iamVjdCcpLFxuICAgIHNldFByZWNpc2lvbjogcmVxdWlyZSgnLi9zZXRQcmVjaXNpb24nKSxcbiAgICBtYXBTaXplOiByZXF1aXJlKCcuL21hcFNpemUnKSxcbiAgICBtYXBUeXBlOiByZXF1aXJlKCcuL21hcFR5cGUnKVxufTsiLCJcbi8vIHN0YXRlIG9iamVjdC8vXG52YXIgc2V0VmVydGV4QXR0cmliQXJyYXlzID0gcmVxdWlyZSggJy4vc2V0VmVydGV4QXR0cmliQXJyYXlzJyApO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byB3b3JrIHdpdGggV2ViR0wgVmVydGV4QXJyYXlPYmplY3RzICh2YW9zKVxuICogT25seSB3b3JrcyBpZiBXZWJHTCBleHRlbnNpb25zIGFyZSBlbmFibGVkICh0aGV5IHVzdWFsbHkgYXJlKVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gVmVydGV4QXJyYXlPYmplY3QoZ2wsIHN0YXRlKVxue1xuICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uID0gbnVsbDtcblxuICAgIGlmKCFWZXJ0ZXhBcnJheU9iamVjdC5GT1JDRV9OQVRJVkUpXG4gICAge1xuICAgICAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbiA9IGdsLmdldEV4dGVuc2lvbignT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignTU9aX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpO1xuICAgIH1cblxuICAgIHRoaXMubmF0aXZlU3RhdGUgPSBzdGF0ZTtcblxuICAgIGlmKHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYXRpdmVWYW8gPSB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpO1xuXG4gICAgICAgIHZhciBtYXhBdHRyaWJzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9WRVJURVhfQVRUUklCUyk7XG5cbiAgICAgICAgLy8gVkFPIC0gb3ZlcndyaXRlIHRoZSBzdGF0ZS4uXG4gICAgICAgIHRoaXMubmF0aXZlU3RhdGUgPSB7XG4gICAgICAgICAgICB0ZW1wQXR0cmliU3RhdGU6IG5ldyBBcnJheShtYXhBdHRyaWJzKSxcbiAgICAgICAgICAgIGF0dHJpYlN0YXRlOiBuZXcgQXJyYXkobWF4QXR0cmlicylcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAqL1xuICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGF0dHJpYnV0ZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMuYXR0cmlidXRlcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7UElYSS5nbENvcmUuR0xCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBIGJvb2xlYW4gZmxhZ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG59XG5cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFZlcnRleEFycmF5T2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBWZXJ0ZXhBcnJheU9iamVjdDtcblxuLyoqXG4qIFNvbWUgZGV2aWNlcyBiZWhhdmUgYSBiaXQgZnVubnkgd2hlbiB1c2luZyB0aGUgbmV3ZXIgZXh0ZW5zaW9ucyAoaW0gbG9va2luZyBhdCB5b3UgaXBhZCAyISlcbiogSWYgeW91IGZpbmQgb24gb2xkZXIgZGV2aWNlcyB0aGF0IHRoaW5ncyBoYXZlIGdvbmUgYSBiaXQgd2VpcmQgdGhlbiBzZXQgdGhpcyB0byB0cnVlLlxuKi9cbi8qKlxuICogTGV0cyB0aGUgVkFPIGtub3cgaWYgeW91IHNob3VsZCB1c2UgdGhlIFdlYkdMIGV4dGVuc2lvbiBvciB0aGUgbmF0aXZlIG1ldGhvZHMuXG4gKiBTb21lIGRldmljZXMgYmVoYXZlIGEgYml0IGZ1bm55IHdoZW4gdXNpbmcgdGhlIG5ld2VyIGV4dGVuc2lvbnMgKGltIGxvb2tpbmcgYXQgeW91IGlwYWQgMiEpXG4gKiBJZiB5b3UgZmluZCBvbiBvbGRlciBkZXZpY2VzIHRoYXQgdGhpbmdzIGhhdmUgZ29uZSBhIGJpdCB3ZWlyZCB0aGVuIHNldCB0aGlzIHRvIHRydWUuXG4gKiBAc3RhdGljXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IEZPUkNFX05BVElWRVxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5GT1JDRV9OQVRJVkUgPSBmYWxzZTtcblxuLyoqXG4gKiBCaW5kcyB0aGUgYnVmZmVyXG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24oKVxue1xuICAgIGlmKHRoaXMubmF0aXZlVmFvKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24uYmluZFZlcnRleEFycmF5T0VTKHRoaXMubmF0aXZlVmFvKTtcblxuICAgICAgICBpZih0aGlzLmRpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBVbmJpbmRzIHRoZSBidWZmZXJcbiAqL1xuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uKClcbntcbiAgICBpZih0aGlzLm5hdGl2ZVZhbylcbiAgICB7XG4gICAgICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmJpbmRWZXJ0ZXhBcnJheU9FUyhudWxsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogVXNlcyB0aGlzIHZhb1xuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbigpXG57XG5cbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgIHZhciBsYXN0QnVmZmVyID0gbnVsbDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIGF0dHJpYiA9IHRoaXMuYXR0cmlidXRlc1tpXTtcblxuICAgICAgICBpZihsYXN0QnVmZmVyICE9PSBhdHRyaWIuYnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWIuYnVmZmVyLmJpbmQoKTtcbiAgICAgICAgICAgIGxhc3RCdWZmZXIgPSBhdHRyaWIuYnVmZmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihhdHRyaWIuYXR0cmlidXRlLmxvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYi5hdHRyaWJ1dGUuc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWIudHlwZSB8fCBnbC5GTE9BVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWIubm9ybWFsaXplZCB8fCBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWIuc3RyaWRlIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmliLnN0YXJ0IHx8IDApO1xuICAgIH1cblxuICAgIHNldFZlcnRleEF0dHJpYkFycmF5cyhnbCwgdGhpcy5hdHRyaWJ1dGVzLCB0aGlzLm5hdGl2ZVN0YXRlKTtcblxuICAgIGlmKHRoaXMuaW5kZXhCdWZmZXIpXG4gICAge1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmJpbmQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBidWZmZXIgICAgIHtQSVhJLmdsLkdMQnVmZmVyfVxuICogQHBhcmFtIGF0dHJpYnV0ZSAgeyp9XG4gKiBAcGFyYW0gdHlwZSAgICAgICB7U3RyaW5nfVxuICogQHBhcmFtIG5vcm1hbGl6ZWQge0Jvb2xlYW59XG4gKiBAcGFyYW0gc3RyaWRlICAgICB7TnVtYmVyfVxuICogQHBhcmFtIHN0YXJ0ICAgICAge051bWJlcn1cbiAqL1xuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmFkZEF0dHJpYnV0ZSA9IGZ1bmN0aW9uKGJ1ZmZlciwgYXR0cmlidXRlLCB0eXBlLCBub3JtYWxpemVkLCBzdHJpZGUsIHN0YXJ0KVxue1xuICAgIHRoaXMuYXR0cmlidXRlcy5wdXNoKHtcbiAgICAgICAgYnVmZmVyOiAgICAgYnVmZmVyLFxuICAgICAgICBhdHRyaWJ1dGU6ICBhdHRyaWJ1dGUsXG5cbiAgICAgICAgbG9jYXRpb246ICAgYXR0cmlidXRlLmxvY2F0aW9uLFxuICAgICAgICB0eXBlOiAgICAgICB0eXBlIHx8IHRoaXMuZ2wuRkxPQVQsXG4gICAgICAgIG5vcm1hbGl6ZWQ6IG5vcm1hbGl6ZWQgfHwgZmFsc2UsXG4gICAgICAgIHN0cmlkZTogICAgIHN0cmlkZSB8fCAwLFxuICAgICAgICBzdGFydDogICAgICBzdGFydCB8fCAwXG4gICAgfSk7XG5cbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIGJ1ZmZlciAgIHtQSVhJLmdsLkdMQnVmZmVyfVxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuYWRkSW5kZXggPSBmdW5jdGlvbihidWZmZXIvKiwgb3B0aW9ucyovKVxue1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBidWZmZXI7XG5cbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBVbmJpbmRzIHRoaXMgdmFvIGFuZCBkaXNhYmxlcyBpdFxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpXG57XG4gICAgLy8gdmFyIGdsID0gdGhpcy5nbDtcblxuICAgIC8vIFRPRE8gLSBzaG91bGQgdGhpcyBmdW5jdGlvbiB1bmJpbmQgYWZ0ZXIgY2xlYXI/XG4gICAgLy8gZm9yIG5vdywgbm8gYnV0IGxldHMgc2VlIHdoYXQgaGFwcGVucyBpbiB0aGUgcmVhbCB3b3JsZCFcbiAgICBpZih0aGlzLm5hdGl2ZVZhbylcbiAgICB7XG4gICAgICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmJpbmRWZXJ0ZXhBcnJheU9FUyh0aGlzLm5hdGl2ZVZhbyk7XG4gICAgfVxuXG4gICAgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQHBhcmFtIHR5cGUgIHtOdW1iZXJ9XG4gKiBAcGFyYW0gc2l6ZSAge051bWJlcn1cbiAqIEBwYXJhbSBzdGFydCB7TnVtYmVyfVxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKHR5cGUsIHNpemUsIHN0YXJ0KVxue1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICBpZih0aGlzLmluZGV4QnVmZmVyKVxuICAgIHtcbiAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKHR5cGUsIHNpemUgfHwgdGhpcy5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2wuVU5TSUdORURfU0hPUlQsIChzdGFydCB8fCAwKSAqIDIgKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgLy8gVE9ETyBuZWVkIGEgYmV0dGVyIHdheSB0byBjYWxjdWxhdGUgc2l6ZS4uXG4gICAgICAgIGdsLmRyYXdBcnJheXModHlwZSwgc3RhcnQsIHNpemUgfHwgdGhpcy5nZXRTaXplKCkpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBEZXN0cm95IHRoaXMgdmFvXG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKVxue1xuICAgIC8vIGxvc2UgcmVmZXJlbmNlc1xuICAgIHRoaXMuZ2wgPSBudWxsO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG4gICAgdGhpcy5uYXRpdmVTdGF0ZSA9IG51bGw7XG5cbiAgICBpZih0aGlzLm5hdGl2ZVZhbylcbiAgICB7XG4gICAgICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmRlbGV0ZVZlcnRleEFycmF5T0VTKHRoaXMubmF0aXZlVmFvKTtcbiAgICB9XG5cbiAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbiA9IG51bGw7XG4gICAgdGhpcy5uYXRpdmVWYW8gPSBudWxsO1xufTtcblxuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbigpXG57XG4gICAgdmFyIGF0dHJpYiA9IHRoaXMuYXR0cmlidXRlc1swXTtcbiAgICByZXR1cm4gYXR0cmliLmJ1ZmZlci5kYXRhLmxlbmd0aCAvICgoIGF0dHJpYi5zdHJpZGUvNCApIHx8IGF0dHJpYi5hdHRyaWJ1dGUuc2l6ZSk7XG59O1xuIiwiXG52YXIgY29tcGlsZVByb2dyYW0gPSByZXF1aXJlKCcuL3NoYWRlci9jb21waWxlUHJvZ3JhbScpLFxuXHRleHRyYWN0QXR0cmlidXRlcyA9IHJlcXVpcmUoJy4vc2hhZGVyL2V4dHJhY3RBdHRyaWJ1dGVzJyksXG5cdGV4dHJhY3RVbmlmb3JtcyA9IHJlcXVpcmUoJy4vc2hhZGVyL2V4dHJhY3RVbmlmb3JtcycpLFxuXHRzZXRQcmVjaXNpb24gPSByZXF1aXJlKCcuL3NoYWRlci9zZXRQcmVjaXNpb24nKSxcblx0Z2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0ID0gcmVxdWlyZSgnLi9zaGFkZXIvZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0Jyk7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHdlYkdMIFNoYWRlclxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAqIEBwYXJhbSB2ZXJ0ZXhTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIHZlcnRleCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0gZnJhZ21lbnRTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIGZyYWdtZW50IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBwcmVjaXNpb24ge3N0cmluZ30gVGhlIGZsb2F0IHByZWNpc2lvbiBvZiB0aGUgc2hhZGVyLiBPcHRpb25zIGFyZSAnbG93cCcsICdtZWRpdW1wJyBvciAnaGlnaHAnLlxuICogQHBhcmFtIGF0dHJpYnV0ZUxvY2F0aW9ucyB7b2JqZWN0fSBBIGtleSB2YWx1ZSBwYWlyIHNob3dpbmcgd2hpY2ggbG9jYXRpb24gZWFjdCBhdHRyaWJ1dGUgc2hvdWxkIHNpdCBlZyB7cG9zaXRpb246MCwgdXZzOjF9XG4gKi9cbnZhciBTaGFkZXIgPSBmdW5jdGlvbihnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYywgcHJlY2lzaW9uLCBhdHRyaWJ1dGVMb2NhdGlvbnMpXG57XG5cdC8qKlxuXHQgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuXHQgKlxuXHQgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG5cdCAqL1xuXHR0aGlzLmdsID0gZ2w7XG5cblx0aWYocHJlY2lzaW9uKVxuXHR7XG5cdFx0dmVydGV4U3JjID0gc2V0UHJlY2lzaW9uKHZlcnRleFNyYywgcHJlY2lzaW9uKTtcblx0XHRmcmFnbWVudFNyYyA9IHNldFByZWNpc2lvbihmcmFnbWVudFNyYywgcHJlY2lzaW9uKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgc2hhZGVyIHByb2dyYW1cblx0ICpcblx0ICogQG1lbWJlciB7V2ViR0xQcm9ncmFtfVxuXHQgKi9cblx0Ly8gRmlyc3QgY29tcGlsZSB0aGUgcHJvZ3JhbS4uXG5cdHRoaXMucHJvZ3JhbSA9IGNvbXBpbGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBhdHRyaWJ1dGVMb2NhdGlvbnMpO1xuXG5cdC8qKlxuXHQgKiBUaGUgYXR0cmlidXRlcyBvZiB0aGUgc2hhZGVyIGFzIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllc1xuXHQgKiB7XG5cdCAqIFx0dHlwZSxcblx0ICogXHRzaXplLFxuXHQgKiBcdGxvY2F0aW9uLFxuXHQgKiBcdHBvaW50ZXJcblx0ICogfVxuXHQgKiBAbWVtYmVyIHtPYmplY3R9XG5cdCAqL1xuXHQvLyBuZXh0IGV4dHJhY3QgdGhlIGF0dHJpYnV0ZXNcblx0dGhpcy5hdHRyaWJ1dGVzID0gZXh0cmFjdEF0dHJpYnV0ZXMoZ2wsIHRoaXMucHJvZ3JhbSk7XG5cbiAgICB0aGlzLnVuaWZvcm1EYXRhID0gZXh0cmFjdFVuaWZvcm1zKGdsLCB0aGlzLnByb2dyYW0pO1xuXG5cdC8qKlxuXHQgKiBUaGUgdW5pZm9ybXMgb2YgdGhlIHNoYWRlciBhcyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXNcblx0ICoge1xuXHQgKiBcdGdsLFxuXHQgKiBcdGRhdGFcblx0ICogfVxuXHQgKiBAbWVtYmVyIHtPYmplY3R9XG5cdCAqL1xuXHR0aGlzLnVuaWZvcm1zID0gZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0KCBnbCwgdGhpcy51bmlmb3JtRGF0YSApO1xuXG59O1xuLyoqXG4gKiBVc2VzIHRoaXMgc2hhZGVyXG4gKiBcbiAqIEByZXR1cm4ge1BJWEkuZ2xDb3JlLkdMU2hhZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAqL1xuU2hhZGVyLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24oKVxue1xuXHR0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcblx0cmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoaXMgc2hhZGVyXG4gKiBUT0RPXG4gKi9cblNoYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKClcbntcblx0dGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcblx0dGhpcy51bmlmb3JtRGF0YSA9IG51bGw7XG5cdHRoaXMudW5pZm9ybXMgPSBudWxsO1xuXG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cdGdsLmRlbGV0ZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBTaGFkZXI7XG4iLCJcbnZhciBUZXh0dXJlID0gcmVxdWlyZSgnLi9HTFRleHR1cmUnKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgd2ViR0wgRnJhbWVidWZmZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZVxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gd2lkdGgge051bWJlcn0gdGhlIHdpZHRoIG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICogQHBhcmFtIGhlaWdodCB7TnVtYmVyfSB0aGUgaGVpZ2h0IG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICovXG52YXIgRnJhbWVidWZmZXIgPSBmdW5jdGlvbihnbCwgd2lkdGgsIGhlaWdodClcbntcbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAqL1xuICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFtZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMRnJhbWVidWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5mcmFtZWJ1ZmZlciA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RlbmNpbCBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyYnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuc3RlbmNpbCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RlbmNpbCBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuZ2xDb3JlLkdMVGV4dHVyZX1cbiAgICAgKi9cbiAgICB0aGlzLnRleHR1cmUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSB3aWR0aCB8fCAxMDA7XG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodCB8fCAxMDA7XG59O1xuXG4vKipcbiAqIEFkZHMgYSB0ZXh0dXJlIHRvIHRoZSBmcmFtZSBidWZmZXJcbiAqIEBwYXJhbSB0ZXh0dXJlIHtQSVhJLmdsQ29yZS5HTFRleHR1cmV9XG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5lbmFibGVUZXh0dXJlID0gZnVuY3Rpb24odGV4dHVyZSlcbntcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZSB8fCBuZXcgVGV4dHVyZShnbCk7XG5cbiAgICB0aGlzLnRleHR1cmUuYmluZCgpO1xuXG4gICAgLy9nbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsICB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG5cbiAgICB0aGlzLmJpbmQoKTtcblxuICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlLnRleHR1cmUsIDApO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXNlcyB0aGUgc3RlbmNpbCBidWZmZXJcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmVuYWJsZVN0ZW5jaWwgPSBmdW5jdGlvbigpXG57XG4gICAgaWYodGhpcy5zdGVuY2lsKXJldHVybjtcblxuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICB0aGlzLnN0ZW5jaWwgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcblxuICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCB0aGlzLnN0ZW5jaWwpO1xuXG4gICAgLy8gVE9ETy4uIHRoaXMgaXMgZGVwdGggQU5EIHN0ZW5jaWw/XG4gICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCB0aGlzLnN0ZW5jaWwpO1xuICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCAgdGhpcy53aWR0aCAgLCB0aGlzLmhlaWdodCApO1xuXG5cbn07XG5cbi8qKlxuICogRXJhc2VzIHRoZSBkcmF3aW5nIGFyZWEgYW5kIGZpbGxzIGl0IHdpdGggYSBjb2xvdXJcbiAqIEBwYXJhbSAgciB7TnVtYmVyfSB0aGUgcmVkIHZhbHVlIG9mIHRoZSBjbGVhcmluZyBjb2xvdXJcbiAqIEBwYXJhbSAgZyB7TnVtYmVyfSB0aGUgZ3JlZW4gdmFsdWUgb2YgdGhlIGNsZWFyaW5nIGNvbG91clxuICogQHBhcmFtICBiIHtOdW1iZXJ9IHRoZSBibHVlIHZhbHVlIG9mIHRoZSBjbGVhcmluZyBjb2xvdXJcbiAqIEBwYXJhbSAgYSB7TnVtYmVyfSB0aGUgYWxwaGEgdmFsdWUgb2YgdGhlIGNsZWFyaW5nIGNvbG91clxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiggciwgZywgYiwgYSApXG57XG4gICAgdGhpcy5iaW5kKCk7XG5cbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgZ2wuY2xlYXJDb2xvcihyLCBnLCBiLCBhKTtcbiAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7XG59O1xuXG4vKipcbiAqIEJpbmRzIHRoZSBmcmFtZSBidWZmZXIgdG8gdGhlIFdlYkdMIGNvbnRleHRcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbigpXG57XG4gICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuZnJhbWVidWZmZXIgKTtcbn07XG5cbi8qKlxuICogVW5iaW5kcyB0aGUgZnJhbWUgYnVmZmVyIHRvIHRoZSBXZWJHTCBjb250ZXh0XG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbigpXG57XG4gICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwgKTtcbn07XG4vKipcbiAqIFJlc2l6ZXMgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgYnVmZmVyIHRvIHRoZSBnaXZlbiB3aWR0aCBhbmQgaGVpZ2h0XG4gKiBAcGFyYW0gIHdpZHRoICB7TnVtYmVyfSB0aGUgbmV3IHdpZHRoXG4gKiBAcGFyYW0gIGhlaWdodCB7TnVtYmVyfSB0aGUgbmV3IGhlaWdodFxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodClcbntcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgaWYgKCB0aGlzLnRleHR1cmUgKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlLnVwbG9hZERhdGEobnVsbCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgaWYgKCB0aGlzLnN0ZW5jaWwgKVxuICAgIHtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBzdGVuY2lsIGJ1ZmZlciB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCB0aGlzLnN0ZW5jaWwpO1xuICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGlzIGJ1ZmZlclxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKClcbntcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgLy9UT0RPXG4gICAgaWYodGhpcy50ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZyYW1lYnVmZmVyKTtcblxuICAgIHRoaXMuZ2wgPSBudWxsO1xuXG4gICAgdGhpcy5zdGVuY2lsID0gbnVsbDtcbiAgICB0aGlzLnRleHR1cmUgPSBudWxsO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnJhbWUgYnVmZmVyIHdpdGggYSB0ZXh0dXJlIGNvbnRhaW5pbmcgdGhlIGdpdmVuIGRhdGFcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICogQHBhcmFtIHdpZHRoIHtOdW1iZXJ9IHRoZSB3aWR0aCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAqIEBwYXJhbSBoZWlnaHQge051bWJlcn0gdGhlIGhlaWdodCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAqIEBwYXJhbSBkYXRhIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBhbiBhcnJheSBvZiBkYXRhXG4gKi9cbkZyYW1lYnVmZmVyLmNyZWF0ZVJHQkEgPSBmdW5jdGlvbihnbCwgd2lkdGgsIGhlaWdodCwgZGF0YSlcbntcbiAgICB2YXIgdGV4dHVyZSA9IFRleHR1cmUuZnJvbURhdGEoZ2wsIG51bGwsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHRleHR1cmUuZW5hYmxlTmVhcmVzdFNjYWxpbmcoKTtcbiAgICB0ZXh0dXJlLmVuYWJsZVdyYXBDbGFtcCgpO1xuXG4gICAgLy9ub3cgY3JlYXRlIHRoZSBmcmFtZWJ1ZmZlciBvYmplY3QgYW5kIGF0dGFjaCB0aGUgdGV4dHVyZSB0byBpdC5cbiAgICB2YXIgZmJvID0gbmV3IEZyYW1lYnVmZmVyKGdsLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICBmYm8uZW5hYmxlVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAvL2Ziby5lbmFibGVTdGVuY2lsKCk7IC8vIGdldCB0aGlzIGJhY2sgb24gc29vbiFcblxuICAgIC8vZmJvLmVuYWJsZVN0ZW5jaWwoKTsgLy8gZ2V0IHRoaXMgYmFjayBvbiBzb29uIVxuXG4gICAgZmJvLnVuYmluZCgpO1xuXG4gICAgcmV0dXJuIGZibztcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZyYW1lIGJ1ZmZlciB3aXRoIGEgdGV4dHVyZSBjb250YWluaW5nIHRoZSBnaXZlbiBkYXRhXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqIEBwYXJhbSB3aWR0aCB7TnVtYmVyfSB0aGUgd2lkdGggb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gKiBAcGFyYW0gaGVpZ2h0IHtOdW1iZXJ9IHRoZSBoZWlnaHQgb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gKiBAcGFyYW0gZGF0YSB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gYW4gYXJyYXkgb2YgZGF0YVxuICovXG5GcmFtZWJ1ZmZlci5jcmVhdGVGbG9hdDMyID0gZnVuY3Rpb24oZ2wsIHdpZHRoLCBoZWlnaHQsIGRhdGEpXG57XG4gICAgLy8gY3JlYXRlIGEgbmV3IHRleHR1cmUuLlxuICAgIHZhciB0ZXh0dXJlID0gbmV3IFRleHR1cmUuZnJvbURhdGEoZ2wsIGRhdGEsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHRleHR1cmUuZW5hYmxlTmVhcmVzdFNjYWxpbmcoKTtcbiAgICB0ZXh0dXJlLmVuYWJsZVdyYXBDbGFtcCgpO1xuXG4gICAgLy9ub3cgY3JlYXRlIHRoZSBmcmFtZWJ1ZmZlciBvYmplY3QgYW5kIGF0dGFjaCB0aGUgdGV4dHVyZSB0byBpdC5cbiAgICB2YXIgZmJvID0gbmV3IEZyYW1lYnVmZmVyKGdsLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICBmYm8uZW5hYmxlVGV4dHVyZSh0ZXh0dXJlKTtcblxuICAgIGZiby51bmJpbmQoKTtcblxuICAgIHJldHVybiBmYm87XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZyYW1lYnVmZmVyO1xuIiwidmFyIEVNUFRZX0FSUkFZX0JVRkZFUiA9IG5ldyBBcnJheUJ1ZmZlcigwKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgd2ViR0wgYnVmZmVyXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICogQHBhcmFtIHR5cGUge2dsLkFSUkFZX0JVRkZFUiB8IGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSfSBAbWF0XG4gKiBAcGFyYW0gZGF0YSB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gYW4gYXJyYXkgb2YgZGF0YVxuICogQHBhcmFtIGRyYXdUeXBlIHtnbC5TVEFUSUNfRFJBV3xnbC5EWU5BTUlDX0RSQVd8Z2wuU1RSRUFNX0RSQVd9XG4gKi9cbnZhciBCdWZmZXIgPSBmdW5jdGlvbihnbCwgdHlwZSwgZGF0YSwgZHJhd1R5cGUpXG57XG5cblx0LyoqXG4gICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgKi9cblx0dGhpcy5nbCA9IGdsO1xuXG5cdC8qKlxuICAgICAqIFRoZSBXZWJHTCBidWZmZXIsIGNyZWF0ZWQgdXBvbiBpbnN0YW50aWF0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTEJ1ZmZlcn1cbiAgICAgKi9cblx0dGhpcy5idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcblxuXHQvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtnbC5BUlJBWV9CVUZGRVJ8Z2wuRUxFTUVOVF9BUlJBWV9CVUZGRVJ9XG4gICAgICovXG5cdHRoaXMudHlwZSA9IHR5cGUgfHwgZ2wuQVJSQVlfQlVGRkVSO1xuXG5cdC8qKlxuICAgICAqIFRoZSBkcmF3IHR5cGUgb2YgdGhlIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2wuU1RBVElDX0RSQVd8Z2wuRFlOQU1JQ19EUkFXfGdsLlNUUkVBTV9EUkFXfVxuICAgICAqL1xuXHR0aGlzLmRyYXdUeXBlID0gZHJhd1R5cGUgfHwgZ2wuU1RBVElDX0RSQVc7XG5cblx0LyoqXG4gICAgICogVGhlIGRhdGEgaW4gdGhlIGJ1ZmZlciwgYXMgYSB0eXBlZCBhcnJheVxuICAgICAqXG4gICAgICogQG1lbWJlciB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld31cbiAgICAgKi9cblx0dGhpcy5kYXRhID0gRU1QVFlfQVJSQVlfQlVGRkVSO1xuXG5cdGlmKGRhdGEpXG5cdHtcblx0XHR0aGlzLnVwbG9hZChkYXRhKTtcblx0fVxuXG5cdHRoaXMuX3VwZGF0ZUlEID0gMDtcbn07XG5cbi8qKlxuICogVXBsb2FkcyB0aGUgYnVmZmVyIHRvIHRoZSBHUFVcbiAqIEBwYXJhbSBkYXRhIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBhbiBhcnJheSBvZiBkYXRhIHRvIHVwbG9hZFxuICogQHBhcmFtIG9mZnNldCB7TnVtYmVyfSBpZiBvbmx5IGEgc3Vic2V0IG9mIHRoZSBkYXRhIHNob3VsZCBiZSB1cGxvYWRlZCwgdGhpcyBpcyB0aGUgYW1vdW50IG9mIGRhdGEgdG8gc3VidHJhY3RcbiAqIEBwYXJhbSBkb250QmluZCB7Qm9vbGVhbn0gd2hldGhlciB0byBiaW5kIHRoZSBidWZmZXIgYmVmb3JlIHVwbG9hZGluZyBpdFxuICovXG5CdWZmZXIucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uKGRhdGEsIG9mZnNldCwgZG9udEJpbmQpXG57XG5cdC8vIHRvZG8gLSBuZWVkZWQ/XG5cdGlmKCFkb250QmluZCkgdGhpcy5iaW5kKCk7XG5cblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHRkYXRhID0gZGF0YSB8fCB0aGlzLmRhdGE7XG5cdG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG5cdGlmKHRoaXMuZGF0YS5ieXRlTGVuZ3RoID49IGRhdGEuYnl0ZUxlbmd0aClcblx0e1xuXHRcdGdsLmJ1ZmZlclN1YkRhdGEodGhpcy50eXBlLCBvZmZzZXQsIGRhdGEpO1xuXHR9XG5cdGVsc2Vcblx0e1xuXHRcdGdsLmJ1ZmZlckRhdGEodGhpcy50eXBlLCBkYXRhLCB0aGlzLmRyYXdUeXBlKTtcblx0fVxuXG5cdHRoaXMuZGF0YSA9IGRhdGE7XG59O1xuLyoqXG4gKiBCaW5kcyB0aGUgYnVmZmVyXG4gKlxuICovXG5CdWZmZXIucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbigpXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cdGdsLmJpbmRCdWZmZXIodGhpcy50eXBlLCB0aGlzLmJ1ZmZlcik7XG59O1xuXG5CdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyID0gZnVuY3Rpb24oZ2wsIGRhdGEsIGRyYXdUeXBlKVxue1xuXHRyZXR1cm4gbmV3IEJ1ZmZlcihnbCwgZ2wuQVJSQVlfQlVGRkVSLCBkYXRhLCBkcmF3VHlwZSk7XG59O1xuXG5CdWZmZXIuY3JlYXRlSW5kZXhCdWZmZXIgPSBmdW5jdGlvbihnbCwgZGF0YSwgZHJhd1R5cGUpXG57XG5cdHJldHVybiBuZXcgQnVmZmVyKGdsLCBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgZGF0YSwgZHJhd1R5cGUpO1xufTtcblxuQnVmZmVyLmNyZWF0ZSA9IGZ1bmN0aW9uKGdsLCB0eXBlLCBkYXRhLCBkcmF3VHlwZSlcbntcblx0cmV0dXJuIG5ldyBCdWZmZXIoZ2wsIHR5cGUsIGRhdGEsIGRyYXdUeXBlKTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIGJ1ZmZlclxuICpcbiAqL1xuQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKXtcblx0dGhpcy5nbC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBCdWZmZXI7XG4iLCJcbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHdlYkdMIENvbnRleHRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZVxuICogQHBhcmFtIGNhbnZhcyB7SFRNTENhbnZhc0VsZW1lbnR9IHRoZSBjYW52YXMgZWxlbWVudCB0aGF0IHdlIHdpbGwgZ2V0IHRoZSBjb250ZXh0IGZyb21cbiAqIEBwYXJhbSBvcHRpb25zIHtPYmplY3R9IEFuIG9wdGlvbnMgb2JqZWN0IHRoYXQgZ2V0cyBwYXNzZWQgaW4gdG8gdGhlIGNhbnZhcyBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGNvbnRleHQgYXR0cmlidXRlcyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvZ2V0Q29udGV4dCBmb3IgdGhlIG9wdGlvbnMgYXZhaWxhYmxlXG4gKiBAcmV0dXJuIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IHRoZSBXZWJHTCBjb250ZXh0XG4gKi9cbnZhciBjcmVhdGVDb250ZXh0ID0gZnVuY3Rpb24oY2FudmFzLCBvcHRpb25zKVxue1xuICAgIHZhciBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIG9wdGlvbnMpIHx8IFxuICAgICAgICAgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIG9wdGlvbnMpO1xuXG4gICAgaWYgKCFnbClcbiAgICB7XG4gICAgICAgIC8vIGZhaWwsIG5vdCBhYmxlIHRvIGdldCBhIGNvbnRleHRcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB3ZWJHTC4gVHJ5IHVzaW5nIHRoZSBjYW52YXMgcmVuZGVyZXInKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2w7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUNvbnRleHQ7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBSb3VuZGVkIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSB0aGF0IGhhcyBuaWNlIHJvdW5kZWQgY29ybmVycywgYXMgaW5kaWNhdGVkIGJ5IGl0c1xuICogdG9wLWxlZnQgY29ybmVyIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0IGFuZCBpdHMgcmFkaXVzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJvdW5kZWRSZWN0YW5nbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIFRoZSBvdmVyYWxsIHdpZHRoIG9mIHRoaXMgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIFRoZSBvdmVyYWxsIGhlaWdodCBvZiB0aGlzIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpdXM9MjBdIC0gQ29udHJvbHMgdGhlIHJhZGl1cyBvZiB0aGUgcm91bmRlZCBjb3JuZXJzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUm91bmRlZFJlY3RhbmdsZSgpIHtcbiAgICAgICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG4gICAgICAgIHZhciByYWRpdXMgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDIwO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb3VuZGVkUmVjdGFuZ2xlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDIwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5SUkVDXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IF9jb25zdC5TSEFQRVMuUlJFQztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBhIGNvcHkgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICovXG5cblxuICAgIFJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUm91bmRlZFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMucmFkaXVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqL1xuXG5cbiAgICBSb3VuZGVkUmVjdGFuZ2xlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPj0gdGhpcy54ICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCkge1xuICAgICAgICAgICAgaWYgKHkgPj0gdGhpcy55ICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgKyB0aGlzLnJhZGl1cyAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gdGhpcy5yYWRpdXMgfHwgeCA+PSB0aGlzLnggKyB0aGlzLnJhZGl1cyAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGggLSB0aGlzLnJhZGl1cykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgdmFyIGR5ID0geSAtICh0aGlzLnkgKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgdmFyIHJhZGl1czIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgaWYgKGR4ICogZHggKyBkeSAqIGR5IDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLndpZHRoIC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmIChkeCAqIGR4ICsgZHkgKiBkeSA8PSByYWRpdXMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5oZWlnaHQgLSB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKGR4ICogZHggKyBkeSAqIGR5IDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKGR4ICogZHggKyBkeSAqIGR5IDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICByZXR1cm4gUm91bmRlZFJlY3RhbmdsZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUm91bmRlZFJlY3RhbmdsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJvdW5kZWRSZWN0YW5nbGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1BvaW50ID0gcmVxdWlyZSgnLi4vUG9pbnQnKTtcblxudmFyIF9Qb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qb2ludCk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBvbHlnb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50W118bnVtYmVyW119IHBvaW50cyAtIFRoaXMgY2FuIGJlIGFuIGFycmF5IG9mIFBvaW50c1xuICAgICAqICB0aGF0IGZvcm0gdGhlIHBvbHlnb24sIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzIHRoYXQgd2lsbCBiZSBpbnRlcnByZXRlZCBhcyBbeCx5LCB4LHksIC4uLl0sIG9yXG4gICAgICogIHRoZSBhcmd1bWVudHMgcGFzc2VkIGNhbiBiZSBhbGwgdGhlIHBvaW50cyBvZiB0aGUgcG9seWdvbiBlLmcuXG4gICAgICogIGBuZXcgUElYSS5Qb2x5Z29uKG5ldyBQSVhJLlBvaW50KCksIG5ldyBQSVhJLlBvaW50KCksIC4uLilgLCBvciB0aGUgYXJndW1lbnRzIHBhc3NlZCBjYW4gYmUgZmxhdFxuICAgICAqICB4LHkgdmFsdWVzIGUuZy4gYG5ldyBQb2x5Z29uKHgseSwgeCx5LCB4LHksIC4uLilgIHdoZXJlIGB4YCBhbmQgYHlgIGFyZSBOdW1iZXJzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBvbHlnb24oKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwb2ludHMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgIHBvaW50c1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQb2x5Z29uKTtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwb2ludHNbMF0pKSB7XG4gICAgICAgICAgICBwb2ludHMgPSBwb2ludHNbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIGFycmF5IG9mIHBvaW50cywgY29udmVydCBpdCB0byBhIGZsYXQgYXJyYXkgb2YgbnVtYmVyc1xuICAgICAgICBpZiAocG9pbnRzWzBdIGluc3RhbmNlb2YgX1BvaW50Mi5kZWZhdWx0KSB7XG4gICAgICAgICAgICB2YXIgcCA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBwb2ludHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgICAgICAgIHAucHVzaChwb2ludHNbaV0ueCwgcG9pbnRzW2ldLnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwb2ludHMgPSBwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB0aGUgcG9pbnRzIG9mIHRoaXMgcG9seWdvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlBPTFlcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gX2NvbnN0LlNIQVBFUy5QT0xZO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvbHlnb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9seWdvbn0gYSBjb3B5IG9mIHRoZSBwb2x5Z29uXG4gICAgICovXG5cblxuICAgIFBvbHlnb24ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9seWdvbih0aGlzLnBvaW50cy5zbGljZSgpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBwb2x5Z29uLCBhZGRpbmcgcG9pbnRzIGlmIG5lY2Vzc2FyeS5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7XG5cbiAgICAgICAgLy8gY2xvc2UgdGhlIHBvbHkgaWYgdGhlIHZhbHVlIGlzIHRydWUhXG4gICAgICAgIGlmIChwb2ludHNbMF0gIT09IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gfHwgcG9pbnRzWzFdICE9PSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICBwb2ludHMucHVzaChwb2ludHNbMF0sIHBvaW50c1sxXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgcGFzc2VkIHRvIHRoaXMgZnVuY3Rpb24gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBwb2x5Z29uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIHBvbHlnb25cbiAgICAgKi9cblxuXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyh4LCB5KSB7XG4gICAgICAgIHZhciBpbnNpZGUgPSBmYWxzZTtcblxuICAgICAgICAvLyB1c2Ugc29tZSByYXljYXN0aW5nIHRvIHRlc3QgaGl0c1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3Vic3RhY2svcG9pbnQtaW4tcG9seWdvbi9ibG9iL21hc3Rlci9pbmRleC5qc1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IGxlbmd0aCAtIDE7IGkgPCBsZW5ndGg7IGogPSBpKyspIHtcbiAgICAgICAgICAgIHZhciB4aSA9IHRoaXMucG9pbnRzW2kgKiAyXTtcbiAgICAgICAgICAgIHZhciB5aSA9IHRoaXMucG9pbnRzW2kgKiAyICsgMV07XG4gICAgICAgICAgICB2YXIgeGogPSB0aGlzLnBvaW50c1tqICogMl07XG4gICAgICAgICAgICB2YXIgeWogPSB0aGlzLnBvaW50c1tqICogMiArIDFdO1xuICAgICAgICAgICAgdmFyIGludGVyc2VjdCA9IHlpID4geSAhPT0geWogPiB5ICYmIHggPCAoeGogLSB4aSkgKiAoKHkgLSB5aSkgLyAoeWogLSB5aSkpICsgeGk7XG5cbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3QpIHtcbiAgICAgICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc2lkZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBvbHlnb247XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBvbHlnb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb2x5Z29uLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9SZWN0YW5nbGUgPSByZXF1aXJlKCcuL1JlY3RhbmdsZScpO1xuXG52YXIgX1JlY3RhbmdsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZWN0YW5nbGUpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBUaGUgRWxsaXBzZSBvYmplY3QgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0c1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEVsbGlwc2UgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgY2lyY2xlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBUaGUgaGFsZiB3aWR0aCBvZiB0aGlzIGVsbGlwc2VcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MF0gLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhpcyBlbGxpcHNlXG4gICAqL1xuICBmdW5jdGlvbiBFbGxpcHNlKCkge1xuICAgIHZhciB4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgIHZhciB3aWR0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVsbGlwc2UpO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnggPSB4O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLkVMSVBcbiAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICovXG4gICAgdGhpcy50eXBlID0gX2NvbnN0LlNIQVBFUy5FTElQO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIEVsbGlwc2UgaW5zdGFuY2VcbiAgICpcbiAgICogQHJldHVybiB7UElYSS5FbGxpcHNlfSBhIGNvcHkgb2YgdGhlIGVsbGlwc2VcbiAgICovXG5cblxuICBFbGxpcHNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgRWxsaXBzZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIGVsbGlwc2VcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRzIGFyZSB3aXRoaW4gdGhpcyBlbGxpcHNlXG4gICAqL1xuXG5cbiAgRWxsaXBzZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyh4LCB5KSB7XG4gICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gbm9ybWFsaXplIHRoZSBjb29yZHMgdG8gYW4gZWxsaXBzZSB3aXRoIGNlbnRlciAwLDBcbiAgICB2YXIgbm9ybXggPSAoeCAtIHRoaXMueCkgLyB0aGlzLndpZHRoO1xuICAgIHZhciBub3JteSA9ICh5IC0gdGhpcy55KSAvIHRoaXMuaGVpZ2h0O1xuXG4gICAgbm9ybXggKj0gbm9ybXg7XG4gICAgbm9ybXkgKj0gbm9ybXk7XG5cbiAgICByZXR1cm4gbm9ybXggKyBub3JteSA8PSAxO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBmcmFtaW5nIHJlY3RhbmdsZSBvZiB0aGUgZWxsaXBzZSBhcyBhIFJlY3RhbmdsZSBvYmplY3RcbiAgICpcbiAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IHRoZSBmcmFtaW5nIHJlY3RhbmdsZVxuICAgKi9cblxuXG4gIEVsbGlwc2UucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uIGdldEJvdW5kcygpIHtcbiAgICByZXR1cm4gbmV3IF9SZWN0YW5nbGUyLmRlZmF1bHQodGhpcy54IC0gdGhpcy53aWR0aCwgdGhpcy55IC0gdGhpcy5oZWlnaHQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgfTtcblxuICByZXR1cm4gRWxsaXBzZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gRWxsaXBzZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVsbGlwc2UuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1JlY3RhbmdsZSA9IHJlcXVpcmUoJy4vUmVjdGFuZ2xlJyk7XG5cbnZhciBfUmVjdGFuZ2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlY3RhbmdsZSk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBDaXJjbGUgb2JqZWN0IGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgYSBoaXQgYXJlYSBmb3IgZGlzcGxheU9iamVjdHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDaXJjbGUgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgY2lyY2xlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXVzPTBdIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAqL1xuICBmdW5jdGlvbiBDaXJjbGUoKSB7XG4gICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgdmFyIHJhZGl1cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaXJjbGUpO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnggPSB4O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5DSVJDXG4gICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IF9jb25zdC5TSEFQRVMuQ0lSQztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBDaXJjbGUgaW5zdGFuY2VcbiAgICpcbiAgICogQHJldHVybiB7UElYSS5DaXJjbGV9IGEgY29weSBvZiB0aGUgQ2lyY2xlXG4gICAqL1xuXG5cbiAgQ2lyY2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgQ2lyY2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLnJhZGl1cyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgY2lyY2xlXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBDaXJjbGVcbiAgICovXG5cblxuICBDaXJjbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMoeCwgeSkge1xuICAgIGlmICh0aGlzLnJhZGl1cyA8PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHIyID0gdGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cztcbiAgICB2YXIgZHggPSB0aGlzLnggLSB4O1xuICAgIHZhciBkeSA9IHRoaXMueSAtIHk7XG5cbiAgICBkeCAqPSBkeDtcbiAgICBkeSAqPSBkeTtcblxuICAgIHJldHVybiBkeCArIGR5IDw9IHIyO1xuICB9O1xuXG4gIC8qKlxuICAqIFJldHVybnMgdGhlIGZyYW1pbmcgcmVjdGFuZ2xlIG9mIHRoZSBjaXJjbGUgYXMgYSBSZWN0YW5nbGUgb2JqZWN0XG4gICpcbiAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIGZyYW1pbmcgcmVjdGFuZ2xlXG4gICovXG5cblxuICBDaXJjbGUucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uIGdldEJvdW5kcygpIHtcbiAgICByZXR1cm4gbmV3IF9SZWN0YW5nbGUyLmRlZmF1bHQodGhpcy54IC0gdGhpcy5yYWRpdXMsIHRoaXMueSAtIHRoaXMucmFkaXVzLCB0aGlzLnJhZGl1cyAqIDIsIHRoaXMucmFkaXVzICogMik7XG4gIH07XG5cbiAgcmV0dXJuIENpcmNsZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2lyY2xlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2lyY2xlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL051bWJlci9pc0ludGVnZXJcblxuaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKSB7XG4gICAgTnVtYmVyLmlzSW50ZWdlciA9IGZ1bmN0aW9uIG51bWJlcklzSW50ZWdlcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWx1ZSkgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1OdW1iZXIuaXNJbnRlZ2VyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaWduXG5cbmlmICghTWF0aC5zaWduKSB7XG4gICAgTWF0aC5zaWduID0gZnVuY3Rpb24gbWF0aFNpZ24oeCkge1xuICAgICAgICB4ID0gTnVtYmVyKHgpO1xuXG4gICAgICAgIGlmICh4ID09PSAwIHx8IGlzTmFOKHgpKSB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB4ID4gMCA/IDEgOiAtMTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWF0aC5zaWduLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHA6Ly9wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xNTc5NjcxXG4vLyBodHRwOi8vdXBkYXRlcy5odG1sNXJvY2tzLmNvbS8yMDEyLzA1L3JlcXVlc3RBbmltYXRpb25GcmFtZS1BUEktbm93LXdpdGgtc3ViLW1pbGxpc2Vjb25kLXByZWNpc2lvblxuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vdGltaGFsbC80MDc4NjE0XG4vLyBodHRwczovL2dpdGh1Yi5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLXNlcnZpY2UvdHJlZS9tYXN0ZXIvcG9seWZpbGxzL3JlcXVlc3RBbmltYXRpb25GcmFtZVxuXG4vLyBFeHBlY3RlZCB0byBiZSB1c2VkIHdpdGggQnJvd3NlcmZpeVxuLy8gQnJvd3NlcmlmeSBhdXRvbWF0aWNhbGx5IGRldGVjdHMgdGhlIHVzZSBvZiBgZ2xvYmFsYCBhbmQgcGFzc2VzIHRoZVxuLy8gY29ycmVjdCByZWZlcmVuY2Ugb2YgYGdsb2JhbGAsIGBzZWxmYCwgYW5kIGZpbmFsbHkgYHdpbmRvd2BcblxudmFyIE9ORV9GUkFNRV9USU1FID0gMTY7XG5cbi8vIERhdGUubm93XG5pZiAoIShEYXRlLm5vdyAmJiBEYXRlLnByb3RvdHlwZS5nZXRUaW1lKSkge1xuICAgIERhdGUubm93ID0gZnVuY3Rpb24gbm93KCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcbn1cblxuLy8gcGVyZm9ybWFuY2Uubm93XG5pZiAoIShnbG9iYWwucGVyZm9ybWFuY2UgJiYgZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdykpIHtcbiAgICB2YXIgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgIGlmICghZ2xvYmFsLnBlcmZvcm1hbmNlKSB7XG4gICAgICAgIGdsb2JhbC5wZXJmb3JtYW5jZSA9IHt9O1xuICAgIH1cblxuICAgIGdsb2JhbC5wZXJmb3JtYW5jZS5ub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgIH07XG59XG5cbi8vIHJlcXVlc3RBbmltYXRpb25GcmFtZVxudmFyIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbnZhciB2ZW5kb3JzID0gWydtcycsICdtb3onLCAnd2Via2l0JywgJ28nXTtcblxuZm9yICh2YXIgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZTsgKyt4KSB7XG4gICAgdmFyIHAgPSB2ZW5kb3JzW3hdO1xuXG4gICAgZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGdsb2JhbFtwICsgJ1JlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICAgIGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGdsb2JhbFtwICsgJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJ10gfHwgZ2xvYmFsW3AgKyAnQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG59XG5cbmlmICghZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgIGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihjYWxsYmFjayArICdpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIGRlbGF5ID0gT05FX0ZSQU1FX1RJTUUgKyBsYXN0VGltZSAtIGN1cnJlbnRUaW1lO1xuXG4gICAgICAgIGlmIChkZWxheSA8IDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RUaW1lID0gY3VycmVudFRpbWU7XG5cbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY2FsbGJhY2socGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgfTtcbn1cblxuaWYgKCFnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUpIHtcbiAgICBnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChpZCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcXVlc3RBbmltYXRpb25GcmFtZS5qcy5tYXAiLCIvKlxub2JqZWN0LWFzc2lnblxuKGMpIFNpbmRyZSBTb3JodXNcbkBsaWNlbnNlIE1JVFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdHRyeSB7XG5cdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MiA9IHt9O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdH1cblx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdH0pO1xuXHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDMgPSB7fTtcblx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0fSk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0dmFyIGZyb207XG5cdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdHZhciBzeW1ib2xzO1xuXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdG87XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuaWYgKCFPYmplY3QuYXNzaWduKSB7XG4gICAgT2JqZWN0LmFzc2lnbiA9IF9vYmplY3RBc3NpZ24yLmRlZmF1bHQ7XG59IC8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL29iamVjdC1hc3NpZ25cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ25cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9iamVjdC5hc3NpZ24uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuL09iamVjdC5hc3NpZ24nKTtcblxucmVxdWlyZSgnLi9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUnKTtcblxucmVxdWlyZSgnLi9NYXRoLnNpZ24nKTtcblxucmVxdWlyZSgnLi9OdW1iZXIuaXNJbnRlZ2VyJyk7XG5cbmlmICghd2luZG93LkFycmF5QnVmZmVyKSB7XG4gICAgd2luZG93LkFycmF5QnVmZmVyID0gQXJyYXk7XG59XG5cbmlmICghd2luZG93LkZsb2F0MzJBcnJheSkge1xuICAgIHdpbmRvdy5GbG9hdDMyQXJyYXkgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuVWludDMyQXJyYXkpIHtcbiAgICB3aW5kb3cuVWludDMyQXJyYXkgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuVWludDE2QXJyYXkpIHtcbiAgICB3aW5kb3cuVWludDE2QXJyYXkgPSBBcnJheTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMubG9hZGVyID0gZXhwb3J0cy5wcmVwYXJlID0gZXhwb3J0cy5wYXJ0aWNsZXMgPSBleHBvcnRzLm1lc2ggPSBleHBvcnRzLmxvYWRlcnMgPSBleHBvcnRzLmludGVyYWN0aW9uID0gZXhwb3J0cy5maWx0ZXJzID0gZXhwb3J0cy5leHRyYXMgPSBleHBvcnRzLmV4dHJhY3QgPSBleHBvcnRzLmFjY2Vzc2liaWxpdHkgPSB1bmRlZmluZWQ7XG5cbnZhciBfcG9seWZpbGwgPSByZXF1aXJlKCcuL3BvbHlmaWxsJyk7XG5cbk9iamVjdC5rZXlzKF9wb2x5ZmlsbCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3BvbHlmaWxsW2tleV07XG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuL2NvcmUnKTtcblxuT2JqZWN0LmtleXMoX2NvcmUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jb3JlW2tleV07XG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuXG52YXIgX2RlcHJlY2F0aW9uID0gcmVxdWlyZSgnLi9kZXByZWNhdGlvbicpO1xuXG52YXIgX2RlcHJlY2F0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlcHJlY2F0aW9uKTtcblxudmFyIF9hY2Nlc3NpYmlsaXR5ID0gcmVxdWlyZSgnLi9hY2Nlc3NpYmlsaXR5Jyk7XG5cbnZhciBhY2Nlc3NpYmlsaXR5ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2FjY2Vzc2liaWxpdHkpO1xuXG52YXIgX2V4dHJhY3QgPSByZXF1aXJlKCcuL2V4dHJhY3QnKTtcblxudmFyIGV4dHJhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZXh0cmFjdCk7XG5cbnZhciBfZXh0cmFzID0gcmVxdWlyZSgnLi9leHRyYXMnKTtcblxudmFyIGV4dHJhcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9leHRyYXMpO1xuXG52YXIgX2ZpbHRlcnMgPSByZXF1aXJlKCcuL2ZpbHRlcnMnKTtcblxudmFyIGZpbHRlcnMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZmlsdGVycyk7XG5cbnZhciBfaW50ZXJhY3Rpb24gPSByZXF1aXJlKCcuL2ludGVyYWN0aW9uJyk7XG5cbnZhciBpbnRlcmFjdGlvbiA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9pbnRlcmFjdGlvbik7XG5cbnZhciBfbG9hZGVycyA9IHJlcXVpcmUoJy4vbG9hZGVycycpO1xuXG52YXIgbG9hZGVycyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9sb2FkZXJzKTtcblxudmFyIF9tZXNoID0gcmVxdWlyZSgnLi9tZXNoJyk7XG5cbnZhciBtZXNoID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX21lc2gpO1xuXG52YXIgX3BhcnRpY2xlcyA9IHJlcXVpcmUoJy4vcGFydGljbGVzJyk7XG5cbnZhciBwYXJ0aWNsZXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfcGFydGljbGVzKTtcblxudmFyIF9wcmVwYXJlID0gcmVxdWlyZSgnLi9wcmVwYXJlJyk7XG5cbnZhciBwcmVwYXJlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3ByZXBhcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyBleHBvcnQgY29yZVxuX2NvcmUudXRpbHMubWl4aW5zLnBlcmZvcm1NaXhpbnMoKTtcblxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIFBJWEkubG9hZGVycy5zaGFyZWR9LlxuICogQG5hbWUgbG9hZGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge1BJWEkubG9hZGVyLkxvYWRlcn1cbiAqL1xuXG5cbi8vIGhhbmRsZSBtaXhpbnMgbm93LCBhZnRlciBhbGwgY29kZSBoYXMgYmVlbiBhZGRlZCwgaW5jbHVkaW5nIGRlcHJlY2F0aW9uXG5cblxuLy8gZXhwb3J0IGxpYnNcbi8vIGltcG9ydCBwb2x5ZmlsbHMuIERvbmUgYXMgYW4gZXhwb3J0IHRvIG1ha2Ugc3VyZSBwb2x5ZmlsbHMgYXJlIGltcG9ydGVkIGZpcnN0XG52YXIgbG9hZGVyID0gbG9hZGVycy5zaGFyZWQgfHwgbnVsbDtcblxuZXhwb3J0cy5hY2Nlc3NpYmlsaXR5ID0gYWNjZXNzaWJpbGl0eTtcbmV4cG9ydHMuZXh0cmFjdCA9IGV4dHJhY3Q7XG5leHBvcnRzLmV4dHJhcyA9IGV4dHJhcztcbmV4cG9ydHMuZmlsdGVycyA9IGZpbHRlcnM7XG5leHBvcnRzLmludGVyYWN0aW9uID0gaW50ZXJhY3Rpb247XG5leHBvcnRzLmxvYWRlcnMgPSBsb2FkZXJzO1xuZXhwb3J0cy5tZXNoID0gbWVzaDtcbmV4cG9ydHMucGFydGljbGVzID0gcGFydGljbGVzO1xuZXhwb3J0cy5wcmVwYXJlID0gcHJlcGFyZTtcbmV4cG9ydHMubG9hZGVyID0gbG9hZGVyO1xuXG4vLyBBcHBseSB0aGUgZGVwcmVjYXRpb25zXG5cbmlmICh0eXBlb2YgX2RlcHJlY2F0aW9uMi5kZWZhdWx0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgKDAsIF9kZXByZWNhdGlvbjIuZGVmYXVsdCkoZXhwb3J0cyk7XG59XG5cbi8vIEFsd2F5cyBleHBvcnQgUGl4aUpTIGdsb2JhbGx5LlxuZ2xvYmFsLlBJWEkgPSBleHBvcnRzOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9